const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-CUcLaoBv.js","assets/index-BqNLxapd.js","assets/index-Dw3V2eGM.js","assets/index-CKqa4NW-.js","assets/index-Dz_HFLFc.js","assets/index--_9a5VLo.js","assets/index-CGXS2Sv1.js","assets/index-Cp_F7LZF.js","assets/index-C8M4YYyw.js","assets/index-DkBciIlg.js","assets/index-DkGjZIl_.js","assets/index-BEFUybw9.js","assets/index-BGTGaIeo.js","assets/index-CAMVfht1.js","assets/index-BVzxRBym.js","assets/index-2goevfgz.js","assets/index-DW6ulewK.js","assets/index-DOm8Nev3.js","assets/index-BVknq9q0.js","assets/dockerfile-BU1Ap__c.js","assets/simple-mode-CKxFYdZi.js","assets/factor-BPndPnYX.js","assets/nsis-ClDXqMnM.js","assets/pug-BmUsPMDj.js","assets/javascript-iSgyE4tI.js","assets/index-SS9IpgpF.js","assets/index-D1CASr-m.js"])))=>i.map(i=>d[i]);
var mD=t=>{throw TypeError(t)};var b6=(t,e,n)=>e.has(t)||mD("Cannot "+n);var V=(t,e,n)=>(b6(t,e,"read from private field"),n?n.call(t):e.get(t)),Pe=(t,e,n)=>e.has(t)?mD("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),ie=(t,e,n,r)=>(b6(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),w2=(t,e,n)=>(b6(t,e,"access private method"),n);function Ire(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var w5=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function mb(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var aV={exports:{}},gb={},uV={exports:{}},Ht={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sv=Symbol.for("react.element"),Rre=Symbol.for("react.portal"),Nre=Symbol.for("react.fragment"),Lre=Symbol.for("react.strict_mode"),Bre=Symbol.for("react.profiler"),zre=Symbol.for("react.provider"),Fre=Symbol.for("react.context"),$re=Symbol.for("react.forward_ref"),Vre=Symbol.for("react.suspense"),Hre=Symbol.for("react.memo"),jre=Symbol.for("react.lazy"),gD=Symbol.iterator;function Wre(t){return t===null||typeof t!="object"?null:(t=gD&&t[gD]||t["@@iterator"],typeof t=="function"?t:null)}var cV={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},hV=Object.assign,fV={};function Vp(t,e,n){this.props=t,this.context=e,this.refs=fV,this.updater=n||cV}Vp.prototype.isReactComponent={};Vp.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Vp.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function dV(){}dV.prototype=Vp.prototype;function bT(t,e,n){this.props=t,this.context=e,this.refs=fV,this.updater=n||cV}var kT=bT.prototype=new dV;kT.constructor=bT;hV(kT,Vp.prototype);kT.isPureReactComponent=!0;var yD=Array.isArray,pV=Object.prototype.hasOwnProperty,ST={current:null},mV={key:!0,ref:!0,__self:!0,__source:!0};function gV(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)pV.call(e,r)&&!mV.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var a=Array(l),u=0;u<l;u++)a[u]=arguments[u+2];i.children=a}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:Sv,type:t,key:o,ref:s,props:i,_owner:ST.current}}function Ure(t,e){return{$$typeof:Sv,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function CT(t){return typeof t=="object"&&t!==null&&t.$$typeof===Sv}function qre(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var vD=/\/+/g;function k6(t,e){return typeof t=="object"&&t!==null&&t.key!=null?qre(""+t.key):e.toString(36)}function U4(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case Sv:case Rre:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+k6(s,0):r,yD(i)?(n="",t!=null&&(n=t.replace(vD,"$&/")+"/"),U4(i,e,n,"",function(u){return u})):i!=null&&(CT(i)&&(i=Ure(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(vD,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",yD(t))for(var l=0;l<t.length;l++){o=t[l];var a=r+k6(o,l);s+=U4(o,e,n,a,i)}else if(a=Wre(t),typeof a=="function")for(t=a.call(t),l=0;!(o=t.next()).done;)o=o.value,a=r+k6(o,l++),s+=U4(o,e,n,a,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function x2(t,e,n){if(t==null)return t;var r=[],i=0;return U4(t,r,"","",function(o){return e.call(n,o,i++)}),r}function Kre(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Vi={current:null},q4={transition:null},Gre={ReactCurrentDispatcher:Vi,ReactCurrentBatchConfig:q4,ReactCurrentOwner:ST};function yV(){throw Error("act(...) is not supported in production builds of React.")}Ht.Children={map:x2,forEach:function(t,e,n){x2(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return x2(t,function(){e++}),e},toArray:function(t){return x2(t,function(e){return e})||[]},only:function(t){if(!CT(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ht.Component=Vp;Ht.Fragment=Nre;Ht.Profiler=Bre;Ht.PureComponent=bT;Ht.StrictMode=Lre;Ht.Suspense=Vre;Ht.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Gre;Ht.act=yV;Ht.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=hV({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=ST.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(a in e)pV.call(e,a)&&!mV.hasOwnProperty(a)&&(r[a]=e[a]===void 0&&l!==void 0?l[a]:e[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){l=Array(a);for(var u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:Sv,type:t.type,key:i,ref:o,props:r,_owner:s}};Ht.createContext=function(t){return t={$$typeof:Fre,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:zre,_context:t},t.Consumer=t};Ht.createElement=gV;Ht.createFactory=function(t){var e=gV.bind(null,t);return e.type=t,e};Ht.createRef=function(){return{current:null}};Ht.forwardRef=function(t){return{$$typeof:$re,render:t}};Ht.isValidElement=CT;Ht.lazy=function(t){return{$$typeof:jre,_payload:{_status:-1,_result:t},_init:Kre}};Ht.memo=function(t,e){return{$$typeof:Hre,type:t,compare:e===void 0?null:e}};Ht.startTransition=function(t){var e=q4.transition;q4.transition={};try{t()}finally{q4.transition=e}};Ht.unstable_act=yV;Ht.useCallback=function(t,e){return Vi.current.useCallback(t,e)};Ht.useContext=function(t){return Vi.current.useContext(t)};Ht.useDebugValue=function(){};Ht.useDeferredValue=function(t){return Vi.current.useDeferredValue(t)};Ht.useEffect=function(t,e){return Vi.current.useEffect(t,e)};Ht.useId=function(){return Vi.current.useId()};Ht.useImperativeHandle=function(t,e,n){return Vi.current.useImperativeHandle(t,e,n)};Ht.useInsertionEffect=function(t,e){return Vi.current.useInsertionEffect(t,e)};Ht.useLayoutEffect=function(t,e){return Vi.current.useLayoutEffect(t,e)};Ht.useMemo=function(t,e){return Vi.current.useMemo(t,e)};Ht.useReducer=function(t,e,n){return Vi.current.useReducer(t,e,n)};Ht.useRef=function(t){return Vi.current.useRef(t)};Ht.useState=function(t){return Vi.current.useState(t)};Ht.useSyncExternalStore=function(t,e,n){return Vi.current.useSyncExternalStore(t,e,n)};Ht.useTransition=function(){return Vi.current.useTransition()};Ht.version="18.3.1";uV.exports=Ht;var I=uV.exports;const Lo=mb(I),Yre=Ire({__proto__:null,default:Lo},[I]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xre=I,Jre=Symbol.for("react.element"),Zre=Symbol.for("react.fragment"),Qre=Object.prototype.hasOwnProperty,eie=Xre.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,tie={key:!0,ref:!0,__self:!0,__source:!0};function vV(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)Qre.call(e,r)&&!tie.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:Jre,type:t,key:o,ref:s,props:i,_owner:eie.current}}gb.Fragment=Zre;gb.jsx=vV;gb.jsxs=vV;aV.exports=gb;var P=aV.exports,x8={},wV={exports:{}},Vo={},xV={exports:{}},bV={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(L,X){var O=L.length;L.push(X);e:for(;0<O;){var re=O-1>>>1,ce=L[re];if(0<i(ce,X))L[re]=X,L[O]=ce,O=re;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var X=L[0],O=L.pop();if(O!==X){L[0]=O;e:for(var re=0,ce=L.length,_=ce>>>1;re<_;){var Le=2*(re+1)-1,Ie=L[Le],qe=Le+1,ct=L[qe];if(0>i(Ie,O))qe<ce&&0>i(ct,Ie)?(L[re]=ct,L[qe]=O,re=qe):(L[re]=Ie,L[Le]=O,re=Le);else if(qe<ce&&0>i(ct,O))L[re]=ct,L[qe]=O,re=qe;else break e}}return X}function i(L,X){var O=L.sortIndex-X.sortIndex;return O!==0?O:L.id-X.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var a=[],u=[],c=1,h=null,f=3,d=!1,p=!1,m=!1,y=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(L){for(var X=n(u);X!==null;){if(X.callback===null)r(u);else if(X.startTime<=L)r(u),X.sortIndex=X.expirationTime,e(a,X);else break;X=n(u)}}function b(L){if(m=!1,w(L),!p)if(n(a)!==null)p=!0,K(S);else{var X=n(u);X!==null&&Y(b,X.startTime-L)}}function S(L,X){p=!1,m&&(m=!1,g(A),A=-1),d=!0;var O=f;try{for(w(X),h=n(a);h!==null&&(!(h.expirationTime>X)||L&&!B());){var re=h.callback;if(typeof re=="function"){h.callback=null,f=h.priorityLevel;var ce=re(h.expirationTime<=X);X=t.unstable_now(),typeof ce=="function"?h.callback=ce:h===n(a)&&r(a),w(X)}else r(a);h=n(a)}if(h!==null)var _=!0;else{var Le=n(u);Le!==null&&Y(b,Le.startTime-X),_=!1}return _}finally{h=null,f=O,d=!1}}var k=!1,T=null,A=-1,z=5,E=-1;function B(){return!(t.unstable_now()-E<z)}function $(){if(T!==null){var L=t.unstable_now();E=L;var X=!0;try{X=T(!0,L)}finally{X?ae():(k=!1,T=null)}}else k=!1}var ae;if(typeof v=="function")ae=function(){v($)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,q=G.port2;G.port1.onmessage=$,ae=function(){q.postMessage(null)}}else ae=function(){y($,0)};function K(L){T=L,k||(k=!0,ae())}function Y(L,X){A=y(function(){L(t.unstable_now())},X)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_continueExecution=function(){p||d||(p=!0,K(S))},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(a)},t.unstable_next=function(L){switch(f){case 1:case 2:case 3:var X=3;break;default:X=f}var O=f;f=X;try{return L()}finally{f=O}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(L,X){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var O=f;f=L;try{return X()}finally{f=O}},t.unstable_scheduleCallback=function(L,X,O){var re=t.unstable_now();switch(typeof O=="object"&&O!==null?(O=O.delay,O=typeof O=="number"&&0<O?re+O:re):O=re,L){case 1:var ce=-1;break;case 2:ce=250;break;case 5:ce=1073741823;break;case 4:ce=1e4;break;default:ce=5e3}return ce=O+ce,L={id:c++,callback:X,priorityLevel:L,startTime:O,expirationTime:ce,sortIndex:-1},O>re?(L.sortIndex=O,e(u,L),n(a)===null&&L===n(u)&&(m?(g(A),A=-1):m=!0,Y(b,O-re))):(L.sortIndex=ce,e(a,L),p||d||(p=!0,K(S))),L},t.unstable_shouldYield=B,t.unstable_wrapCallback=function(L){var X=f;return function(){var O=f;f=X;try{return L.apply(this,arguments)}finally{f=O}}}})(bV);xV.exports=bV;var nie=xV.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rie=I,Bo=nie;function Oe(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var kV=new Set,F1={};function Jf(t,e){sp(t,e),sp(t+"Capture",e)}function sp(t,e){for(F1[t]=e,t=0;t<e.length;t++)kV.add(e[t])}var su=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),b8=Object.prototype.hasOwnProperty,iie=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,wD={},xD={};function oie(t){return b8.call(xD,t)?!0:b8.call(wD,t)?!1:iie.test(t)?xD[t]=!0:(wD[t]=!0,!1)}function sie(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function lie(t,e,n,r){if(e===null||typeof e>"u"||sie(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Hi(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var Kr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Kr[t]=new Hi(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Kr[e]=new Hi(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Kr[t]=new Hi(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Kr[t]=new Hi(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Kr[t]=new Hi(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Kr[t]=new Hi(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Kr[t]=new Hi(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Kr[t]=new Hi(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Kr[t]=new Hi(t,5,!1,t.toLowerCase(),null,!1,!1)});var TT=/[\-:]([a-z])/g;function MT(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(TT,MT);Kr[e]=new Hi(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(TT,MT);Kr[e]=new Hi(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(TT,MT);Kr[e]=new Hi(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Kr[t]=new Hi(t,1,!1,t.toLowerCase(),null,!1,!1)});Kr.xlinkHref=new Hi("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Kr[t]=new Hi(t,1,!1,t.toLowerCase(),null,!0,!0)});function AT(t,e,n,r){var i=Kr.hasOwnProperty(e)?Kr[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(lie(e,n,i,r)&&(n=null),r||i===null?oie(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var xu=rie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,b2=Symbol.for("react.element"),$d=Symbol.for("react.portal"),Vd=Symbol.for("react.fragment"),ET=Symbol.for("react.strict_mode"),k8=Symbol.for("react.profiler"),SV=Symbol.for("react.provider"),CV=Symbol.for("react.context"),OT=Symbol.for("react.forward_ref"),S8=Symbol.for("react.suspense"),C8=Symbol.for("react.suspense_list"),PT=Symbol.for("react.memo"),Uu=Symbol.for("react.lazy"),TV=Symbol.for("react.offscreen"),bD=Symbol.iterator;function xm(t){return t===null||typeof t!="object"?null:(t=bD&&t[bD]||t["@@iterator"],typeof t=="function"?t:null)}var Yn=Object.assign,S6;function Jm(t){if(S6===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);S6=e&&e[1]||""}return`
`+S6+t}var C6=!1;function T6(t,e){if(!t||C6)return"";C6=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,l=o.length-1;1<=s&&0<=l&&i[s]!==o[l];)l--;for(;1<=s&&0<=l;s--,l--)if(i[s]!==o[l]){if(s!==1||l!==1)do if(s--,l--,0>l||i[s]!==o[l]){var a=`
`+i[s].replace(" at new "," at ");return t.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",t.displayName)),a}while(1<=s&&0<=l);break}}}finally{C6=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Jm(t):""}function aie(t){switch(t.tag){case 5:return Jm(t.type);case 16:return Jm("Lazy");case 13:return Jm("Suspense");case 19:return Jm("SuspenseList");case 0:case 2:case 15:return t=T6(t.type,!1),t;case 11:return t=T6(t.type.render,!1),t;case 1:return t=T6(t.type,!0),t;default:return""}}function T8(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Vd:return"Fragment";case $d:return"Portal";case k8:return"Profiler";case ET:return"StrictMode";case S8:return"Suspense";case C8:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case CV:return(t.displayName||"Context")+".Consumer";case SV:return(t._context.displayName||"Context")+".Provider";case OT:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case PT:return e=t.displayName||null,e!==null?e:T8(t.type)||"Memo";case Uu:e=t._payload,t=t._init;try{return T8(t(e))}catch{}}return null}function uie(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return T8(e);case 8:return e===ET?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ic(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function MV(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function cie(t){var e=MV(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function k2(t){t._valueTracker||(t._valueTracker=cie(t))}function AV(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=MV(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function x5(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function M8(t,e){var n=e.checked;return Yn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function kD(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ic(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function EV(t,e){e=e.checked,e!=null&&AT(t,"checked",e,!1)}function A8(t,e){EV(t,e);var n=Ic(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?E8(t,e.type,n):e.hasOwnProperty("defaultValue")&&E8(t,e.type,Ic(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function SD(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function E8(t,e,n){(e!=="number"||x5(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Zm=Array.isArray;function l0(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ic(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function O8(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Oe(91));return Yn({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function CD(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Oe(92));if(Zm(n)){if(1<n.length)throw Error(Oe(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ic(n)}}function OV(t,e){var n=Ic(e.value),r=Ic(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function TD(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function PV(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function P8(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?PV(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var S2,DV=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(S2=S2||document.createElement("div"),S2.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=S2.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function $1(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var jg={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},hie=["Webkit","ms","Moz","O"];Object.keys(jg).forEach(function(t){hie.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),jg[e]=jg[t]})});function _V(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||jg.hasOwnProperty(t)&&jg[t]?(""+e).trim():e+"px"}function IV(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=_V(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var fie=Yn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function D8(t,e){if(e){if(fie[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Oe(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Oe(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Oe(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Oe(62))}}function _8(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var I8=null;function DT(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var R8=null,a0=null,u0=null;function MD(t){if(t=Mv(t)){if(typeof R8!="function")throw Error(Oe(280));var e=t.stateNode;e&&(e=bb(e),R8(t.stateNode,t.type,e))}}function RV(t){a0?u0?u0.push(t):u0=[t]:a0=t}function NV(){if(a0){var t=a0,e=u0;if(u0=a0=null,MD(t),e)for(t=0;t<e.length;t++)MD(e[t])}}function LV(t,e){return t(e)}function BV(){}var M6=!1;function zV(t,e,n){if(M6)return t(e,n);M6=!0;try{return LV(t,e,n)}finally{M6=!1,(a0!==null||u0!==null)&&(BV(),NV())}}function V1(t,e){var n=t.stateNode;if(n===null)return null;var r=bb(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Oe(231,e,typeof n));return n}var N8=!1;if(su)try{var bm={};Object.defineProperty(bm,"passive",{get:function(){N8=!0}}),window.addEventListener("test",bm,bm),window.removeEventListener("test",bm,bm)}catch{N8=!1}function die(t,e,n,r,i,o,s,l,a){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var Wg=!1,b5=null,k5=!1,L8=null,pie={onError:function(t){Wg=!0,b5=t}};function mie(t,e,n,r,i,o,s,l,a){Wg=!1,b5=null,die.apply(pie,arguments)}function gie(t,e,n,r,i,o,s,l,a){if(mie.apply(this,arguments),Wg){if(Wg){var u=b5;Wg=!1,b5=null}else throw Error(Oe(198));k5||(k5=!0,L8=u)}}function Zf(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function FV(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function AD(t){if(Zf(t)!==t)throw Error(Oe(188))}function yie(t){var e=t.alternate;if(!e){if(e=Zf(t),e===null)throw Error(Oe(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return AD(i),t;if(o===r)return AD(i),e;o=o.sibling}throw Error(Oe(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=o;break}if(l===r){s=!0,r=i,n=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===n){s=!0,n=o,r=i;break}if(l===r){s=!0,r=o,n=i;break}l=l.sibling}if(!s)throw Error(Oe(189))}}if(n.alternate!==r)throw Error(Oe(190))}if(n.tag!==3)throw Error(Oe(188));return n.stateNode.current===n?t:e}function $V(t){return t=yie(t),t!==null?VV(t):null}function VV(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=VV(t);if(e!==null)return e;t=t.sibling}return null}var HV=Bo.unstable_scheduleCallback,ED=Bo.unstable_cancelCallback,vie=Bo.unstable_shouldYield,wie=Bo.unstable_requestPaint,ir=Bo.unstable_now,xie=Bo.unstable_getCurrentPriorityLevel,_T=Bo.unstable_ImmediatePriority,jV=Bo.unstable_UserBlockingPriority,S5=Bo.unstable_NormalPriority,bie=Bo.unstable_LowPriority,WV=Bo.unstable_IdlePriority,yb=null,jl=null;function kie(t){if(jl&&typeof jl.onCommitFiberRoot=="function")try{jl.onCommitFiberRoot(yb,t,void 0,(t.current.flags&128)===128)}catch{}}var Ys=Math.clz32?Math.clz32:Tie,Sie=Math.log,Cie=Math.LN2;function Tie(t){return t>>>=0,t===0?32:31-(Sie(t)/Cie|0)|0}var C2=64,T2=4194304;function Qm(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function C5(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var l=s&~i;l!==0?r=Qm(l):(o&=s,o!==0&&(r=Qm(o)))}else s=n&~i,s!==0?r=Qm(s):o!==0&&(r=Qm(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Ys(e),i=1<<n,r|=t[n],e&=~i;return r}function Mie(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Aie(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-Ys(o),l=1<<s,a=i[s];a===-1?(!(l&n)||l&r)&&(i[s]=Mie(l,e)):a<=e&&(t.expiredLanes|=l),o&=~l}}function B8(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function UV(){var t=C2;return C2<<=1,!(C2&4194240)&&(C2=64),t}function A6(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Cv(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ys(e),t[e]=n}function Eie(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Ys(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function IT(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Ys(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var rn=0;function qV(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var KV,RT,GV,YV,XV,z8=!1,M2=[],xc=null,bc=null,kc=null,H1=new Map,j1=new Map,ec=[],Oie="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function OD(t,e){switch(t){case"focusin":case"focusout":xc=null;break;case"dragenter":case"dragleave":bc=null;break;case"mouseover":case"mouseout":kc=null;break;case"pointerover":case"pointerout":H1.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":j1.delete(e.pointerId)}}function km(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=Mv(e),e!==null&&RT(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function Pie(t,e,n,r,i){switch(e){case"focusin":return xc=km(xc,t,e,n,r,i),!0;case"dragenter":return bc=km(bc,t,e,n,r,i),!0;case"mouseover":return kc=km(kc,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return H1.set(o,km(H1.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,j1.set(o,km(j1.get(o)||null,t,e,n,r,i)),!0}return!1}function JV(t){var e=Fh(t.target);if(e!==null){var n=Zf(e);if(n!==null){if(e=n.tag,e===13){if(e=FV(n),e!==null){t.blockedOn=e,XV(t.priority,function(){GV(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function K4(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=F8(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);I8=r,n.target.dispatchEvent(r),I8=null}else return e=Mv(n),e!==null&&RT(e),t.blockedOn=n,!1;e.shift()}return!0}function PD(t,e,n){K4(t)&&n.delete(e)}function Die(){z8=!1,xc!==null&&K4(xc)&&(xc=null),bc!==null&&K4(bc)&&(bc=null),kc!==null&&K4(kc)&&(kc=null),H1.forEach(PD),j1.forEach(PD)}function Sm(t,e){t.blockedOn===e&&(t.blockedOn=null,z8||(z8=!0,Bo.unstable_scheduleCallback(Bo.unstable_NormalPriority,Die)))}function W1(t){function e(i){return Sm(i,t)}if(0<M2.length){Sm(M2[0],t);for(var n=1;n<M2.length;n++){var r=M2[n];r.blockedOn===t&&(r.blockedOn=null)}}for(xc!==null&&Sm(xc,t),bc!==null&&Sm(bc,t),kc!==null&&Sm(kc,t),H1.forEach(e),j1.forEach(e),n=0;n<ec.length;n++)r=ec[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ec.length&&(n=ec[0],n.blockedOn===null);)JV(n),n.blockedOn===null&&ec.shift()}var c0=xu.ReactCurrentBatchConfig,T5=!0;function _ie(t,e,n,r){var i=rn,o=c0.transition;c0.transition=null;try{rn=1,NT(t,e,n,r)}finally{rn=i,c0.transition=o}}function Iie(t,e,n,r){var i=rn,o=c0.transition;c0.transition=null;try{rn=4,NT(t,e,n,r)}finally{rn=i,c0.transition=o}}function NT(t,e,n,r){if(T5){var i=F8(t,e,n,r);if(i===null)B6(t,e,r,M5,n),OD(t,r);else if(Pie(i,t,e,n,r))r.stopPropagation();else if(OD(t,r),e&4&&-1<Oie.indexOf(t)){for(;i!==null;){var o=Mv(i);if(o!==null&&KV(o),o=F8(t,e,n,r),o===null&&B6(t,e,r,M5,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else B6(t,e,r,null,n)}}var M5=null;function F8(t,e,n,r){if(M5=null,t=DT(r),t=Fh(t),t!==null)if(e=Zf(t),e===null)t=null;else if(n=e.tag,n===13){if(t=FV(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return M5=t,null}function ZV(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(xie()){case _T:return 1;case jV:return 4;case S5:case bie:return 16;case WV:return 536870912;default:return 16}default:return 16}}var uc=null,LT=null,G4=null;function QV(){if(G4)return G4;var t,e=LT,n=e.length,r,i="value"in uc?uc.value:uc.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return G4=i.slice(t,1<r?1-r:void 0)}function Y4(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function A2(){return!0}function DD(){return!1}function Ho(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?A2:DD,this.isPropagationStopped=DD,this}return Yn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=A2)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=A2)},persist:function(){},isPersistent:A2}),e}var Hp={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},BT=Ho(Hp),Tv=Yn({},Hp,{view:0,detail:0}),Rie=Ho(Tv),E6,O6,Cm,vb=Yn({},Tv,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zT,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Cm&&(Cm&&t.type==="mousemove"?(E6=t.screenX-Cm.screenX,O6=t.screenY-Cm.screenY):O6=E6=0,Cm=t),E6)},movementY:function(t){return"movementY"in t?t.movementY:O6}}),_D=Ho(vb),Nie=Yn({},vb,{dataTransfer:0}),Lie=Ho(Nie),Bie=Yn({},Tv,{relatedTarget:0}),P6=Ho(Bie),zie=Yn({},Hp,{animationName:0,elapsedTime:0,pseudoElement:0}),Fie=Ho(zie),$ie=Yn({},Hp,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Vie=Ho($ie),Hie=Yn({},Hp,{data:0}),ID=Ho(Hie),jie={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Wie={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Uie={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qie(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Uie[t])?!!e[t]:!1}function zT(){return qie}var Kie=Yn({},Tv,{key:function(t){if(t.key){var e=jie[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Y4(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Wie[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zT,charCode:function(t){return t.type==="keypress"?Y4(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Y4(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Gie=Ho(Kie),Yie=Yn({},vb,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),RD=Ho(Yie),Xie=Yn({},Tv,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zT}),Jie=Ho(Xie),Zie=Yn({},Hp,{propertyName:0,elapsedTime:0,pseudoElement:0}),Qie=Ho(Zie),eoe=Yn({},vb,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),toe=Ho(eoe),noe=[9,13,27,32],FT=su&&"CompositionEvent"in window,Ug=null;su&&"documentMode"in document&&(Ug=document.documentMode);var roe=su&&"TextEvent"in window&&!Ug,eH=su&&(!FT||Ug&&8<Ug&&11>=Ug),ND=" ",LD=!1;function tH(t,e){switch(t){case"keyup":return noe.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nH(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Hd=!1;function ioe(t,e){switch(t){case"compositionend":return nH(e);case"keypress":return e.which!==32?null:(LD=!0,ND);case"textInput":return t=e.data,t===ND&&LD?null:t;default:return null}}function ooe(t,e){if(Hd)return t==="compositionend"||!FT&&tH(t,e)?(t=QV(),G4=LT=uc=null,Hd=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return eH&&e.locale!=="ko"?null:e.data;default:return null}}var soe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function BD(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!soe[t.type]:e==="textarea"}function rH(t,e,n,r){RV(r),e=A5(e,"onChange"),0<e.length&&(n=new BT("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var qg=null,U1=null;function loe(t){pH(t,0)}function wb(t){var e=Ud(t);if(AV(e))return t}function aoe(t,e){if(t==="change")return e}var iH=!1;if(su){var D6;if(su){var _6="oninput"in document;if(!_6){var zD=document.createElement("div");zD.setAttribute("oninput","return;"),_6=typeof zD.oninput=="function"}D6=_6}else D6=!1;iH=D6&&(!document.documentMode||9<document.documentMode)}function FD(){qg&&(qg.detachEvent("onpropertychange",oH),U1=qg=null)}function oH(t){if(t.propertyName==="value"&&wb(U1)){var e=[];rH(e,U1,t,DT(t)),zV(loe,e)}}function uoe(t,e,n){t==="focusin"?(FD(),qg=e,U1=n,qg.attachEvent("onpropertychange",oH)):t==="focusout"&&FD()}function coe(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return wb(U1)}function hoe(t,e){if(t==="click")return wb(e)}function foe(t,e){if(t==="input"||t==="change")return wb(e)}function doe(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var nl=typeof Object.is=="function"?Object.is:doe;function q1(t,e){if(nl(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!b8.call(e,i)||!nl(t[i],e[i]))return!1}return!0}function $D(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function VD(t,e){var n=$D(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=$D(n)}}function sH(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?sH(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function lH(){for(var t=window,e=x5();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=x5(t.document)}return e}function $T(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function poe(t){var e=lH(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&sH(n.ownerDocument.documentElement,n)){if(r!==null&&$T(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=VD(n,o);var s=VD(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var moe=su&&"documentMode"in document&&11>=document.documentMode,jd=null,$8=null,Kg=null,V8=!1;function HD(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;V8||jd==null||jd!==x5(r)||(r=jd,"selectionStart"in r&&$T(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Kg&&q1(Kg,r)||(Kg=r,r=A5($8,"onSelect"),0<r.length&&(e=new BT("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=jd)))}function E2(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Wd={animationend:E2("Animation","AnimationEnd"),animationiteration:E2("Animation","AnimationIteration"),animationstart:E2("Animation","AnimationStart"),transitionend:E2("Transition","TransitionEnd")},I6={},aH={};su&&(aH=document.createElement("div").style,"AnimationEvent"in window||(delete Wd.animationend.animation,delete Wd.animationiteration.animation,delete Wd.animationstart.animation),"TransitionEvent"in window||delete Wd.transitionend.transition);function xb(t){if(I6[t])return I6[t];if(!Wd[t])return t;var e=Wd[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in aH)return I6[t]=e[n];return t}var uH=xb("animationend"),cH=xb("animationiteration"),hH=xb("animationstart"),fH=xb("transitionend"),dH=new Map,jD="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Xc(t,e){dH.set(t,e),Jf(e,[t])}for(var R6=0;R6<jD.length;R6++){var N6=jD[R6],goe=N6.toLowerCase(),yoe=N6[0].toUpperCase()+N6.slice(1);Xc(goe,"on"+yoe)}Xc(uH,"onAnimationEnd");Xc(cH,"onAnimationIteration");Xc(hH,"onAnimationStart");Xc("dblclick","onDoubleClick");Xc("focusin","onFocus");Xc("focusout","onBlur");Xc(fH,"onTransitionEnd");sp("onMouseEnter",["mouseout","mouseover"]);sp("onMouseLeave",["mouseout","mouseover"]);sp("onPointerEnter",["pointerout","pointerover"]);sp("onPointerLeave",["pointerout","pointerover"]);Jf("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Jf("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Jf("onBeforeInput",["compositionend","keypress","textInput","paste"]);Jf("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Jf("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Jf("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var eg="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),voe=new Set("cancel close invalid load scroll toggle".split(" ").concat(eg));function WD(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,gie(r,e,void 0,t),t.currentTarget=null}function pH(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var l=r[s],a=l.instance,u=l.currentTarget;if(l=l.listener,a!==o&&i.isPropagationStopped())break e;WD(i,l,u),o=a}else for(s=0;s<r.length;s++){if(l=r[s],a=l.instance,u=l.currentTarget,l=l.listener,a!==o&&i.isPropagationStopped())break e;WD(i,l,u),o=a}}}if(k5)throw t=L8,k5=!1,L8=null,t}function An(t,e){var n=e[q8];n===void 0&&(n=e[q8]=new Set);var r=t+"__bubble";n.has(r)||(mH(e,t,2,!1),n.add(r))}function L6(t,e,n){var r=0;e&&(r|=4),mH(n,t,r,e)}var O2="_reactListening"+Math.random().toString(36).slice(2);function K1(t){if(!t[O2]){t[O2]=!0,kV.forEach(function(n){n!=="selectionchange"&&(voe.has(n)||L6(n,!1,t),L6(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[O2]||(e[O2]=!0,L6("selectionchange",!1,e))}}function mH(t,e,n,r){switch(ZV(e)){case 1:var i=_ie;break;case 4:i=Iie;break;default:i=NT}n=i.bind(null,e,n,t),i=void 0,!N8||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function B6(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var a=s.tag;if((a===3||a===4)&&(a=s.stateNode.containerInfo,a===i||a.nodeType===8&&a.parentNode===i))return;s=s.return}for(;l!==null;){if(s=Fh(l),s===null)return;if(a=s.tag,a===5||a===6){r=o=s;continue e}l=l.parentNode}}r=r.return}zV(function(){var u=o,c=DT(n),h=[];e:{var f=dH.get(t);if(f!==void 0){var d=BT,p=t;switch(t){case"keypress":if(Y4(n)===0)break e;case"keydown":case"keyup":d=Gie;break;case"focusin":p="focus",d=P6;break;case"focusout":p="blur",d=P6;break;case"beforeblur":case"afterblur":d=P6;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":d=_D;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":d=Lie;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":d=Jie;break;case uH:case cH:case hH:d=Fie;break;case fH:d=Qie;break;case"scroll":d=Rie;break;case"wheel":d=toe;break;case"copy":case"cut":case"paste":d=Vie;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":d=RD}var m=(e&4)!==0,y=!m&&t==="scroll",g=m?f!==null?f+"Capture":null:f;m=[];for(var v=u,w;v!==null;){w=v;var b=w.stateNode;if(w.tag===5&&b!==null&&(w=b,g!==null&&(b=V1(v,g),b!=null&&m.push(G1(v,b,w)))),y)break;v=v.return}0<m.length&&(f=new d(f,p,null,n,c),h.push({event:f,listeners:m}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",d=t==="mouseout"||t==="pointerout",f&&n!==I8&&(p=n.relatedTarget||n.fromElement)&&(Fh(p)||p[lu]))break e;if((d||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,d?(p=n.relatedTarget||n.toElement,d=u,p=p?Fh(p):null,p!==null&&(y=Zf(p),p!==y||p.tag!==5&&p.tag!==6)&&(p=null)):(d=null,p=u),d!==p)){if(m=_D,b="onMouseLeave",g="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(m=RD,b="onPointerLeave",g="onPointerEnter",v="pointer"),y=d==null?f:Ud(d),w=p==null?f:Ud(p),f=new m(b,v+"leave",d,n,c),f.target=y,f.relatedTarget=w,b=null,Fh(c)===u&&(m=new m(g,v+"enter",p,n,c),m.target=w,m.relatedTarget=y,b=m),y=b,d&&p)t:{for(m=d,g=p,v=0,w=m;w;w=dd(w))v++;for(w=0,b=g;b;b=dd(b))w++;for(;0<v-w;)m=dd(m),v--;for(;0<w-v;)g=dd(g),w--;for(;v--;){if(m===g||g!==null&&m===g.alternate)break t;m=dd(m),g=dd(g)}m=null}else m=null;d!==null&&UD(h,f,d,m,!1),p!==null&&y!==null&&UD(h,y,p,m,!0)}}e:{if(f=u?Ud(u):window,d=f.nodeName&&f.nodeName.toLowerCase(),d==="select"||d==="input"&&f.type==="file")var S=aoe;else if(BD(f))if(iH)S=foe;else{S=coe;var k=uoe}else(d=f.nodeName)&&d.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(S=hoe);if(S&&(S=S(t,u))){rH(h,S,n,c);break e}k&&k(t,f,u),t==="focusout"&&(k=f._wrapperState)&&k.controlled&&f.type==="number"&&E8(f,"number",f.value)}switch(k=u?Ud(u):window,t){case"focusin":(BD(k)||k.contentEditable==="true")&&(jd=k,$8=u,Kg=null);break;case"focusout":Kg=$8=jd=null;break;case"mousedown":V8=!0;break;case"contextmenu":case"mouseup":case"dragend":V8=!1,HD(h,n,c);break;case"selectionchange":if(moe)break;case"keydown":case"keyup":HD(h,n,c)}var T;if(FT)e:{switch(t){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else Hd?tH(t,n)&&(A="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(A="onCompositionStart");A&&(eH&&n.locale!=="ko"&&(Hd||A!=="onCompositionStart"?A==="onCompositionEnd"&&Hd&&(T=QV()):(uc=c,LT="value"in uc?uc.value:uc.textContent,Hd=!0)),k=A5(u,A),0<k.length&&(A=new ID(A,t,null,n,c),h.push({event:A,listeners:k}),T?A.data=T:(T=nH(n),T!==null&&(A.data=T)))),(T=roe?ioe(t,n):ooe(t,n))&&(u=A5(u,"onBeforeInput"),0<u.length&&(c=new ID("onBeforeInput","beforeinput",null,n,c),h.push({event:c,listeners:u}),c.data=T))}pH(h,e)})}function G1(t,e,n){return{instance:t,listener:e,currentTarget:n}}function A5(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=V1(t,n),o!=null&&r.unshift(G1(t,o,i)),o=V1(t,e),o!=null&&r.push(G1(t,o,i))),t=t.return}return r}function dd(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function UD(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var l=n,a=l.alternate,u=l.stateNode;if(a!==null&&a===r)break;l.tag===5&&u!==null&&(l=u,i?(a=V1(n,o),a!=null&&s.unshift(G1(n,a,l))):i||(a=V1(n,o),a!=null&&s.push(G1(n,a,l)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var woe=/\r\n?/g,xoe=/\u0000|\uFFFD/g;function qD(t){return(typeof t=="string"?t:""+t).replace(woe,`
`).replace(xoe,"")}function P2(t,e,n){if(e=qD(e),qD(t)!==e&&n)throw Error(Oe(425))}function E5(){}var H8=null,j8=null;function W8(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var U8=typeof setTimeout=="function"?setTimeout:void 0,boe=typeof clearTimeout=="function"?clearTimeout:void 0,KD=typeof Promise=="function"?Promise:void 0,koe=typeof queueMicrotask=="function"?queueMicrotask:typeof KD<"u"?function(t){return KD.resolve(null).then(t).catch(Soe)}:U8;function Soe(t){setTimeout(function(){throw t})}function z6(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),W1(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);W1(e)}function Sc(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function GD(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var jp=Math.random().toString(36).slice(2),Il="__reactFiber$"+jp,Y1="__reactProps$"+jp,lu="__reactContainer$"+jp,q8="__reactEvents$"+jp,Coe="__reactListeners$"+jp,Toe="__reactHandles$"+jp;function Fh(t){var e=t[Il];if(e)return e;for(var n=t.parentNode;n;){if(e=n[lu]||n[Il]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=GD(t);t!==null;){if(n=t[Il])return n;t=GD(t)}return e}t=n,n=t.parentNode}return null}function Mv(t){return t=t[Il]||t[lu],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ud(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Oe(33))}function bb(t){return t[Y1]||null}var K8=[],qd=-1;function Jc(t){return{current:t}}function _n(t){0>qd||(t.current=K8[qd],K8[qd]=null,qd--)}function bn(t,e){qd++,K8[qd]=t.current,t.current=e}var Rc={},mi=Jc(Rc),io=Jc(!1),Of=Rc;function lp(t,e){var n=t.type.contextTypes;if(!n)return Rc;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function oo(t){return t=t.childContextTypes,t!=null}function O5(){_n(io),_n(mi)}function YD(t,e,n){if(mi.current!==Rc)throw Error(Oe(168));bn(mi,e),bn(io,n)}function gH(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Oe(108,uie(t)||"Unknown",i));return Yn({},n,r)}function P5(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Rc,Of=mi.current,bn(mi,t),bn(io,io.current),!0}function XD(t,e,n){var r=t.stateNode;if(!r)throw Error(Oe(169));n?(t=gH(t,e,Of),r.__reactInternalMemoizedMergedChildContext=t,_n(io),_n(mi),bn(mi,t)):_n(io),bn(io,n)}var Pa=null,kb=!1,F6=!1;function yH(t){Pa===null?Pa=[t]:Pa.push(t)}function Moe(t){kb=!0,yH(t)}function Zc(){if(!F6&&Pa!==null){F6=!0;var t=0,e=rn;try{var n=Pa;for(rn=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Pa=null,kb=!1}catch(i){throw Pa!==null&&(Pa=Pa.slice(t+1)),HV(_T,Zc),i}finally{rn=e,F6=!1}}return null}var Kd=[],Gd=0,D5=null,_5=0,rs=[],is=0,Pf=null,Ha=1,ja="";function Th(t,e){Kd[Gd++]=_5,Kd[Gd++]=D5,D5=t,_5=e}function vH(t,e,n){rs[is++]=Ha,rs[is++]=ja,rs[is++]=Pf,Pf=t;var r=Ha;t=ja;var i=32-Ys(r)-1;r&=~(1<<i),n+=1;var o=32-Ys(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Ha=1<<32-Ys(e)+i|n<<i|r,ja=o+t}else Ha=1<<o|n<<i|r,ja=t}function VT(t){t.return!==null&&(Th(t,1),vH(t,1,0))}function HT(t){for(;t===D5;)D5=Kd[--Gd],Kd[Gd]=null,_5=Kd[--Gd],Kd[Gd]=null;for(;t===Pf;)Pf=rs[--is],rs[is]=null,ja=rs[--is],rs[is]=null,Ha=rs[--is],rs[is]=null}var Ro=null,_o=null,Bn=!1,qs=null;function wH(t,e){var n=us(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function JD(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ro=t,_o=Sc(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ro=t,_o=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Pf!==null?{id:Ha,overflow:ja}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=us(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Ro=t,_o=null,!0):!1;default:return!1}}function G8(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Y8(t){if(Bn){var e=_o;if(e){var n=e;if(!JD(t,e)){if(G8(t))throw Error(Oe(418));e=Sc(n.nextSibling);var r=Ro;e&&JD(t,e)?wH(r,n):(t.flags=t.flags&-4097|2,Bn=!1,Ro=t)}}else{if(G8(t))throw Error(Oe(418));t.flags=t.flags&-4097|2,Bn=!1,Ro=t}}}function ZD(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ro=t}function D2(t){if(t!==Ro)return!1;if(!Bn)return ZD(t),Bn=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!W8(t.type,t.memoizedProps)),e&&(e=_o)){if(G8(t))throw xH(),Error(Oe(418));for(;e;)wH(t,e),e=Sc(e.nextSibling)}if(ZD(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Oe(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){_o=Sc(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}_o=null}}else _o=Ro?Sc(t.stateNode.nextSibling):null;return!0}function xH(){for(var t=_o;t;)t=Sc(t.nextSibling)}function ap(){_o=Ro=null,Bn=!1}function jT(t){qs===null?qs=[t]:qs.push(t)}var Aoe=xu.ReactCurrentBatchConfig;function Tm(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Oe(309));var r=n.stateNode}if(!r)throw Error(Oe(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var l=i.refs;s===null?delete l[o]:l[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(Oe(284));if(!n._owner)throw Error(Oe(290,t))}return t}function _2(t,e){throw t=Object.prototype.toString.call(e),Error(Oe(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function QD(t){var e=t._init;return e(t._payload)}function bH(t){function e(g,v){if(t){var w=g.deletions;w===null?(g.deletions=[v],g.flags|=16):w.push(v)}}function n(g,v){if(!t)return null;for(;v!==null;)e(g,v),v=v.sibling;return null}function r(g,v){for(g=new Map;v!==null;)v.key!==null?g.set(v.key,v):g.set(v.index,v),v=v.sibling;return g}function i(g,v){return g=Ac(g,v),g.index=0,g.sibling=null,g}function o(g,v,w){return g.index=w,t?(w=g.alternate,w!==null?(w=w.index,w<v?(g.flags|=2,v):w):(g.flags|=2,v)):(g.flags|=1048576,v)}function s(g){return t&&g.alternate===null&&(g.flags|=2),g}function l(g,v,w,b){return v===null||v.tag!==6?(v=q6(w,g.mode,b),v.return=g,v):(v=i(v,w),v.return=g,v)}function a(g,v,w,b){var S=w.type;return S===Vd?c(g,v,w.props.children,b,w.key):v!==null&&(v.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Uu&&QD(S)===v.type)?(b=i(v,w.props),b.ref=Tm(g,v,w),b.return=g,b):(b=nw(w.type,w.key,w.props,null,g.mode,b),b.ref=Tm(g,v,w),b.return=g,b)}function u(g,v,w,b){return v===null||v.tag!==4||v.stateNode.containerInfo!==w.containerInfo||v.stateNode.implementation!==w.implementation?(v=K6(w,g.mode,b),v.return=g,v):(v=i(v,w.children||[]),v.return=g,v)}function c(g,v,w,b,S){return v===null||v.tag!==7?(v=df(w,g.mode,b,S),v.return=g,v):(v=i(v,w),v.return=g,v)}function h(g,v,w){if(typeof v=="string"&&v!==""||typeof v=="number")return v=q6(""+v,g.mode,w),v.return=g,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case b2:return w=nw(v.type,v.key,v.props,null,g.mode,w),w.ref=Tm(g,null,v),w.return=g,w;case $d:return v=K6(v,g.mode,w),v.return=g,v;case Uu:var b=v._init;return h(g,b(v._payload),w)}if(Zm(v)||xm(v))return v=df(v,g.mode,w,null),v.return=g,v;_2(g,v)}return null}function f(g,v,w,b){var S=v!==null?v.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return S!==null?null:l(g,v,""+w,b);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case b2:return w.key===S?a(g,v,w,b):null;case $d:return w.key===S?u(g,v,w,b):null;case Uu:return S=w._init,f(g,v,S(w._payload),b)}if(Zm(w)||xm(w))return S!==null?null:c(g,v,w,b,null);_2(g,w)}return null}function d(g,v,w,b,S){if(typeof b=="string"&&b!==""||typeof b=="number")return g=g.get(w)||null,l(v,g,""+b,S);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case b2:return g=g.get(b.key===null?w:b.key)||null,a(v,g,b,S);case $d:return g=g.get(b.key===null?w:b.key)||null,u(v,g,b,S);case Uu:var k=b._init;return d(g,v,w,k(b._payload),S)}if(Zm(b)||xm(b))return g=g.get(w)||null,c(v,g,b,S,null);_2(v,b)}return null}function p(g,v,w,b){for(var S=null,k=null,T=v,A=v=0,z=null;T!==null&&A<w.length;A++){T.index>A?(z=T,T=null):z=T.sibling;var E=f(g,T,w[A],b);if(E===null){T===null&&(T=z);break}t&&T&&E.alternate===null&&e(g,T),v=o(E,v,A),k===null?S=E:k.sibling=E,k=E,T=z}if(A===w.length)return n(g,T),Bn&&Th(g,A),S;if(T===null){for(;A<w.length;A++)T=h(g,w[A],b),T!==null&&(v=o(T,v,A),k===null?S=T:k.sibling=T,k=T);return Bn&&Th(g,A),S}for(T=r(g,T);A<w.length;A++)z=d(T,g,A,w[A],b),z!==null&&(t&&z.alternate!==null&&T.delete(z.key===null?A:z.key),v=o(z,v,A),k===null?S=z:k.sibling=z,k=z);return t&&T.forEach(function(B){return e(g,B)}),Bn&&Th(g,A),S}function m(g,v,w,b){var S=xm(w);if(typeof S!="function")throw Error(Oe(150));if(w=S.call(w),w==null)throw Error(Oe(151));for(var k=S=null,T=v,A=v=0,z=null,E=w.next();T!==null&&!E.done;A++,E=w.next()){T.index>A?(z=T,T=null):z=T.sibling;var B=f(g,T,E.value,b);if(B===null){T===null&&(T=z);break}t&&T&&B.alternate===null&&e(g,T),v=o(B,v,A),k===null?S=B:k.sibling=B,k=B,T=z}if(E.done)return n(g,T),Bn&&Th(g,A),S;if(T===null){for(;!E.done;A++,E=w.next())E=h(g,E.value,b),E!==null&&(v=o(E,v,A),k===null?S=E:k.sibling=E,k=E);return Bn&&Th(g,A),S}for(T=r(g,T);!E.done;A++,E=w.next())E=d(T,g,A,E.value,b),E!==null&&(t&&E.alternate!==null&&T.delete(E.key===null?A:E.key),v=o(E,v,A),k===null?S=E:k.sibling=E,k=E);return t&&T.forEach(function($){return e(g,$)}),Bn&&Th(g,A),S}function y(g,v,w,b){if(typeof w=="object"&&w!==null&&w.type===Vd&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case b2:e:{for(var S=w.key,k=v;k!==null;){if(k.key===S){if(S=w.type,S===Vd){if(k.tag===7){n(g,k.sibling),v=i(k,w.props.children),v.return=g,g=v;break e}}else if(k.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Uu&&QD(S)===k.type){n(g,k.sibling),v=i(k,w.props),v.ref=Tm(g,k,w),v.return=g,g=v;break e}n(g,k);break}else e(g,k);k=k.sibling}w.type===Vd?(v=df(w.props.children,g.mode,b,w.key),v.return=g,g=v):(b=nw(w.type,w.key,w.props,null,g.mode,b),b.ref=Tm(g,v,w),b.return=g,g=b)}return s(g);case $d:e:{for(k=w.key;v!==null;){if(v.key===k)if(v.tag===4&&v.stateNode.containerInfo===w.containerInfo&&v.stateNode.implementation===w.implementation){n(g,v.sibling),v=i(v,w.children||[]),v.return=g,g=v;break e}else{n(g,v);break}else e(g,v);v=v.sibling}v=K6(w,g.mode,b),v.return=g,g=v}return s(g);case Uu:return k=w._init,y(g,v,k(w._payload),b)}if(Zm(w))return p(g,v,w,b);if(xm(w))return m(g,v,w,b);_2(g,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,v!==null&&v.tag===6?(n(g,v.sibling),v=i(v,w),v.return=g,g=v):(n(g,v),v=q6(w,g.mode,b),v.return=g,g=v),s(g)):n(g,v)}return y}var up=bH(!0),kH=bH(!1),I5=Jc(null),R5=null,Yd=null,WT=null;function UT(){WT=Yd=R5=null}function qT(t){var e=I5.current;_n(I5),t._currentValue=e}function X8(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function h0(t,e){R5=t,WT=Yd=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(eo=!0),t.firstContext=null)}function bs(t){var e=t._currentValue;if(WT!==t)if(t={context:t,memoizedValue:e,next:null},Yd===null){if(R5===null)throw Error(Oe(308));Yd=t,R5.dependencies={lanes:0,firstContext:t}}else Yd=Yd.next=t;return e}var $h=null;function KT(t){$h===null?$h=[t]:$h.push(t)}function SH(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,KT(e)):(n.next=i.next,i.next=n),e.interleaved=n,au(t,r)}function au(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var qu=!1;function GT(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function CH(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ya(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Cc(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Kt&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,au(t,n)}return i=r.interleaved,i===null?(e.next=e,KT(r)):(e.next=i.next,i.next=e),r.interleaved=e,au(t,n)}function X4(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,IT(t,n)}}function e_(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function N5(t,e,n,r){var i=t.updateQueue;qu=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var a=l,u=a.next;a.next=null,s===null?o=u:s.next=u,s=a;var c=t.alternate;c!==null&&(c=c.updateQueue,l=c.lastBaseUpdate,l!==s&&(l===null?c.firstBaseUpdate=u:l.next=u,c.lastBaseUpdate=a))}if(o!==null){var h=i.baseState;s=0,c=u=a=null,l=o;do{var f=l.lane,d=l.eventTime;if((r&f)===f){c!==null&&(c=c.next={eventTime:d,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var p=t,m=l;switch(f=e,d=n,m.tag){case 1:if(p=m.payload,typeof p=="function"){h=p.call(d,h,f);break e}h=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=m.payload,f=typeof p=="function"?p.call(d,h,f):p,f==null)break e;h=Yn({},h,f);break e;case 2:qu=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[l]:f.push(l))}else d={eventTime:d,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},c===null?(u=c=d,a=h):c=c.next=d,s|=f;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;f=l,l=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(c===null&&(a=h),i.baseState=a,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);_f|=s,t.lanes=s,t.memoizedState=h}}function t_(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Oe(191,i));i.call(r)}}}var Av={},Wl=Jc(Av),X1=Jc(Av),J1=Jc(Av);function Vh(t){if(t===Av)throw Error(Oe(174));return t}function YT(t,e){switch(bn(J1,e),bn(X1,t),bn(Wl,Av),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:P8(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=P8(e,t)}_n(Wl),bn(Wl,e)}function cp(){_n(Wl),_n(X1),_n(J1)}function TH(t){Vh(J1.current);var e=Vh(Wl.current),n=P8(e,t.type);e!==n&&(bn(X1,t),bn(Wl,n))}function XT(t){X1.current===t&&(_n(Wl),_n(X1))}var Wn=Jc(0);function L5(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var $6=[];function JT(){for(var t=0;t<$6.length;t++)$6[t]._workInProgressVersionPrimary=null;$6.length=0}var J4=xu.ReactCurrentDispatcher,V6=xu.ReactCurrentBatchConfig,Df=0,Gn=null,xr=null,Mr=null,B5=!1,Gg=!1,Z1=0,Eoe=0;function Xr(){throw Error(Oe(321))}function ZT(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!nl(t[n],e[n]))return!1;return!0}function QT(t,e,n,r,i,o){if(Df=o,Gn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,J4.current=t===null||t.memoizedState===null?_oe:Ioe,t=n(r,i),Gg){o=0;do{if(Gg=!1,Z1=0,25<=o)throw Error(Oe(301));o+=1,Mr=xr=null,e.updateQueue=null,J4.current=Roe,t=n(r,i)}while(Gg)}if(J4.current=z5,e=xr!==null&&xr.next!==null,Df=0,Mr=xr=Gn=null,B5=!1,e)throw Error(Oe(300));return t}function eM(){var t=Z1!==0;return Z1=0,t}function Ml(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Mr===null?Gn.memoizedState=Mr=t:Mr=Mr.next=t,Mr}function ks(){if(xr===null){var t=Gn.alternate;t=t!==null?t.memoizedState:null}else t=xr.next;var e=Mr===null?Gn.memoizedState:Mr.next;if(e!==null)Mr=e,xr=t;else{if(t===null)throw Error(Oe(310));xr=t,t={memoizedState:xr.memoizedState,baseState:xr.baseState,baseQueue:xr.baseQueue,queue:xr.queue,next:null},Mr===null?Gn.memoizedState=Mr=t:Mr=Mr.next=t}return Mr}function Q1(t,e){return typeof e=="function"?e(t):e}function H6(t){var e=ks(),n=e.queue;if(n===null)throw Error(Oe(311));n.lastRenderedReducer=t;var r=xr,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var l=s=null,a=null,u=o;do{var c=u.lane;if((Df&c)===c)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(l=a=h,s=r):a=a.next=h,Gn.lanes|=c,_f|=c}u=u.next}while(u!==null&&u!==o);a===null?s=r:a.next=l,nl(r,e.memoizedState)||(eo=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=a,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,Gn.lanes|=o,_f|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function j6(t){var e=ks(),n=e.queue;if(n===null)throw Error(Oe(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);nl(o,e.memoizedState)||(eo=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function MH(){}function AH(t,e){var n=Gn,r=ks(),i=e(),o=!nl(r.memoizedState,i);if(o&&(r.memoizedState=i,eo=!0),r=r.queue,tM(PH.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||Mr!==null&&Mr.memoizedState.tag&1){if(n.flags|=2048,ey(9,OH.bind(null,n,r,i,e),void 0,null),Pr===null)throw Error(Oe(349));Df&30||EH(n,e,i)}return i}function EH(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Gn.updateQueue,e===null?(e={lastEffect:null,stores:null},Gn.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function OH(t,e,n,r){e.value=n,e.getSnapshot=r,DH(e)&&_H(t)}function PH(t,e,n){return n(function(){DH(e)&&_H(t)})}function DH(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!nl(t,n)}catch{return!0}}function _H(t){var e=au(t,1);e!==null&&Xs(e,t,1,-1)}function n_(t){var e=Ml();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Q1,lastRenderedState:t},e.queue=t,t=t.dispatch=Doe.bind(null,Gn,t),[e.memoizedState,t]}function ey(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Gn.updateQueue,e===null?(e={lastEffect:null,stores:null},Gn.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function IH(){return ks().memoizedState}function Z4(t,e,n,r){var i=Ml();Gn.flags|=t,i.memoizedState=ey(1|e,n,void 0,r===void 0?null:r)}function Sb(t,e,n,r){var i=ks();r=r===void 0?null:r;var o=void 0;if(xr!==null){var s=xr.memoizedState;if(o=s.destroy,r!==null&&ZT(r,s.deps)){i.memoizedState=ey(e,n,o,r);return}}Gn.flags|=t,i.memoizedState=ey(1|e,n,o,r)}function r_(t,e){return Z4(8390656,8,t,e)}function tM(t,e){return Sb(2048,8,t,e)}function RH(t,e){return Sb(4,2,t,e)}function NH(t,e){return Sb(4,4,t,e)}function LH(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function BH(t,e,n){return n=n!=null?n.concat([t]):null,Sb(4,4,LH.bind(null,e,t),n)}function nM(){}function zH(t,e){var n=ks();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&ZT(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function FH(t,e){var n=ks();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&ZT(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function $H(t,e,n){return Df&21?(nl(n,e)||(n=UV(),Gn.lanes|=n,_f|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,eo=!0),t.memoizedState=n)}function Ooe(t,e){var n=rn;rn=n!==0&&4>n?n:4,t(!0);var r=V6.transition;V6.transition={};try{t(!1),e()}finally{rn=n,V6.transition=r}}function VH(){return ks().memoizedState}function Poe(t,e,n){var r=Mc(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},HH(t))jH(e,n);else if(n=SH(t,e,n,r),n!==null){var i=_i();Xs(n,t,r,i),WH(n,e,r)}}function Doe(t,e,n){var r=Mc(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(HH(t))jH(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,l=o(s,n);if(i.hasEagerState=!0,i.eagerState=l,nl(l,s)){var a=e.interleaved;a===null?(i.next=i,KT(e)):(i.next=a.next,a.next=i),e.interleaved=i;return}}catch{}finally{}n=SH(t,e,i,r),n!==null&&(i=_i(),Xs(n,t,r,i),WH(n,e,r))}}function HH(t){var e=t.alternate;return t===Gn||e!==null&&e===Gn}function jH(t,e){Gg=B5=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function WH(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,IT(t,n)}}var z5={readContext:bs,useCallback:Xr,useContext:Xr,useEffect:Xr,useImperativeHandle:Xr,useInsertionEffect:Xr,useLayoutEffect:Xr,useMemo:Xr,useReducer:Xr,useRef:Xr,useState:Xr,useDebugValue:Xr,useDeferredValue:Xr,useTransition:Xr,useMutableSource:Xr,useSyncExternalStore:Xr,useId:Xr,unstable_isNewReconciler:!1},_oe={readContext:bs,useCallback:function(t,e){return Ml().memoizedState=[t,e===void 0?null:e],t},useContext:bs,useEffect:r_,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Z4(4194308,4,LH.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Z4(4194308,4,t,e)},useInsertionEffect:function(t,e){return Z4(4,2,t,e)},useMemo:function(t,e){var n=Ml();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Ml();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Poe.bind(null,Gn,t),[r.memoizedState,t]},useRef:function(t){var e=Ml();return t={current:t},e.memoizedState=t},useState:n_,useDebugValue:nM,useDeferredValue:function(t){return Ml().memoizedState=t},useTransition:function(){var t=n_(!1),e=t[0];return t=Ooe.bind(null,t[1]),Ml().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Gn,i=Ml();if(Bn){if(n===void 0)throw Error(Oe(407));n=n()}else{if(n=e(),Pr===null)throw Error(Oe(349));Df&30||EH(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,r_(PH.bind(null,r,o,t),[t]),r.flags|=2048,ey(9,OH.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=Ml(),e=Pr.identifierPrefix;if(Bn){var n=ja,r=Ha;n=(r&~(1<<32-Ys(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Z1++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Eoe++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Ioe={readContext:bs,useCallback:zH,useContext:bs,useEffect:tM,useImperativeHandle:BH,useInsertionEffect:RH,useLayoutEffect:NH,useMemo:FH,useReducer:H6,useRef:IH,useState:function(){return H6(Q1)},useDebugValue:nM,useDeferredValue:function(t){var e=ks();return $H(e,xr.memoizedState,t)},useTransition:function(){var t=H6(Q1)[0],e=ks().memoizedState;return[t,e]},useMutableSource:MH,useSyncExternalStore:AH,useId:VH,unstable_isNewReconciler:!1},Roe={readContext:bs,useCallback:zH,useContext:bs,useEffect:tM,useImperativeHandle:BH,useInsertionEffect:RH,useLayoutEffect:NH,useMemo:FH,useReducer:j6,useRef:IH,useState:function(){return j6(Q1)},useDebugValue:nM,useDeferredValue:function(t){var e=ks();return xr===null?e.memoizedState=t:$H(e,xr.memoizedState,t)},useTransition:function(){var t=j6(Q1)[0],e=ks().memoizedState;return[t,e]},useMutableSource:MH,useSyncExternalStore:AH,useId:VH,unstable_isNewReconciler:!1};function $s(t,e){if(t&&t.defaultProps){e=Yn({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function J8(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Yn({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Cb={isMounted:function(t){return(t=t._reactInternals)?Zf(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=_i(),i=Mc(t),o=Ya(r,i);o.payload=e,n!=null&&(o.callback=n),e=Cc(t,o,i),e!==null&&(Xs(e,t,i,r),X4(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=_i(),i=Mc(t),o=Ya(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=Cc(t,o,i),e!==null&&(Xs(e,t,i,r),X4(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=_i(),r=Mc(t),i=Ya(n,r);i.tag=2,e!=null&&(i.callback=e),e=Cc(t,i,r),e!==null&&(Xs(e,t,r,n),X4(e,t,r))}};function i_(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!q1(n,r)||!q1(i,o):!0}function UH(t,e,n){var r=!1,i=Rc,o=e.contextType;return typeof o=="object"&&o!==null?o=bs(o):(i=oo(e)?Of:mi.current,r=e.contextTypes,o=(r=r!=null)?lp(t,i):Rc),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Cb,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function o_(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Cb.enqueueReplaceState(e,e.state,null)}function Z8(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},GT(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=bs(o):(o=oo(e)?Of:mi.current,i.context=lp(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(J8(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Cb.enqueueReplaceState(i,i.state,null),N5(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function hp(t,e){try{var n="",r=e;do n+=aie(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function W6(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Q8(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Noe=typeof WeakMap=="function"?WeakMap:Map;function qH(t,e,n){n=Ya(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){$5||($5=!0,uS=r),Q8(t,e)},n}function KH(t,e,n){n=Ya(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Q8(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Q8(t,e),typeof r!="function"&&(Tc===null?Tc=new Set([this]):Tc.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function s_(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Noe;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=Yoe.bind(null,t,e,n),e.then(t,t))}function l_(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function a_(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Ya(-1,1),e.tag=2,Cc(n,e,1))),n.lanes|=1),t)}var Loe=xu.ReactCurrentOwner,eo=!1;function Mi(t,e,n,r){e.child=t===null?kH(e,null,n,r):up(e,t.child,n,r)}function u_(t,e,n,r,i){n=n.render;var o=e.ref;return h0(e,i),r=QT(t,e,n,r,o,i),n=eM(),t!==null&&!eo?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,uu(t,e,i)):(Bn&&n&&VT(e),e.flags|=1,Mi(t,e,r,i),e.child)}function c_(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!cM(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,GH(t,e,o,r,i)):(t=nw(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:q1,n(s,r)&&t.ref===e.ref)return uu(t,e,i)}return e.flags|=1,t=Ac(o,r),t.ref=e.ref,t.return=e,e.child=t}function GH(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(q1(o,r)&&t.ref===e.ref)if(eo=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(eo=!0);else return e.lanes=t.lanes,uu(t,e,i)}return eS(t,e,n,r,i)}function YH(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},bn(Jd,To),To|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,bn(Jd,To),To|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,bn(Jd,To),To|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,bn(Jd,To),To|=r;return Mi(t,e,i,n),e.child}function XH(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function eS(t,e,n,r,i){var o=oo(n)?Of:mi.current;return o=lp(e,o),h0(e,i),n=QT(t,e,n,r,o,i),r=eM(),t!==null&&!eo?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,uu(t,e,i)):(Bn&&r&&VT(e),e.flags|=1,Mi(t,e,n,i),e.child)}function h_(t,e,n,r,i){if(oo(n)){var o=!0;P5(e)}else o=!1;if(h0(e,i),e.stateNode===null)Q4(t,e),UH(e,n,r),Z8(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,l=e.memoizedProps;s.props=l;var a=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=bs(u):(u=oo(n)?Of:mi.current,u=lp(e,u));var c=n.getDerivedStateFromProps,h=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";h||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==r||a!==u)&&o_(e,s,r,u),qu=!1;var f=e.memoizedState;s.state=f,N5(e,r,s,i),a=e.memoizedState,l!==r||f!==a||io.current||qu?(typeof c=="function"&&(J8(e,n,c,r),a=e.memoizedState),(l=qu||i_(e,n,l,r,f,a,u))?(h||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=a),s.props=r,s.state=a,s.context=u,r=l):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,CH(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:$s(e.type,l),s.props=u,h=e.pendingProps,f=s.context,a=n.contextType,typeof a=="object"&&a!==null?a=bs(a):(a=oo(n)?Of:mi.current,a=lp(e,a));var d=n.getDerivedStateFromProps;(c=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==h||f!==a)&&o_(e,s,r,a),qu=!1,f=e.memoizedState,s.state=f,N5(e,r,s,i);var p=e.memoizedState;l!==h||f!==p||io.current||qu?(typeof d=="function"&&(J8(e,n,d,r),p=e.memoizedState),(u=qu||i_(e,n,u,r,f,p,a)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,p,a),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,p,a)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=p),s.props=r,s.state=p,s.context=a,r=u):(typeof s.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return tS(t,e,n,r,o,i)}function tS(t,e,n,r,i,o){XH(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&XD(e,n,!1),uu(t,e,o);r=e.stateNode,Loe.current=e;var l=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=up(e,t.child,null,o),e.child=up(e,null,l,o)):Mi(t,e,l,o),e.memoizedState=r.state,i&&XD(e,n,!0),e.child}function JH(t){var e=t.stateNode;e.pendingContext?YD(t,e.pendingContext,e.pendingContext!==e.context):e.context&&YD(t,e.context,!1),YT(t,e.containerInfo)}function f_(t,e,n,r,i){return ap(),jT(i),e.flags|=256,Mi(t,e,n,r),e.child}var nS={dehydrated:null,treeContext:null,retryLane:0};function rS(t){return{baseLanes:t,cachePool:null,transitions:null}}function ZH(t,e,n){var r=e.pendingProps,i=Wn.current,o=!1,s=(e.flags&128)!==0,l;if((l=s)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),bn(Wn,i&1),t===null)return Y8(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=Ab(s,r,0,null),t=df(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=rS(n),e.memoizedState=nS,t):rM(e,s));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return Boe(t,e,s,r,l,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,l=i.sibling;var a={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=a,e.deletions=null):(r=Ac(i,a),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?o=Ac(l,o):(o=df(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?rS(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=nS,r}return o=t.child,t=o.sibling,r=Ac(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function rM(t,e){return e=Ab({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function I2(t,e,n,r){return r!==null&&jT(r),up(e,t.child,null,n),t=rM(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Boe(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=W6(Error(Oe(422))),I2(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=Ab({mode:"visible",children:r.children},i,0,null),o=df(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&up(e,t.child,null,s),e.child.memoizedState=rS(s),e.memoizedState=nS,o);if(!(e.mode&1))return I2(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,o=Error(Oe(419)),r=W6(o,r,void 0),I2(t,e,s,r)}if(l=(s&t.childLanes)!==0,eo||l){if(r=Pr,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,au(t,i),Xs(r,t,i,-1))}return uM(),r=W6(Error(Oe(421))),I2(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=Xoe.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,_o=Sc(i.nextSibling),Ro=e,Bn=!0,qs=null,t!==null&&(rs[is++]=Ha,rs[is++]=ja,rs[is++]=Pf,Ha=t.id,ja=t.overflow,Pf=e),e=rM(e,r.children),e.flags|=4096,e)}function d_(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),X8(t.return,e,n)}function U6(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function QH(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(Mi(t,e,r.children,n),r=Wn.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&d_(t,n,e);else if(t.tag===19)d_(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(bn(Wn,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&L5(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),U6(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&L5(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}U6(e,!0,n,null,o);break;case"together":U6(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Q4(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function uu(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),_f|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Oe(153));if(e.child!==null){for(t=e.child,n=Ac(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ac(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function zoe(t,e,n){switch(e.tag){case 3:JH(e),ap();break;case 5:TH(e);break;case 1:oo(e.type)&&P5(e);break;case 4:YT(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;bn(I5,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(bn(Wn,Wn.current&1),e.flags|=128,null):n&e.child.childLanes?ZH(t,e,n):(bn(Wn,Wn.current&1),t=uu(t,e,n),t!==null?t.sibling:null);bn(Wn,Wn.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return QH(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),bn(Wn,Wn.current),r)break;return null;case 22:case 23:return e.lanes=0,YH(t,e,n)}return uu(t,e,n)}var ej,iS,tj,nj;ej=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};iS=function(){};tj=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Vh(Wl.current);var o=null;switch(n){case"input":i=M8(t,i),r=M8(t,r),o=[];break;case"select":i=Yn({},i,{value:void 0}),r=Yn({},r,{value:void 0}),o=[];break;case"textarea":i=O8(t,i),r=O8(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=E5)}D8(n,r);var s;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(F1.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var a=r[u];if(l=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&a!==l&&(a!=null||l!=null))if(u==="style")if(l){for(s in l)!l.hasOwnProperty(s)||a&&a.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in a)a.hasOwnProperty(s)&&l[s]!==a[s]&&(n||(n={}),n[s]=a[s])}else n||(o||(o=[]),o.push(u,n)),n=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(o=o||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(o=o||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(F1.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&An("scroll",t),o||l===a||(o=[])):(o=o||[]).push(u,a))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};nj=function(t,e,n,r){n!==r&&(e.flags|=4)};function Mm(t,e){if(!Bn)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Jr(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Foe(t,e,n){var r=e.pendingProps;switch(HT(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Jr(e),null;case 1:return oo(e.type)&&O5(),Jr(e),null;case 3:return r=e.stateNode,cp(),_n(io),_n(mi),JT(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(D2(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,qs!==null&&(fS(qs),qs=null))),iS(t,e),Jr(e),null;case 5:XT(e);var i=Vh(J1.current);if(n=e.type,t!==null&&e.stateNode!=null)tj(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Oe(166));return Jr(e),null}if(t=Vh(Wl.current),D2(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[Il]=e,r[Y1]=o,t=(e.mode&1)!==0,n){case"dialog":An("cancel",r),An("close",r);break;case"iframe":case"object":case"embed":An("load",r);break;case"video":case"audio":for(i=0;i<eg.length;i++)An(eg[i],r);break;case"source":An("error",r);break;case"img":case"image":case"link":An("error",r),An("load",r);break;case"details":An("toggle",r);break;case"input":kD(r,o),An("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},An("invalid",r);break;case"textarea":CD(r,o),An("invalid",r)}D8(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="children"?typeof l=="string"?r.textContent!==l&&(o.suppressHydrationWarning!==!0&&P2(r.textContent,l,t),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&P2(r.textContent,l,t),i=["children",""+l]):F1.hasOwnProperty(s)&&l!=null&&s==="onScroll"&&An("scroll",r)}switch(n){case"input":k2(r),SD(r,o,!0);break;case"textarea":k2(r),TD(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=E5)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=PV(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[Il]=e,t[Y1]=r,ej(t,e,!1,!1),e.stateNode=t;e:{switch(s=_8(n,r),n){case"dialog":An("cancel",t),An("close",t),i=r;break;case"iframe":case"object":case"embed":An("load",t),i=r;break;case"video":case"audio":for(i=0;i<eg.length;i++)An(eg[i],t);i=r;break;case"source":An("error",t),i=r;break;case"img":case"image":case"link":An("error",t),An("load",t),i=r;break;case"details":An("toggle",t),i=r;break;case"input":kD(t,r),i=M8(t,r),An("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Yn({},r,{value:void 0}),An("invalid",t);break;case"textarea":CD(t,r),i=O8(t,r),An("invalid",t);break;default:i=r}D8(n,i),l=i;for(o in l)if(l.hasOwnProperty(o)){var a=l[o];o==="style"?IV(t,a):o==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&DV(t,a)):o==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&$1(t,a):typeof a=="number"&&$1(t,""+a):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(F1.hasOwnProperty(o)?a!=null&&o==="onScroll"&&An("scroll",t):a!=null&&AT(t,o,a,s))}switch(n){case"input":k2(t),SD(t,r,!1);break;case"textarea":k2(t),TD(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ic(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?l0(t,!!r.multiple,o,!1):r.defaultValue!=null&&l0(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=E5)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Jr(e),null;case 6:if(t&&e.stateNode!=null)nj(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Oe(166));if(n=Vh(J1.current),Vh(Wl.current),D2(e)){if(r=e.stateNode,n=e.memoizedProps,r[Il]=e,(o=r.nodeValue!==n)&&(t=Ro,t!==null))switch(t.tag){case 3:P2(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&P2(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Il]=e,e.stateNode=r}return Jr(e),null;case 13:if(_n(Wn),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Bn&&_o!==null&&e.mode&1&&!(e.flags&128))xH(),ap(),e.flags|=98560,o=!1;else if(o=D2(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(Oe(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(Oe(317));o[Il]=e}else ap(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Jr(e),o=!1}else qs!==null&&(fS(qs),qs=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Wn.current&1?kr===0&&(kr=3):uM())),e.updateQueue!==null&&(e.flags|=4),Jr(e),null);case 4:return cp(),iS(t,e),t===null&&K1(e.stateNode.containerInfo),Jr(e),null;case 10:return qT(e.type._context),Jr(e),null;case 17:return oo(e.type)&&O5(),Jr(e),null;case 19:if(_n(Wn),o=e.memoizedState,o===null)return Jr(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)Mm(o,!1);else{if(kr!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=L5(t),s!==null){for(e.flags|=128,Mm(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return bn(Wn,Wn.current&1|2),e.child}t=t.sibling}o.tail!==null&&ir()>fp&&(e.flags|=128,r=!0,Mm(o,!1),e.lanes=4194304)}else{if(!r)if(t=L5(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Mm(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!Bn)return Jr(e),null}else 2*ir()-o.renderingStartTime>fp&&n!==1073741824&&(e.flags|=128,r=!0,Mm(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=ir(),e.sibling=null,n=Wn.current,bn(Wn,r?n&1|2:n&1),e):(Jr(e),null);case 22:case 23:return aM(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?To&1073741824&&(Jr(e),e.subtreeFlags&6&&(e.flags|=8192)):Jr(e),null;case 24:return null;case 25:return null}throw Error(Oe(156,e.tag))}function $oe(t,e){switch(HT(e),e.tag){case 1:return oo(e.type)&&O5(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return cp(),_n(io),_n(mi),JT(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return XT(e),null;case 13:if(_n(Wn),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Oe(340));ap()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return _n(Wn),null;case 4:return cp(),null;case 10:return qT(e.type._context),null;case 22:case 23:return aM(),null;case 24:return null;default:return null}}var R2=!1,ni=!1,Voe=typeof WeakSet=="function"?WeakSet:Set,Ye=null;function Xd(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Qn(t,e,r)}else n.current=null}function oS(t,e,n){try{n()}catch(r){Qn(t,e,r)}}var p_=!1;function Hoe(t,e){if(H8=T5,t=lH(),$T(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,l=-1,a=-1,u=0,c=0,h=t,f=null;t:for(;;){for(var d;h!==n||i!==0&&h.nodeType!==3||(l=s+i),h!==o||r!==0&&h.nodeType!==3||(a=s+r),h.nodeType===3&&(s+=h.nodeValue.length),(d=h.firstChild)!==null;)f=h,h=d;for(;;){if(h===t)break t;if(f===n&&++u===i&&(l=s),f===o&&++c===r&&(a=s),(d=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=d}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(j8={focusedElem:t,selectionRange:n},T5=!1,Ye=e;Ye!==null;)if(e=Ye,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Ye=t;else for(;Ye!==null;){e=Ye;try{var p=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var m=p.memoizedProps,y=p.memoizedState,g=e.stateNode,v=g.getSnapshotBeforeUpdate(e.elementType===e.type?m:$s(e.type,m),y);g.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Oe(163))}}catch(b){Qn(e,e.return,b)}if(t=e.sibling,t!==null){t.return=e.return,Ye=t;break}Ye=e.return}return p=p_,p_=!1,p}function Yg(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&oS(e,n,o)}i=i.next}while(i!==r)}}function Tb(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function sS(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function rj(t){var e=t.alternate;e!==null&&(t.alternate=null,rj(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Il],delete e[Y1],delete e[q8],delete e[Coe],delete e[Toe])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function ij(t){return t.tag===5||t.tag===3||t.tag===4}function m_(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||ij(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function lS(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=E5));else if(r!==4&&(t=t.child,t!==null))for(lS(t,e,n),t=t.sibling;t!==null;)lS(t,e,n),t=t.sibling}function aS(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(aS(t,e,n),t=t.sibling;t!==null;)aS(t,e,n),t=t.sibling}var zr=null,Ws=!1;function Iu(t,e,n){for(n=n.child;n!==null;)oj(t,e,n),n=n.sibling}function oj(t,e,n){if(jl&&typeof jl.onCommitFiberUnmount=="function")try{jl.onCommitFiberUnmount(yb,n)}catch{}switch(n.tag){case 5:ni||Xd(n,e);case 6:var r=zr,i=Ws;zr=null,Iu(t,e,n),zr=r,Ws=i,zr!==null&&(Ws?(t=zr,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):zr.removeChild(n.stateNode));break;case 18:zr!==null&&(Ws?(t=zr,n=n.stateNode,t.nodeType===8?z6(t.parentNode,n):t.nodeType===1&&z6(t,n),W1(t)):z6(zr,n.stateNode));break;case 4:r=zr,i=Ws,zr=n.stateNode.containerInfo,Ws=!0,Iu(t,e,n),zr=r,Ws=i;break;case 0:case 11:case 14:case 15:if(!ni&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&oS(n,e,s),i=i.next}while(i!==r)}Iu(t,e,n);break;case 1:if(!ni&&(Xd(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Qn(n,e,l)}Iu(t,e,n);break;case 21:Iu(t,e,n);break;case 22:n.mode&1?(ni=(r=ni)||n.memoizedState!==null,Iu(t,e,n),ni=r):Iu(t,e,n);break;default:Iu(t,e,n)}}function g_(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Voe),e.forEach(function(r){var i=Joe.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Rs(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,l=s;e:for(;l!==null;){switch(l.tag){case 5:zr=l.stateNode,Ws=!1;break e;case 3:zr=l.stateNode.containerInfo,Ws=!0;break e;case 4:zr=l.stateNode.containerInfo,Ws=!0;break e}l=l.return}if(zr===null)throw Error(Oe(160));oj(o,s,i),zr=null,Ws=!1;var a=i.alternate;a!==null&&(a.return=null),i.return=null}catch(u){Qn(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)sj(e,t),e=e.sibling}function sj(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Rs(e,t),yl(t),r&4){try{Yg(3,t,t.return),Tb(3,t)}catch(m){Qn(t,t.return,m)}try{Yg(5,t,t.return)}catch(m){Qn(t,t.return,m)}}break;case 1:Rs(e,t),yl(t),r&512&&n!==null&&Xd(n,n.return);break;case 5:if(Rs(e,t),yl(t),r&512&&n!==null&&Xd(n,n.return),t.flags&32){var i=t.stateNode;try{$1(i,"")}catch(m){Qn(t,t.return,m)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,l=t.type,a=t.updateQueue;if(t.updateQueue=null,a!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&EV(i,o),_8(l,s);var u=_8(l,o);for(s=0;s<a.length;s+=2){var c=a[s],h=a[s+1];c==="style"?IV(i,h):c==="dangerouslySetInnerHTML"?DV(i,h):c==="children"?$1(i,h):AT(i,c,h,u)}switch(l){case"input":A8(i,o);break;case"textarea":OV(i,o);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var d=o.value;d!=null?l0(i,!!o.multiple,d,!1):f!==!!o.multiple&&(o.defaultValue!=null?l0(i,!!o.multiple,o.defaultValue,!0):l0(i,!!o.multiple,o.multiple?[]:"",!1))}i[Y1]=o}catch(m){Qn(t,t.return,m)}}break;case 6:if(Rs(e,t),yl(t),r&4){if(t.stateNode===null)throw Error(Oe(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(m){Qn(t,t.return,m)}}break;case 3:if(Rs(e,t),yl(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{W1(e.containerInfo)}catch(m){Qn(t,t.return,m)}break;case 4:Rs(e,t),yl(t);break;case 13:Rs(e,t),yl(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(sM=ir())),r&4&&g_(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(ni=(u=ni)||c,Rs(e,t),ni=u):Rs(e,t),yl(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(Ye=t,c=t.child;c!==null;){for(h=Ye=c;Ye!==null;){switch(f=Ye,d=f.child,f.tag){case 0:case 11:case 14:case 15:Yg(4,f,f.return);break;case 1:Xd(f,f.return);var p=f.stateNode;if(typeof p.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(m){Qn(r,n,m)}}break;case 5:Xd(f,f.return);break;case 22:if(f.memoizedState!==null){v_(h);continue}}d!==null?(d.return=f,Ye=d):v_(h)}c=c.sibling}e:for(c=null,h=t;;){if(h.tag===5){if(c===null){c=h;try{i=h.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=h.stateNode,a=h.memoizedProps.style,s=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=_V("display",s))}catch(m){Qn(t,t.return,m)}}}else if(h.tag===6){if(c===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(m){Qn(t,t.return,m)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Rs(e,t),yl(t),r&4&&g_(t);break;case 21:break;default:Rs(e,t),yl(t)}}function yl(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(ij(n)){var r=n;break e}n=n.return}throw Error(Oe(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&($1(i,""),r.flags&=-33);var o=m_(t);aS(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,l=m_(t);lS(t,l,s);break;default:throw Error(Oe(161))}}catch(a){Qn(t,t.return,a)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function joe(t,e,n){Ye=t,lj(t)}function lj(t,e,n){for(var r=(t.mode&1)!==0;Ye!==null;){var i=Ye,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||R2;if(!s){var l=i.alternate,a=l!==null&&l.memoizedState!==null||ni;l=R2;var u=ni;if(R2=s,(ni=a)&&!u)for(Ye=i;Ye!==null;)s=Ye,a=s.child,s.tag===22&&s.memoizedState!==null?w_(i):a!==null?(a.return=s,Ye=a):w_(i);for(;o!==null;)Ye=o,lj(o),o=o.sibling;Ye=i,R2=l,ni=u}y_(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,Ye=o):y_(t)}}function y_(t){for(;Ye!==null;){var e=Ye;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ni||Tb(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!ni)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:$s(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&t_(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}t_(e,s,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var a=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&W1(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Oe(163))}ni||e.flags&512&&sS(e)}catch(f){Qn(e,e.return,f)}}if(e===t){Ye=null;break}if(n=e.sibling,n!==null){n.return=e.return,Ye=n;break}Ye=e.return}}function v_(t){for(;Ye!==null;){var e=Ye;if(e===t){Ye=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Ye=n;break}Ye=e.return}}function w_(t){for(;Ye!==null;){var e=Ye;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Tb(4,e)}catch(a){Qn(e,n,a)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(a){Qn(e,i,a)}}var o=e.return;try{sS(e)}catch(a){Qn(e,o,a)}break;case 5:var s=e.return;try{sS(e)}catch(a){Qn(e,s,a)}}}catch(a){Qn(e,e.return,a)}if(e===t){Ye=null;break}var l=e.sibling;if(l!==null){l.return=e.return,Ye=l;break}Ye=e.return}}var Woe=Math.ceil,F5=xu.ReactCurrentDispatcher,iM=xu.ReactCurrentOwner,ms=xu.ReactCurrentBatchConfig,Kt=0,Pr=null,pr=null,qr=0,To=0,Jd=Jc(0),kr=0,ty=null,_f=0,Mb=0,oM=0,Xg=null,Xi=null,sM=0,fp=1/0,Ma=null,$5=!1,uS=null,Tc=null,N2=!1,cc=null,V5=0,Jg=0,cS=null,ew=-1,tw=0;function _i(){return Kt&6?ir():ew!==-1?ew:ew=ir()}function Mc(t){return t.mode&1?Kt&2&&qr!==0?qr&-qr:Aoe.transition!==null?(tw===0&&(tw=UV()),tw):(t=rn,t!==0||(t=window.event,t=t===void 0?16:ZV(t.type)),t):1}function Xs(t,e,n,r){if(50<Jg)throw Jg=0,cS=null,Error(Oe(185));Cv(t,n,r),(!(Kt&2)||t!==Pr)&&(t===Pr&&(!(Kt&2)&&(Mb|=n),kr===4&&tc(t,qr)),so(t,r),n===1&&Kt===0&&!(e.mode&1)&&(fp=ir()+500,kb&&Zc()))}function so(t,e){var n=t.callbackNode;Aie(t,e);var r=C5(t,t===Pr?qr:0);if(r===0)n!==null&&ED(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&ED(n),e===1)t.tag===0?Moe(x_.bind(null,t)):yH(x_.bind(null,t)),koe(function(){!(Kt&6)&&Zc()}),n=null;else{switch(qV(r)){case 1:n=_T;break;case 4:n=jV;break;case 16:n=S5;break;case 536870912:n=WV;break;default:n=S5}n=mj(n,aj.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function aj(t,e){if(ew=-1,tw=0,Kt&6)throw Error(Oe(327));var n=t.callbackNode;if(f0()&&t.callbackNode!==n)return null;var r=C5(t,t===Pr?qr:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=H5(t,r);else{e=r;var i=Kt;Kt|=2;var o=cj();(Pr!==t||qr!==e)&&(Ma=null,fp=ir()+500,ff(t,e));do try{Koe();break}catch(l){uj(t,l)}while(!0);UT(),F5.current=o,Kt=i,pr!==null?e=0:(Pr=null,qr=0,e=kr)}if(e!==0){if(e===2&&(i=B8(t),i!==0&&(r=i,e=hS(t,i))),e===1)throw n=ty,ff(t,0),tc(t,r),so(t,ir()),n;if(e===6)tc(t,r);else{if(i=t.current.alternate,!(r&30)&&!Uoe(i)&&(e=H5(t,r),e===2&&(o=B8(t),o!==0&&(r=o,e=hS(t,o))),e===1))throw n=ty,ff(t,0),tc(t,r),so(t,ir()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(Oe(345));case 2:Mh(t,Xi,Ma);break;case 3:if(tc(t,r),(r&130023424)===r&&(e=sM+500-ir(),10<e)){if(C5(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){_i(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=U8(Mh.bind(null,t,Xi,Ma),e);break}Mh(t,Xi,Ma);break;case 4:if(tc(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-Ys(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=ir()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Woe(r/1960))-r,10<r){t.timeoutHandle=U8(Mh.bind(null,t,Xi,Ma),r);break}Mh(t,Xi,Ma);break;case 5:Mh(t,Xi,Ma);break;default:throw Error(Oe(329))}}}return so(t,ir()),t.callbackNode===n?aj.bind(null,t):null}function hS(t,e){var n=Xg;return t.current.memoizedState.isDehydrated&&(ff(t,e).flags|=256),t=H5(t,e),t!==2&&(e=Xi,Xi=n,e!==null&&fS(e)),t}function fS(t){Xi===null?Xi=t:Xi.push.apply(Xi,t)}function Uoe(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!nl(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function tc(t,e){for(e&=~oM,e&=~Mb,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Ys(e),r=1<<n;t[n]=-1,e&=~r}}function x_(t){if(Kt&6)throw Error(Oe(327));f0();var e=C5(t,0);if(!(e&1))return so(t,ir()),null;var n=H5(t,e);if(t.tag!==0&&n===2){var r=B8(t);r!==0&&(e=r,n=hS(t,r))}if(n===1)throw n=ty,ff(t,0),tc(t,e),so(t,ir()),n;if(n===6)throw Error(Oe(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Mh(t,Xi,Ma),so(t,ir()),null}function lM(t,e){var n=Kt;Kt|=1;try{return t(e)}finally{Kt=n,Kt===0&&(fp=ir()+500,kb&&Zc())}}function If(t){cc!==null&&cc.tag===0&&!(Kt&6)&&f0();var e=Kt;Kt|=1;var n=ms.transition,r=rn;try{if(ms.transition=null,rn=1,t)return t()}finally{rn=r,ms.transition=n,Kt=e,!(Kt&6)&&Zc()}}function aM(){To=Jd.current,_n(Jd)}function ff(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,boe(n)),pr!==null)for(n=pr.return;n!==null;){var r=n;switch(HT(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&O5();break;case 3:cp(),_n(io),_n(mi),JT();break;case 5:XT(r);break;case 4:cp();break;case 13:_n(Wn);break;case 19:_n(Wn);break;case 10:qT(r.type._context);break;case 22:case 23:aM()}n=n.return}if(Pr=t,pr=t=Ac(t.current,null),qr=To=e,kr=0,ty=null,oM=Mb=_f=0,Xi=Xg=null,$h!==null){for(e=0;e<$h.length;e++)if(n=$h[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}$h=null}return t}function uj(t,e){do{var n=pr;try{if(UT(),J4.current=z5,B5){for(var r=Gn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}B5=!1}if(Df=0,Mr=xr=Gn=null,Gg=!1,Z1=0,iM.current=null,n===null||n.return===null){kr=1,ty=e,pr=null;break}e:{var o=t,s=n.return,l=n,a=e;if(e=qr,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,c=l,h=c.tag;if(!(c.mode&1)&&(h===0||h===11||h===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var d=l_(s);if(d!==null){d.flags&=-257,a_(d,s,l,o,e),d.mode&1&&s_(o,u,e),e=d,a=u;var p=e.updateQueue;if(p===null){var m=new Set;m.add(a),e.updateQueue=m}else p.add(a);break e}else{if(!(e&1)){s_(o,u,e),uM();break e}a=Error(Oe(426))}}else if(Bn&&l.mode&1){var y=l_(s);if(y!==null){!(y.flags&65536)&&(y.flags|=256),a_(y,s,l,o,e),jT(hp(a,l));break e}}o=a=hp(a,l),kr!==4&&(kr=2),Xg===null?Xg=[o]:Xg.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var g=qH(o,a,e);e_(o,g);break e;case 1:l=a;var v=o.type,w=o.stateNode;if(!(o.flags&128)&&(typeof v.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Tc===null||!Tc.has(w)))){o.flags|=65536,e&=-e,o.lanes|=e;var b=KH(o,l,e);e_(o,b);break e}}o=o.return}while(o!==null)}fj(n)}catch(S){e=S,pr===n&&n!==null&&(pr=n=n.return);continue}break}while(!0)}function cj(){var t=F5.current;return F5.current=z5,t===null?z5:t}function uM(){(kr===0||kr===3||kr===2)&&(kr=4),Pr===null||!(_f&268435455)&&!(Mb&268435455)||tc(Pr,qr)}function H5(t,e){var n=Kt;Kt|=2;var r=cj();(Pr!==t||qr!==e)&&(Ma=null,ff(t,e));do try{qoe();break}catch(i){uj(t,i)}while(!0);if(UT(),Kt=n,F5.current=r,pr!==null)throw Error(Oe(261));return Pr=null,qr=0,kr}function qoe(){for(;pr!==null;)hj(pr)}function Koe(){for(;pr!==null&&!vie();)hj(pr)}function hj(t){var e=pj(t.alternate,t,To);t.memoizedProps=t.pendingProps,e===null?fj(t):pr=e,iM.current=null}function fj(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=$oe(n,e),n!==null){n.flags&=32767,pr=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{kr=6,pr=null;return}}else if(n=Foe(n,e,To),n!==null){pr=n;return}if(e=e.sibling,e!==null){pr=e;return}pr=e=t}while(e!==null);kr===0&&(kr=5)}function Mh(t,e,n){var r=rn,i=ms.transition;try{ms.transition=null,rn=1,Goe(t,e,n,r)}finally{ms.transition=i,rn=r}return null}function Goe(t,e,n,r){do f0();while(cc!==null);if(Kt&6)throw Error(Oe(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Oe(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(Eie(t,o),t===Pr&&(pr=Pr=null,qr=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||N2||(N2=!0,mj(S5,function(){return f0(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=ms.transition,ms.transition=null;var s=rn;rn=1;var l=Kt;Kt|=4,iM.current=null,Hoe(t,n),sj(n,t),poe(j8),T5=!!H8,j8=H8=null,t.current=n,joe(n),wie(),Kt=l,rn=s,ms.transition=o}else t.current=n;if(N2&&(N2=!1,cc=t,V5=i),o=t.pendingLanes,o===0&&(Tc=null),kie(n.stateNode),so(t,ir()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if($5)throw $5=!1,t=uS,uS=null,t;return V5&1&&t.tag!==0&&f0(),o=t.pendingLanes,o&1?t===cS?Jg++:(Jg=0,cS=t):Jg=0,Zc(),null}function f0(){if(cc!==null){var t=qV(V5),e=ms.transition,n=rn;try{if(ms.transition=null,rn=16>t?16:t,cc===null)var r=!1;else{if(t=cc,cc=null,V5=0,Kt&6)throw Error(Oe(331));var i=Kt;for(Kt|=4,Ye=t.current;Ye!==null;){var o=Ye,s=o.child;if(Ye.flags&16){var l=o.deletions;if(l!==null){for(var a=0;a<l.length;a++){var u=l[a];for(Ye=u;Ye!==null;){var c=Ye;switch(c.tag){case 0:case 11:case 15:Yg(8,c,o)}var h=c.child;if(h!==null)h.return=c,Ye=h;else for(;Ye!==null;){c=Ye;var f=c.sibling,d=c.return;if(rj(c),c===u){Ye=null;break}if(f!==null){f.return=d,Ye=f;break}Ye=d}}}var p=o.alternate;if(p!==null){var m=p.child;if(m!==null){p.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(m!==null)}}Ye=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,Ye=s;else e:for(;Ye!==null;){if(o=Ye,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Yg(9,o,o.return)}var g=o.sibling;if(g!==null){g.return=o.return,Ye=g;break e}Ye=o.return}}var v=t.current;for(Ye=v;Ye!==null;){s=Ye;var w=s.child;if(s.subtreeFlags&2064&&w!==null)w.return=s,Ye=w;else e:for(s=v;Ye!==null;){if(l=Ye,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Tb(9,l)}}catch(S){Qn(l,l.return,S)}if(l===s){Ye=null;break e}var b=l.sibling;if(b!==null){b.return=l.return,Ye=b;break e}Ye=l.return}}if(Kt=i,Zc(),jl&&typeof jl.onPostCommitFiberRoot=="function")try{jl.onPostCommitFiberRoot(yb,t)}catch{}r=!0}return r}finally{rn=n,ms.transition=e}}return!1}function b_(t,e,n){e=hp(n,e),e=qH(t,e,1),t=Cc(t,e,1),e=_i(),t!==null&&(Cv(t,1,e),so(t,e))}function Qn(t,e,n){if(t.tag===3)b_(t,t,n);else for(;e!==null;){if(e.tag===3){b_(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Tc===null||!Tc.has(r))){t=hp(n,t),t=KH(e,t,1),e=Cc(e,t,1),t=_i(),e!==null&&(Cv(e,1,t),so(e,t));break}}e=e.return}}function Yoe(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=_i(),t.pingedLanes|=t.suspendedLanes&n,Pr===t&&(qr&n)===n&&(kr===4||kr===3&&(qr&130023424)===qr&&500>ir()-sM?ff(t,0):oM|=n),so(t,e)}function dj(t,e){e===0&&(t.mode&1?(e=T2,T2<<=1,!(T2&130023424)&&(T2=4194304)):e=1);var n=_i();t=au(t,e),t!==null&&(Cv(t,e,n),so(t,n))}function Xoe(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),dj(t,n)}function Joe(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Oe(314))}r!==null&&r.delete(e),dj(t,n)}var pj;pj=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||io.current)eo=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return eo=!1,zoe(t,e,n);eo=!!(t.flags&131072)}else eo=!1,Bn&&e.flags&1048576&&vH(e,_5,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Q4(t,e),t=e.pendingProps;var i=lp(e,mi.current);h0(e,n),i=QT(null,e,r,t,i,n);var o=eM();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,oo(r)?(o=!0,P5(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,GT(e),i.updater=Cb,e.stateNode=i,i._reactInternals=e,Z8(e,r,t,n),e=tS(null,e,r,!0,o,n)):(e.tag=0,Bn&&o&&VT(e),Mi(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Q4(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=Qoe(r),t=$s(r,t),i){case 0:e=eS(null,e,r,t,n);break e;case 1:e=h_(null,e,r,t,n);break e;case 11:e=u_(null,e,r,t,n);break e;case 14:e=c_(null,e,r,$s(r.type,t),n);break e}throw Error(Oe(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:$s(r,i),eS(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:$s(r,i),h_(t,e,r,i,n);case 3:e:{if(JH(e),t===null)throw Error(Oe(387));r=e.pendingProps,o=e.memoizedState,i=o.element,CH(t,e),N5(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=hp(Error(Oe(423)),e),e=f_(t,e,r,n,i);break e}else if(r!==i){i=hp(Error(Oe(424)),e),e=f_(t,e,r,n,i);break e}else for(_o=Sc(e.stateNode.containerInfo.firstChild),Ro=e,Bn=!0,qs=null,n=kH(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ap(),r===i){e=uu(t,e,n);break e}Mi(t,e,r,n)}e=e.child}return e;case 5:return TH(e),t===null&&Y8(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,W8(r,i)?s=null:o!==null&&W8(r,o)&&(e.flags|=32),XH(t,e),Mi(t,e,s,n),e.child;case 6:return t===null&&Y8(e),null;case 13:return ZH(t,e,n);case 4:return YT(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=up(e,null,r,n):Mi(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:$s(r,i),u_(t,e,r,i,n);case 7:return Mi(t,e,e.pendingProps,n),e.child;case 8:return Mi(t,e,e.pendingProps.children,n),e.child;case 12:return Mi(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,bn(I5,r._currentValue),r._currentValue=s,o!==null)if(nl(o.value,s)){if(o.children===i.children&&!io.current){e=uu(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var l=o.dependencies;if(l!==null){s=o.child;for(var a=l.firstContext;a!==null;){if(a.context===r){if(o.tag===1){a=Ya(-1,n&-n),a.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?a.next=a:(a.next=c.next,c.next=a),u.pending=a}}o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),X8(o.return,n,e),l.lanes|=n;break}a=a.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(Oe(341));s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),X8(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}Mi(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,h0(e,n),i=bs(i),r=r(i),e.flags|=1,Mi(t,e,r,n),e.child;case 14:return r=e.type,i=$s(r,e.pendingProps),i=$s(r.type,i),c_(t,e,r,i,n);case 15:return GH(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:$s(r,i),Q4(t,e),e.tag=1,oo(r)?(t=!0,P5(e)):t=!1,h0(e,n),UH(e,r,i),Z8(e,r,i,n),tS(null,e,r,!0,t,n);case 19:return QH(t,e,n);case 22:return YH(t,e,n)}throw Error(Oe(156,e.tag))};function mj(t,e){return HV(t,e)}function Zoe(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function us(t,e,n,r){return new Zoe(t,e,n,r)}function cM(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Qoe(t){if(typeof t=="function")return cM(t)?1:0;if(t!=null){if(t=t.$$typeof,t===OT)return 11;if(t===PT)return 14}return 2}function Ac(t,e){var n=t.alternate;return n===null?(n=us(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function nw(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")cM(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case Vd:return df(n.children,i,o,e);case ET:s=8,i|=8;break;case k8:return t=us(12,n,e,i|2),t.elementType=k8,t.lanes=o,t;case S8:return t=us(13,n,e,i),t.elementType=S8,t.lanes=o,t;case C8:return t=us(19,n,e,i),t.elementType=C8,t.lanes=o,t;case TV:return Ab(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case SV:s=10;break e;case CV:s=9;break e;case OT:s=11;break e;case PT:s=14;break e;case Uu:s=16,r=null;break e}throw Error(Oe(130,t==null?t:typeof t,""))}return e=us(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function df(t,e,n,r){return t=us(7,t,r,e),t.lanes=n,t}function Ab(t,e,n,r){return t=us(22,t,r,e),t.elementType=TV,t.lanes=n,t.stateNode={isHidden:!1},t}function q6(t,e,n){return t=us(6,t,null,e),t.lanes=n,t}function K6(t,e,n){return e=us(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function ese(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=A6(0),this.expirationTimes=A6(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=A6(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function hM(t,e,n,r,i,o,s,l,a){return t=new ese(t,e,n,l,a),e===1?(e=1,o===!0&&(e|=8)):e=0,o=us(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},GT(o),t}function tse(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:$d,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function gj(t){if(!t)return Rc;t=t._reactInternals;e:{if(Zf(t)!==t||t.tag!==1)throw Error(Oe(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(oo(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Oe(171))}if(t.tag===1){var n=t.type;if(oo(n))return gH(t,n,e)}return e}function yj(t,e,n,r,i,o,s,l,a){return t=hM(n,r,!0,t,i,o,s,l,a),t.context=gj(null),n=t.current,r=_i(),i=Mc(n),o=Ya(r,i),o.callback=e??null,Cc(n,o,i),t.current.lanes=i,Cv(t,i,r),so(t,r),t}function Eb(t,e,n,r){var i=e.current,o=_i(),s=Mc(i);return n=gj(n),e.context===null?e.context=n:e.pendingContext=n,e=Ya(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Cc(i,e,s),t!==null&&(Xs(t,i,s,o),X4(t,i,s)),s}function j5(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function k_(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function fM(t,e){k_(t,e),(t=t.alternate)&&k_(t,e)}function nse(){return null}var vj=typeof reportError=="function"?reportError:function(t){console.error(t)};function dM(t){this._internalRoot=t}Ob.prototype.render=dM.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Oe(409));Eb(t,e,null,null)};Ob.prototype.unmount=dM.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;If(function(){Eb(null,t,null,null)}),e[lu]=null}};function Ob(t){this._internalRoot=t}Ob.prototype.unstable_scheduleHydration=function(t){if(t){var e=YV();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ec.length&&e!==0&&e<ec[n].priority;n++);ec.splice(n,0,t),n===0&&JV(t)}};function pM(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Pb(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function S_(){}function rse(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=j5(s);o.call(u)}}var s=yj(e,r,t,0,null,!1,!1,"",S_);return t._reactRootContainer=s,t[lu]=s.current,K1(t.nodeType===8?t.parentNode:t),If(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var u=j5(a);l.call(u)}}var a=hM(t,0,!1,null,null,!1,!1,"",S_);return t._reactRootContainer=a,t[lu]=a.current,K1(t.nodeType===8?t.parentNode:t),If(function(){Eb(e,a,n,r)}),a}function Db(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var l=i;i=function(){var a=j5(s);l.call(a)}}Eb(e,s,t,i)}else s=rse(n,e,t,i,r);return j5(s)}KV=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Qm(e.pendingLanes);n!==0&&(IT(e,n|1),so(e,ir()),!(Kt&6)&&(fp=ir()+500,Zc()))}break;case 13:If(function(){var r=au(t,1);if(r!==null){var i=_i();Xs(r,t,1,i)}}),fM(t,1)}};RT=function(t){if(t.tag===13){var e=au(t,134217728);if(e!==null){var n=_i();Xs(e,t,134217728,n)}fM(t,134217728)}};GV=function(t){if(t.tag===13){var e=Mc(t),n=au(t,e);if(n!==null){var r=_i();Xs(n,t,e,r)}fM(t,e)}};YV=function(){return rn};XV=function(t,e){var n=rn;try{return rn=t,e()}finally{rn=n}};R8=function(t,e,n){switch(e){case"input":if(A8(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=bb(r);if(!i)throw Error(Oe(90));AV(r),A8(r,i)}}}break;case"textarea":OV(t,n);break;case"select":e=n.value,e!=null&&l0(t,!!n.multiple,e,!1)}};LV=lM;BV=If;var ise={usingClientEntryPoint:!1,Events:[Mv,Ud,bb,RV,NV,lM]},Am={findFiberByHostInstance:Fh,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ose={bundleType:Am.bundleType,version:Am.version,rendererPackageName:Am.rendererPackageName,rendererConfig:Am.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:xu.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=$V(t),t===null?null:t.stateNode},findFiberByHostInstance:Am.findFiberByHostInstance||nse,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var L2=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!L2.isDisabled&&L2.supportsFiber)try{yb=L2.inject(ose),jl=L2}catch{}}Vo.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ise;Vo.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!pM(e))throw Error(Oe(200));return tse(t,e,null,n)};Vo.createRoot=function(t,e){if(!pM(t))throw Error(Oe(299));var n=!1,r="",i=vj;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=hM(t,1,!1,null,null,n,!1,r,i),t[lu]=e.current,K1(t.nodeType===8?t.parentNode:t),new dM(e)};Vo.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Oe(188)):(t=Object.keys(t).join(","),Error(Oe(268,t)));return t=$V(e),t=t===null?null:t.stateNode,t};Vo.flushSync=function(t){return If(t)};Vo.hydrate=function(t,e,n){if(!Pb(e))throw Error(Oe(200));return Db(null,t,e,!0,n)};Vo.hydrateRoot=function(t,e,n){if(!pM(t))throw Error(Oe(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=vj;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=yj(e,null,t,1,n??null,i,!1,o,s),t[lu]=e.current,K1(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Ob(e)};Vo.render=function(t,e,n){if(!Pb(e))throw Error(Oe(200));return Db(null,t,e,!1,n)};Vo.unmountComponentAtNode=function(t){if(!Pb(t))throw Error(Oe(40));return t._reactRootContainer?(If(function(){Db(null,null,t,!1,function(){t._reactRootContainer=null,t[lu]=null})}),!0):!1};Vo.unstable_batchedUpdates=lM;Vo.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Pb(n))throw Error(Oe(200));if(t==null||t._reactInternals===void 0)throw Error(Oe(38));return Db(t,e,n,!1,r)};Vo.version="18.3.1-next-f1338f8080-20240426";function wj(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(wj)}catch(t){console.error(t)}}wj(),wV.exports=Vo;var sse=wV.exports,C_=sse;x8.createRoot=C_.createRoot,x8.hydrateRoot=C_.hydrateRoot;/**
 * @remix-run/router v1.19.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ny(){return ny=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ny.apply(this,arguments)}var Hh;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Hh||(Hh={}));const T_="popstate";function lse(t){t===void 0&&(t={});function e(r,i){let{pathname:o,search:s,hash:l}=r.location;return dS("",{pathname:o,search:s,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:bj(i)}return use(e,n,null,t)}function ui(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function xj(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function ase(){return Math.random().toString(36).substr(2,8)}function M_(t,e){return{usr:t.state,key:t.key,idx:e}}function dS(t,e,n,r){return n===void 0&&(n=null),ny({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ev(e):e,{state:n,key:e&&e.key||r||ase()})}function bj(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Ev(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function use(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,l=Hh.Pop,a=null,u=c();u==null&&(u=0,s.replaceState(ny({},s.state,{idx:u}),""));function c(){return(s.state||{idx:null}).idx}function h(){l=Hh.Pop;let y=c(),g=y==null?null:y-u;u=y,a&&a({action:l,location:m.location,delta:g})}function f(y,g){l=Hh.Push;let v=dS(m.location,y,g);u=c()+1;let w=M_(v,u),b=m.createHref(v);try{s.pushState(w,"",b)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;i.location.assign(b)}o&&a&&a({action:l,location:m.location,delta:1})}function d(y,g){l=Hh.Replace;let v=dS(m.location,y,g);u=c();let w=M_(v,u),b=m.createHref(v);s.replaceState(w,"",b),o&&a&&a({action:l,location:m.location,delta:0})}function p(y){let g=i.location.origin!=="null"?i.location.origin:i.location.href,v=typeof y=="string"?y:bj(y);return v=v.replace(/ $/,"%20"),ui(g,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,g)}let m={get action(){return l},get location(){return t(i,s)},listen(y){if(a)throw new Error("A history only accepts one active listener");return i.addEventListener(T_,h),a=y,()=>{i.removeEventListener(T_,h),a=null}},createHref(y){return e(i,y)},createURL:p,encodeLocation(y){let g=p(y);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:f,replace:d,go(y){return s.go(y)}};return m}var A_;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(A_||(A_={}));function cse(t,e,n){return n===void 0&&(n="/"),hse(t,e,n,!1)}function hse(t,e,n,r){let i=typeof e=="string"?Ev(e):e,o=Cj(i.pathname||"/",n);if(o==null)return null;let s=kj(t);fse(s);let l=null;for(let a=0;l==null&&a<s.length;++a){let u=Sse(o);l=bse(s[a],u,r)}return l}function kj(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,s,l)=>{let a={relativePath:l===void 0?o.path||"":l,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};a.relativePath.startsWith("/")&&(ui(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),a.relativePath=a.relativePath.slice(r.length));let u=pf([r,a.relativePath]),c=n.concat(a);o.children&&o.children.length>0&&(ui(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),kj(o.children,e,c,u)),!(o.path==null&&!o.index)&&e.push({path:u,score:wse(u,o.index),routesMeta:c})};return t.forEach((o,s)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))i(o,s);else for(let a of Sj(o.path))i(o,s,a)}),e}function Sj(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=Sj(r.join("/")),l=[];return l.push(...s.map(a=>a===""?o:[o,a].join("/"))),i&&l.push(...s),l.map(a=>t.startsWith("/")&&a===""?"/":a)}function fse(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:xse(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const dse=/^:[\w-]+$/,pse=3,mse=2,gse=1,yse=10,vse=-2,E_=t=>t==="*";function wse(t,e){let n=t.split("/"),r=n.length;return n.some(E_)&&(r+=vse),e&&(r+=mse),n.filter(i=>!E_(i)).reduce((i,o)=>i+(dse.test(o)?pse:o===""?gse:yse),r)}function xse(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function bse(t,e,n){let{routesMeta:r}=t,i={},o="/",s=[];for(let l=0;l<r.length;++l){let a=r[l],u=l===r.length-1,c=o==="/"?e:e.slice(o.length)||"/",h=O_({path:a.relativePath,caseSensitive:a.caseSensitive,end:u},c),f=a.route;if(!h&&u&&n&&!r[r.length-1].route.index&&(h=O_({path:a.relativePath,caseSensitive:a.caseSensitive,end:!1},c)),!h)return null;Object.assign(i,h.params),s.push({params:i,pathname:pf([o,h.pathname]),pathnameBase:Ase(pf([o,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(o=pf([o,h.pathnameBase]))}return s}function O_(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=kse(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((u,c,h)=>{let{paramName:f,isOptional:d}=c;if(f==="*"){let m=l[h]||"";s=o.slice(0,o.length-m.length).replace(/(.)\/+$/,"$1")}const p=l[h];return d&&!p?u[f]=void 0:u[f]=(p||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:s,pattern:t}}function kse(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),xj(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,l,a)=>(r.push({paramName:l,isOptional:a!=null}),a?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function Sse(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return xj(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Cj(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function Cse(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Ev(t):t;return{pathname:n?n.startsWith("/")?n:Tse(n,e):e,search:Ese(r),hash:Ose(i)}}function Tse(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function G6(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Mse(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Tj(t,e){let n=Mse(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Mj(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Ev(t):(i=ny({},t),ui(!i.pathname||!i.pathname.includes("?"),G6("?","pathname","search",i)),ui(!i.pathname||!i.pathname.includes("#"),G6("#","pathname","hash",i)),ui(!i.search||!i.search.includes("#"),G6("#","search","hash",i)));let o=t===""||i.pathname==="",s=o?"/":i.pathname,l;if(s==null)l=n;else{let h=e.length-1;if(!r&&s.startsWith("..")){let f=s.split("/");for(;f[0]==="..";)f.shift(),h-=1;i.pathname=f.join("/")}l=h>=0?e[h]:"/"}let a=Cse(i,l),u=s&&s!=="/"&&s.endsWith("/"),c=(o||s===".")&&n.endsWith("/");return!a.pathname.endsWith("/")&&(u||c)&&(a.pathname+="/"),a}const pf=t=>t.join("/").replace(/\/\/+/g,"/"),Ase=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Ese=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Ose=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Pse(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Aj=["post","put","patch","delete"];new Set(Aj);const Dse=["get",...Aj];new Set(Dse);/**
 * React Router v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function W5(){return W5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},W5.apply(this,arguments)}const mM=I.createContext(null),_se=I.createContext(null),Ov=I.createContext(null),gM=I.createContext(null),Qf=I.createContext({outlet:null,matches:[],isDataRoute:!1}),Ej=I.createContext(null);function Pv(){return I.useContext(gM)!=null}function yM(){return Pv()||ui(!1),I.useContext(gM).location}function Oj(t){I.useContext(Ov).static||I.useLayoutEffect(t)}function Ise(){let{isDataRoute:t}=I.useContext(Qf);return t?qse():Rse()}function Rse(){Pv()||ui(!1);let t=I.useContext(mM),{basename:e,future:n,navigator:r}=I.useContext(Ov),{matches:i}=I.useContext(Qf),{pathname:o}=yM(),s=JSON.stringify(Tj(i,n.v7_relativeSplatPath)),l=I.useRef(!1);return Oj(()=>{l.current=!0}),I.useCallback(function(u,c){if(c===void 0&&(c={}),!l.current)return;if(typeof u=="number"){r.go(u);return}let h=Mj(u,JSON.parse(s),o,c.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:pf([e,h.pathname])),(c.replace?r.replace:r.push)(h,c.state,c)},[e,r,s,o,t])}function Nse(t,e){return Lse(t)}function Lse(t,e,n,r){Pv()||ui(!1);let{navigator:i}=I.useContext(Ov),{matches:o}=I.useContext(Qf),s=o[o.length-1],l=s?s.params:{};s&&s.pathname;let a=s?s.pathnameBase:"/";s&&s.route;let u=yM(),c;c=u;let h=c.pathname||"/",f=h;if(a!=="/"){let m=a.replace(/^\//,"").split("/");f="/"+h.replace(/^\//,"").split("/").slice(m.length).join("/")}let d=cse(t,{pathname:f});return Vse(d&&d.map(m=>Object.assign({},m,{params:Object.assign({},l,m.params),pathname:pf([a,i.encodeLocation?i.encodeLocation(m.pathname).pathname:m.pathname]),pathnameBase:m.pathnameBase==="/"?a:pf([a,i.encodeLocation?i.encodeLocation(m.pathnameBase).pathname:m.pathnameBase])})),o,n,r)}function Bse(){let t=Use(),e=Pse(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return I.createElement(I.Fragment,null,I.createElement("h2",null,"Unexpected Application Error!"),I.createElement("h3",{style:{fontStyle:"italic"}},e),n?I.createElement("pre",{style:i},n):null,null)}const zse=I.createElement(Bse,null);class Fse extends I.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?I.createElement(Qf.Provider,{value:this.props.routeContext},I.createElement(Ej.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function $se(t){let{routeContext:e,match:n,children:r}=t,i=I.useContext(mM);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),I.createElement(Qf.Provider,{value:e},r)}function Vse(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var o;if(!n)return null;if(n.errors)t=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,l=(i=n)==null?void 0:i.errors;if(l!=null){let c=s.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);c>=0||ui(!1),s=s.slice(0,Math.min(s.length,c+1))}let a=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<s.length;c++){let h=s[c];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=c),h.route.id){let{loaderData:f,errors:d}=n,p=h.route.loader&&f[h.route.id]===void 0&&(!d||d[h.route.id]===void 0);if(h.route.lazy||p){a=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}return s.reduceRight((c,h,f)=>{let d,p=!1,m=null,y=null;n&&(d=l&&h.route.id?l[h.route.id]:void 0,m=h.route.errorElement||zse,a&&(u<0&&f===0?(Kse("route-fallback"),p=!0,y=null):u===f&&(p=!0,y=h.route.hydrateFallbackElement||null)));let g=e.concat(s.slice(0,f+1)),v=()=>{let w;return d?w=m:p?w=y:h.route.Component?w=I.createElement(h.route.Component,null):h.route.element?w=h.route.element:w=c,I.createElement($se,{match:h,routeContext:{outlet:c,matches:g,isDataRoute:n!=null},children:w})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?I.createElement(Fse,{location:n.location,revalidation:n.revalidation,component:m,error:d,children:v(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):v()},null)}var Pj=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Pj||{}),U5=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(U5||{});function Hse(t){let e=I.useContext(mM);return e||ui(!1),e}function jse(t){let e=I.useContext(_se);return e||ui(!1),e}function Wse(t){let e=I.useContext(Qf);return e||ui(!1),e}function Dj(t){let e=Wse(),n=e.matches[e.matches.length-1];return n.route.id||ui(!1),n.route.id}function Use(){var t;let e=I.useContext(Ej),n=jse(U5.UseRouteError),r=Dj(U5.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function qse(){let{router:t}=Hse(Pj.UseNavigateStable),e=Dj(U5.UseNavigateStable),n=I.useRef(!1);return Oj(()=>{n.current=!0}),I.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,W5({fromRouteId:e},o)))},[t,e])}const P_={};function Kse(t,e,n){P_[t]||(P_[t]=!0)}function Gse(t){let{to:e,replace:n,state:r,relative:i}=t;Pv()||ui(!1);let{future:o,static:s}=I.useContext(Ov),{matches:l}=I.useContext(Qf),{pathname:a}=yM(),u=Ise(),c=Mj(e,Tj(l,o.v7_relativeSplatPath),a,i==="path"),h=JSON.stringify(c);return I.useEffect(()=>u(JSON.parse(h),{replace:n,state:r,relative:i}),[u,h,i,n,r]),null}function Yse(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Hh.Pop,navigator:o,static:s=!1,future:l}=t;Pv()&&ui(!1);let a=e.replace(/^\/*/,"/"),u=I.useMemo(()=>({basename:a,navigator:o,static:s,future:W5({v7_relativeSplatPath:!1},l)}),[a,l,o,s]);typeof r=="string"&&(r=Ev(r));let{pathname:c="/",search:h="",hash:f="",state:d=null,key:p="default"}=r,m=I.useMemo(()=>{let y=Cj(c,a);return y==null?null:{location:{pathname:y,search:h,hash:f,state:d,key:p},navigationType:i}},[a,c,h,f,d,p,i]);return m==null?null:I.createElement(Ov.Provider,{value:u},I.createElement(gM.Provider,{children:n,value:m}))}new Promise(()=>{});/**
 * React Router DOM v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const Xse="6";try{window.__reactRouterVersion=Xse}catch{}const Jse="startTransition",D_=Yre[Jse];function Zse(t){let{basename:e,children:n,future:r,window:i}=t,o=I.useRef();o.current==null&&(o.current=lse({window:i,v5Compat:!0}));let s=o.current,[l,a]=I.useState({action:s.action,location:s.location}),{v7_startTransition:u}=r||{},c=I.useCallback(h=>{u&&D_?D_(()=>a(h)):a(h)},[a,u]);return I.useLayoutEffect(()=>s.listen(c),[s,c]),I.createElement(Yse,{basename:e,children:n,location:l.location,navigationType:l.action,navigator:s,future:r})}var __;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(__||(__={}));var I_;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(I_||(I_={}));const _j=I.createContext(void 0),Qse=({children:t})=>{const[e,n]=I.useState(null),[r,i]=I.useState([]),[o,s]=I.useState({status:"idle"}),l=I.useMemo(()=>o.status==="processing",[o.status]),a=I.useMemo(()=>o.status==="success",[o.status]),u=I.useMemo(()=>o.status==="failure",[o.status]);I.useEffect(()=>{const f=new Worker(new URL("/assets/yara_worker-C7aLyzgM.js",import.meta.url));return f.onmessage=d=>{const{status:p,matchedRuleNames:m,message:y}=d.data;p==="success"?(i(m),s({status:"success",message:""})):p==="failure"&&(i([]),s({status:"failure",message:y}))},f.onerror=d=>{i([]),s({status:"failure",message:d.message})},n(f),()=>{f.terminate()}},[]);const c=I.useCallback((f,d)=>{if(s({status:"processing"}),e){const p=d.slice(0);e.postMessage({binaryData:p,inputRule:f},[p.buffer])}},[e,s]),h=I.useMemo(()=>({worker:e,result:r,processInfo:o,setProcessInfo:s,isProcessing:l,isSuccess:a,isFailure:u,testYara:c}),[e,r,o,l,a,u,c]);return P.jsx(_j.Provider,{value:h,children:t})},vM=()=>{const t=I.useContext(_j);if(!t)throw new Error("useProcess must be used within a ProcessProvider");return t};var to=function(){return to=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},to.apply(this,arguments)};function q5(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}var En="-ms-",Zg="-moz-",Qt="-webkit-",Ij="comm",_b="rule",wM="decl",ele="@import",Rj="@keyframes",tle="@layer",Nj=Math.abs,xM=String.fromCharCode,pS=Object.assign;function nle(t,e){return Ar(t,0)^45?(((e<<2^Ar(t,0))<<2^Ar(t,1))<<2^Ar(t,2))<<2^Ar(t,3):0}function Lj(t){return t.trim()}function Aa(t,e){return(t=e.exec(t))?t[0]:t}function Dt(t,e,n){return t.replace(e,n)}function rw(t,e,n){return t.indexOf(e,n)}function Ar(t,e){return t.charCodeAt(e)|0}function dp(t,e,n){return t.slice(e,n)}function Pl(t){return t.length}function Bj(t){return t.length}function tg(t,e){return e.push(t),t}function rle(t,e){return t.map(e).join("")}function R_(t,e){return t.filter(function(n){return!Aa(n,e)})}var Ib=1,pp=1,zj=0,Ss=0,dr=0,Wp="";function Rb(t,e,n,r,i,o,s,l){return{value:t,root:e,parent:n,type:r,props:i,children:o,line:Ib,column:pp,length:s,return:"",siblings:l}}function Fu(t,e){return pS(Rb("",null,null,"",null,null,0,t.siblings),t,{length:-t.length},e)}function pd(t){for(;t.root;)t=Fu(t.root,{children:[t]});tg(t,t.siblings)}function ile(){return dr}function ole(){return dr=Ss>0?Ar(Wp,--Ss):0,pp--,dr===10&&(pp=1,Ib--),dr}function Js(){return dr=Ss<zj?Ar(Wp,Ss++):0,pp++,dr===10&&(pp=1,Ib++),dr}function mf(){return Ar(Wp,Ss)}function iw(){return Ss}function Nb(t,e){return dp(Wp,t,e)}function mS(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function sle(t){return Ib=pp=1,zj=Pl(Wp=t),Ss=0,[]}function lle(t){return Wp="",t}function Y6(t){return Lj(Nb(Ss-1,gS(t===91?t+2:t===40?t+1:t)))}function ale(t){for(;(dr=mf())&&dr<33;)Js();return mS(t)>2||mS(dr)>3?"":" "}function ule(t,e){for(;--e&&Js()&&!(dr<48||dr>102||dr>57&&dr<65||dr>70&&dr<97););return Nb(t,iw()+(e<6&&mf()==32&&Js()==32))}function gS(t){for(;Js();)switch(dr){case t:return Ss;case 34:case 39:t!==34&&t!==39&&gS(dr);break;case 40:t===41&&gS(t);break;case 92:Js();break}return Ss}function cle(t,e){for(;Js()&&t+dr!==57;)if(t+dr===84&&mf()===47)break;return"/*"+Nb(e,Ss-1)+"*"+xM(t===47?t:Js())}function hle(t){for(;!mS(mf());)Js();return Nb(t,Ss)}function fle(t){return lle(ow("",null,null,null,[""],t=sle(t),0,[0],t))}function ow(t,e,n,r,i,o,s,l,a){for(var u=0,c=0,h=s,f=0,d=0,p=0,m=1,y=1,g=1,v=0,w="",b=i,S=o,k=r,T=w;y;)switch(p=v,v=Js()){case 40:if(p!=108&&Ar(T,h-1)==58){rw(T+=Dt(Y6(v),"&","&\f"),"&\f",Nj(u?l[u-1]:0))!=-1&&(g=-1);break}case 34:case 39:case 91:T+=Y6(v);break;case 9:case 10:case 13:case 32:T+=ale(p);break;case 92:T+=ule(iw()-1,7);continue;case 47:switch(mf()){case 42:case 47:tg(dle(cle(Js(),iw()),e,n,a),a);break;default:T+="/"}break;case 123*m:l[u++]=Pl(T)*g;case 125*m:case 59:case 0:switch(v){case 0:case 125:y=0;case 59+c:g==-1&&(T=Dt(T,/\f/g,"")),d>0&&Pl(T)-h&&tg(d>32?L_(T+";",r,n,h-1,a):L_(Dt(T," ","")+";",r,n,h-2,a),a);break;case 59:T+=";";default:if(tg(k=N_(T,e,n,u,c,i,l,w,b=[],S=[],h,o),o),v===123)if(c===0)ow(T,e,k,k,b,o,h,l,S);else switch(f===99&&Ar(T,3)===110?100:f){case 100:case 108:case 109:case 115:ow(t,k,k,r&&tg(N_(t,k,k,0,0,i,l,w,i,b=[],h,S),S),i,S,h,l,r?b:S);break;default:ow(T,k,k,k,[""],S,0,l,S)}}u=c=d=0,m=g=1,w=T="",h=s;break;case 58:h=1+Pl(T),d=p;default:if(m<1){if(v==123)--m;else if(v==125&&m++==0&&ole()==125)continue}switch(T+=xM(v),v*m){case 38:g=c>0?1:(T+="\f",-1);break;case 44:l[u++]=(Pl(T)-1)*g,g=1;break;case 64:mf()===45&&(T+=Y6(Js())),f=mf(),c=h=Pl(w=T+=hle(iw())),v++;break;case 45:p===45&&Pl(T)==2&&(m=0)}}return o}function N_(t,e,n,r,i,o,s,l,a,u,c,h){for(var f=i-1,d=i===0?o:[""],p=Bj(d),m=0,y=0,g=0;m<r;++m)for(var v=0,w=dp(t,f+1,f=Nj(y=s[m])),b=t;v<p;++v)(b=Lj(y>0?d[v]+" "+w:Dt(w,/&\f/g,d[v])))&&(a[g++]=b);return Rb(t,e,n,i===0?_b:l,a,u,c,h)}function dle(t,e,n,r){return Rb(t,e,n,Ij,xM(ile()),dp(t,2,-2),0,r)}function L_(t,e,n,r,i){return Rb(t,e,n,wM,dp(t,0,r),dp(t,r+1,-1),r,i)}function Fj(t,e,n){switch(nle(t,e)){case 5103:return Qt+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Qt+t+t;case 4789:return Zg+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Qt+t+Zg+t+En+t+t;case 5936:switch(Ar(t,e+11)){case 114:return Qt+t+En+Dt(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Qt+t+En+Dt(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Qt+t+En+Dt(t,/[svh]\w+-[tblr]{2}/,"lr")+t}case 6828:case 4268:case 2903:return Qt+t+En+t+t;case 6165:return Qt+t+En+"flex-"+t+t;case 5187:return Qt+t+Dt(t,/(\w+).+(:[^]+)/,Qt+"box-$1$2"+En+"flex-$1$2")+t;case 5443:return Qt+t+En+"flex-item-"+Dt(t,/flex-|-self/g,"")+(Aa(t,/flex-|baseline/)?"":En+"grid-row-"+Dt(t,/flex-|-self/g,""))+t;case 4675:return Qt+t+En+"flex-line-pack"+Dt(t,/align-content|flex-|-self/g,"")+t;case 5548:return Qt+t+En+Dt(t,"shrink","negative")+t;case 5292:return Qt+t+En+Dt(t,"basis","preferred-size")+t;case 6060:return Qt+"box-"+Dt(t,"-grow","")+Qt+t+En+Dt(t,"grow","positive")+t;case 4554:return Qt+Dt(t,/([^-])(transform)/g,"$1"+Qt+"$2")+t;case 6187:return Dt(Dt(Dt(t,/(zoom-|grab)/,Qt+"$1"),/(image-set)/,Qt+"$1"),t,"")+t;case 5495:case 3959:return Dt(t,/(image-set\([^]*)/,Qt+"$1$`$1");case 4968:return Dt(Dt(t,/(.+:)(flex-)?(.*)/,Qt+"box-pack:$3"+En+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Qt+t+t;case 4200:if(!Aa(t,/flex-|baseline/))return En+"grid-column-align"+dp(t,e)+t;break;case 2592:case 3360:return En+Dt(t,"template-","")+t;case 4384:case 3616:return n&&n.some(function(r,i){return e=i,Aa(r.props,/grid-\w+-end/)})?~rw(t+(n=n[e].value),"span",0)?t:En+Dt(t,"-start","")+t+En+"grid-row-span:"+(~rw(n,"span",0)?Aa(n,/\d+/):+Aa(n,/\d+/)-+Aa(t,/\d+/))+";":En+Dt(t,"-start","")+t;case 4896:case 4128:return n&&n.some(function(r){return Aa(r.props,/grid-\w+-start/)})?t:En+Dt(Dt(t,"-end","-span"),"span ","")+t;case 4095:case 3583:case 4068:case 2532:return Dt(t,/(.+)-inline(.+)/,Qt+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Pl(t)-1-e>6)switch(Ar(t,e+1)){case 109:if(Ar(t,e+4)!==45)break;case 102:return Dt(t,/(.+:)(.+)-([^]+)/,"$1"+Qt+"$2-$3$1"+Zg+(Ar(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~rw(t,"stretch",0)?Fj(Dt(t,"stretch","fill-available"),e,n)+t:t}break;case 5152:case 5920:return Dt(t,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(r,i,o,s,l,a,u){return En+i+":"+o+u+(s?En+i+"-span:"+(l?a:+a-+o)+u:"")+t});case 4949:if(Ar(t,e+6)===121)return Dt(t,":",":"+Qt)+t;break;case 6444:switch(Ar(t,Ar(t,14)===45?18:11)){case 120:return Dt(t,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+Qt+(Ar(t,14)===45?"inline-":"")+"box$3$1"+Qt+"$2$3$1"+En+"$2box$3")+t;case 100:return Dt(t,":",":"+En)+t}break;case 5719:case 2647:case 2135:case 3927:case 2391:return Dt(t,"scroll-","scroll-snap-")+t}return t}function K5(t,e){for(var n="",r=0;r<t.length;r++)n+=e(t[r],r,t,e)||"";return n}function ple(t,e,n,r){switch(t.type){case tle:if(t.children.length)break;case ele:case wM:return t.return=t.return||t.value;case Ij:return"";case Rj:return t.return=t.value+"{"+K5(t.children,r)+"}";case _b:if(!Pl(t.value=t.props.join(",")))return""}return Pl(n=K5(t.children,r))?t.return=t.value+"{"+n+"}":""}function mle(t){var e=Bj(t);return function(n,r,i,o){for(var s="",l=0;l<e;l++)s+=t[l](n,r,i,o)||"";return s}}function gle(t){return function(e){e.root||(e=e.return)&&t(e)}}function yle(t,e,n,r){if(t.length>-1&&!t.return)switch(t.type){case wM:t.return=Fj(t.value,t.length,n);return;case Rj:return K5([Fu(t,{value:Dt(t.value,"@","@"+Qt)})],r);case _b:if(t.length)return rle(n=t.props,function(i){switch(Aa(i,r=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":pd(Fu(t,{props:[Dt(i,/:(read-\w+)/,":"+Zg+"$1")]})),pd(Fu(t,{props:[i]})),pS(t,{props:R_(n,r)});break;case"::placeholder":pd(Fu(t,{props:[Dt(i,/:(plac\w+)/,":"+Qt+"input-$1")]})),pd(Fu(t,{props:[Dt(i,/:(plac\w+)/,":"+Zg+"$1")]})),pd(Fu(t,{props:[Dt(i,/:(plac\w+)/,En+"input-$1")]})),pd(Fu(t,{props:[i]})),pS(t,{props:R_(n,r)});break}return""})}}var vle={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},So={},mp=typeof process<"u"&&So!==void 0&&(So.REACT_APP_SC_ATTR||So.SC_ATTR)||"data-styled",$j="active",Vj="data-styled-version",Lb="6.1.13",bM=`/*!sc*/
`,G5=typeof window<"u"&&"HTMLElement"in window,wle=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&So!==void 0&&So.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&So.REACT_APP_SC_DISABLE_SPEEDY!==""?So.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&So.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&So!==void 0&&So.SC_DISABLE_SPEEDY!==void 0&&So.SC_DISABLE_SPEEDY!==""&&So.SC_DISABLE_SPEEDY!=="false"&&So.SC_DISABLE_SPEEDY),Bb=Object.freeze([]),gp=Object.freeze({});function xle(t,e,n){return n===void 0&&(n=gp),t.theme!==n.theme&&t.theme||e||n.theme}var Hj=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),ble=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,kle=/(^-|-$)/g;function B_(t){return t.replace(ble,"-").replace(kle,"")}var Sle=/(a)(d)/gi,B2=52,z_=function(t){return String.fromCharCode(t+(t>25?39:97))};function yS(t){var e,n="";for(e=Math.abs(t);e>B2;e=e/B2|0)n=z_(e%B2)+n;return(z_(e%B2)+n).replace(Sle,"$1-$2")}var X6,jj=5381,Zd=function(t,e){for(var n=e.length;n;)t=33*t^e.charCodeAt(--n);return t},Wj=function(t){return Zd(jj,t)};function Cle(t){return yS(Wj(t)>>>0)}function Tle(t){return t.displayName||t.name||"Component"}function J6(t){return typeof t=="string"&&!0}var Uj=typeof Symbol=="function"&&Symbol.for,qj=Uj?Symbol.for("react.memo"):60115,Mle=Uj?Symbol.for("react.forward_ref"):60112,Ale={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},Ele={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Kj={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Ole=((X6={})[Mle]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},X6[qj]=Kj,X6);function F_(t){return("type"in(e=t)&&e.type.$$typeof)===qj?Kj:"$$typeof"in t?Ole[t.$$typeof]:Ale;var e}var Ple=Object.defineProperty,Dle=Object.getOwnPropertyNames,$_=Object.getOwnPropertySymbols,_le=Object.getOwnPropertyDescriptor,Ile=Object.getPrototypeOf,V_=Object.prototype;function Gj(t,e,n){if(typeof e!="string"){if(V_){var r=Ile(e);r&&r!==V_&&Gj(t,r,n)}var i=Dle(e);$_&&(i=i.concat($_(e)));for(var o=F_(t),s=F_(e),l=0;l<i.length;++l){var a=i[l];if(!(a in Ele||n&&n[a]||s&&a in s||o&&a in o)){var u=_le(e,a);try{Ple(t,a,u)}catch{}}}}return t}function yp(t){return typeof t=="function"}function kM(t){return typeof t=="object"&&"styledComponentId"in t}function jh(t,e){return t&&e?"".concat(t," ").concat(e):t||e||""}function H_(t,e){if(t.length===0)return"";for(var n=t[0],r=1;r<t.length;r++)n+=t[r];return n}function ry(t){return t!==null&&typeof t=="object"&&t.constructor.name===Object.name&&!("props"in t&&t.$$typeof)}function vS(t,e,n){if(n===void 0&&(n=!1),!n&&!ry(t)&&!Array.isArray(t))return e;if(Array.isArray(e))for(var r=0;r<e.length;r++)t[r]=vS(t[r],e[r]);else if(ry(e))for(var r in e)t[r]=vS(t[r],e[r]);return t}function SM(t,e){Object.defineProperty(t,"toString",{value:e})}function Dv(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(t," for more information.").concat(e.length>0?" Args: ".concat(e.join(", ")):""))}var Rle=function(){function t(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return t.prototype.indexOfGroup=function(e){for(var n=0,r=0;r<e;r++)n+=this.groupSizes[r];return n},t.prototype.insertRules=function(e,n){if(e>=this.groupSizes.length){for(var r=this.groupSizes,i=r.length,o=i;e>=o;)if((o<<=1)<0)throw Dv(16,"".concat(e));this.groupSizes=new Uint32Array(o),this.groupSizes.set(r),this.length=o;for(var s=i;s<o;s++)this.groupSizes[s]=0}for(var l=this.indexOfGroup(e+1),a=(s=0,n.length);s<a;s++)this.tag.insertRule(l,n[s])&&(this.groupSizes[e]++,l++)},t.prototype.clearGroup=function(e){if(e<this.length){var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n;this.groupSizes[e]=0;for(var o=r;o<i;o++)this.tag.deleteRule(r)}},t.prototype.getGroup=function(e){var n="";if(e>=this.length||this.groupSizes[e]===0)return n;for(var r=this.groupSizes[e],i=this.indexOfGroup(e),o=i+r,s=i;s<o;s++)n+="".concat(this.tag.getRule(s)).concat(bM);return n},t}(),sw=new Map,Y5=new Map,lw=1,z2=function(t){if(sw.has(t))return sw.get(t);for(;Y5.has(lw);)lw++;var e=lw++;return sw.set(t,e),Y5.set(e,t),e},Nle=function(t,e){lw=e+1,sw.set(t,e),Y5.set(e,t)},Lle="style[".concat(mp,"][").concat(Vj,'="').concat(Lb,'"]'),Ble=new RegExp("^".concat(mp,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),zle=function(t,e,n){for(var r,i=n.split(","),o=0,s=i.length;o<s;o++)(r=i[o])&&t.registerName(e,r)},Fle=function(t,e){for(var n,r=((n=e.textContent)!==null&&n!==void 0?n:"").split(bM),i=[],o=0,s=r.length;o<s;o++){var l=r[o].trim();if(l){var a=l.match(Ble);if(a){var u=0|parseInt(a[1],10),c=a[2];u!==0&&(Nle(c,u),zle(t,c,a[3]),t.getTag().insertRules(u,i)),i.length=0}else i.push(l)}}},j_=function(t){for(var e=document.querySelectorAll(Lle),n=0,r=e.length;n<r;n++){var i=e[n];i&&i.getAttribute(mp)!==$j&&(Fle(t,i),i.parentNode&&i.parentNode.removeChild(i))}};function $le(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var Yj=function(t){var e=document.head,n=t||e,r=document.createElement("style"),i=function(l){var a=Array.from(l.querySelectorAll("style[".concat(mp,"]")));return a[a.length-1]}(n),o=i!==void 0?i.nextSibling:null;r.setAttribute(mp,$j),r.setAttribute(Vj,Lb);var s=$le();return s&&r.setAttribute("nonce",s),n.insertBefore(r,o),r},Vle=function(){function t(e){this.element=Yj(e),this.element.appendChild(document.createTextNode("")),this.sheet=function(n){if(n.sheet)return n.sheet;for(var r=document.styleSheets,i=0,o=r.length;i<o;i++){var s=r[i];if(s.ownerNode===n)return s}throw Dv(17)}(this.element),this.length=0}return t.prototype.insertRule=function(e,n){try{return this.sheet.insertRule(n,e),this.length++,!0}catch{return!1}},t.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.prototype.getRule=function(e){var n=this.sheet.cssRules[e];return n&&n.cssText?n.cssText:""},t}(),Hle=function(){function t(e){this.element=Yj(e),this.nodes=this.element.childNodes,this.length=0}return t.prototype.insertRule=function(e,n){if(e<=this.length&&e>=0){var r=document.createTextNode(n);return this.element.insertBefore(r,this.nodes[e]||null),this.length++,!0}return!1},t.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},t}(),jle=function(){function t(e){this.rules=[],this.length=0}return t.prototype.insertRule=function(e,n){return e<=this.length&&(this.rules.splice(e,0,n),this.length++,!0)},t.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},t}(),W_=G5,Wle={isServer:!G5,useCSSOMInjection:!wle},Xj=function(){function t(e,n,r){e===void 0&&(e=gp),n===void 0&&(n={});var i=this;this.options=to(to({},Wle),e),this.gs=n,this.names=new Map(r),this.server=!!e.isServer,!this.server&&G5&&W_&&(W_=!1,j_(this)),SM(this,function(){return function(o){for(var s=o.getTag(),l=s.length,a="",u=function(h){var f=function(g){return Y5.get(g)}(h);if(f===void 0)return"continue";var d=o.names.get(f),p=s.getGroup(h);if(d===void 0||!d.size||p.length===0)return"continue";var m="".concat(mp,".g").concat(h,'[id="').concat(f,'"]'),y="";d!==void 0&&d.forEach(function(g){g.length>0&&(y+="".concat(g,","))}),a+="".concat(p).concat(m,'{content:"').concat(y,'"}').concat(bM)},c=0;c<l;c++)u(c);return a}(i)})}return t.registerId=function(e){return z2(e)},t.prototype.rehydrate=function(){!this.server&&G5&&j_(this)},t.prototype.reconstructWithOptions=function(e,n){return n===void 0&&(n=!0),new t(to(to({},this.options),e),this.gs,n&&this.names||void 0)},t.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.prototype.getTag=function(){return this.tag||(this.tag=(e=function(n){var r=n.useCSSOMInjection,i=n.target;return n.isServer?new jle(i):r?new Vle(i):new Hle(i)}(this.options),new Rle(e)));var e},t.prototype.hasNameForId=function(e,n){return this.names.has(e)&&this.names.get(e).has(n)},t.prototype.registerName=function(e,n){if(z2(e),this.names.has(e))this.names.get(e).add(n);else{var r=new Set;r.add(n),this.names.set(e,r)}},t.prototype.insertRules=function(e,n,r){this.registerName(e,n),this.getTag().insertRules(z2(e),r)},t.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.prototype.clearRules=function(e){this.getTag().clearGroup(z2(e)),this.clearNames(e)},t.prototype.clearTag=function(){this.tag=void 0},t}(),Ule=/&/g,qle=/^\s*\/\/.*$/gm;function Jj(t,e){return t.map(function(n){return n.type==="rule"&&(n.value="".concat(e," ").concat(n.value),n.value=n.value.replaceAll(",",",".concat(e," ")),n.props=n.props.map(function(r){return"".concat(e," ").concat(r)})),Array.isArray(n.children)&&n.type!=="@keyframes"&&(n.children=Jj(n.children,e)),n})}function Kle(t){var e,n,r,i=gp,o=i.options,s=o===void 0?gp:o,l=i.plugins,a=l===void 0?Bb:l,u=function(f,d,p){return p.startsWith(n)&&p.endsWith(n)&&p.replaceAll(n,"").length>0?".".concat(e):f},c=a.slice();c.push(function(f){f.type===_b&&f.value.includes("&")&&(f.props[0]=f.props[0].replace(Ule,n).replace(r,u))}),s.prefix&&c.push(yle),c.push(ple);var h=function(f,d,p,m){d===void 0&&(d=""),p===void 0&&(p=""),m===void 0&&(m="&"),e=m,n=d,r=new RegExp("\\".concat(n,"\\b"),"g");var y=f.replace(qle,""),g=fle(p||d?"".concat(p," ").concat(d," { ").concat(y," }"):y);s.namespace&&(g=Jj(g,s.namespace));var v=[];return K5(g,mle(c.concat(gle(function(w){return v.push(w)})))),v};return h.hash=a.length?a.reduce(function(f,d){return d.name||Dv(15),Zd(f,d.name)},jj).toString():"",h}var Gle=new Xj,wS=Kle(),Zj=Lo.createContext({shouldForwardProp:void 0,styleSheet:Gle,stylis:wS});Zj.Consumer;Lo.createContext(void 0);function U_(){return I.useContext(Zj)}var Yle=function(){function t(e,n){var r=this;this.inject=function(i,o){o===void 0&&(o=wS);var s=r.name+o.hash;i.hasNameForId(r.id,s)||i.insertRules(r.id,s,o(r.rules,s,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=n,SM(this,function(){throw Dv(12,String(r.name))})}return t.prototype.getName=function(e){return e===void 0&&(e=wS),this.name+e.hash},t}(),Xle=function(t){return t>="A"&&t<="Z"};function q_(t){for(var e="",n=0;n<t.length;n++){var r=t[n];if(n===1&&r==="-"&&t[0]==="-")return t;Xle(r)?e+="-"+r.toLowerCase():e+=r}return e.startsWith("ms-")?"-"+e:e}var Qj=function(t){return t==null||t===!1||t===""},eW=function(t){var e,n,r=[];for(var i in t){var o=t[i];t.hasOwnProperty(i)&&!Qj(o)&&(Array.isArray(o)&&o.isCss||yp(o)?r.push("".concat(q_(i),":"),o,";"):ry(o)?r.push.apply(r,q5(q5(["".concat(i," {")],eW(o),!1),["}"],!1)):r.push("".concat(q_(i),": ").concat((e=i,(n=o)==null||typeof n=="boolean"||n===""?"":typeof n!="number"||n===0||e in vle||e.startsWith("--")?String(n).trim():"".concat(n,"px")),";")))}return r};function gf(t,e,n,r){if(Qj(t))return[];if(kM(t))return[".".concat(t.styledComponentId)];if(yp(t)){if(!yp(o=t)||o.prototype&&o.prototype.isReactComponent||!e)return[t];var i=t(e);return gf(i,e,n,r)}var o;return t instanceof Yle?n?(t.inject(n,r),[t.getName(r)]):[t]:ry(t)?eW(t):Array.isArray(t)?Array.prototype.concat.apply(Bb,t.map(function(s){return gf(s,e,n,r)})):[t.toString()]}function Jle(t){for(var e=0;e<t.length;e+=1){var n=t[e];if(yp(n)&&!kM(n))return!1}return!0}var Zle=Wj(Lb),Qle=function(){function t(e,n,r){this.rules=e,this.staticRulesId="",this.isStatic=(r===void 0||r.isStatic)&&Jle(e),this.componentId=n,this.baseHash=Zd(Zle,n),this.baseStyle=r,Xj.registerId(n)}return t.prototype.generateAndInjectStyles=function(e,n,r){var i=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,n,r):"";if(this.isStatic&&!r.hash)if(this.staticRulesId&&n.hasNameForId(this.componentId,this.staticRulesId))i=jh(i,this.staticRulesId);else{var o=H_(gf(this.rules,e,n,r)),s=yS(Zd(this.baseHash,o)>>>0);if(!n.hasNameForId(this.componentId,s)){var l=r(o,".".concat(s),void 0,this.componentId);n.insertRules(this.componentId,s,l)}i=jh(i,s),this.staticRulesId=s}else{for(var a=Zd(this.baseHash,r.hash),u="",c=0;c<this.rules.length;c++){var h=this.rules[c];if(typeof h=="string")u+=h;else if(h){var f=H_(gf(h,e,n,r));a=Zd(a,f+c),u+=f}}if(u){var d=yS(a>>>0);n.hasNameForId(this.componentId,d)||n.insertRules(this.componentId,d,r(u,".".concat(d),void 0,this.componentId)),i=jh(i,d)}}return i},t}(),tW=Lo.createContext(void 0);tW.Consumer;var Z6={};function eae(t,e,n){var r=kM(t),i=t,o=!J6(t),s=e.attrs,l=s===void 0?Bb:s,a=e.componentId,u=a===void 0?function(b,S){var k=typeof b!="string"?"sc":B_(b);Z6[k]=(Z6[k]||0)+1;var T="".concat(k,"-").concat(Cle(Lb+k+Z6[k]));return S?"".concat(S,"-").concat(T):T}(e.displayName,e.parentComponentId):a,c=e.displayName,h=c===void 0?function(b){return J6(b)?"styled.".concat(b):"Styled(".concat(Tle(b),")")}(t):c,f=e.displayName&&e.componentId?"".concat(B_(e.displayName),"-").concat(e.componentId):e.componentId||u,d=r&&i.attrs?i.attrs.concat(l).filter(Boolean):l,p=e.shouldForwardProp;if(r&&i.shouldForwardProp){var m=i.shouldForwardProp;if(e.shouldForwardProp){var y=e.shouldForwardProp;p=function(b,S){return m(b,S)&&y(b,S)}}else p=m}var g=new Qle(n,f,r?i.componentStyle:void 0);function v(b,S){return function(k,T,A){var z=k.attrs,E=k.componentStyle,B=k.defaultProps,$=k.foldedComponentIds,ae=k.styledComponentId,G=k.target,q=Lo.useContext(tW),K=U_(),Y=k.shouldForwardProp||K.shouldForwardProp,L=xle(T,q,B)||gp,X=function(Ie,qe,ct){for(var St,Mt=to(to({},qe),{className:void 0,theme:ct}),mt=0;mt<Ie.length;mt+=1){var Rt=yp(St=Ie[mt])?St(Mt):St;for(var dt in Rt)Mt[dt]=dt==="className"?jh(Mt[dt],Rt[dt]):dt==="style"?to(to({},Mt[dt]),Rt[dt]):Rt[dt]}return qe.className&&(Mt.className=jh(Mt.className,qe.className)),Mt}(z,T,L),O=X.as||G,re={};for(var ce in X)X[ce]===void 0||ce[0]==="$"||ce==="as"||ce==="theme"&&X.theme===L||(ce==="forwardedAs"?re.as=X.forwardedAs:Y&&!Y(ce,O)||(re[ce]=X[ce]));var _=function(Ie,qe){var ct=U_(),St=Ie.generateAndInjectStyles(qe,ct.styleSheet,ct.stylis);return St}(E,X),Le=jh($,ae);return _&&(Le+=" "+_),X.className&&(Le+=" "+X.className),re[J6(O)&&!Hj.has(O)?"class":"className"]=Le,re.ref=A,I.createElement(O,re)}(w,b,S)}v.displayName=h;var w=Lo.forwardRef(v);return w.attrs=d,w.componentStyle=g,w.displayName=h,w.shouldForwardProp=p,w.foldedComponentIds=r?jh(i.foldedComponentIds,i.styledComponentId):"",w.styledComponentId=f,w.target=r?i.target:t,Object.defineProperty(w,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(b){this._foldedDefaultProps=r?function(S){for(var k=[],T=1;T<arguments.length;T++)k[T-1]=arguments[T];for(var A=0,z=k;A<z.length;A++)vS(S,z[A],!0);return S}({},i.defaultProps,b):b}}),SM(w,function(){return".".concat(w.styledComponentId)}),o&&Gj(w,t,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),w}function K_(t,e){for(var n=[t[0]],r=0,i=e.length;r<i;r+=1)n.push(e[r],t[r+1]);return n}var G_=function(t){return Object.assign(t,{isCss:!0})};function zb(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(yp(t)||ry(t))return G_(gf(K_(Bb,q5([t],e,!0))));var r=t;return e.length===0&&r.length===1&&typeof r[0]=="string"?gf(r):G_(gf(K_(r,e)))}function xS(t,e,n){if(n===void 0&&(n=gp),!e)throw Dv(1,e);var r=function(i){for(var o=[],s=1;s<arguments.length;s++)o[s-1]=arguments[s];return t(e,n,zb.apply(void 0,q5([i],o,!1)))};return r.attrs=function(i){return xS(t,e,to(to({},n),{attrs:Array.prototype.concat(n.attrs,i).filter(Boolean)}))},r.withConfig=function(i){return xS(t,e,to(to({},n),i))},r}var nW=function(t){return xS(eae,t)},de=nW;Hj.forEach(function(t){de[t]=nW(t)});const tae=de.div`
  width: 100%;
  height: 100%;
  background-color: var(--main-bg-color);
  color: var(--main-color);
  border: none;
  overflow: hidden; /*   */
  display: flex;
  flex-direction: column;
  /*     */
  ${t=>t.$isResizing?"user-select: none;":""}
`,nae=de.div`
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 2px 8px;
  height: 26px;
  background-color: var(--main-bg-color);
  color: var(--main-color);
  border-bottom: 1.5px solid var(--main-line-color);
  overflow: visible;
  position: relative;

  /*   */
  ${t=>t.$isMobile&&`
      gap: 6px;
      padding: 2px 6px;
      height: 22px;
    `}
`,rae=de.div`
  position: absolute;
  left: 0;
  top: 100%; /*    */
  width: 100%;
  height: 1.5px;
  background: transparent;
  z-index: 1001;
  pointer-events: none;

  /*    */
  & > div {
    height: 100%;
    background: var(--ice-main-color);
    width: 10%;
    transition: none;
    ${({$progress:t})=>typeof t!="number"?`
      animation: loading-bar-move 4s linear infinite;
    `:""}
  }

  @keyframes loading-bar-move {
    0% {
      transform: translateX(0);
    }
    100% {
      transform: translateX(calc(100vw - 80px));
    }
  }
`,iae=de.div`
  display: flex;
  align-items: center;
  justify-content: space-between;
  flex-wrap: nowrap;
  overflow: hidden;
  white-space: nowrap;

  height: 25px;
  padding: 0px 5px 0px 5px;
  background-color: var(--main-bg-color);
  border-top: 1px solid var(--main-line-color);
  border-bottom: 1px solid var(--main-line-color);
  font-size: 0.6rem;

  /*   */
  ${t=>t.$isMobile&&`
      overflow-x:auto
    `}
`,oae=de.div`
  display: flex;
  flex-wrap: nowrap;
  align-items: center;
  justify-content: center;
  margin-left: 5px;
  font-size: 0.75rem;
  font-weight: 600;
`,sae=de.div`
  border: 2px solid var(--main-line-color);
  border-top: 2px solid var(--ice-main-color);
  border-radius: 50%;
  width: 10px;
  height: 10px;
  animation: spin 1s linear infinite;

  @keyframes spin {
    0% {
      transform: rotate(0deg);
    }
    100% {
      transform: rotate(360deg);
    }
  }
`,lae=de.span`
  margin-left: 5px;
  margin-right: 5px;
  position: relative;

  &::after {
    content: '';
    animation: dots 1.5s steps(1, end) infinite;
  }

  @keyframes dots {
    0%,
    20% {
      content: '';
    }
    40% {
      content: '.';
    }
    60% {
      content: '..';
    }
    80%,
    100% {
      content: '...';
    }
  }
`,aae=de.div`
  display: flex;
  flex-wrap: nowrap;
  font-size: 0.75rem;
  font-weight: 600;
  > div {
    text-align: start;
    min-width: 170px;
    margin-left: 10px;
    padding-right: 10px;
    border-right: 1px solid var(--main-line-color);
  }
  > div:nth-child(2) {
    min-width: 250px;
  }
`,uae=de.div`
  margin: 0px 10px;
  color: var(--main-color_1);
  font-weight: 600;
`,cae=de.div`
  display: flex;
  flex: 1;
  height: 100%;
  background-color: var(--main-bg-color);
  color: var(--main-color);
  overflow: hidden; /*   */
`,Y_=de.div`
  width: 1px;
  cursor: col-resize;
  background-color: var(--main-line-color);
  position: relative;
  z-index: 1;

  &:hover::before {
    background-color: var(--ice-main-color);
    content: '';
    height: 100%;
    ${t=>t.$reverse?"right: 1.5px;":"left: -1.5px;"};
    position: absolute;
    top: 0;
    width: 5px;
    z-index: -1;
  }

  /*    */
  ${t=>t.$isResizing&&`
    &::before {
      background-color: var(--ice-main-color);
      content: '';
      height: 100%;
      ${t.$reverse?"right: 1.5px;":"left: -1.5px;"};
      position: absolute;
      top: 0;
      width: 5px;
      z-index: -1; /* Ensure the pseudo-element is behind the actual separator */
    }
  `}
`,hae=de.div`
  display: grid;
  background-color: var(--main-bg-color);
  color: var(--main-color);
  overflow: hidden;
  overflow-y: auto;
  flex-shrink: 0;
`,fae=de.div`
  display: flex;
  flex-grow: 1;
  overflow: hidden;
`,dae=de.div`
  display: flex;
  flex: 1;
  background-color: var(--main-bg-color);
  color: var(--main-color);
  overflow: hidden;
`,pae=de.div`
  display: grid;
  background-color: var(--main-bg-color);
  color: var(--main-color);
  overflow: auto;
  flex-shrink: 0;
`,mae=de.div`
  display: flex;
  flex: 1;
  flex-direction: column;
  height: 100%;
  background-color: var(--main-bg-color);
  color: var(--main-color);
  overflow: hidden; /*   */
`,gae=de.div`
  display: flex;
  flex-grow: 1;
  background-color: var(--main-bg-color);
  color: var(--main-color);
`,yae=de.div`
  display: flex;
  flex-direction: column;
  background-color: var(--main-bg-color);
  color: var(--main-color);
  overflow: auto;
  height: 40%;
  border-top: 1px solid var(--main-line-color);
`,vae=de.select`
  width: 100px;
  outline: none;
  color: var(--main-color);
  border: none;
  background-color: var(--main-bg-color);
  font-size: 0.75rem;
  min-height: 25px;
  border-radius: 5px;
  &:focus,
  &:hover {
    outline: none;
    border: none;
    background-color: var(--main-hover-color_1);
  }
`,wae=de.div`
  margin: 0px 10px;
  display: flex;
  align-items: center;
  gap: 5px;

  font-size: 0.75rem;
  font-weight: 600;
`,hc=({text:t,children:e})=>{const[n,r]=I.useState({left:0,top:0}),i=o=>{const{left:s,top:l,width:a,height:u}=o.currentTarget.getBoundingClientRect();r({left:s+a/2,top:l+u})};return P.jsxs(rW,{onMouseEnter:i,children:[e,P.jsx(xae,{style:{left:n.left,top:n.top},children:t})]})},rW=de.div`
  width: 100%;
  position: relative;
  display: inline-block;
  cursor: pointer;
`,xae=de.div`
  visibility: hidden;
  background-color: var(--main-bg-color);
  border: 1px solid var(--main-line-color);
  color: var(--main-color);
  text-align: center;
  border-radius: 4px;
  padding: 5px 5px;
  position: fixed;
  z-index: 1000;
  opacity: 0;
  transition: opacity 0.3s;
  font-size: 0.75rem;
  ${rW}:hover & {
    visibility: visible;
    opacity: 0.8;
  }
`,F2=({onClick:t,text:e,disabled:n=!1,disabledTxt:r})=>{const i=P.jsx(bae,{onClick:n?void 0:t,disabled:n,children:e});return n&&r?P.jsx(hc,{text:r,children:i}):i},bae=de.div`
  display: flex;
  align-items: center;
  justify-content: center;

  padding: 2px 6px;
  border-radius: 4px;

  font-size: 0.75rem;
  font-weight: 600;
  line-height: 1;

  color: var(
    ${({disabled:t})=>t?"--main-disabled-color":"--main-color"}
  );
  pointer-events: ${({disabled:t})=>t?"none":"auto"};

  transition: all 0.15s ease;

  &:hover {
    cursor: ${({disabled:t})=>t?"not-allowed":"pointer"};
    color: ${({disabled:t})=>t?"":"var(--ice-main-color)"};
    background-color: ${({disabled:t})=>t?"":"var(--main-hover-color)"};
  }

  &:active {
    opacity: 0.8;
  }
`,iW=I.createContext(void 0),kae=[{value:"ascii",label:"ASCII"},{value:"ansi",label:"ANSI(Windows-1252)"},{value:"oem",label:"OEM(CP437)"},{value:"mac",label:"Macintosh(Mac Roman)"},{value:"ebcdic",label:"EBCDIC(IBM Mainframe)"}],Sae=({children:t})=>{const[e,n]=I.useState({}),[r,i]=I.useState(""),[o,s]=I.useState("ansi"),[l,a]=I.useState({}),[u,c]=I.useState({}),[h,f]=I.useState([]),d=I.useRef(new Map),p=I.useCallback(()=>"tab-"+crypto.randomUUID(),[]),m=I.useMemo(()=>e[r],[e,r]),y=I.useMemo(()=>Object.keys(e).length===0,[e]),g=I.useCallback(k=>d.current.get(k),[]),v=I.useCallback((k,T)=>{d.current.set(k,T)},[]),w=I.useCallback((k,T)=>{f(A=>{const z=[...A],[E]=z.splice(k,1);return z.splice(T,0,E),z})},[]),b=I.useCallback(k=>{a(A=>{const{[k]:z,...E}=A;return E}),c(A=>{const{[k]:z,...E}=A;return E}),f(A=>A.filter(z=>z!==k));const T=d.current.get(k);T&&(T.worker.terminate(),T.cache.clear(),d.current.delete(k))},[]);I.useEffect(()=>{const k=Object.keys(e);f(T=>{const A=k.filter(E=>!T.includes(E));return[...T.filter(E=>k.includes(E)),...A]})},[e]),I.useEffect(()=>()=>{d.current.forEach(({worker:k})=>k.terminate()),d.current.clear()},[]);const S=I.useMemo(()=>({tabData:e,setTabData:n,activeKey:r,setActiveKey:i,getNewKey:p,activeData:m,isEmpty:y,encoding:o,setEncoding:s,scrollPositions:l,setScrollPositions:a,selectionStates:u,setSelectionStates:c,getWorkerCache:g,setWorkerCache:v,cleanupTab:b,tabOrder:h,setTabOrder:f,reorderTabs:w}),[e,r,m,y,o,l,u,h,p,g,v,b,w]);return P.jsx(iW.Provider,{value:S,children:t})},Up=()=>{const t=I.useContext(iW);if(!t)throw new Error("useTabData must be used within a TabDataProvider");return t};var Je={},bS={exports:{}};(function(t,e){(function(n,r){var i="1.0.39",o="",s="?",l="function",a="undefined",u="object",c="string",h="major",f="model",d="name",p="type",m="vendor",y="version",g="architecture",v="console",w="mobile",b="tablet",S="smarttv",k="wearable",T="embedded",A=500,z="Amazon",E="Apple",B="ASUS",$="BlackBerry",ae="Browser",G="Chrome",q="Edge",K="Firefox",Y="Google",L="Huawei",X="LG",O="Microsoft",re="Motorola",ce="Opera",_="Samsung",Le="Sharp",Ie="Sony",qe="Xiaomi",ct="Zebra",St="Facebook",Mt="Chromium OS",mt="Mac OS",Rt=" Browser",dt=function(j,Z){var ue={};for(var we in j)Z[we]&&Z[we].length%2===0?ue[we]=Z[we].concat(j[we]):ue[we]=j[we];return ue},R=function(j){for(var Z={},ue=0;ue<j.length;ue++)Z[j[ue].toUpperCase()]=j[ue];return Z},H=function(j,Z){return typeof j===c?Q(Z).indexOf(Q(j))!==-1:!1},Q=function(j){return j.toLowerCase()},me=function(j){return typeof j===c?j.replace(/[^\d\.]/g,o).split(".")[0]:r},oe=function(j,Z){if(typeof j===c)return j=j.replace(/^\s\s*/,o),typeof Z===a?j:j.substring(0,A)},se=function(j,Z){for(var ue=0,we,et,xt,Qe,Be,Ft;ue<Z.length&&!Be;){var Tn=Z[ue],Nt=Z[ue+1];for(we=et=0;we<Tn.length&&!Be&&Tn[we];)if(Be=Tn[we++].exec(j),Be)for(xt=0;xt<Nt.length;xt++)Ft=Be[++et],Qe=Nt[xt],typeof Qe===u&&Qe.length>0?Qe.length===2?typeof Qe[1]==l?this[Qe[0]]=Qe[1].call(this,Ft):this[Qe[0]]=Qe[1]:Qe.length===3?typeof Qe[1]===l&&!(Qe[1].exec&&Qe[1].test)?this[Qe[0]]=Ft?Qe[1].call(this,Ft,Qe[2]):r:this[Qe[0]]=Ft?Ft.replace(Qe[1],Qe[2]):r:Qe.length===4&&(this[Qe[0]]=Ft?Qe[3].call(this,Ft.replace(Qe[1],Qe[2])):r):this[Qe]=Ft||r;ue+=2}},ye=function(j,Z){for(var ue in Z)if(typeof Z[ue]===u&&Z[ue].length>0){for(var we=0;we<Z[ue].length;we++)if(H(Z[ue][we],j))return ue===s?r:ue}else if(H(Z[ue],j))return ue===s?r:ue;return Z.hasOwnProperty("*")?Z["*"]:j},be={"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},ke={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},ge={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[y,[d,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[y,[d,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[d,y],[/opios[\/ ]+([\w\.]+)/i],[y,[d,ce+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[y,[d,ce+" GX"]],[/\bopr\/([\w\.]+)/i],[y,[d,ce]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[y,[d,"Baidu"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim)\s?(?:browser)?[\/ ]?([\w\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar|helio)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[d,y],[/quark(?:pc)?\/([-\w\.]+)/i],[y,[d,"Quark"]],[/\bddg\/([\w\.]+)/i],[y,[d,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[y,[d,"UC"+ae]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[y,[d,"WeChat"]],[/konqueror\/([\w\.]+)/i],[y,[d,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[y,[d,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[y,[d,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[y,[d,"Smart Lenovo "+ae]],[/(avast|avg)\/([\w\.]+)/i],[[d,/(.+)/,"$1 Secure "+ae],y],[/\bfocus\/([\w\.]+)/i],[y,[d,K+" Focus"]],[/\bopt\/([\w\.]+)/i],[y,[d,ce+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[y,[d,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[y,[d,"Dolphin"]],[/coast\/([\w\.]+)/i],[y,[d,ce+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[y,[d,"MIUI "+ae]],[/fxios\/([-\w\.]+)/i],[y,[d,K]],[/\bqihu|(qi?ho?o?|360)browser/i],[[d,"360"+Rt]],[/\b(qq)\/([\w\.]+)/i],[[d,/(.+)/,"$1Browser"],y],[/(oculus|sailfish|huawei|vivo|pico)browser\/([\w\.]+)/i],[[d,/(.+)/,"$1"+Rt],y],[/samsungbrowser\/([\w\.]+)/i],[y,[d,_+" Internet"]],[/(comodo_dragon)\/([\w\.]+)/i],[[d,/_/g," "],y],[/metasr[\/ ]?([\d\.]+)/i],[y,[d,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[d,"Sogou Mobile"],y],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345Explorer)[\/ ]?([\w\.]+)/i],[d,y],[/(lbbrowser|rekonq)/i,/\[(linkedin)app\]/i],[d],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[d,St],y],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[d,y],[/\bgsa\/([\w\.]+) .*safari\//i],[y,[d,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[y,[d,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[y,[d,G+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[d,G+" WebView"],y],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[y,[d,"Android "+ae]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[d,y],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[y,[d,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[y,d],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[d,[y,ye,be]],[/(webkit|khtml)\/([\w\.]+)/i],[d,y],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[d,"Netscape"],y],[/(wolvic)\/([\w\.]+)/i],[d,y],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[y,[d,K+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[d,[y,/_/g,"."]],[/(cobalt)\/([\w\.]+)/i],[d,[y,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[g,"amd64"]],[/(ia32(?=;))/i],[[g,Q]],[/((?:i[346]|x)86)[;\)]/i],[[g,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[g,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[g,"armhf"]],[/windows (ce|mobile); ppc;/i],[[g,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[g,/ower/,o,Q]],[/(sun4\w)[;\)]/i],[[g,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[g,Q]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[f,[m,_],[p,b]],[/\b((?:s[cgp]h|gt|sm)-(?![lr])\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]((?!sm-[lr])[-\w]+)/i,/sec-(sgh\w+)/i],[f,[m,_],[p,w]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[f,[m,E],[p,w]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[f,[m,E],[p,b]],[/(macintosh);/i],[f,[m,E]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[f,[m,Le],[p,w]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[f,[m,L],[p,b]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[f,[m,L],[p,w]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite|pro)?)(?: bui|\))/i],[[f,/_/g," "],[m,qe],[p,w]],[/oid[^\)]+; (2\d{4}(283|rpbf)[cgl])( bui|\))/i,/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[f,/_/g," "],[m,qe],[p,b]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[f,[m,"OPPO"],[p,w]],[/\b(opd2\d{3}a?) bui/i],[f,[m,"OPPO"],[p,b]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[f,[m,"Vivo"],[p,w]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[f,[m,"Realme"],[p,w]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[f,[m,re],[p,w]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[f,[m,re],[p,b]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[f,[m,X],[p,b]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[f,[m,X],[p,w]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[f,[m,"Lenovo"],[p,b]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[f,/_/g," "],[m,"Nokia"],[p,w]],[/(pixel c)\b/i],[f,[m,Y],[p,b]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[f,[m,Y],[p,w]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[f,[m,Ie],[p,w]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[f,"Xperia Tablet"],[m,Ie],[p,b]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[f,[m,"OnePlus"],[p,w]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo(?!bc)\w\w)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[f,[m,z],[p,b]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[f,/(.+)/g,"Fire Phone $1"],[m,z],[p,w]],[/(playbook);[-\w\),; ]+(rim)/i],[f,m,[p,b]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[f,[m,$],[p,w]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[f,[m,B],[p,b]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[f,[m,B],[p,w]],[/(nexus 9)/i],[f,[m,"HTC"],[p,b]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[m,[f,/_/g," "],[p,w]],[/droid [\w\.]+; ((?:8[14]9[16]|9(?:0(?:48|60|8[01])|1(?:3[27]|66)|2(?:6[69]|9[56])|466))[gqswx])\w*(\)| bui)/i],[f,[m,"TCL"],[p,b]],[/(itel) ((\w+))/i],[[m,Q],f,[p,ye,{tablet:["p10001l","w7001"],"*":"mobile"}]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[f,[m,"Acer"],[p,b]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[f,[m,"Meizu"],[p,w]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[f,[m,"Ulefone"],[p,w]],[/droid.+; (a(?:015|06[35]|142p?))/i],[f,[m,"Nothing"],[p,w]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[m,f,[p,w]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[m,f,[p,b]],[/(surface duo)/i],[f,[m,O],[p,b]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[f,[m,"Fairphone"],[p,w]],[/(u304aa)/i],[f,[m,"AT&T"],[p,w]],[/\bsie-(\w*)/i],[f,[m,"Siemens"],[p,w]],[/\b(rct\w+) b/i],[f,[m,"RCA"],[p,b]],[/\b(venue[\d ]{2,7}) b/i],[f,[m,"Dell"],[p,b]],[/\b(q(?:mv|ta)\w+) b/i],[f,[m,"Verizon"],[p,b]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[f,[m,"Barnes & Noble"],[p,b]],[/\b(tm\d{3}\w+) b/i],[f,[m,"NuVision"],[p,b]],[/\b(k88) b/i],[f,[m,"ZTE"],[p,b]],[/\b(nx\d{3}j) b/i],[f,[m,"ZTE"],[p,w]],[/\b(gen\d{3}) b.+49h/i],[f,[m,"Swiss"],[p,w]],[/\b(zur\d{3}) b/i],[f,[m,"Swiss"],[p,b]],[/\b((zeki)?tb.*\b) b/i],[f,[m,"Zeki"],[p,b]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[m,"Dragon Touch"],f,[p,b]],[/\b(ns-?\w{0,9}) b/i],[f,[m,"Insignia"],[p,b]],[/\b((nxa|next)-?\w{0,9}) b/i],[f,[m,"NextBook"],[p,b]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[m,"Voice"],f,[p,w]],[/\b(lvtel\-)?(v1[12]) b/i],[[m,"LvTel"],f,[p,w]],[/\b(ph-1) /i],[f,[m,"Essential"],[p,w]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[f,[m,"Envizen"],[p,b]],[/\b(trio[-\w\. ]+) b/i],[f,[m,"MachSpeed"],[p,b]],[/\btu_(1491) b/i],[f,[m,"Rotor"],[p,b]],[/(shield[\w ]+) b/i],[f,[m,"Nvidia"],[p,b]],[/(sprint) (\w+)/i],[m,f,[p,w]],[/(kin\.[onetw]{3})/i],[[f,/\./g," "],[m,O],[p,w]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[f,[m,ct],[p,b]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[f,[m,ct],[p,w]],[/smart-tv.+(samsung)/i],[m,[p,S]],[/hbbtv.+maple;(\d+)/i],[[f,/^/,"SmartTV"],[m,_],[p,S]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[m,X],[p,S]],[/(apple) ?tv/i],[m,[f,E+" TV"],[p,S]],[/crkey/i],[[f,G+"cast"],[m,Y],[p,S]],[/droid.+aft(\w+)( bui|\))/i],[f,[m,z],[p,S]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[f,[m,Le],[p,S]],[/(bravia[\w ]+)( bui|\))/i],[f,[m,Ie],[p,S]],[/(mitv-\w{5}) bui/i],[f,[m,qe],[p,S]],[/Hbbtv.*(technisat) (.*);/i],[m,f,[p,S]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[m,oe],[f,oe],[p,S]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[p,S]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[m,f,[p,v]],[/droid.+; (shield) bui/i],[f,[m,"Nvidia"],[p,v]],[/(playstation [345portablevi]+)/i],[f,[m,Ie],[p,v]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[f,[m,O],[p,v]],[/\b(sm-[lr]\d\d[05][fnuw]?s?)\b/i],[f,[m,_],[p,k]],[/((pebble))app/i],[m,f,[p,k]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[f,[m,E],[p,k]],[/droid.+; (glass) \d/i],[f,[m,Y],[p,k]],[/droid.+; (wt63?0{2,3})\)/i],[f,[m,ct],[p,k]],[/(quest( \d| pro)?)/i],[f,[m,St],[p,k]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[m,[p,T]],[/(aeobc)\b/i],[f,[m,z],[p,T]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[f,[p,w]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[f,[p,b]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[p,b]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[p,w]],[/(android[-\w\. ]{0,9});.+buil/i],[f,[m,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[y,[d,q+"HTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[y,[d,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[d,y],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[y,d]],os:[[/microsoft (windows) (vista|xp)/i],[d,y],[/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i],[d,[y,ye,ke]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[y,ye,ke],[d,"Windows"]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[y,/_/g,"."],[d,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[d,mt],[y,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[y,d],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[d,y],[/\(bb(10);/i],[y,[d,$]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[y,[d,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[y,[d,K+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[y,[d,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[y,[d,"watchOS"]],[/crkey\/([\d\.]+)/i],[y,[d,G+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[d,Mt],y],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[d,y],[/(sunos) ?([\w\.\d]*)/i],[[d,"Solaris"],y],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[d,y]]},$e=function(j,Z){if(typeof j===u&&(Z=j,j=r),!(this instanceof $e))return new $e(j,Z).getResult();var ue=typeof n!==a&&n.navigator?n.navigator:r,we=j||(ue&&ue.userAgent?ue.userAgent:o),et=ue&&ue.userAgentData?ue.userAgentData:r,xt=Z?dt(ge,Z):ge,Qe=ue&&ue.userAgent==we;return this.getBrowser=function(){var Be={};return Be[d]=r,Be[y]=r,se.call(Be,we,xt.browser),Be[h]=me(Be[y]),Qe&&ue&&ue.brave&&typeof ue.brave.isBrave==l&&(Be[d]="Brave"),Be},this.getCPU=function(){var Be={};return Be[g]=r,se.call(Be,we,xt.cpu),Be},this.getDevice=function(){var Be={};return Be[m]=r,Be[f]=r,Be[p]=r,se.call(Be,we,xt.device),Qe&&!Be[p]&&et&&et.mobile&&(Be[p]=w),Qe&&Be[f]=="Macintosh"&&ue&&typeof ue.standalone!==a&&ue.maxTouchPoints&&ue.maxTouchPoints>2&&(Be[f]="iPad",Be[p]=b),Be},this.getEngine=function(){var Be={};return Be[d]=r,Be[y]=r,se.call(Be,we,xt.engine),Be},this.getOS=function(){var Be={};return Be[d]=r,Be[y]=r,se.call(Be,we,xt.os),Qe&&!Be[d]&&et&&et.platform&&et.platform!="Unknown"&&(Be[d]=et.platform.replace(/chrome os/i,Mt).replace(/macos/i,mt)),Be},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return we},this.setUA=function(Be){return we=typeof Be===c&&Be.length>A?oe(Be,A):Be,this},this.setUA(we),this};$e.VERSION=i,$e.BROWSER=R([d,y,h]),$e.CPU=R([g]),$e.DEVICE=R([f,m,p,v,w,S,b,k,T]),$e.ENGINE=$e.OS=R([d,y]),t.exports&&(e=t.exports=$e),e.UAParser=$e;var Te=typeof n!==a&&(n.jQuery||n.Zepto);if(Te&&!Te.ua){var ze=new $e;Te.ua=ze.getResult(),Te.ua.get=function(){return ze.getUA()},Te.ua.set=function(j){ze.setUA(j);var Z=ze.getResult();for(var ue in Z)Te.ua[ue]=Z[ue]}}})(typeof window=="object"?window:w5)})(bS,bS.exports);var Cae=bS.exports;Object.defineProperty(Je,"__esModule",{value:!0});function Tae(t){return t&&typeof t=="object"&&"default"in t?t.default:t}var ci=I,Cn=Tae(ci),oW=Cae,Qc=new oW,yi=Qc.getBrowser(),Mae=Qc.getCPU(),jo=Qc.getDevice(),CM=Qc.getEngine(),eh=Qc.getOS(),_v=Qc.getUA(),sW=function(e){return Qc.setUA(e)},Iv=function(e){if(!e){console.error("No userAgent string was provided");return}var n=new oW(e);return{UA:n,browser:n.getBrowser(),cpu:n.getCPU(),device:n.getDevice(),engine:n.getEngine(),os:n.getOS(),ua:n.getUA(),setUserAgent:function(i){return n.setUA(i)}}},lW=Object.freeze({ClientUAInstance:Qc,browser:yi,cpu:Mae,device:jo,engine:CM,os:eh,ua:_v,setUa:sW,parseUserAgent:Iv});function X_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Aae(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?X_(Object(n),!0).forEach(function(r){Dae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):X_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qg(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Qg=function(e){return typeof e}:Qg=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qg(t)}function Eae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Oae(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Pae(t,e,n){return e&&Oae(t.prototype,e),t}function Dae(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kS(){return kS=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kS.apply(this,arguments)}function _ae(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&CS(t,e)}function SS(t){return SS=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},SS(t)}function CS(t,e){return CS=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},CS(t,e)}function Iae(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Os(t,e){if(t==null)return{};var n=Iae(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function aw(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Rae(t,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aw(t)}function Nae(t,e){return Lae(t)||Bae(t,e)||zae(t,e)||Fae()}function Lae(t){if(Array.isArray(t))return t}function Bae(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,o=!1,s,l;try{for(n=n.call(t);!(i=(s=n.next()).done)&&(r.push(s.value),!(e&&r.length===e));i=!0);}catch(a){o=!0,l=a}finally{try{!i&&n.return!=null&&n.return()}finally{if(o)throw l}}return r}}function zae(t,e){if(t){if(typeof t=="string")return J_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return J_(t,e)}}function J_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Fae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var ei={Mobile:"mobile",Tablet:"tablet",SmartTv:"smarttv",Console:"console",Wearable:"wearable",Embedded:"embedded",Browser:void 0},uo={Chrome:"Chrome",Firefox:"Firefox",Opera:"Opera",Yandex:"Yandex",Safari:"Safari",InternetExplorer:"Internet Explorer",Edge:"Edge",Chromium:"Chromium",Ie:"IE",MobileSafari:"Mobile Safari",EdgeChromium:"Edge Chromium",MIUI:"MIUI Browser",SamsungBrowser:"Samsung Browser"},qp={IOS:"iOS",Android:"Android",WindowsPhone:"Windows Phone",Windows:"Windows",MAC_OS:"Mac OS"},$ae={isMobile:!1,isTablet:!1,isBrowser:!1,isSmartTV:!1,isConsole:!1,isWearable:!1},Vae=function(e){switch(e){case ei.Mobile:return{isMobile:!0};case ei.Tablet:return{isTablet:!0};case ei.SmartTv:return{isSmartTV:!0};case ei.Console:return{isConsole:!0};case ei.Wearable:return{isWearable:!0};case ei.Browser:return{isBrowser:!0};case ei.Embedded:return{isEmbedded:!0};default:return $ae}},Hae=function(e){return sW(e)},bt=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"none";return e||n},TM=function(){return typeof window<"u"&&(window.navigator||navigator)?window.navigator||navigator:!1},MM=function(e){var n=TM();return n&&n.platform&&(n.platform.indexOf(e)!==-1||n.platform==="MacIntel"&&n.maxTouchPoints>1&&!window.MSStream)},jae=function(e,n,r,i,o){return{isBrowser:e,browserMajorVersion:bt(n.major),browserFullVersion:bt(n.version),browserName:bt(n.name),engineName:bt(r.name),engineVersion:bt(r.version),osName:bt(i.name),osVersion:bt(i.version),userAgent:bt(o)}},Z_=function(e,n,r,i){return Aae({},e,{vendor:bt(n.vendor),model:bt(n.model),os:bt(r.name),osVersion:bt(r.version),ua:bt(i)})},Wae=function(e,n,r,i){return{isSmartTV:e,engineName:bt(n.name),engineVersion:bt(n.version),osName:bt(r.name),osVersion:bt(r.version),userAgent:bt(i)}},Uae=function(e,n,r,i){return{isConsole:e,engineName:bt(n.name),engineVersion:bt(n.version),osName:bt(r.name),osVersion:bt(r.version),userAgent:bt(i)}},qae=function(e,n,r,i){return{isWearable:e,engineName:bt(n.name),engineVersion:bt(n.version),osName:bt(r.name),osVersion:bt(r.version),userAgent:bt(i)}},Kae=function(e,n,r,i,o){return{isEmbedded:e,vendor:bt(n.vendor),model:bt(n.model),engineName:bt(r.name),engineVersion:bt(r.version),osName:bt(i.name),osVersion:bt(i.version),userAgent:bt(o)}};function Gae(t){var e=t?Iv(t):lW,n=e.device,r=e.browser,i=e.engine,o=e.os,s=e.ua,l=Vae(n.type),a=l.isBrowser,u=l.isMobile,c=l.isTablet,h=l.isSmartTV,f=l.isConsole,d=l.isWearable,p=l.isEmbedded;if(a)return jae(a,r,i,o,s);if(h)return Wae(h,i,o,s);if(f)return Uae(f,i,o,s);if(u||c)return Z_(l,n,o,s);if(d)return qae(d,i,o,s);if(p)return Kae(p,n,i,o,s)}var aW=function(e){var n=e.type;return n===ei.Mobile},uW=function(e){var n=e.type;return n===ei.Tablet},cW=function(e){var n=e.type;return n===ei.Mobile||n===ei.Tablet},hW=function(e){var n=e.type;return n===ei.SmartTv},X5=function(e){var n=e.type;return n===ei.Browser},fW=function(e){var n=e.type;return n===ei.Wearable},dW=function(e){var n=e.type;return n===ei.Console},pW=function(e){var n=e.type;return n===ei.Embedded},mW=function(e){var n=e.vendor;return bt(n)},gW=function(e){var n=e.model;return bt(n)},yW=function(e){var n=e.type;return bt(n,"browser")},vW=function(e){var n=e.name;return n===qp.Android},wW=function(e){var n=e.name;return n===qp.Windows},xW=function(e){var n=e.name;return n===qp.MAC_OS},bW=function(e){var n=e.name;return n===qp.WindowsPhone},kW=function(e){var n=e.name;return n===qp.IOS},SW=function(e){var n=e.version;return bt(n)},CW=function(e){var n=e.name;return bt(n)},TW=function(e){var n=e.name;return n===uo.Chrome},MW=function(e){var n=e.name;return n===uo.Firefox},AW=function(e){var n=e.name;return n===uo.Chromium},J5=function(e){var n=e.name;return n===uo.Edge},EW=function(e){var n=e.name;return n===uo.Yandex},OW=function(e){var n=e.name;return n===uo.Safari||n===uo.MobileSafari},PW=function(e){var n=e.name;return n===uo.MobileSafari},DW=function(e){var n=e.name;return n===uo.Opera},_W=function(e){var n=e.name;return n===uo.InternetExplorer||n===uo.Ie},IW=function(e){var n=e.name;return n===uo.MIUI},RW=function(e){var n=e.name;return n===uo.SamsungBrowser},NW=function(e){var n=e.version;return bt(n)},LW=function(e){var n=e.major;return bt(n)},BW=function(e){var n=e.name;return bt(n)},zW=function(e){var n=e.name;return bt(n)},FW=function(e){var n=e.version;return bt(n)},$W=function(){var e=TM(),n=e&&e.userAgent&&e.userAgent.toLowerCase();return typeof n=="string"?/electron/.test(n):!1},d0=function(e){return typeof e=="string"&&e.indexOf("Edg/")!==-1},VW=function(){var e=TM();return e&&(/iPad|iPhone|iPod/.test(e.platform)||e.platform==="MacIntel"&&e.maxTouchPoints>1)&&!window.MSStream},Rl=function(){return MM("iPad")},HW=function(){return MM("iPhone")},jW=function(){return MM("iPod")},WW=function(e){return bt(e)};function UW(t){var e=t||lW,n=e.device,r=e.browser,i=e.os,o=e.engine,s=e.ua;return{isSmartTV:hW(n),isConsole:dW(n),isWearable:fW(n),isEmbedded:pW(n),isMobileSafari:PW(r)||Rl(),isChromium:AW(r),isMobile:cW(n)||Rl(),isMobileOnly:aW(n),isTablet:uW(n)||Rl(),isBrowser:X5(n),isDesktop:X5(n),isAndroid:vW(i),isWinPhone:bW(i),isIOS:kW(i)||Rl(),isChrome:TW(r),isFirefox:MW(r),isSafari:OW(r),isOpera:DW(r),isIE:_W(r),osVersion:SW(i),osName:CW(i),fullBrowserVersion:NW(r),browserVersion:LW(r),browserName:BW(r),mobileVendor:mW(n),mobileModel:gW(n),engineName:zW(o),engineVersion:FW(o),getUA:WW(s),isEdge:J5(r)||d0(s),isYandex:EW(r),deviceType:yW(n),isIOS13:VW(),isIPad13:Rl(),isIPhone13:HW(),isIPod13:jW(),isElectron:$W(),isEdgeChromium:d0(s),isLegacyEdge:J5(r)&&!d0(s),isWindows:wW(i),isMacOs:xW(i),isMIUI:IW(r),isSamsungBrowser:RW(r)}}var qW=hW(jo),KW=dW(jo),GW=fW(jo),Yae=pW(jo),Xae=PW(yi)||Rl(),Jae=AW(yi),Fb=cW(jo)||Rl(),YW=aW(jo),XW=uW(jo)||Rl(),JW=X5(jo),Zae=X5(jo),ZW=vW(eh),QW=bW(eh),eU=kW(eh)||Rl(),Qae=TW(yi),eue=MW(yi),tue=OW(yi),nue=DW(yi),tU=_W(yi),rue=SW(eh),iue=CW(eh),oue=NW(yi),sue=LW(yi),lue=BW(yi),aue=mW(jo),uue=gW(jo),cue=zW(CM),hue=FW(CM),fue=WW(_v),due=J5(yi)||d0(_v),pue=EW(yi),mue=yW(jo),gue=VW(),yue=Rl(),vue=HW(),wue=jW(),xue=$W(),bue=d0(_v),kue=J5(yi)&&!d0(_v),Sue=wW(eh),Cue=xW(eh),Tue=IW(yi),Mue=RW(yi),Aue=function(e){if(!e||typeof e!="string"){console.error("No valid user agent string was provided");return}var n=Iv(e),r=n.device,i=n.browser,o=n.os,s=n.engine,l=n.ua;return UW({device:r,browser:i,os:o,engine:s,ua:l})},Eue=function(e){var n=e.renderWithFragment,r=e.children,i=Os(e,["renderWithFragment","children"]);return ZW?n?Cn.createElement(ci.Fragment,null,r):Cn.createElement("div",i,r):null},Oue=function(e){var n=e.renderWithFragment,r=e.children,i=Os(e,["renderWithFragment","children"]);return JW?n?Cn.createElement(ci.Fragment,null,r):Cn.createElement("div",i,r):null},Pue=function(e){var n=e.renderWithFragment,r=e.children,i=Os(e,["renderWithFragment","children"]);return tU?n?Cn.createElement(ci.Fragment,null,r):Cn.createElement("div",i,r):null},Due=function(e){var n=e.renderWithFragment,r=e.children,i=Os(e,["renderWithFragment","children"]);return eU?n?Cn.createElement(ci.Fragment,null,r):Cn.createElement("div",i,r):null},_ue=function(e){var n=e.renderWithFragment,r=e.children,i=Os(e,["renderWithFragment","children"]);return Fb?n?Cn.createElement(ci.Fragment,null,r):Cn.createElement("div",i,r):null},Iue=function(e){var n=e.renderWithFragment,r=e.children,i=Os(e,["renderWithFragment","children"]);return XW?n?Cn.createElement(ci.Fragment,null,r):Cn.createElement("div",i,r):null},Rue=function(e){var n=e.renderWithFragment,r=e.children,i=Os(e,["renderWithFragment","children"]);return QW?n?Cn.createElement(ci.Fragment,null,r):Cn.createElement("div",i,r):null},Nue=function(e){var n=e.renderWithFragment,r=e.children;e.viewClassName,e.style;var i=Os(e,["renderWithFragment","children","viewClassName","style"]);return YW?n?Cn.createElement(ci.Fragment,null,r):Cn.createElement("div",i,r):null},Lue=function(e){var n=e.renderWithFragment,r=e.children,i=Os(e,["renderWithFragment","children"]);return qW?n?Cn.createElement(ci.Fragment,null,r):Cn.createElement("div",i,r):null},Bue=function(e){var n=e.renderWithFragment,r=e.children,i=Os(e,["renderWithFragment","children"]);return KW?n?Cn.createElement(ci.Fragment,null,r):Cn.createElement("div",i,r):null},zue=function(e){var n=e.renderWithFragment,r=e.children,i=Os(e,["renderWithFragment","children"]);return GW?n?Cn.createElement(ci.Fragment,null,r):Cn.createElement("div",i,r):null},Fue=function(e){var n=e.renderWithFragment,r=e.children;e.viewClassName,e.style;var i=e.condition,o=Os(e,["renderWithFragment","children","viewClassName","style","condition"]);return i?n?Cn.createElement(ci.Fragment,null,r):Cn.createElement("div",o,r):null};function $ue(t){return function(e){_ae(n,e);function n(r){var i;return Eae(this,n),i=Rae(this,SS(n).call(this,r)),i.isEventListenerAdded=!1,i.handleOrientationChange=i.handleOrientationChange.bind(aw(i)),i.onOrientationChange=i.onOrientationChange.bind(aw(i)),i.onPageLoad=i.onPageLoad.bind(aw(i)),i.state={isLandscape:!1,isPortrait:!1},i}return Pae(n,[{key:"handleOrientationChange",value:function(){this.isEventListenerAdded||(this.isEventListenerAdded=!0);var i=window.innerWidth>window.innerHeight?90:0;this.setState({isPortrait:i===0,isLandscape:i===90})}},{key:"onOrientationChange",value:function(){this.handleOrientationChange()}},{key:"onPageLoad",value:function(){this.handleOrientationChange()}},{key:"componentDidMount",value:function(){(typeof window>"u"?"undefined":Qg(window))!==void 0&&Fb&&(this.isEventListenerAdded?window.removeEventListener("load",this.onPageLoad,!1):(this.handleOrientationChange(),window.addEventListener("load",this.onPageLoad,!1)),window.addEventListener("resize",this.onOrientationChange,!1))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.onOrientationChange,!1)}},{key:"render",value:function(){return Cn.createElement(t,kS({},this.props,{isLandscape:this.state.isLandscape,isPortrait:this.state.isPortrait}))}}]),n}(Cn.Component)}function Vue(){var t=ci.useState(function(){var o=window.innerWidth>window.innerHeight?90:0;return{isPortrait:o===0,isLandscape:o===90,orientation:o===0?"portrait":"landscape"}}),e=Nae(t,2),n=e[0],r=e[1],i=ci.useCallback(function(){var o=window.innerWidth>window.innerHeight?90:0,s={isPortrait:o===0,isLandscape:o===90,orientation:o===0?"portrait":"landscape"};n.orientation!==s.orientation&&r(s)},[n.orientation]);return ci.useEffect(function(){return(typeof window>"u"?"undefined":Qg(window))!==void 0&&Fb&&(i(),window.addEventListener("load",i,!1),window.addEventListener("resize",i,!1)),function(){window.removeEventListener("resize",i,!1),window.removeEventListener("load",i,!1)}},[i]),n}function nU(t){var e=t||window.navigator.userAgent;return Iv(e)}function Hue(t){var e=t||window.navigator.userAgent,n=nU(e),r=UW(n);return[r,n]}Je.AndroidView=Eue;Je.BrowserTypes=uo;Je.BrowserView=Oue;Je.ConsoleView=Bue;Je.CustomView=Fue;Je.IEView=Pue;Je.IOSView=Due;Je.MobileOnlyView=Nue;Je.MobileView=_ue;Je.OsTypes=qp;Je.SmartTVView=Lue;Je.TabletView=Iue;Je.WearableView=zue;Je.WinPhoneView=Rue;Je.browserName=lue;Je.browserVersion=sue;Je.deviceDetect=Gae;Je.deviceType=mue;Je.engineName=cue;Je.engineVersion=hue;Je.fullBrowserVersion=oue;Je.getSelectorsByUserAgent=Aue;Je.getUA=fue;Je.isAndroid=ZW;Je.isBrowser=JW;Je.isChrome=Qae;Je.isChromium=Jae;Je.isConsole=KW;Je.isDesktop=Zae;Je.isEdge=due;Je.isEdgeChromium=bue;Je.isElectron=xue;Je.isEmbedded=Yae;Je.isFirefox=eue;Je.isIE=tU;Je.isIOS=eU;Je.isIOS13=gue;Je.isIPad13=yue;Je.isIPhone13=vue;Je.isIPod13=wue;Je.isLegacyEdge=kue;Je.isMIUI=Tue;Je.isMacOs=Cue;var yf=Je.isMobile=Fb;Je.isMobileOnly=YW;Je.isMobileSafari=Xae;Je.isOpera=nue;Je.isSafari=tue;Je.isSamsungBrowser=Mue;Je.isSmartTV=qW;Je.isTablet=XW;Je.isWearable=GW;Je.isWinPhone=QW;Je.isWindows=Sue;Je.isYandex=pue;Je.mobileModel=uue;Je.mobileVendor=aue;Je.osName=iue;Je.osVersion=rue;Je.parseUserAgent=Iv;Je.setUserAgent=Hae;Je.useDeviceData=nU;Je.useDeviceSelectors=Hue;Je.useMobileOrientation=Vue;Je.withOrientationChange=$ue;const jue=de.div`
  position: relative;
  width: 100%;
  height: 100%;
`,Wue=de.div`
  width: 100%;
  height: 100%;
  overflow-x: auto;
  overflow-y: hidden;
  background: var(--main-bg-color);
  position: relative;
  display: flex;
  flex-direction: row;
  -webkit-overflow-scrolling: touch;
  overscroll-behavior: none;
`,Uue=de.div`
  flex: 1;
  height: 100%;
  position: relative;
  overflow: hidden;
`,que=de.canvas`
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  display: block;
  cursor: text;
  pointer-events: auto;
  will-change: transform;
  /* GPU   */
  transform: translateZ(0);
  backface-visibility: hidden;
  /*  :   overflow  */
  max-width: 100%;
  max-height: 100%;
`,Kue=de.div`
  width: ${yf?"15px":"12px"};
  height: 100%;
  background-color: transparent;
  display: flex;
  align-items: flex-start;
  user-select: none;
  position: absolute;
  right: 0;
  top: 0;
  z-index: 100;
  pointer-events: all;
`,Gue=de.div.attrs(t=>({style:{height:`${t.$height}px`,top:`${t.$top}px`}}))`
  position: absolute;
  right: 0;
  width: 100%;
  background-color: var(--main-hover-line-color);
  opacity: ${t=>t.$dragging==="true"?"0.9":"0.5"};
  cursor: pointer;
  transition: opacity 0.2s;
  &:hover {
    opacity: 0.9;
  }
  touch-action: none; //    
`,Yue=de.div`
  position: absolute;
  background-color: var(--main-bg-color);
  border: 1px solid var(--main-line-color);
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
  z-index: 1;
  min-width: 120px;
  border-radius: 4px;
  padding: 0;
  user-select: none;
  outline: none;
  overflow: hidden;
`,Xue=de.ul`
  list-style: none;
  margin: 0;
  padding: 5px 5px;
`,Q_=de.li`
  padding: 2.5px 10px;
  cursor: pointer;
  color: var(--main-color);
  background: transparent;
  font-size: 0.75rem;
  text-align: left;
  overflow: hidden;
  white-space: nowrap;

  &:hover {
    background: var(--main-hover-color);
    color: var(--ice-main-color);
  }
`,ga=256*1024,Jue=256*1024,eI=1e5,Zue=150,Que=50,ece=50;function tce(t){return("0"+t.toString(16)).slice(-2).toUpperCase()}function nce(t,e){if(t<32||t===127)return".";if(t>=32&&t<=126)return String.fromCharCode(t);switch(e){case"ascii":return".";case"ansi":return rce(t);case"oem":return ice(t);case"mac":return oce(t);case"ebcdic":return sce(t);default:return"."}}function rce(t){if(t>=128&&t<=159){if([129,141,143,144,157].includes(t))return".";const n={128:8364,130:8218,131:402,132:8222,133:8230,134:8224,135:8225,136:710,137:8240,138:352,139:8249,140:338,142:381,145:8216,146:8217,147:8220,148:8221,149:8226,150:8211,151:8212,152:732,153:8482,154:353,155:8250,156:339,158:382,159:376};return String.fromCodePoint(n[t]||t)}return String.fromCharCode(t)}function ice(t){const e={128:199,129:252,130:233,131:226,132:228,133:224,134:229,135:231,136:234,137:235,138:232,139:239,140:238,141:236,142:196,143:197,144:201,145:230,146:198,147:244,148:246,149:242,150:251,151:249,152:255,153:214,154:220,155:162,156:163,157:165,158:8359,159:402,160:225,161:237,162:243,163:250,164:241,165:209,166:170,167:186,168:191,169:8976,170:172,171:189,172:188,173:161,174:171,175:187,176:9617,177:9618,178:9619,179:9474,180:9508,181:9569,182:9570,183:9558,184:9557,185:9571,186:9553,187:9559,188:9565,189:9564,190:9563,191:9488,192:9492,193:9524,194:9516,195:9500,196:9472,197:9532,198:9566,199:9567,200:9562,201:9556,202:9577,203:9574,204:9568,205:9552,206:9580,207:9575,208:9576,209:9572,210:9573,211:9561,212:9560,213:9554,214:9555,215:9579,216:9578,217:9496,218:9484,219:9608,220:9604,221:9612,222:9616,223:9600,224:945,225:223,226:915,227:960,228:931,229:963,230:181,231:964,232:934,233:920,234:937,235:948,236:8734,237:966,238:949,239:8745,240:8801,241:177,242:8805,243:8804,244:8992,245:8993,246:247,247:8776,248:176,249:8729,250:183,251:8730,252:8319,253:178,254:9632,255:160};return String.fromCodePoint(e[t]||t)}function oce(t){const e={128:196,129:197,130:199,131:201,132:209,133:214,134:220,135:225,136:224,137:226,138:228,139:227,140:229,141:231,142:233,143:232,144:234,145:235,146:237,147:236,148:238,149:239,150:241,151:243,152:242,153:244,154:246,155:245,156:250,157:249,158:251,159:252,160:8224,161:176,162:162,163:163,164:167,165:8226,166:182,167:223,168:174,169:169,170:8482,171:180,172:168,173:8800,174:198,175:216,176:8734,177:177,178:8804,179:8805,180:165,181:181,182:8706,183:8721,184:8719,185:960,186:8747,187:170,188:186,189:937,190:230,191:248,192:191,193:161,194:172,195:8730,196:402,197:8776,198:8710,199:171,200:187,201:8230,202:160,203:192,204:195,205:213,206:338,207:339,208:8211,209:8212,210:8220,211:8221,212:8216,213:8217,214:247,215:9674,216:255,217:376,218:8260,219:8364,220:8249,221:8250,222:64257,223:64258,224:8225,225:183,226:8218,227:8222,228:8240,229:194,230:202,231:193,232:203,233:200,234:205,235:206,236:207,237:204,238:211,239:212,240:63743,241:210,242:218,243:219,244:217,245:305,246:710,247:732,248:175,249:728,250:729,251:730,252:184,253:733,254:731,255:711};return String.fromCodePoint(e[t]||t)}function sce(t){const e={64:32,74:91,75:46,76:60,77:40,78:43,79:124,80:38,90:33,91:36,92:42,93:41,94:59,95:94,96:45,97:47,106:124,107:44,108:37,109:95,110:62,111:63,121:96,122:58,123:35,124:64,125:39,126:61,127:34,129:97,130:98,131:99,132:100,133:101,134:102,135:103,136:104,137:105,145:106,146:107,147:108,148:109,149:110,150:111,151:112,152:113,153:114,162:115,163:116,164:117,165:118,166:119,167:120,168:121,169:122,193:65,194:66,195:67,196:68,197:69,198:70,199:71,200:72,201:73,209:74,210:75,211:76,212:77,213:78,214:79,215:80,216:81,217:82,226:83,227:84,228:85,229:86,230:87,231:88,232:89,233:90,240:48,241:49,242:50,243:51,244:52,245:53,246:54,247:55,248:56,249:57};return String.fromCodePoint(e[t]||46)}const lce=t=>{const e=new Uint8Array(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e},ace={containerPadding:10,gap:10,bytesPerRow:16,rowHeight:22,font:"14px monospace",offsetWidth:75,hexByteWidth:26,asciiCharWidth:12},uce={containerPadding:5,gap:4,bytesPerRow:16,rowHeight:15,font:"9px monospace",offsetWidth:44,hexByteWidth:14,asciiCharWidth:7},{containerPadding:rU,gap:AM,bytesPerRow:ur,rowHeight:Lr,font:tI,offsetWidth:e1,hexByteWidth:Zo,asciiCharWidth:Ls}=yf?uce:ace,uw=rU,Cd=uw+e1+AM,Em=Cd+ur*Zo+AM,Q6=rU*2+e1+AM*2+ur*Zo+ur*Ls;function $2(){return window.devicePixelRatio||1}const cce=(t,e)=>{var Yo,hh;const{activeData:n,encoding:r,activeKey:i,scrollPositions:o,setScrollPositions:s,selectionStates:l,setSelectionStates:a,getWorkerCache:u,setWorkerCache:c}=Up(),{setProcessInfo:h}=vM(),f=l[i]||{start:null,end:null},d=n==null?void 0:n.file,p=(d==null?void 0:d.size)||0,m=Math.ceil(p/ur),y=I.useRef(null),g=I.useRef(null),v=I.useRef(null),w=I.useRef(null),b=I.useRef(null),S=I.useRef(new Map),k=I.useRef(null),T=I.useRef(!1),A=I.useRef(new Set),z=I.useRef(!1),E=I.useRef(null),B=I.useRef(f),$=I.useRef(r),ae=I.useRef({width:800,height:400}),G=I.useRef(!1),q=I.useRef(0),K=I.useRef(null),Y=I.useRef(null),[L,X]=I.useState({width:800,height:400}),[O,re]=I.useState(!1),[ce,_]=I.useState(null),[Le,Ie]=I.useState(!1),[qe,ct]=I.useState(0),[St,Mt]=I.useState(0),[mt,Rt]=I.useState(0),dt=Math.floor(L.height/Lr),R=Math.max(0,m-dt),H=L.height,Q=Math.max(30,dt/m*H),me=H-Q,oe=Math.min(me,q.current/R*me||0),se=I.useRef(null);I.useEffect(()=>{const xe=()=>{const Se=getComputedStyle(document.documentElement);se.current={HEX_EVEN:Se.getPropertyValue("--main-color_1").trim()||"#a0c0d8",HEX_ODD:Se.getPropertyValue("--main-color").trim()||"#d8e8f0",ASCII:Se.getPropertyValue("--main-color").trim()||"#d8e8f0",ASCII_DISABLED:Se.getPropertyValue("--main-disabled-color").trim()||"#3a4754",SELECTED_BG:Se.getPropertyValue("--main-hover-color").trim()||"#243240",SELECTED_TEXT:Se.getPropertyValue("--ice-main-color").trim()||"#60c8ff",OFFSET:Se.getPropertyValue("--ice-main-color_4").trim()||"#d8f0ff",BG:Se.getPropertyValue("--main-bg-color").trim()||"#1a1f28"}};xe();const Ne=new MutationObserver(xe);return Ne.observe(document.documentElement,{attributes:!0,attributeFilter:["class","data-theme"]}),()=>Ne.disconnect()},[]);const ye=I.useCallback((xe,Ne,Se,Ae,it)=>{const kt=xe*ur,Pt=Math.min(kt+it*ur,Ae),Ct=Math.floor(kt/ga),an=Math.floor(Pt/ga);for(let Nn=Ct;Nn<=an;Nn++){const Ln=Nn*ga;if(!S.current.has(Ln)&&!A.current.has(Ln)){A.current.add(Ln);const Mn=Math.abs(Ln-kt);Ne.postMessage({type:"READ_CHUNK",file:Se,offset:Ln,length:Math.min(ga,Ae-Ln),priority:Mn})}}},[]),be=I.useCallback(xe=>{q.current=xe,s(Ne=>({...Ne,[i]:xe})),Rt(Ne=>Ne+1)},[i,s]),ke=I.useCallback((xe,Ne)=>{a(Se=>({...Se,[i]:{start:xe,end:Ne}}))},[i,a]),ge=I.useRef(null);ge.current=I.useCallback(xe=>{if(!d)return null;A.current.clear();const Ne=async()=>{try{const Se=xe*ur,Ae=Math.floor(Se/ga)*ga,kt=await d.slice(Ae,Ae+ga).arrayBuffer(),Pt=new Uint8Array(kt),Ct=new Map;return Ct.set(Ae,Pt),S.current=Ct,A.current.add(Ae),Rt(an=>an+1),Ct}catch(Se){return console.error("   :",Se),new Map}};return requestAnimationFrame(()=>{var Ct;const Se=(Ct=y.current)==null?void 0:Ct.getContext("2d",{alpha:!1});if(!Se||!se.current)return;const Ae=ae.current,it=se.current,kt=$2();Se.fillStyle=it.BG,Se.fillRect(0,0,Ae.width,Ae.height),Se.save(),Se.scale(kt,1),Se.font=tI,Se.textAlign="center",Se.textBaseline="middle",Se.fillStyle=it.OFFSET;const Pt=Math.ceil(Ae.height/Lr)+1;for(let an=0;an<Pt;an++){const Nn=xe+an;if(Nn>=m)break;const Ln=an*Lr,Mn=Nn*ur;Se.fillText(Mn.toString(16).padStart(8,"0").toUpperCase(),uw+e1/2,Ln+Lr/2)}Se.restore()}),Ne().then(Se=>{const Ae=new Worker(new URL("/assets/fileReader.worker-CRL_h__t.js",import.meta.url));Ae.onmessage=kt=>{const{type:Pt,offset:Ct,data:an}=kt.data;Pt==="CHUNK_DATA"&&(Se.set(Ct,an),S.current=Se,z.current||Rt(Nn=>Nn+1))},c(i,{worker:Ae,cache:Se}),S.current=Se,k.current=Ae,ye(xe,Ae,d,p,dt+20),T.current=!1}),null},[d,p,dt,i,c,ye,m]);const $e=I.useCallback(xe=>{const Ne=Math.floor(xe/ga)*ga,Se=S.current.get(Ne);if(!Se)return null;const Ae=xe-Ne;if(Ae<0||Ae>=Se.length)return null;const it=Se[Ae];return it!==void 0?it:null},[]),Te=I.useCallback(()=>{var Du;const xe=(Du=y.current)==null?void 0:Du.getContext("2d",{alpha:!1});if(!xe||!se.current)return;w.current||(w.current=document.createElement("canvas"));const Ne=w.current,Se=ae.current;(Ne.width!==Se.width||Ne.height!==Se.height)&&(Ne.width=Se.width,Ne.height=Se.height);const Ae=Ne.getContext("2d",{alpha:!1});if(!Ae)return;const it=se.current,kt=$2();Ae.setTransform(1,0,0,1,0,0),Ae.fillStyle=it.BG,Ae.fillRect(0,0,Se.width,Se.height),Ae.save(),Ae.scale(kt,1),Ae.font=tI,Ae.textAlign="center",Ae.textBaseline="middle";const Pt=Math.ceil(Se.height/Lr)+1,Ct=q.current,an=B.current,Nn=$.current;let Ln=0;for(let gl=Ct,pa=0;gl<Math.min(m,Ct+Pt)&&pa*Lr<Se.height;gl++,pa++){const mo=pa*Lr,tt=gl*ur,W=gl*ur,Me=Math.min(W+ur-1,p-1),je=an.start,Wt=an.end;je!==null&&Wt!==null&&W<=Math.max(je,Wt)&&Me>=Math.min(je,Wt)?(Ae.fillStyle=it.SELECTED_BG,Ae.fillRect(uw,mo+2,e1,Lr-4),Ae.fillStyle=it.SELECTED_TEXT):Ae.fillStyle=it.OFFSET,Ae.fillText(tt.toString(16).padStart(8,"0").toUpperCase(),uw+e1/2,mo+Lr/2);for(let Xt=0;Xt<ur;Xt++){const Jn=tt+Xt;if(Jn>=p)break;const Nr=$e(Jn);if(Nr==null){const y2=Cd+Xt*Zo+Zo/2;Ae.fillStyle="rgba(128, 128, 128, 0.15)",Ae.fillRect(y2-Zo/2+1,mo+2,Zo-2,Lr-4);const v2=Em+Xt*Ls+Ls/2;Ae.fillRect(v2-Ls/2+1,mo+2,Ls-2,Lr-4);continue}Ln++;const Is=je!==null&&Wt!==null&&Jn>=Math.min(je,Wt)&&Jn<=Math.max(je,Wt),ma=Cd+Xt*Zo+Zo/2,tr=mo+Lr/2;Is?(Ae.fillStyle=it.SELECTED_BG,Ae.fillRect(ma-Zo/2+1,mo+2,Zo-2,Lr-4),Ae.fillStyle=it.SELECTED_TEXT):Ae.fillStyle=Xt%2===0?it.HEX_EVEN:it.HEX_ODD,Ae.fillText(tce(Nr),ma,tr);const _u=Em+Xt*Ls+Ls/2,fh=mo+Lr/2,ym=nce(Nr,Nn);Is?(Ae.fillStyle=it.SELECTED_BG,Ae.fillRect(_u-Ls/2+1,mo+2,Ls-2,Lr-4),Ae.fillStyle=it.SELECTED_TEXT):Ae.fillStyle=ym==="."?it.ASCII_DISABLED:it.ASCII,Ae.fillText(ym,_u,fh)}}Ae.restore(),(Ln>Pt*ur*.3||!z.current||!G.current||T.current)&&(xe.setTransform(1,0,0,1,0,0),xe.clearRect(0,0,Se.width,Se.height),xe.drawImage(Ne,0,0),Ln>0&&(G.current=!0))},[p,m,$e]),ze=I.useRef(Te);I.useEffect(()=>{ze.current=Te},[Te]);const j=(xe,Ne)=>{const Se=q.current+Math.floor(Ne/Lr);if(Se<0||Se>=m)return null;if(xe>=Cd&&xe<Cd+ur*Zo){const Ae=Math.floor((xe-Cd)/Zo);if(Ae<0||Ae>=ur)return null;const it=Se*ur+Ae;return it>=p?null:it}if(xe>=Em&&xe<Em+ur*Ls){const Ae=Math.floor((xe-Em)/Ls);if(Ae<0||Ae>=ur)return null;const it=Se*ur+Ae;return it>=p?null:it}return null},Z=I.useCallback(xe=>{const Ne=xe.deltaY>0?Math.min(q.current+1,R):Math.max(q.current-1,0);Ne!==q.current&&be(Ne)},[R,be]),ue=xe=>{if(xe.button!==0)return;const Ne=xe.target.getBoundingClientRect(),Se=j(xe.clientX-Ne.left,xe.clientY-Ne.top);Se!==null&&(re(!0),ke(Se,Se))},we=xe=>{if(!O)return;const Ne=xe.target.getBoundingClientRect(),Se=j(xe.clientX-Ne.left,xe.clientY-Ne.top);if(Se!==null){const Ae=l[i];(Ae==null?void 0:Ae.start)!==null&&ke(Ae.start,Se)}},et=()=>re(!1),xt=xe=>{xe.preventDefault(),_({x:xe.clientX,y:xe.clientY})},Qe=()=>_(null),Be=xe=>{xe.preventDefault(),Ie(!0),z.current=!0,ct(xe.clientY),Mt(q.current),document.body.style.userSelect="none"},Ft=xe=>{xe.touches.length===1&&(Ie(!0),z.current=!0,ct(xe.touches[0].clientY),Mt(q.current),document.body.style.userSelect="none")},Tn=xe=>{if(!Le||xe.touches.length!==1)return;const Ne=xe.touches[0].clientY-qe,Se=L.height-Q;if(Se<=0)return;const Ae=Math.round(Ne/Se*(m-dt));let it=St+Ae;it=Math.max(0,Math.min(it,R)),it!==q.current&&(be(it),k.current&&d&&ye(it,k.current,d,p,dt+50))};I.useLayoutEffect(()=>{const xe=b.current;if(xe)return Le&&xe.addEventListener("touchmove",Tn,{passive:!1}),()=>{xe.removeEventListener("touchmove",Tn)}},[Le]);const Nt=()=>{Ie(!1),z.current=!1,document.body.style.userSelect="",Rt(xe=>xe+1)},gn=xe=>{xe.touches.length===1&&(K.current=xe.touches[0].clientY,Y.current=q.current)},wr=xe=>{if(!Le&&xe.touches.length===1&&K.current!==null&&Y.current!==null){const Ne=xe.touches[0].clientY-K.current,Se=-Math.round(Ne/Lr),Ae=Math.max(0,Math.min(Y.current+Se,R));Ae!==q.current&&be(Ae)}},qo=()=>{K.current=null,Y.current=null},Ko=I.useCallback(async xe=>{const Ne=l[i];if((Ne==null?void 0:Ne.start)!==null&&(Ne==null?void 0:Ne.end)!==null&&d){const Se=Math.min(Ne.start,Ne.end),it=Math.max(Ne.start,Ne.end)+1-Se,kt=Se+Math.min(it,Jue);try{const Pt=await d.slice(Se,kt).arrayBuffer(),Ct=new Uint8Array(Pt);let an="";for(let Nn=0;Nn<Ct.length;Nn+=eI){const Ln=Ct.slice(Nn,Math.min(Nn+eI,Ct.length));xe==="hex"?an+=Array.from(Ln).map(Mn=>Mn.toString(16).padStart(2,"0")).join(" ")+" ":an+=Array.from(Ln).map(Mn=>Mn>=32&&Mn<=126?String.fromCharCode(Mn):".").join("")}await navigator.clipboard.writeText(xe==="hex"?an.trim():an)}catch(Pt){console.error(`${xe.toUpperCase()}  :`,Pt),alert(" : "+Pt.message)}}_(null)},[l,i,d]),hd=I.useCallback(()=>Ko("hex"),[Ko]),ml=I.useCallback(()=>Ko("text"),[Ko]),Ou=I.useRef(0),Pu=I.useRef(0);I.useImperativeHandle(e,()=>({findByOffset:async xe=>{if(xe.trim()){const Ne=parseInt(xe,16);if(!isNaN(Ne)&&Ne>=0&&Ne<p)return{index:Ne,offset:1}}return null},findAllByHex:async xe=>{if(!d||!xe.trim())return null;h({status:"processing",type:"Hex",message:"..."});const Ne=xe.replace(/[^0-9a-fA-F]/g,"").toLowerCase();if(Ne.length%2!==0)return h({status:"failure",type:"Hex",message:"HEX  "}),null;const Se=new Uint8Array(Ne.match(/.{2}/g).map(it=>parseInt(it,16)));Ou.current+=1;const Ae=Ou.current;return new Promise(it=>{const kt=k.current;if(!kt)return h({status:"failure",type:"Hex",message:" "}),it(null);const Pt=Ct=>{Ct.data.type==="SEARCH_RESULT_HEX"&&Ct.data.searchId===Ou.current&&(kt.removeEventListener("message",Pt),Ct.data.results&&Ct.data.results.length>0?h({status:"success",type:"Hex",message:`  (${Ct.data.results.length})`}):h({status:"success",type:"Hex",message:"  "}),it(Ct.data.results))};kt.addEventListener("message",Pt),kt.postMessage({type:"SEARCH_HEX",file:d,pattern:Se,searchId:Ae})})},findAllByAsciiText:async(xe,Ne)=>{if(!d||!xe.trim())return null;h({status:"processing",type:"Ascii",message:"..."});const Se=lce(xe);Pu.current+=1;const Ae=Pu.current;return new Promise(it=>{const kt=k.current;if(!kt)return h({status:"failure",type:"Ascii",message:" "}),it(null);const Pt=Ct=>{Ct.data.type==="SEARCH_RESULT_ASCII"&&Ct.data.searchId===Pu.current&&(kt.removeEventListener("message",Pt),Ct.data.results&&Ct.data.results.length>0?h({status:"success",type:"Ascii",message:`  (${Ct.data.results.length})`}):h({status:"success",type:"Ascii",message:"  "}),it(Ct.data.results))};kt.addEventListener("message",Pt),kt.postMessage({type:"SEARCH_ASCII",file:d,pattern:Se,ignoreCase:Ne,searchId:Ae})})},scrollToIndex:(xe,Ne)=>{const Se=Math.floor(xe/ur);be(Se),ke(xe,xe+Ne-1)}}),[d,p,be,ke,h]),I.useEffect(()=>{if(!g.current)return;const xe=$2(),Ne=new window.ResizeObserver(Se=>{for(const Ae of Se){const it=yf?Q6*xe:Math.max(Ae.contentRect.width,Q6)*xe,kt=Math.floor(Ae.contentRect.height);X(Pt=>Pt.width!==it||Pt.height!==kt?{width:it,height:kt}:Pt)}});return Ne.observe(g.current),()=>Ne.disconnect()},[]);const Rn=I.useRef(new Set);return I.useEffect(()=>{var Ne;if(!d||!i)return;if(Rn.current.has(i)){const Se=u(i);if(Se){const Ae=o[i]??0;A.current.clear(),Se.cache.forEach((it,kt)=>{A.current.add(kt)}),S.current=Se.cache,k.current=Se.worker,q.current=Ae,E.current!==null&&cancelAnimationFrame(E.current),Rt(it=>it+1),(Ae>0||dt>0)&&ye(Ae,Se.worker,d,p,dt+20)}return}u(i)||(Rn.current.add(i),T.current=!0,G.current=!1,q.current=0,s(Se=>Se[i]===0?Se:{...Se,[i]:0}),(Ne=ge.current)==null||Ne.call(ge,0))},[d,i,u,o,ye,dt,p]),I.useEffect(()=>{B.current=f,$.current=r,ae.current=L,T.current||(E.current!==null&&cancelAnimationFrame(E.current),E.current=requestAnimationFrame(()=>{ze.current(),E.current=null}))},[mt,f,r,L]),I.useEffect(()=>{if(!Le)return;z.current=!0,k.current&&d&&ye(q.current,k.current,d,p,dt+100);let xe=0,Ne=null;const Se=Ct=>{z.current&&(Ct-xe>=Zue&&(ze.current(),xe=Ct),Ne=requestAnimationFrame(Se))};Ne=requestAnimationFrame(Se);let Ae=null,it=0;const kt=Ct=>{const an=Date.now();an-it<Que||(Ae!==null&&cancelAnimationFrame(Ae),Ae=requestAnimationFrame(()=>{const Nn=Ct.clientY-qe,Ln=L.height-Q;if(Ln<=0)return;const Mn=Math.round(Nn/Ln*(m-dt));let Xo=St+Mn;Xo=Math.max(0,Math.min(Xo,R)),Xo!==q.current&&be(Xo),it=an,k.current&&d&&ye(Xo,k.current,d,p,dt+50)}))},Pt=()=>{Ae!==null&&cancelAnimationFrame(Ae),Ne!==null&&cancelAnimationFrame(Ne),Ie(!1),z.current=!1,document.body.style.userSelect="",Rt(Ct=>Ct+1)};return window.addEventListener("mousemove",kt),window.addEventListener("mouseup",Pt),window.addEventListener("touchend",Pt),()=>{Ae!==null&&cancelAnimationFrame(Ae),Ne!==null&&cancelAnimationFrame(Ne),window.removeEventListener("mousemove",kt),window.removeEventListener("mouseup",Pt),window.removeEventListener("touchend",Pt)}},[Le,qe,St,m,dt,R,L.height,Q,d,p,ye,be]),I.useEffect(()=>{if(!d||!k.current||z.current)return;const xe=setTimeout(()=>{ye(q.current,k.current,d,p,dt+30)},ece);return()=>clearTimeout(xe)},[mt,d,dt,p,ye]),I.useEffect(()=>{if(!ce)return;const xe=Ne=>{v.current&&!v.current.contains(Ne.target)&&Qe()};return document.addEventListener("mousedown",xe),()=>{document.removeEventListener("mousedown",xe)}},[ce]),P.jsxs(jue,{onWheel:Z,onTouchStart:gn,onTouchMove:wr,onTouchEnd:qo,children:[P.jsx(Wue,{ref:g,tabIndex:0,children:P.jsx(Uue,{style:{minWidth:`${Q6}px`},children:P.jsx(que,{ref:y,width:L.width,height:L.height,style:{width:`${L.width/$2()}px`,height:`${L.height}px`},onMouseDown:ue,onMouseMove:we,onMouseUp:et,onContextMenu:xt})})}),m>dt&&P.jsx(Kue,{children:P.jsx(Gue,{ref:b,$dragging:Le.toString(),$height:Q,$top:oe,onMouseDown:Be,onTouchStart:Ft,onTouchEnd:Nt})}),ce&&P.jsx(Yue,{ref:v,style:{top:ce.y-(((Yo=g.current)==null?void 0:Yo.getBoundingClientRect().top)||0),left:ce.x-(((hh=g.current)==null?void 0:hh.getBoundingClientRect().left)||0)},onClick:Qe,onBlur:Qe,children:P.jsxs(Xue,{children:[P.jsx(Q_,{onClick:hd,children:"Copy (Hex String)"}),P.jsx(Q_,{onClick:ml,children:"Copy (ASCII Text)"})]})})]})},hce=I.forwardRef(cce),fce=async t=>{if(t.size<=262144*2)return t.arrayBuffer();const[n,r]=await Promise.all([t.slice(0,262144).arrayBuffer(),t.slice(t.size-262144).arrayBuffer()]),i=new Uint8Array(262144*2);return i.set(new Uint8Array(n),0),i.set(new Uint8Array(r),262144),i.buffer};function nI(t){if(typeof t=="number")return isFinite(t);if(typeof t=="string"&&t.trim()!==""){const e=Number(t);return!isNaN(e)&&isFinite(e)}return!1}const dce=(t,e)=>new Promise((n,r)=>{let i=new kakao.maps.services.Geocoder,o=new kakao.maps.LatLng(t,e),s=function(l,a){var u,c,h,f;if(a===kakao.maps.services.Status.OK){let d=(c=(u=l[0])==null?void 0:u.road_address)==null?void 0:c.address_name,p=(f=(h=l[0])==null?void 0:h.address)==null?void 0:f.address_name;n(d||p)}else r(a)};i.coord2Address(o.getLng(),o.getLat(),s)});function EM(t,e){return nI(t)&&nI(e)}const pce=async(t,e,n)=>{let r=null,i="",o="NaN",s="NaN",l="";try{const a=JSON.parse(t);a&&Array.isArray(a)&&(r=await Promise.all(a.map(async(u,c)=>{let h=u.data;if(u.tag==="Location")try{[o,s]=u.origindata.split(",").map(f=>f.trim()),EM(o,s)&&(l=await dce(o,s),h=l)}catch(f){console.error("Location  :",f)}return{id:c+1,meta:u.tag,comment:u.comment,data:h,origindata:u.origindata,name:u.name,type:u.type,unit:u.unit,example:u.example}}))),n!=null&&n.startsWith("image")&&(i=URL.createObjectURL(e))}catch(a){console.error("EXIF  :",a)}return{rows:r,thumbnail:i,location:{lat:o,lng:s,address:l}}},mce=({hexViewerRef:t,openModal:e},n)=>{const{setTabData:r,setActiveKey:i,getNewKey:o}=Up(),{setProcessInfo:s,isProcessing:l}=vM(),a=I.useRef(null),u=I.useRef(null),[c,h]=I.useState(!1),f=()=>{var v;(v=a.current)==null||v.click()},d=()=>{e("help")},p=()=>{e("about")},m=()=>{h(!c)},y=v=>{switch(h(!1),v){case"linknote":window.open("/linknote","_blank");break}},g=async v=>{var k;const w=(k=v.target.files)==null?void 0:k[0];if(!w)return;let b="success",S="";s({fileName:w.name,status:"processing",message:""});try{const T=await fce(w),A=new Uint8Array(T),z=o(),E={label:w.name,contents:P.jsx(hce,{ref:t})};i(z);const B=await window.goFunc(A);B.error&&(console.error(B),b="failure",S=B.error);const{rows:$,thumbnail:ae,location:G}=await pce(B.exif_data||"[]",w,B.mime_type);r(q=>({...q,[z]:{window:E,fileinfo:{name:w.name,lastModified:w.lastModified,size:w.size,mime_type:B.mime_type,extension:B.extension},location:G,thumbnail:ae,rows:$,file:w}}))}catch(T){console.error("  :",T),b="failure",S=T instanceof Error?T.message:"   "}finally{s({status:b,message:S}),a.current&&(a.current.value="")}};return I.useImperativeHandle(n,()=>({openBtnClick:f,helpBtnClick:d,aboutBtnClick:p})),I.useEffect(()=>{const v=w=>{u.current&&!u.current.contains(w.target)&&h(!1)};return c&&document.addEventListener("mousedown",v),()=>{document.removeEventListener("mousedown",v)}},[c]),P.jsxs(gce,{children:[P.jsx(F2,{onClick:f,text:"Open",disabled:l,disabledTxt:"   "}),P.jsx(yce,{type:"file",ref:a,onChange:g}),P.jsxs(vce,{ref:u,children:[P.jsx(F2,{onClick:m,text:"Tools"}),c&&P.jsx(wce,{children:P.jsx(xce,{children:P.jsx(bce,{onClick:()=>y("linknote"),children:"LinkNote"})})})]}),P.jsx(F2,{onClick:d,text:"Help"}),P.jsx(F2,{onClick:p,text:"About"})]})},gce=de.div`
  display: flex;
  align-items: center;
  gap: 2px;
  height: 100%;
  user-select: none;
`,yce=de.input`
  display: none;
`,vce=de.div`
  position: relative;
`,wce=de.div`
  position: absolute;
  top: calc(100%);
  left: 0;
  background-color: var(--main-bg-color);
  border: 1px solid var(--main-line-color);
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
  z-index: 999;
  min-width: 120px;
  border-radius: 4px;
  padding: 0;
  user-select: none;
  outline: none;
`,xce=de.ul`
  list-style: none;
  margin: 0;
  padding: 5px 5px;
`,bce=de.li`
  padding: 3px 12px;
  cursor: pointer;
  color: var(--main-color);
  background: transparent;
  font-size: 0.75rem;
  text-align: left;
  border-radius: 3px;
  transition: all 0.15s ease;

  &:hover {
    background: var(--main-hover-color);
    color: var(--ice-main-color);
  }
`,kce=Lo.forwardRef(mce),Sce=de.div`
  display: flex;
  flex-direction: column;
  height: 100%;
  width: 100%;
  overflow: hidden;
`,Cce=de.div`
  display: flex;
  align-items: center;
  overflow-x: auto;
  width: 100%;
  border-bottom: ${t=>t.$empty?"none":"1px solid var(--main-line-color)"};

  /*   */
  // Chrome, Safari, Edge, Opera
  &::-webkit-scrollbar {
    display: block !important;
    width: 5px; /*   */
    height: 5px; /* Scrollbar  */
  }
  &::-webkit-scrollbar-thumb {
    background-color: rgba(255, 255, 255, 0.3); /*   */
    &:hover {
      /*     */
      background-color: var(--main-hover-line-color);
    }
  }
  /*   */
`,Tce=de.div`
  display: flex;
  align-items: center;
  font-size: 0.7rem;
  font-weight: 700;
  height: 25px;
  padding: 0px 5px 0px 15px;
  border-right: 1px solid var(--main-line-color);
  cursor: pointer;
  /* border-bottom  */
  /* color   */
  color: ${t=>t.$active?"var(--ice-main-color)":"var(--main-color)"};
  position: relative; /* ::after   */
  &:hover {
    color: var(--ice-main-color);
    background-color: var(--main-hover-color);
    ${t=>t.$active?"":`
          &::after {
            content: '';
            position: absolute;
            left: 0;
            right: 0;
            bottom: 0;
            height: 2px;
            background: var(--main-hover-line-color);
            pointer-events: none;
          }
        `};
    svg {
      stroke: var(--main-hover-line-color);
    }
  }
  /*  :   ::after  */
  &::after {
    content: '';
    display: ${t=>t.$active?"block":"none"};
    position: absolute;
    left: 0;
    right: 0;
    bottom: 0;
    height: 2px;
    background: var(--ice-main-color);
    pointer-events: none;
  }
  white-space: nowrap; /*    */
`,Mce=de.div`
  margin-left: 5px;
  display: flex;
  align-items: center;
  svg {
    stroke: ${t=>t.$active?"var(--main-line-color)":"none"};
  }
  &:hover {
    svg {
      stroke: var(--ice-main-color); //     
    }
  }
`,Ace=de.div`
  flex-grow: 1; //    
  padding: 0px;
  overflow: hidden; //    

  @media (max-width: 900px) {
    overflow-x: auto;
    -webkit-overflow-scrolling: touch;
  }
`;de.div`
  position: relative;
  opacity: ${t=>t.$isDragging?.5:1};
  cursor: move;

  ${t=>t.$dropPosition&&`
    &::${t.$dropPosition==="left"?"before":"after"} {
      content: '';
      position: absolute;
      top: 0;
      ${t.$dropPosition}: 0;
      width: 3px;
      height: 100%;
      background-color: var(--main-line-color);
      z-index: 1000;
    }
  `}
`;const OM=({width:t=18,height:e=18,color:n="white"})=>P.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-x",width:t,height:e,viewBox:"0 0 24 24",strokeWidth:"2.5",stroke:n,fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[P.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),P.jsx("path",{d:"M18 6l-12 12"}),P.jsx("path",{d:"M6 6l12 12"})]}),Ece=()=>{const t=I.useRef(null),e=I.useRef(null),{tabData:n,setTabData:r,activeKey:i,setActiveKey:o,activeData:s,isEmpty:l,cleanupTab:a,tabOrder:u,reorderTabs:c}=Up(),[h,f]=I.useState(null),[d,p]=I.useState(null),m=I.useRef(null),y=I.useRef(!1),g=I.useCallback(E=>{o(E)},[o]),v=I.useCallback(E=>{const B=u.indexOf(E);if(E===i&&u.length>1){const $=B===0?1:B-1;o(u[$])}requestIdleCallback(()=>a(E),{timeout:100}),r($=>{const{[E]:ae,...G}=$;return G})},[i,u,o,r,a]),w=I.useCallback((E,B,$)=>{f(B),o($),E.dataTransfer.effectAllowed="move",E.dataTransfer.setData("text/plain",B.toString()),y.current=!1},[o]),b=I.useCallback((E,B)=>{if(E.preventDefault(),E.dataTransfer.dropEffect="move",h===null||h===B)return;const $=E.currentTarget.getBoundingClientRect(),ae=E.clientX-$.left<$.width/2?"left":"right",G={index:B,position:ae};p(G),m.current=G},[h]),S=I.useCallback(()=>{if(h===null||!m.current)return;const{index:E,position:B}=m.current;let $=B==="right"?E+1:E;h<$&&($-=1),h!==$&&c(h,$),f(null),p(null),m.current=null,y.current=!1},[h,c]),k=I.useCallback(E=>{E.preventDefault(),E.stopPropagation(),y.current=!0,S()},[S]),T=I.useCallback(()=>{y.current?(f(null),p(null),m.current=null,y.current=!1):S()},[S]),A=I.useCallback(E=>{if(h===null)return;E.preventDefault(),E.dataTransfer.dropEffect="move";const B=e.current;if(!B)return;const $=B.getBoundingClientRect(),ae=E.clientX;if(ae<$.left){const G={index:0,position:"left"};p(G),m.current=G}else if(ae>$.right){const G={index:u.length-1,position:"right"};p(G),m.current=G}},[h,u.length]),z=I.useMemo(()=>u.map((E,B)=>{const $=n[E];if(!$)return null;const ae=h===B,G=(d==null?void 0:d.index)===B&&d.position==="left",q=(d==null?void 0:d.index)===B&&d.position==="right";return P.jsxs("div",{draggable:!0,onDragStart:K=>w(K,B,E),onDragOver:K=>b(K,B),onDrop:k,onDragEnd:T,style:{opacity:ae?.5:1,cursor:"move",position:"relative"},children:[G&&P.jsx("div",{style:{position:"absolute",left:0,top:0,width:"3px",height:"100%",backgroundColor:"var(--main-line-color)",zIndex:1e3,pointerEvents:"none"}}),q&&P.jsx("div",{style:{position:"absolute",right:0,top:0,width:"3px",height:"100%",backgroundColor:"var(--main-line-color)",zIndex:1e3,pointerEvents:"none"}}),P.jsxs(Tce,{$active:E===i,onClick:()=>g(E),children:[$.window.label,P.jsx(Mce,{$active:E===i,onClick:K=>{K.stopPropagation(),v(E)},children:P.jsx(OM,{height:15,width:15})})]})]},E)}),[u,n,h,d,i,w,b,k,T,g,v]);return P.jsxs(Sce,{onDragOver:A,onDrop:k,children:[P.jsx(Cce,{ref:e,$empty:l,children:z}),P.jsx(Ace,{ref:t,children:s==null?void 0:s.window.contents})]})},Oce=Lo.memo(Ece),Pce=de.div``,Dce=de.div`
  display: flex;
  align-items: center;
  height: 25px;
  padding: 0px 15px 0px 15px;
  cursor: pointer;
  border-bottom: 1px solid var(--main-line-color);
  &:hover {
    background-color: var(--main-hover-color);
  }
  user-select: none;
`,_ce=de.div`
  display: flex;
  align-items: center;
`,Ice=de.div`
  font-weight: 600;
  font-size: 0.8rem;
  margin-left: 10px;
`,Rce=de.div`
  padding: ${({$removePadding:t})=>t?"0":"10px"};
  border-bottom: 1px solid var(--main-line-color);
  overflow: hidden;
  text-overflow: ellipsis;
`,Nce=({width:t=18,height:e=18,color:n="white"})=>P.jsx("svg",{width:t,height:e,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:P.jsx("path",{d:"M6 12L18 12",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),Lce=({width:t=18,height:e=18,color:n="white"})=>P.jsx("svg",{width:t,height:e,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:P.jsx("path",{d:"M4 12H20M12 4V20",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),ng=({title:t,children:e,open:n,removePadding:r})=>{const[i,o]=I.useState(n),s=()=>{o(!i)};return P.jsxs(Pce,{children:[P.jsxs(Dce,{onClick:s,children:[P.jsx(_ce,{children:i?P.jsx(Nce,{height:13,width:13,color:"var(--main-color)"}):P.jsx(Lce,{height:13,width:13,color:"var(--main-color)"})}),P.jsx(Ice,{children:t})]}),i&&P.jsx(Rce,{$removePadding:r,children:e})]})},Bce=de.div`
  height: 100%;
  width: 100%;
`,md=de.div`
  display: flex;
  gap: 5px;
  margin-bottom: 5px;
`,zce=de.div`
  width: 100%;
  text-align: center;
  align-items: center;
`,Fce=de.img`
  max-width: 100%;
  max-height: 150px;
  border: 1px solid var(--main-line-color);
`,gd=de.div`
  text-align: left;
  font-size: 0.75rem;
  min-width: 40%;
  font-weight: 500;
  &:hover {
    background-color: var(--main-hover-color);
  }
`,yd=de.div`
  text-align: left;
  font-size: 0.75rem;
  min-width: 60%;
  color: var(--ice-main-color);
  &:hover {
    background-color: var(--main-hover-color);
  }
  word-wrap: break-word;
`;var iU={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(w5,function(){var n=1e3,r=6e4,i=36e5,o="millisecond",s="second",l="minute",a="hour",u="day",c="week",h="month",f="quarter",d="year",p="date",m="Invalid Date",y=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,g=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,v={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(G){var q=["th","st","nd","rd"],K=G%100;return"["+G+(q[(K-20)%10]||q[K]||q[0])+"]"}},w=function(G,q,K){var Y=String(G);return!Y||Y.length>=q?G:""+Array(q+1-Y.length).join(K)+G},b={s:w,z:function(G){var q=-G.utcOffset(),K=Math.abs(q),Y=Math.floor(K/60),L=K%60;return(q<=0?"+":"-")+w(Y,2,"0")+":"+w(L,2,"0")},m:function G(q,K){if(q.date()<K.date())return-G(K,q);var Y=12*(K.year()-q.year())+(K.month()-q.month()),L=q.clone().add(Y,h),X=K-L<0,O=q.clone().add(Y+(X?-1:1),h);return+(-(Y+(K-L)/(X?L-O:O-L))||0)},a:function(G){return G<0?Math.ceil(G)||0:Math.floor(G)},p:function(G){return{M:h,y:d,w:c,d:u,D:p,h:a,m:l,s,ms:o,Q:f}[G]||String(G||"").toLowerCase().replace(/s$/,"")},u:function(G){return G===void 0}},S="en",k={};k[S]=v;var T="$isDayjsObject",A=function(G){return G instanceof $||!(!G||!G[T])},z=function G(q,K,Y){var L;if(!q)return S;if(typeof q=="string"){var X=q.toLowerCase();k[X]&&(L=X),K&&(k[X]=K,L=X);var O=q.split("-");if(!L&&O.length>1)return G(O[0])}else{var re=q.name;k[re]=q,L=re}return!Y&&L&&(S=L),L||!Y&&S},E=function(G,q){if(A(G))return G.clone();var K=typeof q=="object"?q:{};return K.date=G,K.args=arguments,new $(K)},B=b;B.l=z,B.i=A,B.w=function(G,q){return E(G,{locale:q.$L,utc:q.$u,x:q.$x,$offset:q.$offset})};var $=function(){function G(K){this.$L=z(K.locale,null,!0),this.parse(K),this.$x=this.$x||K.x||{},this[T]=!0}var q=G.prototype;return q.parse=function(K){this.$d=function(Y){var L=Y.date,X=Y.utc;if(L===null)return new Date(NaN);if(B.u(L))return new Date;if(L instanceof Date)return new Date(L);if(typeof L=="string"&&!/Z$/i.test(L)){var O=L.match(y);if(O){var re=O[2]-1||0,ce=(O[7]||"0").substring(0,3);return X?new Date(Date.UTC(O[1],re,O[3]||1,O[4]||0,O[5]||0,O[6]||0,ce)):new Date(O[1],re,O[3]||1,O[4]||0,O[5]||0,O[6]||0,ce)}}return new Date(L)}(K),this.init()},q.init=function(){var K=this.$d;this.$y=K.getFullYear(),this.$M=K.getMonth(),this.$D=K.getDate(),this.$W=K.getDay(),this.$H=K.getHours(),this.$m=K.getMinutes(),this.$s=K.getSeconds(),this.$ms=K.getMilliseconds()},q.$utils=function(){return B},q.isValid=function(){return this.$d.toString()!==m},q.isSame=function(K,Y){var L=E(K);return this.startOf(Y)<=L&&L<=this.endOf(Y)},q.isAfter=function(K,Y){return E(K)<this.startOf(Y)},q.isBefore=function(K,Y){return this.endOf(Y)<E(K)},q.$g=function(K,Y,L){return B.u(K)?this[Y]:this.set(L,K)},q.unix=function(){return Math.floor(this.valueOf()/1e3)},q.valueOf=function(){return this.$d.getTime()},q.startOf=function(K,Y){var L=this,X=!!B.u(Y)||Y,O=B.p(K),re=function(Mt,mt){var Rt=B.w(L.$u?Date.UTC(L.$y,mt,Mt):new Date(L.$y,mt,Mt),L);return X?Rt:Rt.endOf(u)},ce=function(Mt,mt){return B.w(L.toDate()[Mt].apply(L.toDate("s"),(X?[0,0,0,0]:[23,59,59,999]).slice(mt)),L)},_=this.$W,Le=this.$M,Ie=this.$D,qe="set"+(this.$u?"UTC":"");switch(O){case d:return X?re(1,0):re(31,11);case h:return X?re(1,Le):re(0,Le+1);case c:var ct=this.$locale().weekStart||0,St=(_<ct?_+7:_)-ct;return re(X?Ie-St:Ie+(6-St),Le);case u:case p:return ce(qe+"Hours",0);case a:return ce(qe+"Minutes",1);case l:return ce(qe+"Seconds",2);case s:return ce(qe+"Milliseconds",3);default:return this.clone()}},q.endOf=function(K){return this.startOf(K,!1)},q.$set=function(K,Y){var L,X=B.p(K),O="set"+(this.$u?"UTC":""),re=(L={},L[u]=O+"Date",L[p]=O+"Date",L[h]=O+"Month",L[d]=O+"FullYear",L[a]=O+"Hours",L[l]=O+"Minutes",L[s]=O+"Seconds",L[o]=O+"Milliseconds",L)[X],ce=X===u?this.$D+(Y-this.$W):Y;if(X===h||X===d){var _=this.clone().set(p,1);_.$d[re](ce),_.init(),this.$d=_.set(p,Math.min(this.$D,_.daysInMonth())).$d}else re&&this.$d[re](ce);return this.init(),this},q.set=function(K,Y){return this.clone().$set(K,Y)},q.get=function(K){return this[B.p(K)]()},q.add=function(K,Y){var L,X=this;K=Number(K);var O=B.p(Y),re=function(Le){var Ie=E(X);return B.w(Ie.date(Ie.date()+Math.round(Le*K)),X)};if(O===h)return this.set(h,this.$M+K);if(O===d)return this.set(d,this.$y+K);if(O===u)return re(1);if(O===c)return re(7);var ce=(L={},L[l]=r,L[a]=i,L[s]=n,L)[O]||1,_=this.$d.getTime()+K*ce;return B.w(_,this)},q.subtract=function(K,Y){return this.add(-1*K,Y)},q.format=function(K){var Y=this,L=this.$locale();if(!this.isValid())return L.invalidDate||m;var X=K||"YYYY-MM-DDTHH:mm:ssZ",O=B.z(this),re=this.$H,ce=this.$m,_=this.$M,Le=L.weekdays,Ie=L.months,qe=L.meridiem,ct=function(mt,Rt,dt,R){return mt&&(mt[Rt]||mt(Y,X))||dt[Rt].slice(0,R)},St=function(mt){return B.s(re%12||12,mt,"0")},Mt=qe||function(mt,Rt,dt){var R=mt<12?"AM":"PM";return dt?R.toLowerCase():R};return X.replace(g,function(mt,Rt){return Rt||function(dt){switch(dt){case"YY":return String(Y.$y).slice(-2);case"YYYY":return B.s(Y.$y,4,"0");case"M":return _+1;case"MM":return B.s(_+1,2,"0");case"MMM":return ct(L.monthsShort,_,Ie,3);case"MMMM":return ct(Ie,_);case"D":return Y.$D;case"DD":return B.s(Y.$D,2,"0");case"d":return String(Y.$W);case"dd":return ct(L.weekdaysMin,Y.$W,Le,2);case"ddd":return ct(L.weekdaysShort,Y.$W,Le,3);case"dddd":return Le[Y.$W];case"H":return String(re);case"HH":return B.s(re,2,"0");case"h":return St(1);case"hh":return St(2);case"a":return Mt(re,ce,!0);case"A":return Mt(re,ce,!1);case"m":return String(ce);case"mm":return B.s(ce,2,"0");case"s":return String(Y.$s);case"ss":return B.s(Y.$s,2,"0");case"SSS":return B.s(Y.$ms,3,"0");case"Z":return O}return null}(mt)||O.replace(":","")})},q.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},q.diff=function(K,Y,L){var X,O=this,re=B.p(Y),ce=E(K),_=(ce.utcOffset()-this.utcOffset())*r,Le=this-ce,Ie=function(){return B.m(O,ce)};switch(re){case d:X=Ie()/12;break;case h:X=Ie();break;case f:X=Ie()/3;break;case c:X=(Le-_)/6048e5;break;case u:X=(Le-_)/864e5;break;case a:X=Le/i;break;case l:X=Le/r;break;case s:X=Le/n;break;default:X=Le}return L?X:B.a(X)},q.daysInMonth=function(){return this.endOf(h).$D},q.$locale=function(){return k[this.$L]},q.locale=function(K,Y){if(!K)return this.$L;var L=this.clone(),X=z(K,Y,!0);return X&&(L.$L=X),L},q.clone=function(){return B.w(this.$d,this)},q.toDate=function(){return new Date(this.valueOf())},q.toJSON=function(){return this.isValid()?this.toISOString():null},q.toISOString=function(){return this.$d.toISOString()},q.toString=function(){return this.$d.toUTCString()},G}(),ae=$.prototype;return E.prototype=ae,[["$ms",o],["$s",s],["$m",l],["$H",a],["$W",u],["$M",h],["$y",d],["$D",p]].forEach(function(G){ae[G[1]]=function(q){return this.$g(q,G[0],G[1])}}),E.extend=function(G,q){return G.$i||(G(q,$,E),G.$i=!0),E},E.locale=z,E.isDayjs=A,E.unix=function(G){return E(1e3*G)},E.en=k[S],E.Ls=k,E.p={},E})})(iU);var $ce=iU.exports;const Vce=mb($ce),Hce="YYYY MM DD HH mm ss",jce=t=>{const e=Vce(t);return e.isValid()?e.format(Hce):""},vl=(t,e)=>{const n=e.getFullYear()-t.getFullYear(),r=e.getMonth()-t.getMonth(),i=e.getDate()-t.getDate();let o=n,s=r;return i<0&&s--,s<0&&(o--,s+=12),`${o?o+" ":""}${s}`},Wce=(t,e=2)=>{if(t===0)return"0 B";const n=1024,r=["B","KB","MB","GB","TB"],i=Math.floor(Math.log(t)/Math.log(n));return`${parseFloat((t/Math.pow(n,i)).toFixed(e))} ${r[i]} (${t.toLocaleString()} Byte)`},Uce=de("div")`
  width: 100%;
  height: 150px;
`,qce=de("div")`
  width: 100%;
  height: 100%;
`,Kce=({latitude:t,longitude:e})=>{I.useLayoutEffect(()=>{if(EM(t,e))try{n(t,e)}catch(r){console.log(r)}},[t,e]);const n=(r,i)=>{let o=document.getElementById("IceLocaionMap"),s={center:new kakao.maps.LatLng(r,i),level:3};const l=new kakao.maps.Map(o,s);let a=new kakao.maps.LatLng(r,i);new kakao.maps.Marker({position:a}).setMap(l)};return P.jsx(P.Fragment,{children:P.jsx(Uce,{children:P.jsx(qce,{id:"IceLocaionMap"})})})},Gce=()=>{const{activeData:t}=Up();return P.jsxs(Bce,{children:[(t==null?void 0:t.thumbnail)&&P.jsx(ng,{title:"Thumbnail",children:P.jsx(P.Fragment,{children:P.jsx(zce,{children:P.jsx(Fce,{src:t==null?void 0:t.thumbnail})})}),open:!0}),(t==null?void 0:t.fileinfo)&&P.jsx(ng,{title:"File Info",children:P.jsxs(P.Fragment,{children:[P.jsxs(md,{children:[P.jsx(gd,{children:""}),P.jsx(yd,{children:t.fileinfo.name})]}),P.jsxs(md,{children:[P.jsx(gd,{children:"  "}),P.jsx(yd,{children:jce(t.fileinfo.lastModified)})]}),P.jsxs(md,{children:[P.jsx(gd,{children:""}),P.jsx(yd,{children:Wce(t.fileinfo.size)})]}),P.jsxs(md,{children:[P.jsx(gd,{children:P.jsx(hc,{text:"  MIME   ",children:"MIME "})}),P.jsx(yd,{children:t.fileinfo.mime_type||"-"})]}),P.jsxs(md,{children:[P.jsx(gd,{children:P.jsx(hc,{text:"//     ",children:" "})}),P.jsx(yd,{children:t.fileinfo.extension||"-"})]})]}),open:!0}),(t==null?void 0:t.location.address)&&EM(t==null?void 0:t.location.lat,t==null?void 0:t.location.lng)&&P.jsx(ng,{title:"Map",children:P.jsx(P.Fragment,{children:P.jsx(Kce,{latitude:(t==null?void 0:t.location.lat)||"",longitude:(t==null?void 0:t.location.lng)||""})}),open:!0,removePadding:!0}),(t==null?void 0:t.rows)&&t.rows.length>0&&P.jsx(ng,{title:"Exif Data",children:P.jsx(P.Fragment,{children:t.rows.map((e,n)=>P.jsxs(md,{children:[P.jsx(gd,{children:P.jsx(hc,{text:e.meta,children:e.name.split("(")[0]})}),P.jsx(yd,{children:P.jsx(hc,{text:e.origindata,children:e.data})})]},`${n}-info`))}),open:!0})]})},rI=Lo.memo(Gce),Yce=de.div`
  display: ${({$isOpen:t})=>t?"block":"none"};
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: rgba(0, 0, 0, 0.5);
  z-index: 1000;
`,Xce=de.div`
  font-size: 0.75rem;
  position: absolute;
  top: ${({$top:t})=>t};
  left: ${({$left:t})=>t};
  transform: ${({$top:t,$left:e})=>`translate(-${t}, -${e})`};
  background-color: var(--main-bg-color);
  padding: 10px 10px 10px 10px;
  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
  border-radius: 4px;
  border: 1px solid var(--main-line-color);
  width: 80vw;
  max-width: 800px;
`,Jce=de.div`
  height: 70vh;
  max-height: 800px;
  border: 1px solid var(--main-line-color);
`,Zce=de.div`
  display: flex;
  justify-content: space-between;
  align-items: center;
  border-bottom: 1px solid var(--main-line-color);
  padding-bottom: 10px;
  margin-bottom: 10px;
`,Qce=de.div`
  margin-left: 5px;
  display: flex;
  align-items: center;
  cursor: pointer;
  svg {
    stroke: var(--main-line-color);
  }
  &:hover {
    svg {
      stroke: var(--ice-main-color); //     
    }
  }
`,ehe=({title:t,isOpen:e,onClose:n,children:r,top:i,left:o})=>{if(!e)return null;const s=l=>{l.target===l.currentTarget&&n&&n()};return P.jsx(Yce,{$isOpen:e,onClick:s,children:P.jsxs(Xce,{$top:i||"50%",$left:o||"50%",onClick:l=>l.stopPropagation(),children:[P.jsxs(Zce,{children:[P.jsx("div",{children:t}),P.jsx(Qce,{onClick:n,children:P.jsx(OM,{height:20,width:20})})]}),P.jsx(Jce,{children:r})]})})};function the(t,e){const n={};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const nhe=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,rhe=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,ihe={};function iI(t,e){return(ihe.jsx?rhe:nhe).test(t)}const ohe=/[ \t\n\f\r]/g;function she(t){return typeof t=="object"?t.type==="text"?oI(t.value):!1:oI(t)}function oI(t){return t.replace(ohe,"")===""}let Rv=class{constructor(e,n,r){this.property=e,this.normal=n,r&&(this.space=r)}};Rv.prototype.property={};Rv.prototype.normal={};Rv.prototype.space=null;function oU(t,e){const n={},r={};let i=-1;for(;++i<t.length;)Object.assign(n,t[i].property),Object.assign(r,t[i].normal);return new Rv(n,r,e)}function TS(t){return t.toLowerCase()}class Ps{constructor(e,n){this.property=e,this.attribute=n}}Ps.prototype.space=null;Ps.prototype.boolean=!1;Ps.prototype.booleanish=!1;Ps.prototype.overloadedBoolean=!1;Ps.prototype.number=!1;Ps.prototype.commaSeparated=!1;Ps.prototype.spaceSeparated=!1;Ps.prototype.commaOrSpaceSeparated=!1;Ps.prototype.mustUseProperty=!1;Ps.prototype.defined=!1;let lhe=0;const At=ed(),cr=ed(),sU=ed(),De=ed(),yn=ed(),p0=ed(),xo=ed();function ed(){return 2**++lhe}const MS=Object.freeze(Object.defineProperty({__proto__:null,boolean:At,booleanish:cr,commaOrSpaceSeparated:xo,commaSeparated:p0,number:De,overloadedBoolean:sU,spaceSeparated:yn},Symbol.toStringTag,{value:"Module"})),e7=Object.keys(MS);class PM extends Ps{constructor(e,n,r,i){let o=-1;if(super(e,n),sI(this,"space",i),typeof r=="number")for(;++o<e7.length;){const s=e7[o];sI(this,e7[o],(r&MS[s])===MS[s])}}}PM.prototype.defined=!0;function sI(t,e,n){n&&(t[e]=n)}const ahe={}.hasOwnProperty;function Kp(t){const e={},n={};let r;for(r in t.properties)if(ahe.call(t.properties,r)){const i=t.properties[r],o=new PM(r,t.transform(t.attributes||{},r),i,t.space);t.mustUseProperty&&t.mustUseProperty.includes(r)&&(o.mustUseProperty=!0),e[r]=o,n[TS(r)]=r,n[TS(o.attribute)]=r}return new Rv(e,n,t.space)}const lU=Kp({space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),aU=Kp({space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function uU(t,e){return e in t?t[e]:e}function cU(t,e){return uU(t,e.toLowerCase())}const hU=Kp({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:cU,properties:{xmlns:null,xmlnsXLink:null}}),fU=Kp({transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:cr,ariaAutoComplete:null,ariaBusy:cr,ariaChecked:cr,ariaColCount:De,ariaColIndex:De,ariaColSpan:De,ariaControls:yn,ariaCurrent:null,ariaDescribedBy:yn,ariaDetails:null,ariaDisabled:cr,ariaDropEffect:yn,ariaErrorMessage:null,ariaExpanded:cr,ariaFlowTo:yn,ariaGrabbed:cr,ariaHasPopup:null,ariaHidden:cr,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:yn,ariaLevel:De,ariaLive:null,ariaModal:cr,ariaMultiLine:cr,ariaMultiSelectable:cr,ariaOrientation:null,ariaOwns:yn,ariaPlaceholder:null,ariaPosInSet:De,ariaPressed:cr,ariaReadOnly:cr,ariaRelevant:null,ariaRequired:cr,ariaRoleDescription:yn,ariaRowCount:De,ariaRowIndex:De,ariaRowSpan:De,ariaSelected:cr,ariaSetSize:De,ariaSort:null,ariaValueMax:De,ariaValueMin:De,ariaValueNow:De,ariaValueText:null,role:null}}),uhe=Kp({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:cU,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:p0,acceptCharset:yn,accessKey:yn,action:null,allow:null,allowFullScreen:At,allowPaymentRequest:At,allowUserMedia:At,alt:null,as:null,async:At,autoCapitalize:null,autoComplete:yn,autoFocus:At,autoPlay:At,blocking:yn,capture:null,charSet:null,checked:At,cite:null,className:yn,cols:De,colSpan:null,content:null,contentEditable:cr,controls:At,controlsList:yn,coords:De|p0,crossOrigin:null,data:null,dateTime:null,decoding:null,default:At,defer:At,dir:null,dirName:null,disabled:At,download:sU,draggable:cr,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:At,formTarget:null,headers:yn,height:De,hidden:At,high:De,href:null,hrefLang:null,htmlFor:yn,httpEquiv:yn,id:null,imageSizes:null,imageSrcSet:null,inert:At,inputMode:null,integrity:null,is:null,isMap:At,itemId:null,itemProp:yn,itemRef:yn,itemScope:At,itemType:yn,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:At,low:De,manifest:null,max:null,maxLength:De,media:null,method:null,min:null,minLength:De,multiple:At,muted:At,name:null,nonce:null,noModule:At,noValidate:At,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:At,optimum:De,pattern:null,ping:yn,placeholder:null,playsInline:At,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:At,referrerPolicy:null,rel:yn,required:At,reversed:At,rows:De,rowSpan:De,sandbox:yn,scope:null,scoped:At,seamless:At,selected:At,shadowRootClonable:At,shadowRootDelegatesFocus:At,shadowRootMode:null,shape:null,size:De,sizes:null,slot:null,span:De,spellCheck:cr,src:null,srcDoc:null,srcLang:null,srcSet:null,start:De,step:null,style:null,tabIndex:De,target:null,title:null,translate:null,type:null,typeMustMatch:At,useMap:null,value:cr,width:De,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:yn,axis:null,background:null,bgColor:null,border:De,borderColor:null,bottomMargin:De,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:At,declare:At,event:null,face:null,frame:null,frameBorder:null,hSpace:De,leftMargin:De,link:null,longDesc:null,lowSrc:null,marginHeight:De,marginWidth:De,noResize:At,noHref:At,noShade:At,noWrap:At,object:null,profile:null,prompt:null,rev:null,rightMargin:De,rules:null,scheme:null,scrolling:cr,standby:null,summary:null,text:null,topMargin:De,valueType:null,version:null,vAlign:null,vLink:null,vSpace:De,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:At,disableRemotePlayback:At,prefix:null,property:null,results:De,security:null,unselectable:null}}),che=Kp({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:uU,properties:{about:xo,accentHeight:De,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:De,amplitude:De,arabicForm:null,ascent:De,attributeName:null,attributeType:null,azimuth:De,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:De,by:null,calcMode:null,capHeight:De,className:yn,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:De,diffuseConstant:De,direction:null,display:null,dur:null,divisor:De,dominantBaseline:null,download:At,dx:null,dy:null,edgeMode:null,editable:null,elevation:De,enableBackground:null,end:null,event:null,exponent:De,externalResourcesRequired:null,fill:null,fillOpacity:De,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:p0,g2:p0,glyphName:p0,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:De,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:De,horizOriginX:De,horizOriginY:De,id:null,ideographic:De,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:De,k:De,k1:De,k2:De,k3:De,k4:De,kernelMatrix:xo,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:De,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:De,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:De,overlineThickness:De,paintOrder:null,panose1:null,path:null,pathLength:De,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:yn,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:De,pointsAtY:De,pointsAtZ:De,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:xo,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:xo,rev:xo,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:xo,requiredFeatures:xo,requiredFonts:xo,requiredFormats:xo,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:De,specularExponent:De,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:De,strikethroughThickness:De,string:null,stroke:null,strokeDashArray:xo,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:De,strokeOpacity:De,strokeWidth:null,style:null,surfaceScale:De,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:xo,tabIndex:De,tableValues:null,target:null,targetX:De,targetY:De,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:xo,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:De,underlineThickness:De,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:De,values:null,vAlphabetic:De,vMathematical:De,vectorEffect:null,vHanging:De,vIdeographic:De,version:null,vertAdvY:De,vertOriginX:De,vertOriginY:De,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:De,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),hhe=/^data[-\w.:]+$/i,lI=/-[a-z]/g,fhe=/[A-Z]/g;function dhe(t,e){const n=TS(e);let r=e,i=Ps;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&hhe.test(e)){if(e.charAt(4)==="-"){const o=e.slice(5).replace(lI,mhe);r="data"+o.charAt(0).toUpperCase()+o.slice(1)}else{const o=e.slice(4);if(!lI.test(o)){let s=o.replace(fhe,phe);s.charAt(0)!=="-"&&(s="-"+s),e="data"+s}}i=PM}return new i(r,e)}function phe(t){return"-"+t.toLowerCase()}function mhe(t){return t.charAt(1).toUpperCase()}const ghe={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},yhe=oU([aU,lU,hU,fU,uhe],"html"),DM=oU([aU,lU,hU,fU,che],"svg");function vhe(t){return t.join(" ").trim()}var dU={},aI=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,whe=/\n/g,xhe=/^\s*/,bhe=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,khe=/^:\s*/,She=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,Che=/^[;\s]*/,The=/^\s+|\s+$/g,Mhe=`
`,uI="/",cI="*",Nh="",Ahe="comment",Ehe="declaration",Ohe=function(t,e){if(typeof t!="string")throw new TypeError("First argument must be a string");if(!t)return[];e=e||{};var n=1,r=1;function i(p){var m=p.match(whe);m&&(n+=m.length);var y=p.lastIndexOf(Mhe);r=~y?p.length-y:r+p.length}function o(){var p={line:n,column:r};return function(m){return m.position=new s(p),u(),m}}function s(p){this.start=p,this.end={line:n,column:r},this.source=e.source}s.prototype.content=t;function l(p){var m=new Error(e.source+":"+n+":"+r+": "+p);if(m.reason=p,m.filename=e.source,m.line=n,m.column=r,m.source=t,!e.silent)throw m}function a(p){var m=p.exec(t);if(m){var y=m[0];return i(y),t=t.slice(y.length),m}}function u(){a(xhe)}function c(p){var m;for(p=p||[];m=h();)m!==!1&&p.push(m);return p}function h(){var p=o();if(!(uI!=t.charAt(0)||cI!=t.charAt(1))){for(var m=2;Nh!=t.charAt(m)&&(cI!=t.charAt(m)||uI!=t.charAt(m+1));)++m;if(m+=2,Nh===t.charAt(m-1))return l("End of comment missing");var y=t.slice(2,m-2);return r+=2,i(y),t=t.slice(m),r+=2,p({type:Ahe,comment:y})}}function f(){var p=o(),m=a(bhe);if(m){if(h(),!a(khe))return l("property missing ':'");var y=a(She),g=p({type:Ehe,property:hI(m[0].replace(aI,Nh)),value:y?hI(y[0].replace(aI,Nh)):Nh});return a(Che),g}}function d(){var p=[];c(p);for(var m;m=f();)m!==!1&&(p.push(m),c(p));return p}return u(),d()};function hI(t){return t?t.replace(The,Nh):Nh}var Phe=w5&&w5.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(dU,"__esModule",{value:!0});var fI=dU.default=_he,Dhe=Phe(Ohe);function _he(t,e){var n=null;if(!t||typeof t!="string")return n;var r=(0,Dhe.default)(t),i=typeof e=="function";return r.forEach(function(o){if(o.type==="declaration"){var s=o.property,l=o.value;i?e(s,l,o):l&&(n=n||{},n[s]=l)}}),n}const Ihe=fI.default||fI,pU=mU("end"),_M=mU("start");function mU(t){return e;function e(n){const r=n&&n.position&&n.position[t]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function Rhe(t){const e=_M(t),n=pU(t);if(e&&n)return{start:e,end:n}}function t1(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?dI(t.position):"start"in t||"end"in t?dI(t):"line"in t||"column"in t?AS(t):""}function AS(t){return pI(t&&t.line)+":"+pI(t&&t.column)}function dI(t){return AS(t&&t.start)+"-"+AS(t&&t.end)}function pI(t){return t&&typeof t=="number"?t:1}class vi extends Error{constructor(e,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",o={},s=!1;if(n&&("line"in n&&"column"in n?o={place:n}:"start"in n&&"end"in n?o={place:n}:"type"in n?o={ancestors:[n],place:n.position}:o={...n}),typeof e=="string"?i=e:!o.cause&&e&&(s=!0,i=e.message,o.cause=e),!o.ruleId&&!o.source&&typeof r=="string"){const a=r.indexOf(":");a===-1?o.ruleId=r:(o.source=r.slice(0,a),o.ruleId=r.slice(a+1))}if(!o.place&&o.ancestors&&o.ancestors){const a=o.ancestors[o.ancestors.length-1];a&&(o.place=a.position)}const l=o.place&&"start"in o.place?o.place.start:o.place;this.ancestors=o.ancestors||void 0,this.cause=o.cause||void 0,this.column=l?l.column:void 0,this.fatal=void 0,this.file,this.message=i,this.line=l?l.line:void 0,this.name=t1(o.place)||"1:1",this.place=o.place||void 0,this.reason=this.message,this.ruleId=o.ruleId||void 0,this.source=o.source||void 0,this.stack=s&&o.cause&&typeof o.cause.stack=="string"?o.cause.stack:"",this.actual,this.expected,this.note,this.url}}vi.prototype.file="";vi.prototype.name="";vi.prototype.reason="";vi.prototype.message="";vi.prototype.stack="";vi.prototype.column=void 0;vi.prototype.line=void 0;vi.prototype.ancestors=void 0;vi.prototype.cause=void 0;vi.prototype.fatal=void 0;vi.prototype.place=void 0;vi.prototype.ruleId=void 0;vi.prototype.source=void 0;const IM={}.hasOwnProperty,Nhe=new Map,Lhe=/[A-Z]/g,Bhe=/-([a-z])/g,zhe=new Set(["table","tbody","thead","tfoot","tr"]),Fhe=new Set(["td","th"]),gU="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function $he(t,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=e.filePath||void 0;let r;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=Ghe(n,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=Khe(n,e.jsx,e.jsxs)}const i={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:r,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?DM:yhe,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},o=yU(i,t,void 0);return o&&typeof o!="string"?o:i.create(t,i.Fragment,{children:o||void 0},void 0)}function yU(t,e,n){if(e.type==="element")return Vhe(t,e,n);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return Hhe(t,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return Whe(t,e,n);if(e.type==="mdxjsEsm")return jhe(t,e);if(e.type==="root")return Uhe(t,e,n);if(e.type==="text")return qhe(t,e)}function Vhe(t,e,n){const r=t.schema;let i=r;e.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=DM,t.schema=i),t.ancestors.push(e);const o=wU(t,e.tagName,!1),s=Yhe(t,e);let l=NM(t,e);return zhe.has(e.tagName)&&(l=l.filter(function(a){return typeof a=="string"?!she(a):!0})),vU(t,s,o,e),RM(s,l),t.ancestors.pop(),t.schema=r,t.create(e,o,s,n)}function Hhe(t,e){if(e.data&&e.data.estree&&t.evaluater){const r=e.data.estree.body[0];return r.type,t.evaluater.evaluateExpression(r.expression)}iy(t,e.position)}function jhe(t,e){if(e.data&&e.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(e.data.estree);iy(t,e.position)}function Whe(t,e,n){const r=t.schema;let i=r;e.name==="svg"&&r.space==="html"&&(i=DM,t.schema=i),t.ancestors.push(e);const o=e.name===null?t.Fragment:wU(t,e.name,!0),s=Xhe(t,e),l=NM(t,e);return vU(t,s,o,e),RM(s,l),t.ancestors.pop(),t.schema=r,t.create(e,o,s,n)}function Uhe(t,e,n){const r={};return RM(r,NM(t,e)),t.create(e,t.Fragment,r,n)}function qhe(t,e){return e.value}function vU(t,e,n,r){typeof n!="string"&&n!==t.Fragment&&t.passNode&&(e.node=r)}function RM(t,e){if(e.length>0){const n=e.length>1?e:e[0];n&&(t.children=n)}}function Khe(t,e,n){return r;function r(i,o,s,l){const u=Array.isArray(s.children)?n:e;return l?u(o,s,l):u(o,s)}}function Ghe(t,e){return n;function n(r,i,o,s){const l=Array.isArray(o.children),a=_M(r);return e(i,o,s,l,{columnNumber:a?a.column-1:void 0,fileName:t,lineNumber:a?a.line:void 0},void 0)}}function Yhe(t,e){const n={};let r,i;for(i in e.properties)if(i!=="children"&&IM.call(e.properties,i)){const o=Jhe(t,i,e.properties[i]);if(o){const[s,l]=o;t.tableCellAlignToStyle&&s==="align"&&typeof l=="string"&&Fhe.has(e.tagName)?r=l:n[s]=l}}if(r){const o=n.style||(n.style={});o[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function Xhe(t,e){const n={};for(const r of e.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&t.evaluater){const o=r.data.estree.body[0];o.type;const s=o.expression;s.type;const l=s.properties[0];l.type,Object.assign(n,t.evaluater.evaluateExpression(l.argument))}else iy(t,e.position);else{const i=r.name;let o;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&t.evaluater){const l=r.value.data.estree.body[0];l.type,o=t.evaluater.evaluateExpression(l.expression)}else iy(t,e.position);else o=r.value===null?!0:r.value;n[i]=o}return n}function NM(t,e){const n=[];let r=-1;const i=t.passKeys?new Map:Nhe;for(;++r<e.children.length;){const o=e.children[r];let s;if(t.passKeys){const a=o.type==="element"?o.tagName:o.type==="mdxJsxFlowElement"||o.type==="mdxJsxTextElement"?o.name:void 0;if(a){const u=i.get(a)||0;s=a+"-"+u,i.set(a,u+1)}}const l=yU(t,o,s);l!==void 0&&n.push(l)}return n}function Jhe(t,e,n){const r=dhe(t.schema,e);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?the(n):vhe(n)),r.property==="style"){let i=typeof n=="object"?n:Zhe(t,String(n));return t.stylePropertyNameCase==="css"&&(i=Qhe(i)),["style",i]}return[t.elementAttributeNameCase==="react"&&r.space?ghe[r.property]||r.property:r.attribute,n]}}function Zhe(t,e){const n={};try{Ihe(e,r)}catch(i){if(!t.ignoreInvalidStyle){const o=i,s=new vi("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:o,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw s.file=t.filePath||void 0,s.url=gU+"#cannot-parse-style-attribute",s}}return n;function r(i,o){let s=i;s.slice(0,2)!=="--"&&(s.slice(0,4)==="-ms-"&&(s="ms-"+s.slice(4)),s=s.replace(Bhe,tfe)),n[s]=o}}function wU(t,e,n){let r;if(!n)r={type:"Literal",value:e};else if(e.includes(".")){const i=e.split(".");let o=-1,s;for(;++o<i.length;){const l=iI(i[o])?{type:"Identifier",name:i[o]}:{type:"Literal",value:i[o]};s=s?{type:"MemberExpression",object:s,property:l,computed:!!(o&&l.type==="Literal"),optional:!1}:l}r=s}else r=iI(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(r.type==="Literal"){const i=r.value;return IM.call(t.components,i)?t.components[i]:i}if(t.evaluater)return t.evaluater.evaluateExpression(r);iy(t)}function iy(t,e){const n=new vi("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=t.filePath||void 0,n.url=gU+"#cannot-handle-mdx-estrees-without-createevaluater",n}function Qhe(t){const e={};let n;for(n in t)IM.call(t,n)&&(e[efe(n)]=t[n]);return e}function efe(t){let e=t.replace(Lhe,nfe);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function tfe(t,e){return e.toUpperCase()}function nfe(t){return"-"+t.toLowerCase()}const t7={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},rfe={};function LM(t,e){const n=rfe,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return xU(t,r,i)}function xU(t,e,n){if(ife(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return mI(t.children,e,n)}return Array.isArray(t)?mI(t,e,n):""}function mI(t,e,n){const r=[];let i=-1;for(;++i<t.length;)r[i]=xU(t[i],e,n);return r.join("")}function ife(t){return!!(t&&typeof t=="object")}const gI=document.createElement("i");function BM(t){const e="&"+t+";";gI.innerHTML=e;const n=gI.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}function gs(t,e,n,r){const i=t.length;let o=0,s;if(e<0?e=-e>i?0:i+e:e=e>i?i:e,n=n>0?n:0,r.length<1e4)s=Array.from(r),s.unshift(e,n),t.splice(...s);else for(n&&t.splice(e,n);o<r.length;)s=r.slice(o,o+1e4),s.unshift(e,0),t.splice(...s),o+=1e4,e+=1e4}function ss(t,e){return t.length>0?(gs(t,t.length,0,e),t):e}const yI={}.hasOwnProperty;function bU(t){const e={};let n=-1;for(;++n<t.length;)ofe(e,t[n]);return e}function ofe(t,e){let n;for(n in e){const i=(yI.call(t,n)?t[n]:void 0)||(t[n]={}),o=e[n];let s;if(o)for(s in o){yI.call(i,s)||(i[s]=[]);const l=o[s];sfe(i[s],Array.isArray(l)?l:l?[l]:[])}}}function sfe(t,e){let n=-1;const r=[];for(;++n<e.length;)(e[n].add==="after"?t:r).push(e[n]);gs(t,0,0,r)}function kU(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function Zs(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Oi=th(/[A-Za-z]/),si=th(/[\dA-Za-z]/),lfe=th(/[#-'*+\--9=?A-Z^-~]/);function Z5(t){return t!==null&&(t<32||t===127)}const ES=th(/\d/),afe=th(/[\dA-Fa-f]/),ufe=th(/[!-/:-@[-`{-~]/);function rt(t){return t!==null&&t<-2}function dn(t){return t!==null&&(t<0||t===32)}function Vt(t){return t===-2||t===-1||t===32}const $b=th(new RegExp("\\p{P}|\\p{S}","u")),Rf=th(/\s/);function th(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function Gp(t){const e=[];let n=-1,r=0,i=0;for(;++n<t.length;){const o=t.charCodeAt(n);let s="";if(o===37&&si(t.charCodeAt(n+1))&&si(t.charCodeAt(n+2)))i=2;else if(o<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(o))||(s=String.fromCharCode(o));else if(o>55295&&o<57344){const l=t.charCodeAt(n+1);o<56320&&l>56319&&l<57344?(s=String.fromCharCode(o,l),i=1):s=""}else s=String.fromCharCode(o);s&&(e.push(t.slice(r,n),encodeURIComponent(s)),r=n+i+1,s=""),i&&(n+=i,i=0)}return e.join("")+t.slice(r)}function Bt(t,e,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let o=0;return s;function s(a){return Vt(a)?(t.enter(n),l(a)):e(a)}function l(a){return Vt(a)&&o++<i?(t.consume(a),l):(t.exit(n),e(a))}}const cfe={tokenize:hfe};function hfe(t){const e=t.attempt(this.parser.constructs.contentInitial,r,i);let n;return e;function r(l){if(l===null){t.consume(l);return}return t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),Bt(t,e,"linePrefix")}function i(l){return t.enter("paragraph"),o(l)}function o(l){const a=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=a),n=a,s(l)}function s(l){if(l===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(l);return}return rt(l)?(t.consume(l),t.exit("chunkText"),o):(t.consume(l),s)}}const ffe={tokenize:dfe},vI={tokenize:pfe};function dfe(t){const e=this,n=[];let r=0,i,o,s;return l;function l(w){if(r<n.length){const b=n[r];return e.containerState=b[1],t.attempt(b[0].continuation,a,u)(w)}return u(w)}function a(w){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,i&&v();const b=e.events.length;let S=b,k;for(;S--;)if(e.events[S][0]==="exit"&&e.events[S][1].type==="chunkFlow"){k=e.events[S][1].end;break}g(r);let T=b;for(;T<e.events.length;)e.events[T][1].end=Object.assign({},k),T++;return gs(e.events,S+1,0,e.events.slice(b)),e.events.length=T,u(w)}return l(w)}function u(w){if(r===n.length){if(!i)return f(w);if(i.currentConstruct&&i.currentConstruct.concrete)return p(w);e.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(vI,c,h)(w)}function c(w){return i&&v(),g(r),f(w)}function h(w){return e.parser.lazy[e.now().line]=r!==n.length,s=e.now().offset,p(w)}function f(w){return e.containerState={},t.attempt(vI,d,p)(w)}function d(w){return r++,n.push([e.currentConstruct,e.containerState]),f(w)}function p(w){if(w===null){i&&v(),g(0),t.consume(w);return}return i=i||e.parser.flow(e.now()),t.enter("chunkFlow",{contentType:"flow",previous:o,_tokenizer:i}),m(w)}function m(w){if(w===null){y(t.exit("chunkFlow"),!0),g(0),t.consume(w);return}return rt(w)?(t.consume(w),y(t.exit("chunkFlow")),r=0,e.interrupt=void 0,l):(t.consume(w),m)}function y(w,b){const S=e.sliceStream(w);if(b&&S.push(null),w.previous=o,o&&(o.next=w),o=w,i.defineSkip(w.start),i.write(S),e.parser.lazy[w.start.line]){let k=i.events.length;for(;k--;)if(i.events[k][1].start.offset<s&&(!i.events[k][1].end||i.events[k][1].end.offset>s))return;const T=e.events.length;let A=T,z,E;for(;A--;)if(e.events[A][0]==="exit"&&e.events[A][1].type==="chunkFlow"){if(z){E=e.events[A][1].end;break}z=!0}for(g(r),k=T;k<e.events.length;)e.events[k][1].end=Object.assign({},E),k++;gs(e.events,A+1,0,e.events.slice(T)),e.events.length=k}}function g(w){let b=n.length;for(;b-- >w;){const S=n[b];e.containerState=S[1],S[0].exit.call(e,t)}n.length=w}function v(){i.write([null]),o=void 0,i=void 0,e.containerState._closeFlow=void 0}}function pfe(t,e,n){return Bt(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Q5(t){if(t===null||dn(t)||Rf(t))return 1;if($b(t))return 2}function Vb(t,e,n){const r=[];let i=-1;for(;++i<t.length;){const o=t[i].resolveAll;o&&!r.includes(o)&&(e=o(e,n),r.push(o))}return e}const OS={name:"attention",tokenize:gfe,resolveAll:mfe};function mfe(t,e){let n=-1,r,i,o,s,l,a,u,c;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(r=n;r--;)if(t[r][0]==="exit"&&t[r][1].type==="attentionSequence"&&t[r][1]._open&&e.sliceSerialize(t[r][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[r][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[r][1].end.offset-t[r][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;a=t[r][1].end.offset-t[r][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const h=Object.assign({},t[r][1].end),f=Object.assign({},t[n][1].start);wI(h,-a),wI(f,a),s={type:a>1?"strongSequence":"emphasisSequence",start:h,end:Object.assign({},t[r][1].end)},l={type:a>1?"strongSequence":"emphasisSequence",start:Object.assign({},t[n][1].start),end:f},o={type:a>1?"strongText":"emphasisText",start:Object.assign({},t[r][1].end),end:Object.assign({},t[n][1].start)},i={type:a>1?"strong":"emphasis",start:Object.assign({},s.start),end:Object.assign({},l.end)},t[r][1].end=Object.assign({},s.start),t[n][1].start=Object.assign({},l.end),u=[],t[r][1].end.offset-t[r][1].start.offset&&(u=ss(u,[["enter",t[r][1],e],["exit",t[r][1],e]])),u=ss(u,[["enter",i,e],["enter",s,e],["exit",s,e],["enter",o,e]]),u=ss(u,Vb(e.parser.constructs.insideSpan.null,t.slice(r+1,n),e)),u=ss(u,[["exit",o,e],["enter",l,e],["exit",l,e],["exit",i,e]]),t[n][1].end.offset-t[n][1].start.offset?(c=2,u=ss(u,[["enter",t[n][1],e],["exit",t[n][1],e]])):c=0,gs(t,r-1,n-r+3,u),n=r+u.length-c-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function gfe(t,e){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=Q5(r);let o;return s;function s(a){return o=a,t.enter("attentionSequence"),l(a)}function l(a){if(a===o)return t.consume(a),l;const u=t.exit("attentionSequence"),c=Q5(a),h=!c||c===2&&i||n.includes(a),f=!i||i===2&&c||n.includes(r);return u._open=!!(o===42?h:h&&(i||!f)),u._close=!!(o===42?f:f&&(c||!h)),e(a)}}function wI(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const yfe={name:"autolink",tokenize:vfe};function vfe(t,e,n){let r=0;return i;function i(d){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(d),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),o}function o(d){return Oi(d)?(t.consume(d),s):d===64?n(d):u(d)}function s(d){return d===43||d===45||d===46||si(d)?(r=1,l(d)):u(d)}function l(d){return d===58?(t.consume(d),r=0,a):(d===43||d===45||d===46||si(d))&&r++<32?(t.consume(d),l):(r=0,u(d))}function a(d){return d===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(d),t.exit("autolinkMarker"),t.exit("autolink"),e):d===null||d===32||d===60||Z5(d)?n(d):(t.consume(d),a)}function u(d){return d===64?(t.consume(d),c):lfe(d)?(t.consume(d),u):n(d)}function c(d){return si(d)?h(d):n(d)}function h(d){return d===46?(t.consume(d),r=0,c):d===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(d),t.exit("autolinkMarker"),t.exit("autolink"),e):f(d)}function f(d){if((d===45||si(d))&&r++<63){const p=d===45?f:h;return t.consume(d),p}return n(d)}}const Nv={tokenize:wfe,partial:!0};function wfe(t,e,n){return r;function r(o){return Vt(o)?Bt(t,i,"linePrefix")(o):i(o)}function i(o){return o===null||rt(o)?e(o):n(o)}}const SU={name:"blockQuote",tokenize:xfe,continuation:{tokenize:bfe},exit:kfe};function xfe(t,e,n){const r=this;return i;function i(s){if(s===62){const l=r.containerState;return l.open||(t.enter("blockQuote",{_container:!0}),l.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(s),t.exit("blockQuoteMarker"),o}return n(s)}function o(s){return Vt(s)?(t.enter("blockQuotePrefixWhitespace"),t.consume(s),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(s))}}function bfe(t,e,n){const r=this;return i;function i(s){return Vt(s)?Bt(t,o,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s):o(s)}function o(s){return t.attempt(SU,e,n)(s)}}function kfe(t){t.exit("blockQuote")}const CU={name:"characterEscape",tokenize:Sfe};function Sfe(t,e,n){return r;function r(o){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(o),t.exit("escapeMarker"),i}function i(o){return ufe(o)?(t.enter("characterEscapeValue"),t.consume(o),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(o)}}const TU={name:"characterReference",tokenize:Cfe};function Cfe(t,e,n){const r=this;let i=0,o,s;return l;function l(h){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(h),t.exit("characterReferenceMarker"),a}function a(h){return h===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(h),t.exit("characterReferenceMarkerNumeric"),u):(t.enter("characterReferenceValue"),o=31,s=si,c(h))}function u(h){return h===88||h===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(h),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),o=6,s=afe,c):(t.enter("characterReferenceValue"),o=7,s=ES,c(h))}function c(h){if(h===59&&i){const f=t.exit("characterReferenceValue");return s===si&&!BM(r.sliceSerialize(f))?n(h):(t.enter("characterReferenceMarker"),t.consume(h),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return s(h)&&i++<o?(t.consume(h),c):n(h)}}const xI={tokenize:Mfe,partial:!0},bI={name:"codeFenced",tokenize:Tfe,concrete:!0};function Tfe(t,e,n){const r=this,i={tokenize:S,partial:!0};let o=0,s=0,l;return a;function a(k){return u(k)}function u(k){const T=r.events[r.events.length-1];return o=T&&T[1].type==="linePrefix"?T[2].sliceSerialize(T[1],!0).length:0,l=k,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),c(k)}function c(k){return k===l?(s++,t.consume(k),c):s<3?n(k):(t.exit("codeFencedFenceSequence"),Vt(k)?Bt(t,h,"whitespace")(k):h(k))}function h(k){return k===null||rt(k)?(t.exit("codeFencedFence"),r.interrupt?e(k):t.check(xI,m,b)(k)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),f(k))}function f(k){return k===null||rt(k)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),h(k)):Vt(k)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),Bt(t,d,"whitespace")(k)):k===96&&k===l?n(k):(t.consume(k),f)}function d(k){return k===null||rt(k)?h(k):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),p(k))}function p(k){return k===null||rt(k)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),h(k)):k===96&&k===l?n(k):(t.consume(k),p)}function m(k){return t.attempt(i,b,y)(k)}function y(k){return t.enter("lineEnding"),t.consume(k),t.exit("lineEnding"),g}function g(k){return o>0&&Vt(k)?Bt(t,v,"linePrefix",o+1)(k):v(k)}function v(k){return k===null||rt(k)?t.check(xI,m,b)(k):(t.enter("codeFlowValue"),w(k))}function w(k){return k===null||rt(k)?(t.exit("codeFlowValue"),v(k)):(t.consume(k),w)}function b(k){return t.exit("codeFenced"),e(k)}function S(k,T,A){let z=0;return E;function E(q){return k.enter("lineEnding"),k.consume(q),k.exit("lineEnding"),B}function B(q){return k.enter("codeFencedFence"),Vt(q)?Bt(k,$,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(q):$(q)}function $(q){return q===l?(k.enter("codeFencedFenceSequence"),ae(q)):A(q)}function ae(q){return q===l?(z++,k.consume(q),ae):z>=s?(k.exit("codeFencedFenceSequence"),Vt(q)?Bt(k,G,"whitespace")(q):G(q)):A(q)}function G(q){return q===null||rt(q)?(k.exit("codeFencedFence"),T(q)):A(q)}}}function Mfe(t,e,n){const r=this;return i;function i(s){return s===null?n(s):(t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),o)}function o(s){return r.parser.lazy[r.now().line]?n(s):e(s)}}const n7={name:"codeIndented",tokenize:Efe},Afe={tokenize:Ofe,partial:!0};function Efe(t,e,n){const r=this;return i;function i(u){return t.enter("codeIndented"),Bt(t,o,"linePrefix",5)(u)}function o(u){const c=r.events[r.events.length-1];return c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?s(u):n(u)}function s(u){return u===null?a(u):rt(u)?t.attempt(Afe,s,a)(u):(t.enter("codeFlowValue"),l(u))}function l(u){return u===null||rt(u)?(t.exit("codeFlowValue"),s(u)):(t.consume(u),l)}function a(u){return t.exit("codeIndented"),e(u)}}function Ofe(t,e,n){const r=this;return i;function i(s){return r.parser.lazy[r.now().line]?n(s):rt(s)?(t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),i):Bt(t,o,"linePrefix",5)(s)}function o(s){const l=r.events[r.events.length-1];return l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?e(s):rt(s)?i(s):n(s)}}const Pfe={name:"codeText",tokenize:Ife,resolve:Dfe,previous:_fe};function Dfe(t){let e=t.length-4,n=3,r,i;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(r=n;++r<e;)if(t[r][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(r=n-1,e++;++r<=e;)i===void 0?r!==e&&t[r][1].type!=="lineEnding"&&(i=r):(r===e||t[r][1].type==="lineEnding")&&(t[i][1].type="codeTextData",r!==i+2&&(t[i][1].end=t[r-1][1].end,t.splice(i+2,r-i-2),e-=r-i-2,r=i+2),i=void 0);return t}function _fe(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function Ife(t,e,n){let r=0,i,o;return s;function s(h){return t.enter("codeText"),t.enter("codeTextSequence"),l(h)}function l(h){return h===96?(t.consume(h),r++,l):(t.exit("codeTextSequence"),a(h))}function a(h){return h===null?n(h):h===32?(t.enter("space"),t.consume(h),t.exit("space"),a):h===96?(o=t.enter("codeTextSequence"),i=0,c(h)):rt(h)?(t.enter("lineEnding"),t.consume(h),t.exit("lineEnding"),a):(t.enter("codeTextData"),u(h))}function u(h){return h===null||h===32||h===96||rt(h)?(t.exit("codeTextData"),a(h)):(t.consume(h),u)}function c(h){return h===96?(t.consume(h),i++,c):i===r?(t.exit("codeTextSequence"),t.exit("codeText"),e(h)):(o.type="codeTextData",u(h))}}class Rfe{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(e,r):e>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(e,n,r){const i=n||0;this.setCursor(Math.trunc(e));const o=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&Om(this.left,r),o.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),Om(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),Om(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const n=this.left.splice(e,Number.POSITIVE_INFINITY);Om(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);Om(this.left,n.reverse())}}}function Om(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}function MU(t){const e={};let n=-1,r,i,o,s,l,a,u;const c=new Rfe(t);for(;++n<c.length;){for(;n in e;)n=e[n];if(r=c.get(n),n&&r[1].type==="chunkFlow"&&c.get(n-1)[1].type==="listItemPrefix"&&(a=r[1]._tokenizer.events,o=0,o<a.length&&a[o][1].type==="lineEndingBlank"&&(o+=2),o<a.length&&a[o][1].type==="content"))for(;++o<a.length&&a[o][1].type!=="content";)a[o][1].type==="chunkText"&&(a[o][1]._isInFirstContentOfListItem=!0,o++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,Nfe(c,n)),n=e[n],u=!0);else if(r[1]._container){for(o=n,i=void 0;o--&&(s=c.get(o),s[1].type==="lineEnding"||s[1].type==="lineEndingBlank");)s[0]==="enter"&&(i&&(c.get(i)[1].type="lineEndingBlank"),s[1].type="lineEnding",i=o);i&&(r[1].end=Object.assign({},c.get(i)[1].start),l=c.slice(i,n),l.unshift(r),c.splice(i,n-i+1,l))}}return gs(t,0,Number.POSITIVE_INFINITY,c.slice(0)),!u}function Nfe(t,e){const n=t.get(e)[1],r=t.get(e)[2];let i=e-1;const o=[],s=n._tokenizer||r.parser[n.contentType](n.start),l=s.events,a=[],u={};let c,h,f=-1,d=n,p=0,m=0;const y=[m];for(;d;){for(;t.get(++i)[1]!==d;);o.push(i),d._tokenizer||(c=r.sliceStream(d),d.next||c.push(null),h&&s.defineSkip(d.start),d._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=!0),s.write(c),d._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=void 0)),h=d,d=d.next}for(d=n;++f<l.length;)l[f][0]==="exit"&&l[f-1][0]==="enter"&&l[f][1].type===l[f-1][1].type&&l[f][1].start.line!==l[f][1].end.line&&(m=f+1,y.push(m),d._tokenizer=void 0,d.previous=void 0,d=d.next);for(s.events=[],d?(d._tokenizer=void 0,d.previous=void 0):y.pop(),f=y.length;f--;){const g=l.slice(y[f],y[f+1]),v=o.pop();a.push([v,v+g.length-1]),t.splice(v,2,g)}for(a.reverse(),f=-1;++f<a.length;)u[p+a[f][0]]=p+a[f][1],p+=a[f][1]-a[f][0]-1;return u}const Lfe={tokenize:Ffe,resolve:zfe},Bfe={tokenize:$fe,partial:!0};function zfe(t){return MU(t),t}function Ffe(t,e){let n;return r;function r(l){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),i(l)}function i(l){return l===null?o(l):rt(l)?t.check(Bfe,s,o)(l):(t.consume(l),i)}function o(l){return t.exit("chunkContent"),t.exit("content"),e(l)}function s(l){return t.consume(l),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function $fe(t,e,n){const r=this;return i;function i(s){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),Bt(t,o,"linePrefix")}function o(s){if(s===null||rt(s))return n(s);const l=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?e(s):t.interrupt(r.parser.constructs.flow,n,e)(s)}}function AU(t,e,n,r,i,o,s,l,a){const u=a||Number.POSITIVE_INFINITY;let c=0;return h;function h(g){return g===60?(t.enter(r),t.enter(i),t.enter(o),t.consume(g),t.exit(o),f):g===null||g===32||g===41||Z5(g)?n(g):(t.enter(r),t.enter(s),t.enter(l),t.enter("chunkString",{contentType:"string"}),m(g))}function f(g){return g===62?(t.enter(o),t.consume(g),t.exit(o),t.exit(i),t.exit(r),e):(t.enter(l),t.enter("chunkString",{contentType:"string"}),d(g))}function d(g){return g===62?(t.exit("chunkString"),t.exit(l),f(g)):g===null||g===60||rt(g)?n(g):(t.consume(g),g===92?p:d)}function p(g){return g===60||g===62||g===92?(t.consume(g),d):d(g)}function m(g){return!c&&(g===null||g===41||dn(g))?(t.exit("chunkString"),t.exit(l),t.exit(s),t.exit(r),e(g)):c<u&&g===40?(t.consume(g),c++,m):g===41?(t.consume(g),c--,m):g===null||g===32||g===40||Z5(g)?n(g):(t.consume(g),g===92?y:m)}function y(g){return g===40||g===41||g===92?(t.consume(g),m):m(g)}}function EU(t,e,n,r,i,o){const s=this;let l=0,a;return u;function u(d){return t.enter(r),t.enter(i),t.consume(d),t.exit(i),t.enter(o),c}function c(d){return l>999||d===null||d===91||d===93&&!a||d===94&&!l&&"_hiddenFootnoteSupport"in s.parser.constructs?n(d):d===93?(t.exit(o),t.enter(i),t.consume(d),t.exit(i),t.exit(r),e):rt(d)?(t.enter("lineEnding"),t.consume(d),t.exit("lineEnding"),c):(t.enter("chunkString",{contentType:"string"}),h(d))}function h(d){return d===null||d===91||d===93||rt(d)||l++>999?(t.exit("chunkString"),c(d)):(t.consume(d),a||(a=!Vt(d)),d===92?f:h)}function f(d){return d===91||d===92||d===93?(t.consume(d),l++,h):h(d)}}function OU(t,e,n,r,i,o){let s;return l;function l(f){return f===34||f===39||f===40?(t.enter(r),t.enter(i),t.consume(f),t.exit(i),s=f===40?41:f,a):n(f)}function a(f){return f===s?(t.enter(i),t.consume(f),t.exit(i),t.exit(r),e):(t.enter(o),u(f))}function u(f){return f===s?(t.exit(o),a(s)):f===null?n(f):rt(f)?(t.enter("lineEnding"),t.consume(f),t.exit("lineEnding"),Bt(t,u,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),c(f))}function c(f){return f===s||f===null||rt(f)?(t.exit("chunkString"),u(f)):(t.consume(f),f===92?h:c)}function h(f){return f===s||f===92?(t.consume(f),c):c(f)}}function n1(t,e){let n;return r;function r(i){return rt(i)?(t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),n=!0,r):Vt(i)?Bt(t,r,n?"linePrefix":"lineSuffix")(i):e(i)}}const Vfe={name:"definition",tokenize:jfe},Hfe={tokenize:Wfe,partial:!0};function jfe(t,e,n){const r=this;let i;return o;function o(d){return t.enter("definition"),s(d)}function s(d){return EU.call(r,t,l,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(d)}function l(d){return i=Zs(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),d===58?(t.enter("definitionMarker"),t.consume(d),t.exit("definitionMarker"),a):n(d)}function a(d){return dn(d)?n1(t,u)(d):u(d)}function u(d){return AU(t,c,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(d)}function c(d){return t.attempt(Hfe,h,h)(d)}function h(d){return Vt(d)?Bt(t,f,"whitespace")(d):f(d)}function f(d){return d===null||rt(d)?(t.exit("definition"),r.parser.defined.push(i),e(d)):n(d)}}function Wfe(t,e,n){return r;function r(l){return dn(l)?n1(t,i)(l):n(l)}function i(l){return OU(t,o,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(l)}function o(l){return Vt(l)?Bt(t,s,"whitespace")(l):s(l)}function s(l){return l===null||rt(l)?e(l):n(l)}}const Ufe={name:"hardBreakEscape",tokenize:qfe};function qfe(t,e,n){return r;function r(o){return t.enter("hardBreakEscape"),t.consume(o),i}function i(o){return rt(o)?(t.exit("hardBreakEscape"),e(o)):n(o)}}const Kfe={name:"headingAtx",tokenize:Yfe,resolve:Gfe};function Gfe(t,e){let n=t.length-2,r=3,i,o;return t[r][1].type==="whitespace"&&(r+=2),n-2>r&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&t[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:t[r][1].start,end:t[n][1].end},o={type:"chunkText",start:t[r][1].start,end:t[n][1].end,contentType:"text"},gs(t,r,n-r+1,[["enter",i,e],["enter",o,e],["exit",o,e],["exit",i,e]])),t}function Yfe(t,e,n){let r=0;return i;function i(c){return t.enter("atxHeading"),o(c)}function o(c){return t.enter("atxHeadingSequence"),s(c)}function s(c){return c===35&&r++<6?(t.consume(c),s):c===null||dn(c)?(t.exit("atxHeadingSequence"),l(c)):n(c)}function l(c){return c===35?(t.enter("atxHeadingSequence"),a(c)):c===null||rt(c)?(t.exit("atxHeading"),e(c)):Vt(c)?Bt(t,l,"whitespace")(c):(t.enter("atxHeadingText"),u(c))}function a(c){return c===35?(t.consume(c),a):(t.exit("atxHeadingSequence"),l(c))}function u(c){return c===null||c===35||dn(c)?(t.exit("atxHeadingText"),l(c)):(t.consume(c),u)}}const Xfe=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],kI=["pre","script","style","textarea"],Jfe={name:"htmlFlow",tokenize:tde,resolveTo:ede,concrete:!0},Zfe={tokenize:rde,partial:!0},Qfe={tokenize:nde,partial:!0};function ede(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function tde(t,e,n){const r=this;let i,o,s,l,a;return u;function u(_){return c(_)}function c(_){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(_),h}function h(_){return _===33?(t.consume(_),f):_===47?(t.consume(_),o=!0,m):_===63?(t.consume(_),i=3,r.interrupt?e:O):Oi(_)?(t.consume(_),s=String.fromCharCode(_),y):n(_)}function f(_){return _===45?(t.consume(_),i=2,d):_===91?(t.consume(_),i=5,l=0,p):Oi(_)?(t.consume(_),i=4,r.interrupt?e:O):n(_)}function d(_){return _===45?(t.consume(_),r.interrupt?e:O):n(_)}function p(_){const Le="CDATA[";return _===Le.charCodeAt(l++)?(t.consume(_),l===Le.length?r.interrupt?e:$:p):n(_)}function m(_){return Oi(_)?(t.consume(_),s=String.fromCharCode(_),y):n(_)}function y(_){if(_===null||_===47||_===62||dn(_)){const Le=_===47,Ie=s.toLowerCase();return!Le&&!o&&kI.includes(Ie)?(i=1,r.interrupt?e(_):$(_)):Xfe.includes(s.toLowerCase())?(i=6,Le?(t.consume(_),g):r.interrupt?e(_):$(_)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(_):o?v(_):w(_))}return _===45||si(_)?(t.consume(_),s+=String.fromCharCode(_),y):n(_)}function g(_){return _===62?(t.consume(_),r.interrupt?e:$):n(_)}function v(_){return Vt(_)?(t.consume(_),v):E(_)}function w(_){return _===47?(t.consume(_),E):_===58||_===95||Oi(_)?(t.consume(_),b):Vt(_)?(t.consume(_),w):E(_)}function b(_){return _===45||_===46||_===58||_===95||si(_)?(t.consume(_),b):S(_)}function S(_){return _===61?(t.consume(_),k):Vt(_)?(t.consume(_),S):w(_)}function k(_){return _===null||_===60||_===61||_===62||_===96?n(_):_===34||_===39?(t.consume(_),a=_,T):Vt(_)?(t.consume(_),k):A(_)}function T(_){return _===a?(t.consume(_),a=null,z):_===null||rt(_)?n(_):(t.consume(_),T)}function A(_){return _===null||_===34||_===39||_===47||_===60||_===61||_===62||_===96||dn(_)?S(_):(t.consume(_),A)}function z(_){return _===47||_===62||Vt(_)?w(_):n(_)}function E(_){return _===62?(t.consume(_),B):n(_)}function B(_){return _===null||rt(_)?$(_):Vt(_)?(t.consume(_),B):n(_)}function $(_){return _===45&&i===2?(t.consume(_),K):_===60&&i===1?(t.consume(_),Y):_===62&&i===4?(t.consume(_),re):_===63&&i===3?(t.consume(_),O):_===93&&i===5?(t.consume(_),X):rt(_)&&(i===6||i===7)?(t.exit("htmlFlowData"),t.check(Zfe,ce,ae)(_)):_===null||rt(_)?(t.exit("htmlFlowData"),ae(_)):(t.consume(_),$)}function ae(_){return t.check(Qfe,G,ce)(_)}function G(_){return t.enter("lineEnding"),t.consume(_),t.exit("lineEnding"),q}function q(_){return _===null||rt(_)?ae(_):(t.enter("htmlFlowData"),$(_))}function K(_){return _===45?(t.consume(_),O):$(_)}function Y(_){return _===47?(t.consume(_),s="",L):$(_)}function L(_){if(_===62){const Le=s.toLowerCase();return kI.includes(Le)?(t.consume(_),re):$(_)}return Oi(_)&&s.length<8?(t.consume(_),s+=String.fromCharCode(_),L):$(_)}function X(_){return _===93?(t.consume(_),O):$(_)}function O(_){return _===62?(t.consume(_),re):_===45&&i===2?(t.consume(_),O):$(_)}function re(_){return _===null||rt(_)?(t.exit("htmlFlowData"),ce(_)):(t.consume(_),re)}function ce(_){return t.exit("htmlFlow"),e(_)}}function nde(t,e,n){const r=this;return i;function i(s){return rt(s)?(t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),o):n(s)}function o(s){return r.parser.lazy[r.now().line]?n(s):e(s)}}function rde(t,e,n){return r;function r(i){return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),t.attempt(Nv,e,n)}}const ide={name:"htmlText",tokenize:ode};function ode(t,e,n){const r=this;let i,o,s;return l;function l(O){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(O),a}function a(O){return O===33?(t.consume(O),u):O===47?(t.consume(O),S):O===63?(t.consume(O),w):Oi(O)?(t.consume(O),A):n(O)}function u(O){return O===45?(t.consume(O),c):O===91?(t.consume(O),o=0,p):Oi(O)?(t.consume(O),v):n(O)}function c(O){return O===45?(t.consume(O),d):n(O)}function h(O){return O===null?n(O):O===45?(t.consume(O),f):rt(O)?(s=h,Y(O)):(t.consume(O),h)}function f(O){return O===45?(t.consume(O),d):h(O)}function d(O){return O===62?K(O):O===45?f(O):h(O)}function p(O){const re="CDATA[";return O===re.charCodeAt(o++)?(t.consume(O),o===re.length?m:p):n(O)}function m(O){return O===null?n(O):O===93?(t.consume(O),y):rt(O)?(s=m,Y(O)):(t.consume(O),m)}function y(O){return O===93?(t.consume(O),g):m(O)}function g(O){return O===62?K(O):O===93?(t.consume(O),g):m(O)}function v(O){return O===null||O===62?K(O):rt(O)?(s=v,Y(O)):(t.consume(O),v)}function w(O){return O===null?n(O):O===63?(t.consume(O),b):rt(O)?(s=w,Y(O)):(t.consume(O),w)}function b(O){return O===62?K(O):w(O)}function S(O){return Oi(O)?(t.consume(O),k):n(O)}function k(O){return O===45||si(O)?(t.consume(O),k):T(O)}function T(O){return rt(O)?(s=T,Y(O)):Vt(O)?(t.consume(O),T):K(O)}function A(O){return O===45||si(O)?(t.consume(O),A):O===47||O===62||dn(O)?z(O):n(O)}function z(O){return O===47?(t.consume(O),K):O===58||O===95||Oi(O)?(t.consume(O),E):rt(O)?(s=z,Y(O)):Vt(O)?(t.consume(O),z):K(O)}function E(O){return O===45||O===46||O===58||O===95||si(O)?(t.consume(O),E):B(O)}function B(O){return O===61?(t.consume(O),$):rt(O)?(s=B,Y(O)):Vt(O)?(t.consume(O),B):z(O)}function $(O){return O===null||O===60||O===61||O===62||O===96?n(O):O===34||O===39?(t.consume(O),i=O,ae):rt(O)?(s=$,Y(O)):Vt(O)?(t.consume(O),$):(t.consume(O),G)}function ae(O){return O===i?(t.consume(O),i=void 0,q):O===null?n(O):rt(O)?(s=ae,Y(O)):(t.consume(O),ae)}function G(O){return O===null||O===34||O===39||O===60||O===61||O===96?n(O):O===47||O===62||dn(O)?z(O):(t.consume(O),G)}function q(O){return O===47||O===62||dn(O)?z(O):n(O)}function K(O){return O===62?(t.consume(O),t.exit("htmlTextData"),t.exit("htmlText"),e):n(O)}function Y(O){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(O),t.exit("lineEnding"),L}function L(O){return Vt(O)?Bt(t,X,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(O):X(O)}function X(O){return t.enter("htmlTextData"),s(O)}}const zM={name:"labelEnd",tokenize:hde,resolveTo:cde,resolveAll:ude},sde={tokenize:fde},lde={tokenize:dde},ade={tokenize:pde};function ude(t){let e=-1;for(;++e<t.length;){const n=t[e][1];(n.type==="labelImage"||n.type==="labelLink"||n.type==="labelEnd")&&(t.splice(e+1,n.type==="labelImage"?4:2),n.type="data",e++)}return t}function cde(t,e){let n=t.length,r=0,i,o,s,l;for(;n--;)if(i=t[n][1],o){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;t[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(s){if(t[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(o=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(s=n);const a={type:t[o][1].type==="labelLink"?"link":"image",start:Object.assign({},t[o][1].start),end:Object.assign({},t[t.length-1][1].end)},u={type:"label",start:Object.assign({},t[o][1].start),end:Object.assign({},t[s][1].end)},c={type:"labelText",start:Object.assign({},t[o+r+2][1].end),end:Object.assign({},t[s-2][1].start)};return l=[["enter",a,e],["enter",u,e]],l=ss(l,t.slice(o+1,o+r+3)),l=ss(l,[["enter",c,e]]),l=ss(l,Vb(e.parser.constructs.insideSpan.null,t.slice(o+r+4,s-3),e)),l=ss(l,[["exit",c,e],t[s-2],t[s-1],["exit",u,e]]),l=ss(l,t.slice(s+1)),l=ss(l,[["exit",a,e]]),gs(t,o,t.length,l),t}function hde(t,e,n){const r=this;let i=r.events.length,o,s;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){o=r.events[i][1];break}return l;function l(f){return o?o._inactive?h(f):(s=r.parser.defined.includes(Zs(r.sliceSerialize({start:o.end,end:r.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(f),t.exit("labelMarker"),t.exit("labelEnd"),a):n(f)}function a(f){return f===40?t.attempt(sde,c,s?c:h)(f):f===91?t.attempt(lde,c,s?u:h)(f):s?c(f):h(f)}function u(f){return t.attempt(ade,c,h)(f)}function c(f){return e(f)}function h(f){return o._balanced=!0,n(f)}}function fde(t,e,n){return r;function r(h){return t.enter("resource"),t.enter("resourceMarker"),t.consume(h),t.exit("resourceMarker"),i}function i(h){return dn(h)?n1(t,o)(h):o(h)}function o(h){return h===41?c(h):AU(t,s,l,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(h)}function s(h){return dn(h)?n1(t,a)(h):c(h)}function l(h){return n(h)}function a(h){return h===34||h===39||h===40?OU(t,u,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(h):c(h)}function u(h){return dn(h)?n1(t,c)(h):c(h)}function c(h){return h===41?(t.enter("resourceMarker"),t.consume(h),t.exit("resourceMarker"),t.exit("resource"),e):n(h)}}function dde(t,e,n){const r=this;return i;function i(l){return EU.call(r,t,o,s,"reference","referenceMarker","referenceString")(l)}function o(l){return r.parser.defined.includes(Zs(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(l):n(l)}function s(l){return n(l)}}function pde(t,e,n){return r;function r(o){return t.enter("reference"),t.enter("referenceMarker"),t.consume(o),t.exit("referenceMarker"),i}function i(o){return o===93?(t.enter("referenceMarker"),t.consume(o),t.exit("referenceMarker"),t.exit("reference"),e):n(o)}}const mde={name:"labelStartImage",tokenize:gde,resolveAll:zM.resolveAll};function gde(t,e,n){const r=this;return i;function i(l){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(l),t.exit("labelImageMarker"),o}function o(l){return l===91?(t.enter("labelMarker"),t.consume(l),t.exit("labelMarker"),t.exit("labelImage"),s):n(l)}function s(l){return l===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(l):e(l)}}const yde={name:"labelStartLink",tokenize:vde,resolveAll:zM.resolveAll};function vde(t,e,n){const r=this;return i;function i(s){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(s),t.exit("labelMarker"),t.exit("labelLink"),o}function o(s){return s===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(s):e(s)}}const r7={name:"lineEnding",tokenize:wde};function wde(t,e){return n;function n(r){return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),Bt(t,e,"linePrefix")}}const cw={name:"thematicBreak",tokenize:xde};function xde(t,e,n){let r=0,i;return o;function o(u){return t.enter("thematicBreak"),s(u)}function s(u){return i=u,l(u)}function l(u){return u===i?(t.enter("thematicBreakSequence"),a(u)):r>=3&&(u===null||rt(u))?(t.exit("thematicBreak"),e(u)):n(u)}function a(u){return u===i?(t.consume(u),r++,a):(t.exit("thematicBreakSequence"),Vt(u)?Bt(t,l,"whitespace")(u):l(u))}}const Wi={name:"list",tokenize:Sde,continuation:{tokenize:Cde},exit:Mde},bde={tokenize:Ade,partial:!0},kde={tokenize:Tde,partial:!0};function Sde(t,e,n){const r=this,i=r.events[r.events.length-1];let o=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,s=0;return l;function l(d){const p=r.containerState.type||(d===42||d===43||d===45?"listUnordered":"listOrdered");if(p==="listUnordered"?!r.containerState.marker||d===r.containerState.marker:ES(d)){if(r.containerState.type||(r.containerState.type=p,t.enter(p,{_container:!0})),p==="listUnordered")return t.enter("listItemPrefix"),d===42||d===45?t.check(cw,n,u)(d):u(d);if(!r.interrupt||d===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),a(d)}return n(d)}function a(d){return ES(d)&&++s<10?(t.consume(d),a):(!r.interrupt||s<2)&&(r.containerState.marker?d===r.containerState.marker:d===41||d===46)?(t.exit("listItemValue"),u(d)):n(d)}function u(d){return t.enter("listItemMarker"),t.consume(d),t.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||d,t.check(Nv,r.interrupt?n:c,t.attempt(bde,f,h))}function c(d){return r.containerState.initialBlankLine=!0,o++,f(d)}function h(d){return Vt(d)?(t.enter("listItemPrefixWhitespace"),t.consume(d),t.exit("listItemPrefixWhitespace"),f):n(d)}function f(d){return r.containerState.size=o+r.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(d)}}function Cde(t,e,n){const r=this;return r.containerState._closeFlow=void 0,t.check(Nv,i,o);function i(l){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Bt(t,e,"listItemIndent",r.containerState.size+1)(l)}function o(l){return r.containerState.furtherBlankLines||!Vt(l)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,s(l)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,t.attempt(kde,e,s)(l))}function s(l){return r.containerState._closeFlow=!0,r.interrupt=void 0,Bt(t,t.attempt(Wi,e,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l)}}function Tde(t,e,n){const r=this;return Bt(t,i,"listItemIndent",r.containerState.size+1);function i(o){const s=r.events[r.events.length-1];return s&&s[1].type==="listItemIndent"&&s[2].sliceSerialize(s[1],!0).length===r.containerState.size?e(o):n(o)}}function Mde(t){t.exit(this.containerState.type)}function Ade(t,e,n){const r=this;return Bt(t,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(o){const s=r.events[r.events.length-1];return!Vt(o)&&s&&s[1].type==="listItemPrefixWhitespace"?e(o):n(o)}}const SI={name:"setextUnderline",tokenize:Ode,resolveTo:Ede};function Ede(t,e){let n=t.length,r,i,o;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){r=n;break}t[n][1].type==="paragraph"&&(i=n)}else t[n][1].type==="content"&&t.splice(n,1),!o&&t[n][1].type==="definition"&&(o=n);const s={type:"setextHeading",start:Object.assign({},t[i][1].start),end:Object.assign({},t[t.length-1][1].end)};return t[i][1].type="setextHeadingText",o?(t.splice(i,0,["enter",s,e]),t.splice(o+1,0,["exit",t[r][1],e]),t[r][1].end=Object.assign({},t[o][1].end)):t[r][1]=s,t.push(["exit",s,e]),t}function Ode(t,e,n){const r=this;let i;return o;function o(u){let c=r.events.length,h;for(;c--;)if(r.events[c][1].type!=="lineEnding"&&r.events[c][1].type!=="linePrefix"&&r.events[c][1].type!=="content"){h=r.events[c][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||h)?(t.enter("setextHeadingLine"),i=u,s(u)):n(u)}function s(u){return t.enter("setextHeadingLineSequence"),l(u)}function l(u){return u===i?(t.consume(u),l):(t.exit("setextHeadingLineSequence"),Vt(u)?Bt(t,a,"lineSuffix")(u):a(u))}function a(u){return u===null||rt(u)?(t.exit("setextHeadingLine"),e(u)):n(u)}}const Pde={tokenize:Dde};function Dde(t){const e=this,n=t.attempt(Nv,r,t.attempt(this.parser.constructs.flowInitial,i,Bt(t,t.attempt(this.parser.constructs.flow,i,t.attempt(Lfe,i)),"linePrefix")));return n;function r(o){if(o===null){t.consume(o);return}return t.enter("lineEndingBlank"),t.consume(o),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function i(o){if(o===null){t.consume(o);return}return t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const _de={resolveAll:DU()},Ide=PU("string"),Rde=PU("text");function PU(t){return{tokenize:e,resolveAll:DU(t==="text"?Nde:void 0)};function e(n){const r=this,i=this.parser.constructs[t],o=n.attempt(i,s,l);return s;function s(c){return u(c)?o(c):l(c)}function l(c){if(c===null){n.consume(c);return}return n.enter("data"),n.consume(c),a}function a(c){return u(c)?(n.exit("data"),o(c)):(n.consume(c),a)}function u(c){if(c===null)return!0;const h=i[c];let f=-1;if(h)for(;++f<h.length;){const d=h[f];if(!d.previous||d.previous.call(r,r.previous))return!0}return!1}}}function DU(t){return e;function e(n,r){let i=-1,o;for(;++i<=n.length;)o===void 0?n[i]&&n[i][1].type==="data"&&(o=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==o+2&&(n[o][1].end=n[i-1][1].end,n.splice(o+2,i-o-2),i=o+2),o=void 0);return t?t(n,r):n}}function Nde(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const r=t[n-1][1],i=e.sliceStream(r);let o=i.length,s=-1,l=0,a;for(;o--;){const u=i[o];if(typeof u=="string"){for(s=u.length;u.charCodeAt(s-1)===32;)l++,s--;if(s)break;s=-1}else if(u===-2)a=!0,l++;else if(u!==-1){o++;break}}if(l){const u={type:n===t.length||a||l<2?"lineSuffix":"hardBreakTrailing",start:{line:r.end.line,column:r.end.column-l,offset:r.end.offset-l,_index:r.start._index+o,_bufferIndex:o?s:r.start._bufferIndex+s},end:Object.assign({},r.end)};r.end=Object.assign({},u.start),r.start.offset===r.end.offset?Object.assign(r,u):(t.splice(n,0,["enter",u,e],["exit",u,e]),n+=2)}n++}return t}function Lde(t,e,n){let r=Object.assign(n?Object.assign({},n):{line:1,column:1,offset:0},{_index:0,_bufferIndex:-1});const i={},o=[];let s=[],l=[];const a={consume:v,enter:w,exit:b,attempt:T(S),check:T(k),interrupt:T(k,{interrupt:!0})},u={previous:null,code:null,containerState:{},events:[],parser:t,sliceStream:d,sliceSerialize:f,now:p,defineSkip:m,write:h};let c=e.tokenize.call(u,a);return e.resolveAll&&o.push(e),u;function h(B){return s=ss(s,B),y(),s[s.length-1]!==null?[]:(A(e,0),u.events=Vb(o,u.events,u),u.events)}function f(B,$){return zde(d(B),$)}function d(B){return Bde(s,B)}function p(){const{line:B,column:$,offset:ae,_index:G,_bufferIndex:q}=r;return{line:B,column:$,offset:ae,_index:G,_bufferIndex:q}}function m(B){i[B.line]=B.column,E()}function y(){let B;for(;r._index<s.length;){const $=s[r._index];if(typeof $=="string")for(B=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===B&&r._bufferIndex<$.length;)g($.charCodeAt(r._bufferIndex));else g($)}}function g(B){c=c(B)}function v(B){rt(B)?(r.line++,r.column=1,r.offset+=B===-3?2:1,E()):B!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===s[r._index].length&&(r._bufferIndex=-1,r._index++)),u.previous=B}function w(B,$){const ae=$||{};return ae.type=B,ae.start=p(),u.events.push(["enter",ae,u]),l.push(ae),ae}function b(B){const $=l.pop();return $.end=p(),u.events.push(["exit",$,u]),$}function S(B,$){A(B,$.from)}function k(B,$){$.restore()}function T(B,$){return ae;function ae(G,q,K){let Y,L,X,O;return Array.isArray(G)?ce(G):"tokenize"in G?ce([G]):re(G);function re(qe){return ct;function ct(St){const Mt=St!==null&&qe[St],mt=St!==null&&qe.null,Rt=[...Array.isArray(Mt)?Mt:Mt?[Mt]:[],...Array.isArray(mt)?mt:mt?[mt]:[]];return ce(Rt)(St)}}function ce(qe){return Y=qe,L=0,qe.length===0?K:_(qe[L])}function _(qe){return ct;function ct(St){return O=z(),X=qe,qe.partial||(u.currentConstruct=qe),qe.name&&u.parser.constructs.disable.null.includes(qe.name)?Ie():qe.tokenize.call($?Object.assign(Object.create(u),$):u,a,Le,Ie)(St)}}function Le(qe){return B(X,O),q}function Ie(qe){return O.restore(),++L<Y.length?_(Y[L]):K}}}function A(B,$){B.resolveAll&&!o.includes(B)&&o.push(B),B.resolve&&gs(u.events,$,u.events.length-$,B.resolve(u.events.slice($),u)),B.resolveTo&&(u.events=B.resolveTo(u.events,u))}function z(){const B=p(),$=u.previous,ae=u.currentConstruct,G=u.events.length,q=Array.from(l);return{restore:K,from:G};function K(){r=B,u.previous=$,u.currentConstruct=ae,u.events.length=G,l=q,E()}}function E(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function Bde(t,e){const n=e.start._index,r=e.start._bufferIndex,i=e.end._index,o=e.end._bufferIndex;let s;if(n===i)s=[t[n].slice(r,o)];else{if(s=t.slice(n,i),r>-1){const l=s[0];typeof l=="string"?s[0]=l.slice(r):s.shift()}o>0&&s.push(t[i].slice(0,o))}return s}function zde(t,e){let n=-1;const r=[];let i;for(;++n<t.length;){const o=t[n];let s;if(typeof o=="string")s=o;else switch(o){case-5:{s="\r";break}case-4:{s=`
`;break}case-3:{s=`\r
`;break}case-2:{s=e?" ":"	";break}case-1:{if(!e&&i)continue;s=" ";break}default:s=String.fromCharCode(o)}i=o===-2,r.push(s)}return r.join("")}const Fde={42:Wi,43:Wi,45:Wi,48:Wi,49:Wi,50:Wi,51:Wi,52:Wi,53:Wi,54:Wi,55:Wi,56:Wi,57:Wi,62:SU},$de={91:Vfe},Vde={[-2]:n7,[-1]:n7,32:n7},Hde={35:Kfe,42:cw,45:[SI,cw],60:Jfe,61:SI,95:cw,96:bI,126:bI},jde={38:TU,92:CU},Wde={[-5]:r7,[-4]:r7,[-3]:r7,33:mde,38:TU,42:OS,60:[yfe,ide],91:yde,92:[Ufe,CU],93:zM,95:OS,96:Pfe},Ude={null:[OS,_de]},qde={null:[42,95]},Kde={null:[]},Gde=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:qde,contentInitial:$de,disable:Kde,document:Fde,flow:Hde,flowInitial:Vde,insideSpan:Ude,string:jde,text:Wde},Symbol.toStringTag,{value:"Module"}));function Yde(t){const n=bU([Gde,...(t||{}).extensions||[]]),r={defined:[],lazy:{},constructs:n,content:i(cfe),document:i(ffe),flow:i(Pde),string:i(Ide),text:i(Rde)};return r;function i(o){return s;function s(l){return Lde(r,o,l)}}}function Xde(t){for(;!MU(t););return t}const CI=/[\0\t\n\r]/g;function Jde(){let t=1,e="",n=!0,r;return i;function i(o,s,l){const a=[];let u,c,h,f,d;for(o=e+(typeof o=="string"?o.toString():new TextDecoder(s||void 0).decode(o)),h=0,e="",n&&(o.charCodeAt(0)===65279&&h++,n=void 0);h<o.length;){if(CI.lastIndex=h,u=CI.exec(o),f=u&&u.index!==void 0?u.index:o.length,d=o.charCodeAt(f),!u){e=o.slice(h);break}if(d===10&&h===f&&r)a.push(-3),r=void 0;else switch(r&&(a.push(-5),r=void 0),h<f&&(a.push(o.slice(h,f)),t+=f-h),d){case 0:{a.push(65533),t++;break}case 9:{for(c=Math.ceil(t/4)*4,a.push(-2);t++<c;)a.push(-1);break}case 10:{a.push(-4),t=1;break}default:r=!0,t=1}h=f+1}return l&&(r&&a.push(-5),e&&a.push(e),a.push(null)),a}}const Zde=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function _U(t){return t.replace(Zde,Qde)}function Qde(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),o=i===120||i===88;return kU(n.slice(o?2:1),o?16:10)}return BM(n)||t}const IU={}.hasOwnProperty;function e0e(t,e,n){return typeof e!="string"&&(n=e,e=void 0),t0e(n)(Xde(Yde(n).document().write(Jde()(t,e,!0))))}function t0e(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:o(ye),autolinkProtocol:z,autolinkEmail:z,atxHeading:o(Q),blockQuote:o(mt),characterEscape:z,characterReference:z,codeFenced:o(Rt),codeFencedFenceInfo:s,codeFencedFenceMeta:s,codeIndented:o(Rt,s),codeText:o(dt,s),codeTextData:z,data:z,codeFlowValue:z,definition:o(R),definitionDestinationString:s,definitionLabelString:s,definitionTitleString:s,emphasis:o(H),hardBreakEscape:o(me),hardBreakTrailing:o(me),htmlFlow:o(oe,s),htmlFlowData:z,htmlText:o(oe,s),htmlTextData:z,image:o(se),label:s,link:o(ye),listItem:o(ke),listItemValue:f,listOrdered:o(be,h),listUnordered:o(be),paragraph:o(ge),reference:_,referenceString:s,resourceDestinationString:s,resourceTitleString:s,setextHeading:o(Q),strong:o($e),thematicBreak:o(ze)},exit:{atxHeading:a(),atxHeadingSequence:S,autolink:a(),autolinkEmail:Mt,autolinkProtocol:St,blockQuote:a(),characterEscapeValue:E,characterReferenceMarkerHexadecimal:Ie,characterReferenceMarkerNumeric:Ie,characterReferenceValue:qe,characterReference:ct,codeFenced:a(y),codeFencedFence:m,codeFencedFenceInfo:d,codeFencedFenceMeta:p,codeFlowValue:E,codeIndented:a(g),codeText:a(q),codeTextData:E,data:E,definition:a(),definitionDestinationString:b,definitionLabelString:v,definitionTitleString:w,emphasis:a(),hardBreakEscape:a($),hardBreakTrailing:a($),htmlFlow:a(ae),htmlFlowData:E,htmlText:a(G),htmlTextData:E,image:a(Y),label:X,labelText:L,lineEnding:B,link:a(K),listItem:a(),listOrdered:a(),listUnordered:a(),paragraph:a(),referenceString:Le,resourceDestinationString:O,resourceTitleString:re,resource:ce,setextHeading:a(A),setextHeadingLineSequence:T,setextHeadingText:k,strong:a(),thematicBreak:a()}};RU(e,(t||{}).mdastExtensions||[]);const n={};return r;function r(j){let Z={type:"root",children:[]};const ue={stack:[Z],tokenStack:[],config:e,enter:l,exit:u,buffer:s,resume:c,data:n},we=[];let et=-1;for(;++et<j.length;)if(j[et][1].type==="listOrdered"||j[et][1].type==="listUnordered")if(j[et][0]==="enter")we.push(et);else{const xt=we.pop();et=i(j,xt,et)}for(et=-1;++et<j.length;){const xt=e[j[et][0]];IU.call(xt,j[et][1].type)&&xt[j[et][1].type].call(Object.assign({sliceSerialize:j[et][2].sliceSerialize},ue),j[et][1])}if(ue.tokenStack.length>0){const xt=ue.tokenStack[ue.tokenStack.length-1];(xt[1]||TI).call(ue,void 0,xt[0])}for(Z.position={start:Ru(j.length>0?j[0][1].start:{line:1,column:1,offset:0}),end:Ru(j.length>0?j[j.length-2][1].end:{line:1,column:1,offset:0})},et=-1;++et<e.transforms.length;)Z=e.transforms[et](Z)||Z;return Z}function i(j,Z,ue){let we=Z-1,et=-1,xt=!1,Qe,Be,Ft,Tn;for(;++we<=ue;){const Nt=j[we];switch(Nt[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Nt[0]==="enter"?et++:et--,Tn=void 0;break}case"lineEndingBlank":{Nt[0]==="enter"&&(Qe&&!Tn&&!et&&!Ft&&(Ft=we),Tn=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Tn=void 0}if(!et&&Nt[0]==="enter"&&Nt[1].type==="listItemPrefix"||et===-1&&Nt[0]==="exit"&&(Nt[1].type==="listUnordered"||Nt[1].type==="listOrdered")){if(Qe){let gn=we;for(Be=void 0;gn--;){const wr=j[gn];if(wr[1].type==="lineEnding"||wr[1].type==="lineEndingBlank"){if(wr[0]==="exit")continue;Be&&(j[Be][1].type="lineEndingBlank",xt=!0),wr[1].type="lineEnding",Be=gn}else if(!(wr[1].type==="linePrefix"||wr[1].type==="blockQuotePrefix"||wr[1].type==="blockQuotePrefixWhitespace"||wr[1].type==="blockQuoteMarker"||wr[1].type==="listItemIndent"))break}Ft&&(!Be||Ft<Be)&&(Qe._spread=!0),Qe.end=Object.assign({},Be?j[Be][1].start:Nt[1].end),j.splice(Be||we,0,["exit",Qe,Nt[2]]),we++,ue++}if(Nt[1].type==="listItemPrefix"){const gn={type:"listItem",_spread:!1,start:Object.assign({},Nt[1].start),end:void 0};Qe=gn,j.splice(we,0,["enter",gn,Nt[2]]),we++,ue++,Ft=void 0,Tn=!0}}}return j[Z][1]._spread=xt,ue}function o(j,Z){return ue;function ue(we){l.call(this,j(we),we),Z&&Z.call(this,we)}}function s(){this.stack.push({type:"fragment",children:[]})}function l(j,Z,ue){this.stack[this.stack.length-1].children.push(j),this.stack.push(j),this.tokenStack.push([Z,ue]),j.position={start:Ru(Z.start),end:void 0}}function a(j){return Z;function Z(ue){j&&j.call(this,ue),u.call(this,ue)}}function u(j,Z){const ue=this.stack.pop(),we=this.tokenStack.pop();if(we)we[0].type!==j.type&&(Z?Z.call(this,j,we[0]):(we[1]||TI).call(this,j,we[0]));else throw new Error("Cannot close `"+j.type+"` ("+t1({start:j.start,end:j.end})+"): its not open");ue.position.end=Ru(j.end)}function c(){return LM(this.stack.pop())}function h(){this.data.expectingFirstListItemValue=!0}function f(j){if(this.data.expectingFirstListItemValue){const Z=this.stack[this.stack.length-2];Z.start=Number.parseInt(this.sliceSerialize(j),10),this.data.expectingFirstListItemValue=void 0}}function d(){const j=this.resume(),Z=this.stack[this.stack.length-1];Z.lang=j}function p(){const j=this.resume(),Z=this.stack[this.stack.length-1];Z.meta=j}function m(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function y(){const j=this.resume(),Z=this.stack[this.stack.length-1];Z.value=j.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function g(){const j=this.resume(),Z=this.stack[this.stack.length-1];Z.value=j.replace(/(\r?\n|\r)$/g,"")}function v(j){const Z=this.resume(),ue=this.stack[this.stack.length-1];ue.label=Z,ue.identifier=Zs(this.sliceSerialize(j)).toLowerCase()}function w(){const j=this.resume(),Z=this.stack[this.stack.length-1];Z.title=j}function b(){const j=this.resume(),Z=this.stack[this.stack.length-1];Z.url=j}function S(j){const Z=this.stack[this.stack.length-1];if(!Z.depth){const ue=this.sliceSerialize(j).length;Z.depth=ue}}function k(){this.data.setextHeadingSlurpLineEnding=!0}function T(j){const Z=this.stack[this.stack.length-1];Z.depth=this.sliceSerialize(j).codePointAt(0)===61?1:2}function A(){this.data.setextHeadingSlurpLineEnding=void 0}function z(j){const ue=this.stack[this.stack.length-1].children;let we=ue[ue.length-1];(!we||we.type!=="text")&&(we=Te(),we.position={start:Ru(j.start),end:void 0},ue.push(we)),this.stack.push(we)}function E(j){const Z=this.stack.pop();Z.value+=this.sliceSerialize(j),Z.position.end=Ru(j.end)}function B(j){const Z=this.stack[this.stack.length-1];if(this.data.atHardBreak){const ue=Z.children[Z.children.length-1];ue.position.end=Ru(j.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(Z.type)&&(z.call(this,j),E.call(this,j))}function $(){this.data.atHardBreak=!0}function ae(){const j=this.resume(),Z=this.stack[this.stack.length-1];Z.value=j}function G(){const j=this.resume(),Z=this.stack[this.stack.length-1];Z.value=j}function q(){const j=this.resume(),Z=this.stack[this.stack.length-1];Z.value=j}function K(){const j=this.stack[this.stack.length-1];if(this.data.inReference){const Z=this.data.referenceType||"shortcut";j.type+="Reference",j.referenceType=Z,delete j.url,delete j.title}else delete j.identifier,delete j.label;this.data.referenceType=void 0}function Y(){const j=this.stack[this.stack.length-1];if(this.data.inReference){const Z=this.data.referenceType||"shortcut";j.type+="Reference",j.referenceType=Z,delete j.url,delete j.title}else delete j.identifier,delete j.label;this.data.referenceType=void 0}function L(j){const Z=this.sliceSerialize(j),ue=this.stack[this.stack.length-2];ue.label=_U(Z),ue.identifier=Zs(Z).toLowerCase()}function X(){const j=this.stack[this.stack.length-1],Z=this.resume(),ue=this.stack[this.stack.length-1];if(this.data.inReference=!0,ue.type==="link"){const we=j.children;ue.children=we}else ue.alt=Z}function O(){const j=this.resume(),Z=this.stack[this.stack.length-1];Z.url=j}function re(){const j=this.resume(),Z=this.stack[this.stack.length-1];Z.title=j}function ce(){this.data.inReference=void 0}function _(){this.data.referenceType="collapsed"}function Le(j){const Z=this.resume(),ue=this.stack[this.stack.length-1];ue.label=Z,ue.identifier=Zs(this.sliceSerialize(j)).toLowerCase(),this.data.referenceType="full"}function Ie(j){this.data.characterReferenceType=j.type}function qe(j){const Z=this.sliceSerialize(j),ue=this.data.characterReferenceType;let we;ue?(we=kU(Z,ue==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):we=BM(Z);const et=this.stack[this.stack.length-1];et.value+=we}function ct(j){const Z=this.stack.pop();Z.position.end=Ru(j.end)}function St(j){E.call(this,j);const Z=this.stack[this.stack.length-1];Z.url=this.sliceSerialize(j)}function Mt(j){E.call(this,j);const Z=this.stack[this.stack.length-1];Z.url="mailto:"+this.sliceSerialize(j)}function mt(){return{type:"blockquote",children:[]}}function Rt(){return{type:"code",lang:null,meta:null,value:""}}function dt(){return{type:"inlineCode",value:""}}function R(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function H(){return{type:"emphasis",children:[]}}function Q(){return{type:"heading",depth:0,children:[]}}function me(){return{type:"break"}}function oe(){return{type:"html",value:""}}function se(){return{type:"image",title:null,url:"",alt:null}}function ye(){return{type:"link",title:null,url:"",children:[]}}function be(j){return{type:"list",ordered:j.type==="listOrdered",start:null,spread:j._spread,children:[]}}function ke(j){return{type:"listItem",spread:j._spread,checked:null,children:[]}}function ge(){return{type:"paragraph",children:[]}}function $e(){return{type:"strong",children:[]}}function Te(){return{type:"text",value:""}}function ze(){return{type:"thematicBreak"}}}function Ru(t){return{line:t.line,column:t.column,offset:t.offset}}function RU(t,e){let n=-1;for(;++n<e.length;){const r=e[n];Array.isArray(r)?RU(t,r):n0e(t,r)}}function n0e(t,e){let n;for(n in e)if(IU.call(e,n))switch(n){case"canContainEols":{const r=e[n];r&&t[n].push(...r);break}case"transforms":{const r=e[n];r&&t[n].push(...r);break}case"enter":case"exit":{const r=e[n];r&&Object.assign(t[n],r);break}}}function TI(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+t1({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+t1({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+t1({start:e.start,end:e.end})+") is still open")}function ex(t){const e=this;e.parser=n;function n(r){return e0e(r,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function r0e(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,n),t.applyData(e,n)}function i0e(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:`
`}]}function o0e(t,e){const n=e.value?e.value+`
`:"",r={};e.lang&&(r.className=["language-"+e.lang]);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return e.meta&&(i.data={meta:e.meta}),t.patch(e,i),i=t.applyData(e,i),i={type:"element",tagName:"pre",properties:{},children:[i]},t.patch(e,i),i}function s0e(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function l0e(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function a0e(t,e){const n=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",r=String(e.identifier).toUpperCase(),i=Gp(r.toLowerCase()),o=t.footnoteOrder.indexOf(r);let s,l=t.footnoteCounts.get(r);l===void 0?(l=0,t.footnoteOrder.push(r),s=t.footnoteOrder.length):s=o+1,l+=1,t.footnoteCounts.set(r,l);const a={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(l>1?"-"+l:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(s)}]};t.patch(e,a);const u={type:"element",tagName:"sup",properties:{},children:[a]};return t.patch(e,u),t.applyData(e,u)}function u0e(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function c0e(t,e){if(t.options.allowDangerousHtml){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}}function NU(t,e){const n=e.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+r}];const i=t.all(e),o=i[0];o&&o.type==="text"?o.value="["+o.value:i.unshift({type:"text",value:"["});const s=i[i.length-1];return s&&s.type==="text"?s.value+=r:i.push({type:"text",value:r}),i}function h0e(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return NU(t,e);const i={src:Gp(r.url||""),alt:e.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const o={type:"element",tagName:"img",properties:i,children:[]};return t.patch(e,o),t.applyData(e,o)}function f0e(t,e){const n={src:Gp(e.url)};e.alt!==null&&e.alt!==void 0&&(n.alt=e.alt),e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,r),t.applyData(e,r)}function d0e(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,r),t.applyData(e,r)}function p0e(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return NU(t,e);const i={href:Gp(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const o={type:"element",tagName:"a",properties:i,children:t.all(e)};return t.patch(e,o),t.applyData(e,o)}function m0e(t,e){const n={href:Gp(e.url)};e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function g0e(t,e,n){const r=t.all(e),i=n?y0e(n):LU(e),o={},s=[];if(typeof e.checked=="boolean"){const c=r[0];let h;c&&c.type==="element"&&c.tagName==="p"?h=c:(h={type:"element",tagName:"p",properties:{},children:[]},r.unshift(h)),h.children.length>0&&h.children.unshift({type:"text",value:" "}),h.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),o.className=["task-list-item"]}let l=-1;for(;++l<r.length;){const c=r[l];(i||l!==0||c.type!=="element"||c.tagName!=="p")&&s.push({type:"text",value:`
`}),c.type==="element"&&c.tagName==="p"&&!i?s.push(...c.children):s.push(c)}const a=r[r.length-1];a&&(i||a.type!=="element"||a.tagName!=="p")&&s.push({type:"text",value:`
`});const u={type:"element",tagName:"li",properties:o,children:s};return t.patch(e,u),t.applyData(e,u)}function y0e(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const n=t.children;let r=-1;for(;!e&&++r<n.length;)e=LU(n[r])}return e}function LU(t){const e=t.spread;return e??t.children.length>1}function v0e(t,e){const n={},r=t.all(e);let i=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++i<r.length;){const s=r[i];if(s.type==="element"&&s.tagName==="li"&&s.properties&&Array.isArray(s.properties.className)&&s.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const o={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(r,!0)};return t.patch(e,o),t.applyData(e,o)}function w0e(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function x0e(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)}function b0e(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function k0e(t,e){const n=t.all(e),r=n.shift(),i=[];if(r){const s={type:"element",tagName:"thead",properties:{},children:t.wrap([r],!0)};t.patch(e.children[0],s),i.push(s)}if(n.length>0){const s={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},l=_M(e.children[1]),a=pU(e.children[e.children.length-1]);l&&a&&(s.position={start:l,end:a}),i.push(s)}const o={type:"element",tagName:"table",properties:{},children:t.wrap(i,!0)};return t.patch(e,o),t.applyData(e,o)}function S0e(t,e,n){const r=n?n.children:void 0,o=(r?r.indexOf(e):1)===0?"th":"td",s=n&&n.type==="table"?n.align:void 0,l=s?s.length:e.children.length;let a=-1;const u=[];for(;++a<l;){const h=e.children[a],f={},d=s?s[a]:void 0;d&&(f.align=d);let p={type:"element",tagName:o,properties:f,children:[]};h&&(p.children=t.all(h),t.patch(h,p),p=t.applyData(h,p)),u.push(p)}const c={type:"element",tagName:"tr",properties:{},children:t.wrap(u,!0)};return t.patch(e,c),t.applyData(e,c)}function C0e(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const MI=9,AI=32;function T0e(t){const e=String(t),n=/\r?\n|\r/g;let r=n.exec(e),i=0;const o=[];for(;r;)o.push(EI(e.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(e);return o.push(EI(e.slice(i),i>0,!1)),o.join("")}function EI(t,e,n){let r=0,i=t.length;if(e){let o=t.codePointAt(r);for(;o===MI||o===AI;)r++,o=t.codePointAt(r)}if(n){let o=t.codePointAt(i-1);for(;o===MI||o===AI;)i--,o=t.codePointAt(i-1)}return i>r?t.slice(r,i):""}function M0e(t,e){const n={type:"text",value:T0e(String(e.value))};return t.patch(e,n),t.applyData(e,n)}function A0e(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)}const E0e={blockquote:r0e,break:i0e,code:o0e,delete:s0e,emphasis:l0e,footnoteReference:a0e,heading:u0e,html:c0e,imageReference:h0e,image:f0e,inlineCode:d0e,linkReference:p0e,link:m0e,listItem:g0e,list:v0e,paragraph:w0e,root:x0e,strong:b0e,table:k0e,tableCell:C0e,tableRow:S0e,text:M0e,thematicBreak:A0e,toml:V2,yaml:V2,definition:V2,footnoteDefinition:V2};function V2(){}const BU=-1,Hb=0,tx=1,nx=2,FM=3,$M=4,VM=5,HM=6,zU=7,FU=8,OI=typeof self=="object"?self:globalThis,O0e=(t,e)=>{const n=(i,o)=>(t.set(o,i),i),r=i=>{if(t.has(i))return t.get(i);const[o,s]=e[i];switch(o){case Hb:case BU:return n(s,i);case tx:{const l=n([],i);for(const a of s)l.push(r(a));return l}case nx:{const l=n({},i);for(const[a,u]of s)l[r(a)]=r(u);return l}case FM:return n(new Date(s),i);case $M:{const{source:l,flags:a}=s;return n(new RegExp(l,a),i)}case VM:{const l=n(new Map,i);for(const[a,u]of s)l.set(r(a),r(u));return l}case HM:{const l=n(new Set,i);for(const a of s)l.add(r(a));return l}case zU:{const{name:l,message:a}=s;return n(new OI[l](a),i)}case FU:return n(BigInt(s),i);case"BigInt":return n(Object(BigInt(s)),i)}return n(new OI[o](s),i)};return r},PI=t=>O0e(new Map,t)(0),vd="",{toString:P0e}={},{keys:D0e}=Object,Pm=t=>{const e=typeof t;if(e!=="object"||!t)return[Hb,e];const n=P0e.call(t).slice(8,-1);switch(n){case"Array":return[tx,vd];case"Object":return[nx,vd];case"Date":return[FM,vd];case"RegExp":return[$M,vd];case"Map":return[VM,vd];case"Set":return[HM,vd]}return n.includes("Array")?[tx,n]:n.includes("Error")?[zU,n]:[nx,n]},H2=([t,e])=>t===Hb&&(e==="function"||e==="symbol"),_0e=(t,e,n,r)=>{const i=(s,l)=>{const a=r.push(s)-1;return n.set(l,a),a},o=s=>{if(n.has(s))return n.get(s);let[l,a]=Pm(s);switch(l){case Hb:{let c=s;switch(a){case"bigint":l=FU,c=s.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+a);c=null;break;case"undefined":return i([BU],s)}return i([l,c],s)}case tx:{if(a)return i([a,[...s]],s);const c=[],h=i([l,c],s);for(const f of s)c.push(o(f));return h}case nx:{if(a)switch(a){case"BigInt":return i([a,s.toString()],s);case"Boolean":case"Number":case"String":return i([a,s.valueOf()],s)}if(e&&"toJSON"in s)return o(s.toJSON());const c=[],h=i([l,c],s);for(const f of D0e(s))(t||!H2(Pm(s[f])))&&c.push([o(f),o(s[f])]);return h}case FM:return i([l,s.toISOString()],s);case $M:{const{source:c,flags:h}=s;return i([l,{source:c,flags:h}],s)}case VM:{const c=[],h=i([l,c],s);for(const[f,d]of s)(t||!(H2(Pm(f))||H2(Pm(d))))&&c.push([o(f),o(d)]);return h}case HM:{const c=[],h=i([l,c],s);for(const f of s)(t||!H2(Pm(f)))&&c.push(o(f));return h}}const{message:u}=s;return i([l,{name:a,message:u}],s)};return o},DI=(t,{json:e,lossy:n}={})=>{const r=[];return _0e(!(e||n),!!e,new Map,r)(t),r},rx=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?PI(DI(t,e)):structuredClone(t):(t,e)=>PI(DI(t,e));function I0e(t,e){const n=[{type:"text",value:""}];return e>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),n}function R0e(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function N0e(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=t.options.footnoteBackContent||I0e,r=t.options.footnoteBackLabel||R0e,i=t.options.footnoteLabel||"Footnotes",o=t.options.footnoteLabelTagName||"h2",s=t.options.footnoteLabelProperties||{className:["sr-only"]},l=[];let a=-1;for(;++a<t.footnoteOrder.length;){const u=t.footnoteById.get(t.footnoteOrder[a]);if(!u)continue;const c=t.all(u),h=String(u.identifier).toUpperCase(),f=Gp(h.toLowerCase());let d=0;const p=[],m=t.footnoteCounts.get(h);for(;m!==void 0&&++d<=m;){p.length>0&&p.push({type:"text",value:" "});let v=typeof n=="string"?n:n(a,d);typeof v=="string"&&(v={type:"text",value:v}),p.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+f+(d>1?"-"+d:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(a,d),className:["data-footnote-backref"]},children:Array.isArray(v)?v:[v]})}const y=c[c.length-1];if(y&&y.type==="element"&&y.tagName==="p"){const v=y.children[y.children.length-1];v&&v.type==="text"?v.value+=" ":y.children.push({type:"text",value:" "}),y.children.push(...p)}else c.push(...p);const g={type:"element",tagName:"li",properties:{id:e+"fn-"+f},children:t.wrap(c,!0)};t.patch(u,g),l.push(g)}if(l.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:o,properties:{...rx(s),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(l,!0)},{type:"text",value:`
`}]}}const jb=function(t){if(t==null)return F0e;if(typeof t=="function")return Wb(t);if(typeof t=="object")return Array.isArray(t)?L0e(t):B0e(t);if(typeof t=="string")return z0e(t);throw new Error("Expected function, string, or object as test")};function L0e(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=jb(t[n]);return Wb(r);function r(...i){let o=-1;for(;++o<e.length;)if(e[o].apply(this,i))return!0;return!1}}function B0e(t){const e=t;return Wb(n);function n(r){const i=r;let o;for(o in t)if(i[o]!==e[o])return!1;return!0}}function z0e(t){return Wb(e);function e(n){return n&&n.type===t}}function Wb(t){return e;function e(n,r,i){return!!($0e(n)&&t.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function F0e(){return!0}function $0e(t){return t!==null&&typeof t=="object"&&"type"in t}const $U=[],V0e=!0,PS=!1,DS="skip";function jM(t,e,n,r){let i;typeof e=="function"&&typeof n!="function"?(r=n,n=e):i=e;const o=jb(i),s=r?-1:1;l(t,void 0,[])();function l(a,u,c){const h=a&&typeof a=="object"?a:{};if(typeof h.type=="string"){const d=typeof h.tagName=="string"?h.tagName:typeof h.name=="string"?h.name:void 0;Object.defineProperty(f,"name",{value:"node ("+(a.type+(d?"<"+d+">":""))+")"})}return f;function f(){let d=$U,p,m,y;if((!e||o(a,u,c[c.length-1]||void 0))&&(d=H0e(n(a,c)),d[0]===PS))return d;if("children"in a&&a.children){const g=a;if(g.children&&d[0]!==DS)for(m=(r?g.children.length:-1)+s,y=c.concat(g);m>-1&&m<g.children.length;){const v=g.children[m];if(p=l(v,m,y)(),p[0]===PS)return p;m=typeof p[1]=="number"?p[1]:m+s}}return d}}}function H0e(t){return Array.isArray(t)?t:typeof t=="number"?[V0e,t]:t==null?$U:[t]}function ia(t,e,n,r){let i,o,s;typeof e=="function"&&typeof n!="function"?(o=void 0,s=e,i=n):(o=e,s=n,i=r),jM(t,o,l,i);function l(a,u){const c=u[u.length-1],h=c?c.children.indexOf(a):void 0;return s(a,h,c)}}const _S={}.hasOwnProperty,j0e={};function W0e(t,e){const n=e||j0e,r=new Map,i=new Map,o=new Map,s={...E0e,...n.handlers},l={all:u,applyData:q0e,definitionById:r,footnoteById:i,footnoteCounts:o,footnoteOrder:[],handlers:s,one:a,options:n,patch:U0e,wrap:G0e};return ia(t,function(c){if(c.type==="definition"||c.type==="footnoteDefinition"){const h=c.type==="definition"?r:i,f=String(c.identifier).toUpperCase();h.has(f)||h.set(f,c)}}),l;function a(c,h){const f=c.type,d=l.handlers[f];if(_S.call(l.handlers,f)&&d)return d(l,c,h);if(l.options.passThrough&&l.options.passThrough.includes(f)){if("children"in c){const{children:m,...y}=c,g=rx(y);return g.children=l.all(c),g}return rx(c)}return(l.options.unknownHandler||K0e)(l,c,h)}function u(c){const h=[];if("children"in c){const f=c.children;let d=-1;for(;++d<f.length;){const p=l.one(f[d],c);if(p){if(d&&f[d-1].type==="break"&&(!Array.isArray(p)&&p.type==="text"&&(p.value=_I(p.value)),!Array.isArray(p)&&p.type==="element")){const m=p.children[0];m&&m.type==="text"&&(m.value=_I(m.value))}Array.isArray(p)?h.push(...p):h.push(p)}}}return h}}function U0e(t,e){t.position&&(e.position=Rhe(t))}function q0e(t,e){let n=e;if(t&&t.data){const r=t.data.hName,i=t.data.hChildren,o=t.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const s="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:s}}n.type==="element"&&o&&Object.assign(n.properties,rx(o)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function K0e(t,e){const n=e.data||{},r="value"in e&&!(_S.call(n,"hProperties")||_S.call(n,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function G0e(t,e){const n=[];let r=-1;for(e&&n.push({type:"text",value:`
`});++r<t.length;)r&&n.push({type:"text",value:`
`}),n.push(t[r]);return e&&t.length>0&&n.push({type:"text",value:`
`}),n}function _I(t){let e=0,n=t.charCodeAt(e);for(;n===9||n===32;)e++,n=t.charCodeAt(e);return t.slice(e)}function II(t,e){const n=W0e(t,e),r=n.one(t,void 0),i=N0e(n),o=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&o.children.push({type:"text",value:`
`},i),o}function Y0e(t,e){return t&&"run"in t?async function(n,r){const i=II(n,{file:r,...e});await t.run(i,r)}:function(n,r){return II(n,{file:r,...t||e})}}function RI(t){if(t)throw t}var hw=Object.prototype.hasOwnProperty,VU=Object.prototype.toString,NI=Object.defineProperty,LI=Object.getOwnPropertyDescriptor,BI=function(e){return typeof Array.isArray=="function"?Array.isArray(e):VU.call(e)==="[object Array]"},zI=function(e){if(!e||VU.call(e)!=="[object Object]")return!1;var n=hw.call(e,"constructor"),r=e.constructor&&e.constructor.prototype&&hw.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!n&&!r)return!1;var i;for(i in e);return typeof i>"u"||hw.call(e,i)},FI=function(e,n){NI&&n.name==="__proto__"?NI(e,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):e[n.name]=n.newValue},$I=function(e,n){if(n==="__proto__")if(hw.call(e,n)){if(LI)return LI(e,n).value}else return;return e[n]},X0e=function t(){var e,n,r,i,o,s,l=arguments[0],a=1,u=arguments.length,c=!1;for(typeof l=="boolean"&&(c=l,l=arguments[1]||{},a=2),(l==null||typeof l!="object"&&typeof l!="function")&&(l={});a<u;++a)if(e=arguments[a],e!=null)for(n in e)r=$I(l,n),i=$I(e,n),l!==i&&(c&&i&&(zI(i)||(o=BI(i)))?(o?(o=!1,s=r&&BI(r)?r:[]):s=r&&zI(r)?r:{},FI(l,{name:n,newValue:t(c,s,i)})):typeof i<"u"&&FI(l,{name:n,newValue:i}));return l};const i7=mb(X0e);function IS(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function J0e(){const t=[],e={run:n,use:r};return e;function n(...i){let o=-1;const s=i.pop();if(typeof s!="function")throw new TypeError("Expected function as last argument, not "+s);l(null,...i);function l(a,...u){const c=t[++o];let h=-1;if(a){s(a);return}for(;++h<i.length;)(u[h]===null||u[h]===void 0)&&(u[h]=i[h]);i=u,c?Z0e(c,l)(...u):s(null,...u)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return t.push(i),e}}function Z0e(t,e){let n;return r;function r(...s){const l=t.length>s.length;let a;l&&s.push(i);try{a=t.apply(this,s)}catch(u){const c=u;if(l&&n)throw c;return i(c)}l||(a&&a.then&&typeof a.then=="function"?a.then(o,i):a instanceof Error?i(a):o(a))}function i(s,...l){n||(n=!0,e(s,...l))}function o(s){i(null,s)}}const Al={basename:Q0e,dirname:epe,extname:tpe,join:npe,sep:"/"};function Q0e(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');Lv(t);let n=0,r=-1,i=t.length,o;if(e===void 0||e.length===0||e.length>t.length){for(;i--;)if(t.codePointAt(i)===47){if(o){n=i+1;break}}else r<0&&(o=!0,r=i+1);return r<0?"":t.slice(n,r)}if(e===t)return"";let s=-1,l=e.length-1;for(;i--;)if(t.codePointAt(i)===47){if(o){n=i+1;break}}else s<0&&(o=!0,s=i+1),l>-1&&(t.codePointAt(i)===e.codePointAt(l--)?l<0&&(r=i):(l=-1,r=s));return n===r?r=s:r<0&&(r=t.length),t.slice(n,r)}function epe(t){if(Lv(t),t.length===0)return".";let e=-1,n=t.length,r;for(;--n;)if(t.codePointAt(n)===47){if(r){e=n;break}}else r||(r=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function tpe(t){Lv(t);let e=t.length,n=-1,r=0,i=-1,o=0,s;for(;e--;){const l=t.codePointAt(e);if(l===47){if(s){r=e+1;break}continue}n<0&&(s=!0,n=e+1),l===46?i<0?i=e:o!==1&&(o=1):i>-1&&(o=-1)}return i<0||n<0||o===0||o===1&&i===n-1&&i===r+1?"":t.slice(i,n)}function npe(...t){let e=-1,n;for(;++e<t.length;)Lv(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":rpe(n)}function rpe(t){Lv(t);const e=t.codePointAt(0)===47;let n=ipe(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.codePointAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function ipe(t,e){let n="",r=0,i=-1,o=0,s=-1,l,a;for(;++s<=t.length;){if(s<t.length)l=t.codePointAt(s);else{if(l===47)break;l=47}if(l===47){if(!(i===s-1||o===1))if(i!==s-1&&o===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(a=n.lastIndexOf("/"),a!==n.length-1){a<0?(n="",r=0):(n=n.slice(0,a),r=n.length-1-n.lastIndexOf("/")),i=s,o=0;continue}}else if(n.length>0){n="",r=0,i=s,o=0;continue}}e&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+t.slice(i+1,s):n=t.slice(i+1,s),r=s-i-1;i=s,o=0}else l===46&&o>-1?o++:o=-1}return n}function Lv(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const ope={cwd:spe};function spe(){return"/"}function RS(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function lpe(t){if(typeof t=="string")t=new URL(t);else if(!RS(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return ape(t)}function ape(t){if(t.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.codePointAt(n)===37&&e.codePointAt(n+1)===50){const r=e.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(e)}const o7=["history","path","basename","stem","extname","dirname"];class HU{constructor(e){let n;e?RS(e)?n={path:e}:typeof e=="string"||upe(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":ope.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<o7.length;){const o=o7[r];o in n&&n[o]!==void 0&&n[o]!==null&&(this[o]=o==="history"?[...n[o]]:n[o])}let i;for(i in n)o7.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?Al.basename(this.path):void 0}set basename(e){l7(e,"basename"),s7(e,"basename"),this.path=Al.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?Al.dirname(this.path):void 0}set dirname(e){VI(this.basename,"dirname"),this.path=Al.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?Al.extname(this.path):void 0}set extname(e){if(s7(e,"extname"),VI(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Al.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){RS(e)&&(e=lpe(e)),l7(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?Al.basename(this.path,this.extname):void 0}set stem(e){l7(e,"stem"),s7(e,"stem"),this.path=Al.join(this.dirname||"",e+(this.extname||""))}fail(e,n,r){const i=this.message(e,n,r);throw i.fatal=!0,i}info(e,n,r){const i=this.message(e,n,r);return i.fatal=void 0,i}message(e,n,r){const i=new vi(e,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function s7(t,e){if(t&&t.includes(Al.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+Al.sep+"`")}function l7(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function VI(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function upe(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const cpe=function(t){const r=this.constructor.prototype,i=r[t],o=function(){return i.apply(o,arguments)};return Object.setPrototypeOf(o,r),o},hpe={}.hasOwnProperty;class WM extends cpe{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=J0e()}copy(){const e=new WM;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];e.use(...r)}return e.data(i7(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(c7("data",this.frozen),this.namespace[e]=n,this):hpe.call(this.namespace,e)&&this.namespace[e]||void 0:e?(c7("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(e,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const n=j2(e),r=this.parser||this.Parser;return a7("parse",r),r(String(n),n)}process(e,n){const r=this;return this.freeze(),a7("process",this.parser||this.Parser),u7("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(o,s){const l=j2(e),a=r.parse(l);r.run(a,l,function(c,h,f){if(c||!h||!f)return u(c);const d=h,p=r.stringify(d,f);dpe(p)?f.value=p:f.result=p,u(c,f)});function u(c,h){c||!h?s(c):o?o(h):n(void 0,h)}}}processSync(e){let n=!1,r;return this.freeze(),a7("processSync",this.parser||this.Parser),u7("processSync",this.compiler||this.Compiler),this.process(e,i),jI("processSync","process",n),r;function i(o,s){n=!0,RI(o),r=s}}run(e,n,r){HI(e),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?o(void 0,r):new Promise(o);function o(s,l){const a=j2(n);i.run(e,a,u);function u(c,h,f){const d=h||e;c?l(c):s?s(d):r(void 0,d,f)}}}runSync(e,n){let r=!1,i;return this.run(e,n,o),jI("runSync","run",r),i;function o(s,l){RI(s),i=l,r=!0}}stringify(e,n){this.freeze();const r=j2(n),i=this.compiler||this.Compiler;return u7("stringify",i),HI(e),i(e,r)}use(e,...n){const r=this.attachers,i=this.namespace;if(c7("use",this.frozen),e!=null)if(typeof e=="function")a(e,n);else if(typeof e=="object")Array.isArray(e)?l(e):s(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function o(u){if(typeof u=="function")a(u,[]);else if(typeof u=="object")if(Array.isArray(u)){const[c,...h]=u;a(c,h)}else s(u);else throw new TypeError("Expected usable value, not `"+u+"`")}function s(u){if(!("plugins"in u)&&!("settings"in u))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");l(u.plugins),u.settings&&(i.settings=i7(!0,i.settings,u.settings))}function l(u){let c=-1;if(u!=null)if(Array.isArray(u))for(;++c<u.length;){const h=u[c];o(h)}else throw new TypeError("Expected a list of plugins, not `"+u+"`")}function a(u,c){let h=-1,f=-1;for(;++h<r.length;)if(r[h][0]===u){f=h;break}if(f===-1)r.push([u,...c]);else if(c.length>0){let[d,...p]=c;const m=r[f][1];IS(m)&&IS(d)&&(d=i7(!0,m,d)),r[f]=[u,d,...p]}}}}const ix=new WM().freeze();function a7(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function u7(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function c7(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function HI(t){if(!IS(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function jI(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function j2(t){return fpe(t)?t:new HU(t)}function fpe(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function dpe(t){return typeof t=="string"||ppe(t)}function ppe(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const mpe="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",WI=[],UI={allowDangerousHtml:!0},gpe=/^(https?|ircs?|mailto|xmpp)$/i,ype=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function vpe(t){const e=t.allowedElements,n=t.allowElement,r=t.children||"",i=t.className,o=t.components,s=t.disallowedElements,l=t.rehypePlugins||WI,a=t.remarkPlugins||WI,u=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...UI}:UI,c=t.skipHtml,h=t.unwrapDisallowed,f=t.urlTransform||wpe,d=ix().use(ex).use(a).use(Y0e,u).use(l),p=new HU;typeof r=="string"&&(p.value=r);for(const v of ype)Object.hasOwn(t,v.from)&&(""+v.from+(v.to?"use `"+v.to+"` instead":"remove it")+mpe+v.id,void 0);const m=d.parse(p);let y=d.runSync(m,p);return i&&(y={type:"element",tagName:"div",properties:{className:i},children:y.type==="root"?y.children:[y]}),ia(y,g),$he(y,{Fragment:P.Fragment,components:o,ignoreInvalidStyle:!0,jsx:P.jsx,jsxs:P.jsxs,passKeys:!0,passNode:!0});function g(v,w,b){if(v.type==="raw"&&b&&typeof w=="number")return c?b.children.splice(w,1):b.children[w]={type:"text",value:v.value},w;if(v.type==="element"){let S;for(S in t7)if(Object.hasOwn(t7,S)&&Object.hasOwn(v.properties,S)){const k=v.properties[S],T=t7[S];(T===null||T.includes(v.tagName))&&(v.properties[S]=f(String(k||""),S,v))}}if(v.type==="element"){let S=e?!e.includes(v.tagName):s?s.includes(v.tagName):!1;if(!S&&n&&typeof w=="number"&&(S=!n(v,w,b)),S&&b&&typeof w=="number")return h&&v.children?b.children.splice(w,1,...v.children):b.children.splice(w,1),w}}}function wpe(t){const e=t.indexOf(":"),n=t.indexOf("?"),r=t.indexOf("#"),i=t.indexOf("/");return e<0||i>-1&&e>i||n>-1&&e>n||r>-1&&e>r||gpe.test(t.slice(0,e))?t:""}const xpe=({width:t=18,height:e=18,color:n="white"})=>P.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:e,viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:n,fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[P.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),P.jsx("path",{d:"M9 14l-4 -4l4 -4"}),P.jsx("path",{d:"M5 10h7a4 4 0 1 1 0 8h-1"})]}),UM=({defaultText:t,childTexts:e})=>{const[n,r]=I.useState(t),i=()=>{r(t)},o=u=>{u&&e&&e[u]&&r(e[u])},s=({src:u,alt:c})=>P.jsx("img",{src:u,alt:c}),l=({href:u,children:c})=>u!=null&&u.startsWith("/markdown/")?P.jsx(Cpe,{onClick:()=>{o(u.split("/markdown/")[1]||"")},children:c}):P.jsx("a",{href:u,target:"_blank",rel:"noopener noreferrer",children:c}),a={a:u=>P.jsx(l,{...u}),img:u=>P.jsx(s,{...u})};return P.jsxs(bpe,{children:[n!=t&&P.jsx(kpe,{children:P.jsx(Spe,{onClick:i,children:P.jsx(xpe,{width:22,height:22,color:"var(--ice-main-color_3)"})})}),P.jsx(Tpe,{children:P.jsx(vpe,{components:a,children:n})})]})},bpe=de.div`
  display: flex;
  flex-direction: column;
  overflow-y: hidden;
  text-align: left;
  height: 100%;
`,kpe=de.div`
  display: flex;
  align-items: center;
  justify-content: end;
  padding: 0px 5px;
  border-bottom: 1.5px solid var(--main-line-color);
`,Spe=de.div`
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
`,Cpe=de.span`
  color: var(--ice-main-color);
  text-decoration: underline;
  cursor: pointer;
`,Tpe=de.div`
  overflow-y: auto;
  padding-left: 15px;
  padding-right: 15px;
  padding-bottom: 15px;
  font-size: 0.75rem;
  line-height: 1.6;

  /* Styling for headings */
  h1 {
    font-size: 1.125rem;
    border-bottom: 1.5px solid var(--main-line-color);
  }

  h2 {
    font-size: 1rem;
    border-bottom: 1.5px solid var(--main-line-color);
  }

  h3 {
    font-size: 0.8rem;
    border-bottom: 1.5px solid var(--main-line-color);
  }

  /* Styling for links */
  a {
    color: var(--ice-main-color);
    text-decoration: underline;
  }

  /* Styling for code blocks */
  pre {
    background-color: var(--main-hover-color);
    padding: 5px;
    border-radius: 5px;
    overflow-x: auto;
  }

  code {
    font-family: 'Courier New', Courier, monospace;
  }

  /* Styling for lists */
  ul,
  ol {
    padding-left: 20px;
    margin-left: 2px;
    margin-bottom: 5px;
  }

  img {
    max-width: 100%;
    border: 1px solid var(--main-line-color);
  }
`,Mpe=`
#   : v2025.11.20

#  !

  ****.  
   .

---

   **   **  ,  
**    **  
**    **.

---

    .  
   :)

##  [](/About)
** (Park Jeong-Kyun)**  
-  2001. 02. 23  
-  (Seoul), (Daegu), (ROK)  
-  dbzoseh84@gmail.com  
-   , ,   
-      ""   .


##  [ ](/markdown/relase)
   " "    .


##   
- Typescript
- Javascript
- Go
- React
- WebAssembly


##  [ ](/markdown/update)
    
 " "   .


##   
- [Github](https://github.com/ParkJeongKyun/ICE-frontend)


##   
      . !  
- [SVG REPO -  ](https://www.svgrepo.com/)
- [Pixabay -  ](https://pixabay.com/)
- [Framer Motion -   ](https://www.framer.com/motion/)
- [Go Exif - GoLang Exif  ](https://pkg.go.dev/github.com/dsoprea/go-exif)
- [Yara -   ](https://github.com/VirusTotal/yara)
- [KaKao Map -  API](https://apis.map.kakao.com/)
- [Milkdown -   ](https://milkdown.dev/)
- [React Markdown -  ](https://github.com/remarkjs/react-markdown)
- [Google Analytics -    ](https://analytics.google.com/analytics/web/)
`,Ape=`
##  

### v2025.11.20
-      
-     
-    
-     
- UI/UX 
-     
- LinkNote  

### v2025.06.30
-   

### v2025.06.22
-       
-      
-   UI/UX 

### v2025.06.15
-      
- WebAssembly  
- 1GB   1GB  
-     
-     

### v2024.06.19
-    

### v2024.06.14
-  UI    
-   
-      

### v2024.06.05
- Home()  
-    

### v2024.06.02
-    (/) 
-      
- About()  

### v2024.05.29
-    
-    
-    

### v2024.05.27
-    
-   

### v2024.05.24
-      
-    

### v2023.07.10
-   
-   
-   C++ Go 
- EXIF   

### v2023.02.27
- Typescript 
-   

### v2023.01.30
-   

### v2022.12.24
- Backend API (C++ ) 
-   

### v2022.11.15
-  Backend API(Python, Nginx, GCP) 

### v2022.08.01
- Backend API Flask FastAPI 

### v2022.07.07
- EXIF   
-  

### v2022.06.23
- ice-forensic.com  
`,Epe=`
##  
  -   
  -  /  
  -        
  -      
  - Go   , 
  -  UI/UX 
`,Ope=()=>P.jsx(P.Fragment,{children:P.jsx(UM,{defaultText:Mpe,childTexts:{relase:Ape,update:Epe}})}),Ppe=`
# 
-     .     
-      .
-    .
-       .
-      !

# [](/markdown/howToUse)
 ""     .

#   
## PC 
![PC   ](/images/sample/sample3.png)

##  
![   ](/images/sample/mobile_sample1.png)

# 
     .  
- dbzoseh84@gmail.com
`,Dpe=`
# 1.  
![](/images/sample/example1.png)
-  "Open"   " "  .
-    .

# 2.   
![](/images/sample/example2.png)
- **Thumbnail**:   ( )
- **File Info**: ,  ,   
- **Map**:    (    )
- **Exif Data**:  ( ,  )
- **Hex Viewer**:  Hex 
- **Search**: Hex/ASCII/Offset  

# 3. 
![](/images/sample/example3.png)
- Offset, Hex, ASCII   
-  1000  
- "X"  , "PREV"/"NEXT"  
`,_pe=()=>P.jsx(P.Fragment,{children:P.jsx(UM,{defaultText:Ppe,childTexts:{howToUse:Dpe}})});function ox(){return ox=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ox.apply(this,arguments)}var jU=["ArrowRight","Right"],WU=["ArrowDown","Down"],Ipe=[].concat(["ArrowLeft","Left"],jU),Rpe=[].concat(["ArrowUp","Up"],WU),Npe=[].concat(jU,WU),qI=function(t){var e=t.axis,n=t.disabled,r=n!==void 0&&n,i=t.initial,o=i===void 0?0:i,s=t.min,l=s===void 0?0:s,a=t.max,u=a===void 0?1/0:a,c=t.reverse,h=t.step,f=h===void 0?10:h,d=t.shiftStep,p=d===void 0?50:d,m=t.onResizeStart,y=t.onResizeEnd,g=t.containerRef,v=Math.min(Math.max(o,l),u),w=I.useRef(!1),b=I.useState(!1),S=b[0],k=b[1],T=I.useState(v),A=T[0],z=T[1],E=I.useRef(v),B=I.useState(v),$=B[0],ae=B[1],G=I.useMemo(function(){return{role:"separator","aria-valuenow":A,"aria-valuemin":l,"aria-valuemax":u,"aria-orientation":e==="x"?"vertical":"horizontal","aria-disabled":r}},[e,r,u,l,A]),q=I.useCallback(function(O){if(w.current&&!r){O.stopPropagation(),O.preventDefault();var re=function(){if(e==="x"){if(g!=null&&g.current){var ce=g.current.getBoundingClientRect(),_=ce.left;return c?_+ce.width-O.clientX:O.clientX-_}return c?document.body.offsetWidth-O.clientX:O.clientX}if(g!=null&&g.current){var Le=g.current.getBoundingClientRect(),Ie=Le.top;return c?Ie+Le.height-O.clientY:O.clientY-Ie}return c?document.body.offsetHeight-O.clientY:O.clientY}();re=Math.min(Math.max(re,l),u),z(re),E.current=re}},[e,r,u,l,c,g]),K=I.useCallback(function(O){r||(O.stopPropagation(),w.current=!1,k(!1),ae(E.current),document.removeEventListener("pointermove",q),document.removeEventListener("pointerup",K),y&&y({position:E.current}))},[r,q,y]),Y=I.useCallback(function(O){r||(O.stopPropagation(),w.current=!0,k(!0),document.addEventListener("pointermove",q),document.addEventListener("pointerup",K),m&&m({position:E.current}))},[r,q,K,m]),L=I.useCallback(function(O){if(!r){if(O.key==="Enter")return z(o),void(E.current=o);if((e!=="x"||Ipe.includes(O.key))&&(e!=="y"||Rpe.includes(O.key))){m&&m({position:E.current});var re=O.shiftKey?p:f,ce=c?-1:1,_=Npe.includes(O.key)?ce:-1*ce,Le=A+re*_;Le<l?(z(l),E.current=l):Le>u?(z(u),E.current=u):(z(Le),E.current=Le),y&&y({position:E.current})}}},[r,e,m,p,f,c,A,l,u,y,o]),X=I.useCallback(function(){r||(z(o),E.current=o)},[r,o]);return{position:A,endPosition:$,isDragging:S,separatorProps:ox({},G,{onPointerDown:Y,onKeyDown:L,onDoubleClick:X}),setPosition:z,splitterProps:ox({},G,{onPointerDown:Y,onKeyDown:L,onDoubleClick:X})}};const Lpe=de.select`
  width: 100%;
  outline: none;
  color: var(--main-color);
  border: none;
  background-color: var(--main-bg-color);
  font-size: 0.75rem;
  min-height: 25px;
  border-radius: 5px;
  &:focus,
  &:hover {
    outline: none;
    border: none;
    background-color: var(--main-hover-color_1);
  }
`,h7=de.div`
  display: flex;
  text-align: center;
  align-items: center;
  gap: 5px;
  justify-content: space-between;
  margin-bottom: 10px;
`,KI=de.div`
  width: 20%;
  font-size: 0.75rem;
  text-align: start;
`,GI=de.div`
  width: 80%;
`,Bpe=de.input`
  width: 100%;
  color: var(--main-color);
  background-color: var(--main-bg-color);
  border: none;
  border-bottom: 1px solid var(--main-line-color);
  box-sizing: border-box;
  font-size: 0.75rem;
  min-height: 25px;
  &:focus,
  &:hover {
    outline: none;
    background-color: var(--main-hover-color_1);
  }
`,zpe=de.div`
  display: flex;
  align-items: center;
  justify-content: center;

  input[type='checkbox'] {
    width: 12px;
    height: 12px;
    cursor: pointer;
  }

  &:hover {
    cursor: pointer;
  }

  > span {
    margin-left: 5px;
    font-size: 0.75rem;
    text-align: start;
  }
`,Fpe=de.div`
  display: flex;
  text-align: center;
  align-items: center;
  justify-content: space-between;
`,$pe=de.div`
  display: flex;
  min-height: 25px;
  align-items: center;
  justify-content: center;
`,Vpe=de.div`
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 0.7rem;
  font-weight: 600;
  margin: 2px 0px 2px 0px;
  padding: 2px 0px 2px 0px;
`,Hpe=de.div`
  display: flex;
  min-height: 25px;
  align-items: center;
  justify-content: center;
`,f7=de.div`
  display: flex;
  align-items: center;
  justify-content: center;
  margin: 2px 1px 2px 1px;
  padding: 2px 4px 2px 4px;
  border-radius: 2.5px;
  font-weight: 600;
  font-size: 0.6rem;
  color: var(--main-color);
  border: 1px solid var(--main-line-color);
  &:hover {
    cursor: pointer;
    color: var(--ice-main-color);
    background-color: var(--main-hover-color);
  }
  display: ${t=>t.$disabled?"none":"inline-flex"};
`,jpe=de.div`
  display: inline-flex;
  margin: 0px 5px;
  align-items: center;
  justify-content: center;
  svg {
    stroke: var(--main-color);
  }
  &:hover {
    svg {
      stroke: var(--ice-main-color); //     
    }
  }
`,UU={},Wpe=(t,e)=>{switch(e.type){case"SET_RESULTS":return{...t,[e.key]:{results:e.results,currentIndex:e.results.length>0?0:-1,inputValue:e.inputValue,searchType:e.searchType}};case"SET_CURRENT_INDEX":return{...t,[e.key]:{...t[e.key],currentIndex:e.index}};case"RESET_RESULTS":return UU;default:return t}},Upe=(t,e)=>{switch(e){case"offset":case"hex":return t.replace(/[^0-9a-fA-F]/g,"");case"ascii":return t.replace(/[^\x00-\x7F]/g,"");default:return t}},qpe=({hexViewerRef:t})=>{var v;const{activeKey:e}=Up(),[n,r]=I.useReducer(Wpe,UU),[i,o]=I.useState("offset"),[s,l]=I.useState(""),[a,u]=I.useState(!0),c=I.useCallback(async(w,b)=>{if(!t.current)return;let S=[];if(b==="offset"){const k=await t.current.findByOffset(w);S=k?[k]:[]}else b==="hex"?S=await t.current.findAllByHex(w)||[]:b==="ascii"&&(S=await t.current.findAllByAsciiText(w,a)||[]);r({type:"SET_RESULTS",key:e,results:S,inputValue:w,searchType:i})},[t,e,a]),h=I.useCallback(w=>{const b=Upe(w.target.value,i);l(b)},[i]),f=I.useCallback(async w=>{w.key==="Enter"&&s&&await c(s,i)},[s,c,i]),d=I.useCallback(w=>{o(w.target.value)},[]),p=I.useCallback(()=>{const w=n[e];!w||w.results.length<=1||r({type:"SET_CURRENT_INDEX",key:e,index:w.currentIndex>0?w.currentIndex-1:w.results.length-1})},[e,n]),m=I.useCallback(()=>{const w=n[e];!w||w.results.length<=1||r({type:"SET_CURRENT_INDEX",key:e,index:w.currentIndex<w.results.length-1?w.currentIndex+1:0})},[e,n]),y=I.useCallback(()=>{r({type:"RESET_RESULTS"}),l("")},[]),g=I.useMemo(()=>{const w=n[e];return!w||w.currentIndex<0?null:w.results[w.currentIndex]||null},[n,e]);return I.useEffect(()=>{g&&t.current&&t.current.scrollToIndex(g.index,g.offset)},[g,t]),I.useEffect(()=>{l("")},[i]),P.jsxs(ng,{title:"Search",open:!0,children:[P.jsxs(h7,{children:[P.jsx(KI,{children:""}),P.jsx(GI,{children:P.jsxs(Lpe,{value:i,onChange:d,children:[P.jsx("option",{value:"offset",children:"Offset"}),P.jsx("option",{value:"hex",children:"Hex"}),P.jsx("option",{value:"ascii",children:"ASCII"})]})})]}),P.jsxs(h7,{children:[P.jsx(KI,{children:""}),P.jsxs(GI,{style:{display:"flex",gap:8},children:[P.jsx(hc,{text:" ",children:P.jsx(Bpe,{value:s,onChange:h,onKeyDown:f,maxLength:i==="offset"?8:50,placeholder:`${i}  .`})}),P.jsx(f7,{onClick:()=>s&&c(s,i),children:"SEARCH"})]})]}),i=="ascii"&&P.jsx(h7,{children:P.jsxs(zpe,{onClick:()=>u(w=>!w),children:[P.jsx("input",{type:"checkbox",checked:a,onChange:w=>u(w.target.checked)}),P.jsx("span",{children:"  "})]})}),((v=n[e])==null?void 0:v.results.length)>0&&P.jsxs(Fpe,{children:[P.jsx($pe,{children:P.jsxs(Vpe,{children:[P.jsxs(hc,{text:" 1000  ",children:[""," ",P.jsx("span",{style:{color:"var(--ice-main-color_1)"},children:n[e].results.length})," "," ",n[e].results.length>1&&P.jsxs(P.Fragment,{children:[""," ",P.jsx("span",{style:{color:"var(--ice-main-color)"},children:n[e].currentIndex+1}),""]})]}),P.jsx(jpe,{onClick:y,children:P.jsx(hc,{text:" ",children:P.jsx(OM,{height:15,width:15})})})]})}),P.jsxs(Hpe,{children:[P.jsx(f7,{onClick:p,$disabled:n[e].results.length<=1,children:"PREV"}),P.jsx(f7,{onClick:m,$disabled:n[e].results.length<=1,children:"NEXT"})]})]})]})},YI=Lo.memo(qpe),Kpe=de.div`
  display: flex;
  align-items: center;
  justify-content: center;
  justify-items: center;
  width: 100%;
  height: 100%;
  overflow: auto;
  flex-grow: 1;
  user-select: none;
`,Gpe=de.div`
  display: flex;
  flex-direction: column;
  width: 70%;
  height: 70%;
  text-align: left;
  gap: 4rem;
`,Ype=de.div`
  display: flex;
  flex-direction: column;
`,Xpe=de.div`
  display: flex;
  align-items: baseline;
  font-size: 2.75rem;
  font-weight: 600;
  color: var(--ice-main-color);
`,Jpe=de.div`
  flex-grow: 1;
  font-size: 1rem;
  font-weight: 600;
  color: var(--main-color_1);
`,Zpe=de.div`
  display: flex;
  flex-direction: column;
  margin: 0.25rem 1rem;
  gap: 0.1rem;
`,d7=de.div`
  font-size: 1rem;
  font-weight: 600;
  color: var(--main-color);
`,Qpe=de.div`
  margin: 0.25rem 1rem;
  font-size: 1.25rem;
  font-weight: 600;
  color: var(--ice-main-color_3);
`,p7=de.div`
  margin: 0.25rem 1rem;
  font-size: 1rem;
  color: var(--ice-main-color);
  text-decoration: underline;
  font-weight: 600;
  cursor: pointer;
  &:hover {
    color: var(--main-hover-line-color);
    text-decoration: none;
  }
`,eme=de.div`
  display: flex;
  flex-direction: column;
  gap: 0.25rem;
  font-size: 0.75rem;
  font-weight: 500;
  color: var(--main-color);
  > div:last-child {
    padding: 1rem 0;
    color: var(--main-color_1);
  }
`,m0=de.div`
  display: flex;
  align-items: center;
  gap: var(--text-gap);
  user-select: none;
  -webkit-user-select: none;
`,g0=de.div`
  width: var(--size);
  height: var(--size);
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
`,tme=de.div`
  width: 100%;
  height: 100%;
  background: var(--bg);
  border-radius: var(--corner);
  display: flex;
  align-items: center;
  justify-content: center;
  box-shadow: 0 6px 18px rgba(0, 0, 0, 0.12);
  box-sizing: border-box;
  transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);

  ${g0}:hover &,
  ${m0}:hover & {
    background: transparent;
    box-shadow: none;
    transform: rotate(360deg) scale(0.95);
  }

  ${g0}:active &,
  ${m0}:active & {
    transform: scale(0.98);
  }
`,nme=de.div`
  position: relative;
  width: 100%;
  height: 100%;
  display: block;
  transition: transform 0.8s cubic-bezier(0.68, -0.55, 0.265, 1.55);

  ${g0}:hover &,
  ${m0}:hover & {
    transform: rotate(360deg) scale(1.2);
  }

  ${g0}:active &,
  ${m0}:active & {
    transform: rotate(360deg) scale(0.95);
  }

  span {
    position: absolute;
    left: 50%;
    top: 50%;
    width: var(--arm-w);
    height: var(--arm-h);
    background: var(--arm-color);
    border-radius: var(--arm-radius);
    transform-origin: 50% 100%;
    transition: all 0.3s ease-out;
  }

  ${g0}:hover & span,
  ${m0}:hover & span {
    box-shadow: 0 0 18px var(--arm-glow);
    width: calc(var(--arm-w) * 1.3);
  }

  span:nth-child(1) { transform: translate(-50%, -100%) rotate(0deg); }
  span:nth-child(2) { transform: translate(-50%, -100%) rotate(45deg); }
  span:nth-child(3) { transform: translate(-50%, -100%) rotate(90deg); }
  span:nth-child(4) { transform: translate(-50%, -100%) rotate(135deg); }
  span:nth-child(5) { transform: translate(-50%, -100%) rotate(180deg); }
  span:nth-child(6) { transform: translate(-50%, -100%) rotate(225deg); }
  span:nth-child(7) { transform: translate(-50%, -100%) rotate(270deg); }
  span:nth-child(8) { transform: translate(-50%, -100%) rotate(315deg); }
`,rme=de.div`
  font-size: var(--text-size);
  font-weight: var(--text-weight);
  font-family: var(--font-family, system-ui, -apple-system, sans-serif);
  color: var(--text-color);
  letter-spacing: var(--letter-spacing);
  user-select: none;
  line-height: 1;
  display: flex;
  align-items: center;
  cursor: pointer;
`,qU=({size:t=16,bg:e="#00B0F0",star:n="#ffffff",corner:r="20%",showText:i=!1,textSize:o=14,textColor:s="#ffffff",textWeight:l=500,textGap:a=1,letterSpacing:u=-1,fontFamily:c="Arial"})=>{const h=typeof t=="number"?`${t}px`:t,f=typeof r=="number"?`${r}%`:r,d=typeof o=="number"?`${o}px`:o,p=typeof a=="number"?`${a}px`:a,m=typeof u=="number"?`${u}px`:u,y=(w,b)=>{const S=parseInt(w.slice(1,3),16),k=parseInt(w.slice(3,5),16),T=parseInt(w.slice(5,7),16);return`rgba(${S}, ${k}, ${T}, ${b})`},g={"--size":h,"--bg":e,"--corner":f,"--arm-w":"10%","--arm-h":"35%","--arm-radius":"8px","--arm-color":n,"--arm-glow":y(n,.6),"--hover-shadow":y(e,.3),"--text-size":d,"--text-color":s,"--text-weight":l.toString(),"--text-gap":p,"--letter-spacing":m,"--font-family":c},v=P.jsx(g0,{style:g,"aria-hidden":"true",children:P.jsx(tme,{children:P.jsx(nme,{children:Array.from({length:8}).map((w,b)=>P.jsx("span",{},b))})})});return i?P.jsxs(m0,{style:g,children:[v,P.jsx(rme,{children:"ICE"})]}):v},ime=({menuBtnZoneRef:t})=>P.jsx(Kpe,{children:P.jsxs(Gpe,{children:[P.jsxs(Ype,{children:[P.jsxs(Xpe,{children:[P.jsx(qU,{showText:!0,size:36,textSize:36}),P.jsx(Jpe,{children:P.jsxs("span",{children:["v2025.11.20",yf&&"_Mobile"]})})]}),P.jsxs(Zpe,{children:[P.jsx(d7,{children:"  "}),P.jsx(d7,{children:" HEX "}),P.jsx(d7,{children:" "})]})]}),P.jsxs(Qpe,{children:["",P.jsx(p7,{onClick:()=>{var e;(e=t.current)==null||e.openBtnClick()},children:" ..."}),P.jsx(p7,{onClick:()=>{var e;(e=t.current)==null||e.helpBtnClick()},children:"..."}),P.jsx(p7,{onClick:()=>{var e;(e=t.current)==null||e.aboutBtnClick()},children:" ..."})]}),P.jsxs(eme,{children:[P.jsx("div",{children:"   "}),P.jsx("div",{children:"    "}),P.jsx("div",{children:"      "}),P.jsx("div",{children:" 2022 ParkJeong-kyun (dbzoseh84@gmail.com). All rights reserved."})]})]})}),ome=()=>{const{isEmpty:t,encoding:e,setEncoding:n,activeKey:r,selectionStates:i}=Up(),o=I.useRef(null),s=I.useRef(null),[l,a]=I.useState(!1),[u,c]=I.useState(null),{processInfo:h,isProcessing:f}=vM(),{fileName:d}=h,p=i[r]||{start:null,end:null},{start:m,end:y}=p,g=I.useMemo(()=>{if(m===null||y===null)return null;const K=Math.min(m,y),Y=Math.max(m,y),L=Y-K+1;return{minOffset:K,maxOffset:Y,length:L}},[m,y]),v=K=>{c(K),a(!0)},w=()=>{a(!1),c(null)},[b,S]=I.useMemo(()=>{switch(u){case"about":return[P.jsx(P.Fragment,{children:P.jsx("b",{children:" "})}),P.jsx(P.Fragment,{children:P.jsx(Ope,{})})];case"help":return[P.jsx(P.Fragment,{children:P.jsx("b",{children:""})}),P.jsx(P.Fragment,{children:P.jsx(_pe,{})})];default:return[null,null]}},[u]);I.useEffect(()=>{(async()=>{const Y=new Go,L=await WebAssembly.instantiateStreaming(fetch("/wasm/ice_app.wasm"),Y.importObject);Y.run(L.instance)})()},[]);const k=100,{isDragging:T,position:A,separatorProps:z}=qI({axis:"x",initial:k*3.5,max:k*5}),{isDragging:E,position:B,separatorProps:$}=qI({axis:"x",initial:k*2.5,reverse:!0,max:k*3}),ae=T||E,G=K=>P.jsxs(P.Fragment,{children:[P.jsx("span",{style:{color:"var(--ice-main-color)"},children:K}),"(",P.jsx("span",{style:{color:"var(--ice-main-color_3)",fontWeight:"600"},children:"0x"}),P.jsx("span",{style:{color:"var(--ice-main-color)"},children:K.toString(16).toUpperCase()}),")"]}),q=()=>t?P.jsx(P.Fragment,{children:P.jsx(ime,{menuBtnZoneRef:s})}):P.jsx(P.Fragment,{children:P.jsx(Oce,{})});return P.jsxs(tae,{$isResizing:ae,children:[P.jsxs(nae,{$isMobile:yf,children:[P.jsx(qU,{showText:!0}),P.jsx(kce,{ref:s,hexViewerRef:o,openModal:v}),f&&P.jsxs(P.Fragment,{children:[P.jsxs(oae,{children:[P.jsx(sae,{}),P.jsxs(lae,{children:[d," "]})]}),P.jsx(rae,{$progress:void 0,children:P.jsx("div",{})})]})]}),yf?P.jsx(P.Fragment,{children:P.jsxs(mae,{children:[P.jsx(gae,{children:q()}),!t&&P.jsxs(yae,{children:[P.jsx("div",{children:P.jsx(rI,{})}),P.jsx("div",{children:P.jsx(YI,{hexViewerRef:o})})]})]})}):P.jsx(P.Fragment,{children:P.jsxs(cae,{children:[P.jsx(hae,{style:{width:`${A}px`,display:A<k||t?"none":"block"},children:P.jsx(rI,{})}),P.jsx(Y_,{...z,$isResizing:T,style:{display:t?"none":"block"}}),P.jsxs(fae,{children:[P.jsx(dae,{children:q()}),P.jsx(Y_,{...$,$reverse:!0,$isResizing:E,style:{display:t?"none":"block"}}),P.jsx(pae,{style:{width:`${B}px`,display:B<k||t?"none":"block"},children:P.jsx(YI,{hexViewerRef:o})})]})]})}),P.jsxs(iae,{$isMobile:yf,children:[P.jsx(aae,{children:g&&P.jsxs(P.Fragment,{children:[":",P.jsxs("div",{children:[": ",G(g.minOffset)]}),P.jsxs("div",{children:[" : ",G(g.minOffset),"-",G(g.maxOffset)]}),P.jsxs("div",{children:[" : ",G(g.length)]})]})}),P.jsxs(wae,{children:[!t&&P.jsxs("div",{children:[":",P.jsx(vae,{value:e,onChange:K=>n(K.target.value),children:kae.map(K=>P.jsx("option",{value:K.value,children:K.label},K.value))})]}),P.jsx(uae,{children:" 2022 ParkJeong-kyun (dbzoseh84@gmail.com). All rights reserved."})]})]}),P.jsx(ehe,{title:b,isOpen:l,onClose:w,children:S})]})},sme=()=>P.jsx(P.Fragment,{});function lme(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}function oy(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const NS=t=>Array.isArray(t);function KU(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function sy(t){return typeof t=="string"||Array.isArray(t)}function XI(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function qM(t,e,n,r){if(typeof e=="function"){const[i,o]=XI(r);e=e(n!==void 0?n:t.custom,i,o)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,o]=XI(r);e=e(n!==void 0?n:t.custom,i,o)}return e}function Ub(t,e,n){const r=t.getProps();return qM(r,e,n!==void 0?n:r.custom,t)}const KM=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],GM=["initial",...KM],Bv=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],nh=new Set(Bv),Xa=t=>t*1e3,Ja=t=>t/1e3,ame={type:"spring",stiffness:500,damping:25,restSpeed:10},ume=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),cme={type:"keyframes",duration:.8},hme={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},fme=(t,{keyframes:e})=>e.length>2?cme:nh.has(t)?t.startsWith("scale")?ume(e[1]):ame:hme;function YM(t,e){return t?t[e]||t.default||t:void 0}const dme={skipAnimations:!1,useManualTiming:!1},pme=t=>t!==null;function qb(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(pme),o=e&&n!=="loop"&&e%2===1?0:i.length-1;return!o||r===void 0?i[o]:r}const hi=t=>t;function mme(t){let e=new Set,n=new Set,r=!1,i=!1;const o=new WeakSet;let s={delta:0,timestamp:0,isProcessing:!1};function l(u){o.has(u)&&(a.schedule(u),t()),u(s)}const a={schedule:(u,c=!1,h=!1)=>{const d=h&&r?e:n;return c&&o.add(u),d.has(u)||d.add(u),u},cancel:u=>{n.delete(u),o.delete(u)},process:u=>{if(s=u,r){i=!0;return}r=!0,[e,n]=[n,e],n.clear(),e.forEach(l),r=!1,i&&(i=!1,a.process(u))}};return a}const W2=["read","resolveKeyframes","update","preRender","render","postRender"],gme=40;function GU(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,s=W2.reduce((g,v)=>(g[v]=mme(o),g),{}),{read:l,resolveKeyframes:a,update:u,preRender:c,render:h,postRender:f}=s,d=()=>{const g=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(g-i.timestamp,gme),1),i.timestamp=g,i.isProcessing=!0,l.process(i),a.process(i),u.process(i),c.process(i),h.process(i),f.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(d))},p=()=>{n=!0,r=!0,i.isProcessing||t(d)};return{schedule:W2.reduce((g,v)=>{const w=s[v];return g[v]=(b,S=!1,k=!1)=>(n||p(),w.schedule(b,S,k)),g},{}),cancel:g=>{for(let v=0;v<W2.length;v++)s[W2[v]].cancel(g)},state:i,steps:s}}const{schedule:sn,cancel:Nc,state:$r,steps:m7}=GU(typeof requestAnimationFrame<"u"?requestAnimationFrame:hi,!0),YU=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,yme=1e-7,vme=12;function wme(t,e,n,r,i){let o,s,l=0;do s=e+(n-e)/2,o=YU(s,r,i)-t,o>0?n=s:e=s;while(Math.abs(o)>yme&&++l<vme);return s}function zv(t,e,n,r){if(t===e&&n===r)return hi;const i=o=>wme(o,0,1,t,n);return o=>o===0||o===1?o:YU(i(o),e,r)}const XU=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,JU=t=>e=>1-t(1-e),ZU=zv(.33,1.53,.69,.99),XM=JU(ZU),QU=XU(XM),eq=t=>(t*=2)<1?.5*XM(t):.5*(2-Math.pow(2,-10*(t-1))),JM=t=>1-Math.sin(Math.acos(t)),tq=JU(JM),nq=XU(JM),rq=t=>/^0[^.\s]+$/u.test(t);function xme(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||rq(t):!0}let LS=hi;const iq=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),oq=t=>e=>typeof e=="string"&&e.startsWith(t),sq=oq("--"),bme=oq("var(--"),ZM=t=>bme(t)?kme.test(t.split("/*")[0].trim()):!1,kme=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Sme=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Cme(t){const e=Sme.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function lq(t,e,n=1){const[r,i]=Cme(t);if(!r)return;const o=window.getComputedStyle(e).getPropertyValue(r);if(o){const s=o.trim();return iq(s)?parseFloat(s):s}return ZM(i)?lq(i,e,n+1):i}const Lc=(t,e,n)=>n>e?e:n<t?t:n,Yp={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},ly={...Yp,transform:t=>Lc(0,1,t)},U2={...Yp,default:1},Fv=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),$u=Fv("deg"),Ul=Fv("%"),pt=Fv("px"),Tme=Fv("vh"),Mme=Fv("vw"),JI={...Ul,parse:t=>Ul.parse(t)/100,transform:t=>Ul.transform(t*100)},Ame=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),ZI=t=>t===Yp||t===pt,QI=(t,e)=>parseFloat(t.split(", ")[e]),eR=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/u);if(i)return QI(i[1],e);{const o=r.match(/^matrix\((.+)\)$/u);return o?QI(o[1],t):0}},Eme=new Set(["x","y","z"]),Ome=Bv.filter(t=>!Eme.has(t));function Pme(t){const e=[];return Ome.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const vp={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:eR(4,13),y:eR(5,14)};vp.translateX=vp.x;vp.translateY=vp.y;const aq=t=>e=>e.test(t),Dme={test:t=>t==="auto",parse:t=>t},uq=[Yp,pt,Ul,$u,Mme,Tme,Dme],tR=t=>uq.find(aq(t)),vf=new Set;let BS=!1,zS=!1;function cq(){if(zS){const t=Array.from(vf).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=Pme(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([o,s])=>{var l;(l=r.getValue(o))===null||l===void 0||l.set(s)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}zS=!1,BS=!1,vf.forEach(t=>t.complete()),vf.clear()}function hq(){vf.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(zS=!0)})}function _me(){hq(),cq()}class QM{constructor(e,n,r,i,o,s=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=o,this.isAsync=s}scheduleResolve(){this.isScheduled=!0,this.isAsync?(vf.add(this),BS||(BS=!0,sn.read(hq),sn.resolveKeyframes(cq))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;for(let o=0;o<e.length;o++)if(e[o]===null)if(o===0){const s=i==null?void 0:i.get(),l=e[e.length-1];if(s!==void 0)e[0]=s;else if(r&&n){const a=r.readValue(n,l);a!=null&&(e[0]=a)}e[0]===void 0&&(e[0]=l),i&&s===void 0&&i.set(e[0])}else e[o]=e[o-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),vf.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,vf.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const r1=t=>Math.round(t*1e5)/1e5,eA=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Ime(t){return t==null}const Rme=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,tA=(t,e)=>n=>!!(typeof n=="string"&&Rme.test(n)&&n.startsWith(t)||e&&!Ime(n)&&Object.prototype.hasOwnProperty.call(n,e)),fq=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,o,s,l]=r.match(eA);return{[t]:parseFloat(i),[e]:parseFloat(o),[n]:parseFloat(s),alpha:l!==void 0?parseFloat(l):1}},Nme=t=>Lc(0,255,t),g7={...Yp,transform:t=>Math.round(Nme(t))},Wh={test:tA("rgb","red"),parse:fq("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+g7.transform(t)+", "+g7.transform(e)+", "+g7.transform(n)+", "+r1(ly.transform(r))+")"};function Lme(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const FS={test:tA("#"),parse:Lme,transform:Wh.transform},Qd={test:tA("hsl","hue"),parse:fq("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Ul.transform(r1(e))+", "+Ul.transform(r1(n))+", "+r1(ly.transform(r))+")"},Zr={test:t=>Wh.test(t)||FS.test(t)||Qd.test(t),parse:t=>Wh.test(t)?Wh.parse(t):Qd.test(t)?Qd.parse(t):FS.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Wh.transform(t):Qd.transform(t)},Bme=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function zme(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(eA))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(Bme))===null||n===void 0?void 0:n.length)||0)>0}const dq="number",pq="color",Fme="var",$me="var(",nR="${}",Vme=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ay(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let o=0;const l=e.replace(Vme,a=>(Zr.test(a)?(r.color.push(o),i.push(pq),n.push(Zr.parse(a))):a.startsWith($me)?(r.var.push(o),i.push(Fme),n.push(a)):(r.number.push(o),i.push(dq),n.push(parseFloat(a))),++o,nR)).split(nR);return{values:n,split:l,indexes:r,types:i}}function mq(t){return ay(t).values}function gq(t){const{split:e,types:n}=ay(t),r=e.length;return i=>{let o="";for(let s=0;s<r;s++)if(o+=e[s],i[s]!==void 0){const l=n[s];l===dq?o+=r1(i[s]):l===pq?o+=Zr.transform(i[s]):o+=i[s]}return o}}const Hme=t=>typeof t=="number"?0:t;function jme(t){const e=mq(t);return gq(t)(e.map(Hme))}const Bc={test:zme,parse:mq,createTransformer:gq,getAnimatableNone:jme},Wme=new Set(["brightness","contrast","saturate","opacity"]);function Ume(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(eA)||[];if(!r)return t;const i=n.replace(r,"");let o=Wme.has(e)?1:0;return r!==n&&(o*=100),e+"("+o+i+")"}const qme=/\b([a-z-]*)\(.*?\)/gu,$S={...Bc,getAnimatableNone:t=>{const e=t.match(qme);return e?e.map(Ume).join(" "):t}},Kme={borderWidth:pt,borderTopWidth:pt,borderRightWidth:pt,borderBottomWidth:pt,borderLeftWidth:pt,borderRadius:pt,radius:pt,borderTopLeftRadius:pt,borderTopRightRadius:pt,borderBottomRightRadius:pt,borderBottomLeftRadius:pt,width:pt,maxWidth:pt,height:pt,maxHeight:pt,top:pt,right:pt,bottom:pt,left:pt,padding:pt,paddingTop:pt,paddingRight:pt,paddingBottom:pt,paddingLeft:pt,margin:pt,marginTop:pt,marginRight:pt,marginBottom:pt,marginLeft:pt,backgroundPositionX:pt,backgroundPositionY:pt},Gme={rotate:$u,rotateX:$u,rotateY:$u,rotateZ:$u,scale:U2,scaleX:U2,scaleY:U2,scaleZ:U2,skew:$u,skewX:$u,skewY:$u,distance:pt,translateX:pt,translateY:pt,translateZ:pt,x:pt,y:pt,z:pt,perspective:pt,transformPerspective:pt,opacity:ly,originX:JI,originY:JI,originZ:pt},rR={...Yp,transform:Math.round},nA={...Kme,...Gme,zIndex:rR,size:pt,fillOpacity:ly,strokeOpacity:ly,numOctaves:rR},Yme={...nA,color:Zr,backgroundColor:Zr,outlineColor:Zr,fill:Zr,stroke:Zr,borderColor:Zr,borderTopColor:Zr,borderRightColor:Zr,borderBottomColor:Zr,borderLeftColor:Zr,filter:$S,WebkitFilter:$S},rA=t=>Yme[t];function yq(t,e){let n=rA(t);return n!==$S&&(n=Bc),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const Xme=new Set(["auto","none","0"]);function Jme(t,e,n){let r=0,i;for(;r<t.length&&!i;){const o=t[r];typeof o=="string"&&!Xme.has(o)&&ay(o).values.length&&(i=t[r]),r++}if(i&&n)for(const o of e)t[o]=yq(n,i)}class vq extends QM{constructor(e,n,r,i,o){super(e,n,r,i,o,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="string"&&(u=u.trim(),ZM(u))){const c=lq(u,n.current);c!==void 0&&(e[a]=c),a===e.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!Ame.has(r)||e.length!==2)return;const[i,o]=e,s=tR(i),l=tR(o);if(s!==l)if(ZI(s)&&ZI(l))for(let a=0;a<e.length;a++){const u=e[a];typeof u=="string"&&(e[a]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)xme(e[i])&&r.push(i);r.length&&Jme(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=vp[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:i}=this;if(!n||!n.current)return;const o=n.getValue(r);o&&o.jump(this.measuredOrigin,!1);const s=i.length-1,l=i[s];i[s]=vp[r](n.measureViewportBox(),window.getComputedStyle(n.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([a,u])=>{n.getValue(a).set(u)}),this.resolveNoneKeyframes()}}function iA(t){return typeof t=="function"}let fw;function Zme(){fw=void 0}const ql={now:()=>(fw===void 0&&ql.set($r.isProcessing||dme.useManualTiming?$r.timestamp:performance.now()),fw),set:t=>{fw=t,queueMicrotask(Zme)}},iR=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Bc.test(t)||t==="0")&&!t.startsWith("url("));function Qme(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function ege(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const o=t[t.length-1],s=iR(i,e),l=iR(o,e);return!s||!l?!1:Qme(t)||(n==="spring"||iA(n))&&r}const tge=40;class wq{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:s="loop",...l}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=ql.now(),this.options={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:o,repeatType:s,...l},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>tge?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&_me(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=ql.now(),this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:o,delay:s,onComplete:l,onUpdate:a,isGenerator:u}=this.options;if(!u&&!ege(e,r,i,o))if(s)this.options.duration=0;else{a==null||a(qb(e,this.options,n)),l==null||l(),this.resolveFinishedPromise();return}const c=this.initPlayback(e,n);c!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...c},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}function xq(t,e){return e?t*(1e3/e):0}const nge=5;function bq(t,e,n){const r=Math.max(e-nge,0);return xq(n-t(r),e-r)}const y7=.001,rge=.01,ige=10,oge=.05,sge=1;function lge({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let i,o,s=1-e;s=Lc(oge,sge,s),t=Lc(rge,ige,Ja(t)),s<1?(i=u=>{const c=u*s,h=c*t,f=c-n,d=VS(u,s),p=Math.exp(-h);return y7-f/d*p},o=u=>{const h=u*s*t,f=h*n+n,d=Math.pow(s,2)*Math.pow(u,2)*t,p=Math.exp(-h),m=VS(Math.pow(u,2),s);return(-i(u)+y7>0?-1:1)*((f-d)*p)/m}):(i=u=>{const c=Math.exp(-u*t),h=(u-n)*t+1;return-y7+c*h},o=u=>{const c=Math.exp(-u*t),h=(n-u)*(t*t);return c*h});const l=5/t,a=uge(i,o,l);if(t=Xa(t),isNaN(a))return{stiffness:100,damping:10,duration:t};{const u=Math.pow(a,2)*r;return{stiffness:u,damping:s*2*Math.sqrt(r*u),duration:t}}}const age=12;function uge(t,e,n){let r=n;for(let i=1;i<age;i++)r=r-t(r)/e(r);return r}function VS(t,e){return t*Math.sqrt(1-e*e)}const cge=["duration","bounce"],hge=["stiffness","damping","mass"];function oR(t,e){return e.some(n=>t[n]!==void 0)}function fge(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!oR(t,hge)&&oR(t,cge)){const n=lge(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}function kq({keyframes:t,restDelta:e,restSpeed:n,...r}){const i=t[0],o=t[t.length-1],s={done:!1,value:i},{stiffness:l,damping:a,mass:u,duration:c,velocity:h,isResolvedFromDuration:f}=fge({...r,velocity:-Ja(r.velocity||0)}),d=h||0,p=a/(2*Math.sqrt(l*u)),m=o-i,y=Ja(Math.sqrt(l/u)),g=Math.abs(m)<5;n||(n=g?.01:2),e||(e=g?.005:.5);let v;if(p<1){const w=VS(y,p);v=b=>{const S=Math.exp(-p*y*b);return o-S*((d+p*y*m)/w*Math.sin(w*b)+m*Math.cos(w*b))}}else if(p===1)v=w=>o-Math.exp(-y*w)*(m+(d+y*m)*w);else{const w=y*Math.sqrt(p*p-1);v=b=>{const S=Math.exp(-p*y*b),k=Math.min(w*b,300);return o-S*((d+p*y*m)*Math.sinh(k)+w*m*Math.cosh(k))/w}}return{calculatedDuration:f&&c||null,next:w=>{const b=v(w);if(f)s.done=w>=c;else{let S=0;p<1&&(S=w===0?Xa(d):bq(v,w,b));const k=Math.abs(S)<=n,T=Math.abs(o-b)<=e;s.done=k&&T}return s.value=s.done?o:b,s}}}function sR({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:o=500,modifyTarget:s,min:l,max:a,restDelta:u=.5,restSpeed:c}){const h=t[0],f={done:!1,value:h},d=A=>l!==void 0&&A<l||a!==void 0&&A>a,p=A=>l===void 0?a:a===void 0||Math.abs(l-A)<Math.abs(a-A)?l:a;let m=n*e;const y=h+m,g=s===void 0?y:s(y);g!==y&&(m=g-h);const v=A=>-m*Math.exp(-A/r),w=A=>g+v(A),b=A=>{const z=v(A),E=w(A);f.done=Math.abs(z)<=u,f.value=f.done?g:E};let S,k;const T=A=>{d(f.value)&&(S=A,k=kq({keyframes:[f.value,p(f.value)],velocity:bq(w,A,f.value),damping:i,stiffness:o,restDelta:u,restSpeed:c}))};return T(0),{calculatedDuration:null,next:A=>{let z=!1;return!k&&S===void 0&&(z=!0,b(A),T(A)),S!==void 0&&A>=S?k.next(A-S):(!z&&b(A),f)}}}const dge=zv(.42,0,1,1),pge=zv(0,0,.58,1),Sq=zv(.42,0,.58,1),mge=t=>Array.isArray(t)&&typeof t[0]!="number",oA=t=>Array.isArray(t)&&typeof t[0]=="number",lR={linear:hi,easeIn:dge,easeInOut:Sq,easeOut:pge,circIn:JM,circInOut:nq,circOut:tq,backIn:XM,backInOut:QU,backOut:ZU,anticipate:eq},aR=t=>{if(oA(t)){LS(t.length===4);const[e,n,r,i]=t;return zv(e,n,r,i)}else if(typeof t=="string")return LS(lR[t]!==void 0),lR[t];return t},gge=(t,e)=>n=>e(t(n)),Za=(...t)=>t.reduce(gge),wp=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},Kn=(t,e,n)=>t+(e-t)*n;function v7(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function yge({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,o=0,s=0;if(!e)i=o=s=n;else{const l=n<.5?n*(1+e):n+e-n*e,a=2*n-l;i=v7(a,l,t+1/3),o=v7(a,l,t),s=v7(a,l,t-1/3)}return{red:Math.round(i*255),green:Math.round(o*255),blue:Math.round(s*255),alpha:r}}function sx(t,e){return n=>n>0?e:t}const w7=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},vge=[FS,Wh,Qd],wge=t=>vge.find(e=>e.test(t));function uR(t){const e=wge(t);if(!e)return!1;let n=e.parse(t);return e===Qd&&(n=yge(n)),n}const cR=(t,e)=>{const n=uR(t),r=uR(e);if(!n||!r)return sx(t,e);const i={...n};return o=>(i.red=w7(n.red,r.red,o),i.green=w7(n.green,r.green,o),i.blue=w7(n.blue,r.blue,o),i.alpha=Kn(n.alpha,r.alpha,o),Wh.transform(i))},HS=new Set(["none","hidden"]);function xge(t,e){return HS.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function bge(t,e){return n=>Kn(t,e,n)}function sA(t){return typeof t=="number"?bge:typeof t=="string"?ZM(t)?sx:Zr.test(t)?cR:Cge:Array.isArray(t)?Cq:typeof t=="object"?Zr.test(t)?cR:kge:sx}function Cq(t,e){const n=[...t],r=n.length,i=t.map((o,s)=>sA(o)(o,e[s]));return o=>{for(let s=0;s<r;s++)n[s]=i[s](o);return n}}function kge(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=sA(t[i])(t[i],e[i]));return i=>{for(const o in r)n[o]=r[o](i);return n}}function Sge(t,e){var n;const r=[],i={color:0,var:0,number:0};for(let o=0;o<e.values.length;o++){const s=e.types[o],l=t.indexes[s][i[s]],a=(n=t.values[l])!==null&&n!==void 0?n:0;r[o]=a,i[s]++}return r}const Cge=(t,e)=>{const n=Bc.createTransformer(e),r=ay(t),i=ay(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?HS.has(t)&&!i.values.length||HS.has(e)&&!r.values.length?xge(t,e):Za(Cq(Sge(r,i),i.values),n):sx(t,e)};function Tq(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Kn(t,e,n):sA(t)(t,e)}function Tge(t,e,n){const r=[],i=n||Tq,o=t.length-1;for(let s=0;s<o;s++){let l=i(t[s],t[s+1]);if(e){const a=Array.isArray(e)?e[s]||hi:e;l=Za(a,l)}r.push(l)}return r}function Mge(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const o=t.length;if(LS(o===e.length),o===1)return()=>e[0];if(o===2&&t[0]===t[1])return()=>e[1];t[0]>t[o-1]&&(t=[...t].reverse(),e=[...e].reverse());const s=Tge(e,r,i),l=s.length,a=u=>{let c=0;if(l>1)for(;c<t.length-2&&!(u<t[c+1]);c++);const h=wp(t[c],t[c+1],u);return s[c](h)};return n?u=>a(Lc(t[0],t[o-1],u)):a}function Age(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=wp(0,e,r);t.push(Kn(n,1,i))}}function Ege(t){const e=[0];return Age(e,t.length-1),e}function Oge(t,e){return t.map(n=>n*e)}function Pge(t,e){return t.map(()=>e||Sq).splice(0,t.length-1)}function lx({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=mge(r)?r.map(aR):aR(r),o={done:!1,value:e[0]},s=Oge(n&&n.length===e.length?n:Ege(e),t),l=Mge(s,e,{ease:Array.isArray(i)?i:Pge(e,i)});return{calculatedDuration:t,next:a=>(o.value=l(a),o.done=a>=t,o)}}const hR=2e4;function Dge(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<hR;)e+=n,r=t.next(e);return e>=hR?1/0:e}const _ge=t=>{const e=({timestamp:n})=>t(n);return{start:()=>sn.update(e,!0),stop:()=>Nc(e),now:()=>$r.isProcessing?$r.timestamp:ql.now()}},Ige={decay:sR,inertia:sR,tween:lx,keyframes:lx,spring:kq},Rge=t=>t/100;class lA extends wq{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:a}=this.options;a&&a()};const{name:n,motionValue:r,element:i,keyframes:o}=this.options,s=(i==null?void 0:i.KeyframeResolver)||QM,l=(a,u)=>this.onKeyframesResolved(a,u);this.resolver=new s(o,l,n,r,i),this.resolver.scheduleResolve()}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:o,velocity:s=0}=this.options,l=iA(n)?n:Ige[n]||lx;let a,u;l!==lx&&typeof e[0]!="number"&&(a=Za(Rge,Tq(e[0],e[1])),e=[0,100]);const c=l({...this.options,keyframes:e});o==="mirror"&&(u=l({...this.options,keyframes:[...e].reverse(),velocity:-s})),c.calculatedDuration===null&&(c.calculatedDuration=Dge(c));const{calculatedDuration:h}=c,f=h+i,d=f*(r+1)-i;return{generator:c,mirroredGenerator:u,mapPercentToKeyframes:a,calculatedDuration:h,resolvedDuration:f,totalDuration:d}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:A}=this.options;return{done:!0,value:A[A.length-1]}}const{finalKeyframe:i,generator:o,mirroredGenerator:s,mapPercentToKeyframes:l,keyframes:a,calculatedDuration:u,totalDuration:c,resolvedDuration:h}=r;if(this.startTime===null)return o.next(0);const{delay:f,repeat:d,repeatType:p,repeatDelay:m,onUpdate:y}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-c/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const g=this.currentTime-f*(this.speed>=0?1:-1),v=this.speed>=0?g<0:g>c;this.currentTime=Math.max(g,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=c);let w=this.currentTime,b=o;if(d){const A=Math.min(this.currentTime,c)/h;let z=Math.floor(A),E=A%1;!E&&A>=1&&(E=1),E===1&&z--,z=Math.min(z,d+1),!!(z%2)&&(p==="reverse"?(E=1-E,m&&(E-=m/h)):p==="mirror"&&(b=s)),w=Lc(0,1,E)*h}const S=v?{done:!1,value:a[0]}:b.next(w);l&&(S.value=l(S.value));let{done:k}=S;!v&&u!==null&&(k=this.speed>=0?this.currentTime>=c:this.currentTime<=0);const T=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&k);return T&&i!==void 0&&(S.value=qb(a,this.options,i)),y&&y(S.value),T&&this.finish(),S}get duration(){const{resolved:e}=this;return e?Ja(e.calculatedDuration):0}get time(){return Ja(this.currentTime)}set time(e){e=Xa(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Ja(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=_ge,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),n&&n();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const Mq=new Set(["opacity","clipPath","filter","transform"]),Nge=10,Lge=(t,e)=>{let n="";const r=Math.max(Math.round(e/Nge),2);for(let i=0;i<r;i++)n+=t(wp(0,r-1,i))+", ";return`linear(${n.substring(0,n.length-2)})`};function aA(t){let e;return()=>(e===void 0&&(e=t()),e)}const Bge={linearEasing:void 0};function zge(t,e){const n=aA(t);return()=>{var r;return(r=Bge[e])!==null&&r!==void 0?r:n()}}const ax=zge(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing");function Aq(t){return!!(typeof t=="function"&&ax()||!t||typeof t=="string"&&(t in jS||ax())||oA(t)||Array.isArray(t)&&t.every(Aq))}const rg=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,jS={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:rg([0,.65,.55,1]),circOut:rg([.55,0,1,.45]),backIn:rg([.31,.01,.66,-.59]),backOut:rg([.33,1.53,.69,.99])};function Eq(t,e){if(t)return typeof t=="function"&&ax()?Lge(t,e):oA(t)?rg(t):Array.isArray(t)?t.map(n=>Eq(n,e)||jS.easeOut):jS[t]}function Fge(t,e,n,{delay:r=0,duration:i=300,repeat:o=0,repeatType:s="loop",ease:l,times:a}={}){const u={[e]:n};a&&(u.offset=a);const c=Eq(l,i);return Array.isArray(c)&&(u.easing=c),t.animate(u,{delay:r,duration:i,easing:Array.isArray(c)?"linear":c,fill:"both",iterations:o+1,direction:s==="reverse"?"alternate":"normal"})}function fR(t,e){t.timeline=e,t.onfinish=null}const $ge=aA(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),ux=10,Vge=2e4;function Hge(t){return iA(t.type)||t.type==="spring"||!Aq(t.ease)}function jge(t,e){const n=new lA({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const i=[];let o=0;for(;!r.done&&o<Vge;)r=n.sample(o),i.push(r.value),o+=ux;return{times:void 0,keyframes:i,duration:o-ux,ease:"linear"}}const Oq={anticipate:eq,backInOut:QU,circInOut:nq};function Wge(t){return t in Oq}class dR extends wq{constructor(e){super(e);const{name:n,motionValue:r,element:i,keyframes:o}=this.options;this.resolver=new vq(o,(s,l)=>this.onKeyframesResolved(s,l),n,r,i),this.resolver.scheduleResolve()}initPlayback(e,n){var r;let{duration:i=300,times:o,ease:s,type:l,motionValue:a,name:u,startTime:c}=this.options;if(!(!((r=a.owner)===null||r===void 0)&&r.current))return!1;if(typeof s=="string"&&ax()&&Wge(s)&&(s=Oq[s]),Hge(this.options)){const{onComplete:f,onUpdate:d,motionValue:p,element:m,...y}=this.options,g=jge(e,y);e=g.keyframes,e.length===1&&(e[1]=e[0]),i=g.duration,o=g.times,s=g.ease,l="keyframes"}const h=Fge(a.owner.current,u,e,{...this.options,duration:i,times:o,ease:s});return h.startTime=c??this.calcStartTime(),this.pendingTimeline?(fR(h,this.pendingTimeline),this.pendingTimeline=void 0):h.onfinish=()=>{const{onComplete:f}=this.options;a.set(qb(e,this.options,n)),f&&f(),this.cancel(),this.resolveFinishedPromise()},{animation:h,duration:i,times:o,type:l,ease:s,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return Ja(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return Ja(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=Xa(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return hi;const{animation:r}=n;fR(r,e)}return hi}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:i,type:o,ease:s,times:l}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:u,onUpdate:c,onComplete:h,element:f,...d}=this.options,p=new lA({...d,keyframes:r,duration:i,type:o,ease:s,times:l,isGenerator:!0}),m=Xa(this.time);u.setWithVelocity(p.sample(m-ux).value,p.sample(m).value,ux)}const{onStop:a}=this.options;a&&a(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:i,repeatType:o,damping:s,type:l}=e;return $ge()&&r&&Mq.has(r)&&n&&n.owner&&n.owner.current instanceof HTMLElement&&!n.owner.getProps().onUpdate&&!i&&o!=="mirror"&&s!==0&&l!=="inertia"}}const Uge=aA(()=>window.ScrollTimeline!==void 0);class qge{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}then(e,n){return Promise.all(this.animations).then(e).catch(n)}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e,n){const r=this.animations.map(i=>Uge()&&i.attachTimeline?i.attachTimeline(e):n(i));return()=>{r.forEach((i,o)=>{i&&i(),this.animations[o].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}function Kge({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:o,repeatType:s,repeatDelay:l,from:a,elapsed:u,...c}){return!!Object.keys(c).length}const uA=(t,e,n,r={},i,o)=>s=>{const l=YM(r,t)||{},a=l.delay||r.delay||0;let{elapsed:u=0}=r;u=u-Xa(a);let c={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...l,delay:-u,onUpdate:f=>{e.set(f),l.onUpdate&&l.onUpdate(f)},onComplete:()=>{s(),l.onComplete&&l.onComplete()},name:t,motionValue:e,element:o?void 0:i};Kge(l)||(c={...c,...fme(t,c)}),c.duration&&(c.duration=Xa(c.duration)),c.repeatDelay&&(c.repeatDelay=Xa(c.repeatDelay)),c.from!==void 0&&(c.keyframes[0]=c.from);let h=!1;if((c.type===!1||c.duration===0&&!c.repeatDelay)&&(c.duration=0,c.delay===0&&(h=!0)),h&&!o&&e.get()!==void 0){const f=qb(c.keyframes,l);if(f!==void 0)return sn.update(()=>{c.onUpdate(f),c.onComplete()}),new qge([])}return!o&&dR.supports(c)?new dR(c):new lA(c)},Gge=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),Yge=t=>NS(t)?t[t.length-1]||0:t;function cA(t,e){t.indexOf(e)===-1&&t.push(e)}function hA(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class fA{constructor(){this.subscriptions=[]}add(e){return cA(this.subscriptions,e),()=>hA(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let o=0;o<i;o++){const s=this.subscriptions[o];s&&s(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const pR=30,Xge=t=>!isNaN(parseFloat(t));class Jge{constructor(e,n={}){this.version="11.11.7",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const o=ql.now();this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=ql.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=Xge(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new fA);const r=this.events[e].add(n);return e==="change"?()=>{r(),sn.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=ql.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>pR)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,pR);return xq(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function uy(t,e){return new Jge(t,e)}function Zge(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,uy(n))}function Qge(t,e){const n=Ub(t,e);let{transitionEnd:r={},transition:i={},...o}=n||{};o={...o,...r};for(const s in o){const l=Yge(o[s]);Zge(t,s,l)}}const Kb=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),e1e="framerAppearId",Pq="data-"+Kb(e1e);function Dq(t){return t.props[Pq]}const li=t=>!!(t&&t.getVelocity);function t1e(t){return!!(li(t)&&t.add)}function _q(t){if(nh.has(t))return"transform";if(Mq.has(t))return Kb(t)}function WS(t,e){var n;if(!t.applyWillChange)return;const r=t.getValue("willChange");if(t1e(r))return r.add(e);!(!((n=t.props.style)===null||n===void 0)&&n.willChange)&&_q(e)&&t.setStaticValue("willChange","transform")}function n1e({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function Iq(t,e,{delay:n=0,transitionOverride:r,type:i}={}){var o;let{transition:s=t.getDefaultTransition(),transitionEnd:l,...a}=e;r&&(s=r);const u=[],c=i&&t.animationState&&t.animationState.getState()[i];for(const h in a){const f=t.getValue(h,(o=t.latestValues[h])!==null&&o!==void 0?o:null),d=a[h];if(d===void 0||c&&n1e(c,h))continue;const p={delay:n,...YM(s||{},h)};let m=!1;if(window.MotionHandoffAnimation){const g=Dq(t);if(g){const v=window.MotionHandoffAnimation(g,h,sn);v!==null&&(p.startTime=v,m=!0)}}WS(t,h),f.start(uA(h,f,d,t.shouldReduceMotion&&nh.has(h)?{type:!1}:p,t,m));const y=f.animation;y&&u.push(y)}return l&&Promise.all(u).then(()=>{sn.update(()=>{l&&Qge(t,l)})}),u}function US(t,e,n={}){var r;const i=Ub(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:o=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(o=n.transitionOverride);const s=i?()=>Promise.all(Iq(t,i,n)):()=>Promise.resolve(),l=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:c=0,staggerChildren:h,staggerDirection:f}=o;return r1e(t,e,c+u,h,f,n)}:()=>Promise.resolve(),{when:a}=o;if(a){const[u,c]=a==="beforeChildren"?[s,l]:[l,s];return u().then(()=>c())}else return Promise.all([s(),l(n.delay)])}function r1e(t,e,n=0,r=0,i=1,o){const s=[],l=(t.variantChildren.size-1)*r,a=i===1?(u=0)=>u*r:(u=0)=>l-u*r;return Array.from(t.variantChildren).sort(i1e).forEach((u,c)=>{u.notify("AnimationStart",e),s.push(US(u,e,{...o,delay:n+a(c)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(s)}function i1e(t,e){return t.sortNodePosition(e)}function o1e(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(o=>US(t,o,n));r=Promise.all(i)}else if(typeof e=="string")r=US(t,e,n);else{const i=typeof e=="function"?Ub(t,e,n.custom):e;r=Promise.all(Iq(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const s1e=GM.length;function Rq(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?Rq(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<s1e;n++){const r=GM[n],i=t.props[r];(sy(i)||i===!1)&&(e[r]=i)}return e}const l1e=[...KM].reverse(),a1e=KM.length;function u1e(t){return e=>Promise.all(e.map(({animation:n,options:r})=>o1e(t,n,r)))}function c1e(t){let e=u1e(t),n=mR(),r=!0;const i=a=>(u,c)=>{var h;const f=Ub(t,c,a==="exit"?(h=t.presenceContext)===null||h===void 0?void 0:h.custom:void 0);if(f){const{transition:d,transitionEnd:p,...m}=f;u={...u,...m,...p}}return u};function o(a){e=a(t)}function s(a){const{props:u}=t,c=Rq(t.parent)||{},h=[],f=new Set;let d={},p=1/0;for(let y=0;y<a1e;y++){const g=l1e[y],v=n[g],w=u[g]!==void 0?u[g]:c[g],b=sy(w),S=g===a?v.isActive:null;S===!1&&(p=y);let k=w===c[g]&&w!==u[g]&&b;if(k&&r&&t.manuallyAnimateOnMount&&(k=!1),v.protectedKeys={...d},!v.isActive&&S===null||!w&&!v.prevProp||oy(w)||typeof w=="boolean")continue;const T=h1e(v.prevProp,w);let A=T||g===a&&v.isActive&&!k&&b||y>p&&b,z=!1;const E=Array.isArray(w)?w:[w];let B=E.reduce(i(g),{});S===!1&&(B={});const{prevResolvedValues:$={}}=v,ae={...$,...B},G=Y=>{A=!0,f.has(Y)&&(z=!0,f.delete(Y)),v.needsAnimating[Y]=!0;const L=t.getValue(Y);L&&(L.liveStyle=!1)};for(const Y in ae){const L=B[Y],X=$[Y];if(d.hasOwnProperty(Y))continue;let O=!1;NS(L)&&NS(X)?O=!KU(L,X):O=L!==X,O?L!=null?G(Y):f.add(Y):L!==void 0&&f.has(Y)?G(Y):v.protectedKeys[Y]=!0}v.prevProp=w,v.prevResolvedValues=B,v.isActive&&(d={...d,...B}),r&&t.blockInitialAnimation&&(A=!1),A&&(!(k&&T)||z)&&h.push(...E.map(Y=>({animation:Y,options:{type:g}})))}if(f.size){const y={};f.forEach(g=>{const v=t.getBaseTarget(g),w=t.getValue(g);w&&(w.liveStyle=!0),y[g]=v??null}),h.push({animation:y})}let m=!!h.length;return r&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(m=!1),r=!1,m?e(h):Promise.resolve()}function l(a,u){var c;if(n[a].isActive===u)return Promise.resolve();(c=t.variantChildren)===null||c===void 0||c.forEach(f=>{var d;return(d=f.animationState)===null||d===void 0?void 0:d.setActive(a,u)}),n[a].isActive=u;const h=s(a);for(const f in n)n[f].protectedKeys={};return h}return{animateChanges:s,setActive:l,setAnimateFunction:o,getState:()=>n,reset:()=>{n=mR(),r=!0}}}function h1e(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!KU(e,t):!1}function dh(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function mR(){return{animate:dh(!0),whileInView:dh(),whileHover:dh(),whileTap:dh(),whileDrag:dh(),whileFocus:dh(),exit:dh()}}class rh{constructor(e){this.isMounted=!1,this.node=e}update(){}}class f1e extends rh{constructor(e){super(e),e.animationState||(e.animationState=c1e(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();oy(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let d1e=0;class p1e extends rh{constructor(){super(...arguments),this.id=d1e++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const m1e={animation:{Feature:f1e},exit:{Feature:p1e}},Nq=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function Gb(t,e="page"){return{point:{x:t[`${e}X`],y:t[`${e}Y`]}}}const g1e=t=>e=>Nq(e)&&t(e,Gb(e));function Wa(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Qa(t,e,n,r){return Wa(t,e,g1e(n),r)}const gR=(t,e)=>Math.abs(t-e);function y1e(t,e){const n=gR(t.x,e.x),r=gR(t.y,e.y);return Math.sqrt(n**2+r**2)}class Lq{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=b7(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,d=y1e(h.offset,{x:0,y:0})>=3;if(!f&&!d)return;const{point:p}=h,{timestamp:m}=$r;this.history.push({...p,timestamp:m});const{onStart:y,onMove:g}=this.handlers;f||(y&&y(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),g&&g(this.lastMoveEvent,h)},this.handlePointerMove=(h,f)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=x7(f,this.transformPagePoint),sn.update(this.updatePoint,!0)},this.handlePointerUp=(h,f)=>{this.end();const{onEnd:d,onSessionEnd:p,resumeAnimation:m}=this.handlers;if(this.dragSnapToOrigin&&m&&m(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=b7(h.type==="pointercancel"?this.lastMoveEventInfo:x7(f,this.transformPagePoint),this.history);this.startEvent&&d&&d(h,y),p&&p(h,y)},!Nq(e))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const s=Gb(e),l=x7(s,this.transformPagePoint),{point:a}=l,{timestamp:u}=$r;this.history=[{...a,timestamp:u}];const{onSessionStart:c}=n;c&&c(e,b7(l,this.history)),this.removeListeners=Za(Qa(this.contextWindow,"pointermove",this.handlePointerMove),Qa(this.contextWindow,"pointerup",this.handlePointerUp),Qa(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Nc(this.updatePoint)}}function x7(t,e){return e?{point:e(t.point)}:t}function yR(t,e){return{x:t.x-e.x,y:t.y-e.y}}function b7({point:t},e){return{point:t,delta:yR(t,Bq(e)),offset:yR(t,v1e(e)),velocity:w1e(e,.1)}}function v1e(t){return t[0]}function Bq(t){return t[t.length-1]}function w1e(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=Bq(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>Xa(e)));)n--;if(!r)return{x:0,y:0};const o=Ja(i.timestamp-r.timestamp);if(o===0)return{x:0,y:0};const s={x:(i.x-r.x)/o,y:(i.y-r.y)/o};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function zq(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const vR=zq("dragHorizontal"),wR=zq("dragVertical");function Fq(t){let e=!1;if(t==="y")e=wR();else if(t==="x")e=vR();else{const n=vR(),r=wR();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function $q(){const t=Fq(!0);return t?(t(),!1):!0}function e0(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}const Vq=1e-4,x1e=1-Vq,b1e=1+Vq,Hq=.01,k1e=0-Hq,S1e=0+Hq;function zo(t){return t.max-t.min}function C1e(t,e,n){return Math.abs(t-e)<=n}function xR(t,e,n,r=.5){t.origin=r,t.originPoint=Kn(e.min,e.max,t.origin),t.scale=zo(n)/zo(e),t.translate=Kn(n.min,n.max,t.origin)-t.originPoint,(t.scale>=x1e&&t.scale<=b1e||isNaN(t.scale))&&(t.scale=1),(t.translate>=k1e&&t.translate<=S1e||isNaN(t.translate))&&(t.translate=0)}function i1(t,e,n,r){xR(t.x,e.x,n.x,r?r.originX:void 0),xR(t.y,e.y,n.y,r?r.originY:void 0)}function bR(t,e,n){t.min=n.min+e.min,t.max=t.min+zo(e)}function T1e(t,e,n){bR(t.x,e.x,n.x),bR(t.y,e.y,n.y)}function kR(t,e,n){t.min=e.min-n.min,t.max=t.min+zo(e)}function o1(t,e,n){kR(t.x,e.x,n.x),kR(t.y,e.y,n.y)}function M1e(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Kn(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Kn(n,t,r.max):Math.min(t,n)),t}function SR(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function A1e(t,{top:e,left:n,bottom:r,right:i}){return{x:SR(t.x,n,i),y:SR(t.y,e,r)}}function CR(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function E1e(t,e){return{x:CR(t.x,e.x),y:CR(t.y,e.y)}}function O1e(t,e){let n=.5;const r=zo(t),i=zo(e);return i>r?n=wp(e.min,e.max-r,t.min):r>i&&(n=wp(t.min,t.max-i,e.min)),Lc(0,1,n)}function P1e(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const qS=.35;function D1e(t=qS){return t===!1?t=0:t===!0&&(t=qS),{x:TR(t,"left","right"),y:TR(t,"top","bottom")}}function TR(t,e,n){return{min:MR(t,e),max:MR(t,n)}}function MR(t,e){return typeof t=="number"?t:t[e]||0}const AR=()=>({translate:0,scale:1,origin:0,originPoint:0}),t0=()=>({x:AR(),y:AR()}),ER=()=>({min:0,max:0}),nr=()=>({x:ER(),y:ER()});function Qo(t){return[t("x"),t("y")]}function jq({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function _1e({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function I1e(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function k7(t){return t===void 0||t===1}function KS({scale:t,scaleX:e,scaleY:n}){return!k7(t)||!k7(e)||!k7(n)}function Ah(t){return KS(t)||Wq(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function Wq(t){return OR(t.x)||OR(t.y)}function OR(t){return t&&t!=="0%"}function cx(t,e,n){const r=t-n,i=e*r;return n+i}function PR(t,e,n,r,i){return i!==void 0&&(t=cx(t,i,r)),cx(t,n,r)+e}function GS(t,e=0,n=1,r,i){t.min=PR(t.min,e,n,r,i),t.max=PR(t.max,e,n,r,i)}function Uq(t,{x:e,y:n}){GS(t.x,e.translate,e.scale,e.originPoint),GS(t.y,n.translate,n.scale,n.originPoint)}const DR=.999999999999,_R=1.0000000000001;function R1e(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let o,s;for(let l=0;l<i;l++){o=n[l],s=o.projectionDelta;const{visualElement:a}=o.options;a&&a.props.style&&a.props.style.display==="contents"||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&r0(t,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),s&&(e.x*=s.x.scale,e.y*=s.y.scale,Uq(t,s)),r&&Ah(o.latestValues)&&r0(t,o.latestValues))}e.x<_R&&e.x>DR&&(e.x=1),e.y<_R&&e.y>DR&&(e.y=1)}function n0(t,e){t.min=t.min+e,t.max=t.max+e}function IR(t,e,n,r,i=.5){const o=Kn(t.min,t.max,i);GS(t,e,n,o,r)}function r0(t,e){IR(t.x,e.x,e.scaleX,e.scale,e.originX),IR(t.y,e.y,e.scaleY,e.scale,e.originY)}function qq(t,e){return jq(I1e(t.getBoundingClientRect(),e))}function N1e(t,e,n){const r=qq(t,n),{scroll:i}=e;return i&&(n0(r.x,i.offset.x),n0(r.y,i.offset.y)),r}const Kq=({current:t})=>t?t.ownerDocument.defaultView:null,L1e=new WeakMap;class B1e{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=nr(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=c=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Gb(c,"page").point)},o=(c,h)=>{const{drag:f,dragPropagation:d,onDragStart:p}=this.getProps();if(f&&!d&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=Fq(f),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Qo(y=>{let g=this.getAxisMotionValue(y).get()||0;if(Ul.test(g)){const{projection:v}=this.visualElement;if(v&&v.layout){const w=v.layout.layoutBox[y];w&&(g=zo(w)*(parseFloat(g)/100))}}this.originPoint[y]=g}),p&&sn.postRender(()=>p(c,h)),WS(this.visualElement,"transform");const{animationState:m}=this.visualElement;m&&m.setActive("whileDrag",!0)},s=(c,h)=>{const{dragPropagation:f,dragDirectionLock:d,onDirectionLock:p,onDrag:m}=this.getProps();if(!f&&!this.openGlobalLock)return;const{offset:y}=h;if(d&&this.currentDirection===null){this.currentDirection=z1e(y),this.currentDirection!==null&&p&&p(this.currentDirection);return}this.updateAxis("x",h.point,y),this.updateAxis("y",h.point,y),this.visualElement.render(),m&&m(c,h)},l=(c,h)=>this.stop(c,h),a=()=>Qo(c=>{var h;return this.getAnimationState(c)==="paused"&&((h=this.getAxisMotionValue(c).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new Lq(e,{onSessionStart:i,onStart:o,onMove:s,onSessionEnd:l,resumeAnimation:a},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:Kq(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:o}=this.getProps();o&&sn.postRender(()=>o(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!q2(e,i,this.currentDirection))return;const o=this.getAxisMotionValue(e);let s=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(s=M1e(s,this.constraints[e],this.elastic[e])),o.set(s)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,o=this.constraints;n&&e0(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=A1e(i.layoutBox,n):this.constraints=!1,this.elastic=D1e(r),o!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Qo(s=>{this.constraints!==!1&&this.getAxisMotionValue(s)&&(this.constraints[s]=P1e(i.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!e0(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const o=N1e(r,i.root,this.visualElement.getTransformPagePoint());let s=E1e(i.layout.layoutBox,o);if(n){const l=n(_1e(s));this.hasMutatedConstraints=!!l,l&&(s=jq(l))}return s}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:o,dragSnapToOrigin:s,onDragTransitionEnd:l}=this.getProps(),a=this.constraints||{},u=Qo(c=>{if(!q2(c,n,this.currentDirection))return;let h=a&&a[c]||{};s&&(h={min:0,max:0});const f=i?200:1e6,d=i?40:1e7,p={type:"inertia",velocity:r?e[c]:0,bounceStiffness:f,bounceDamping:d,timeConstant:750,restDelta:1,restSpeed:10,...o,...h};return this.startAxisValueAnimation(c,p)});return Promise.all(u).then(l)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return WS(this.visualElement,e),r.start(uA(e,r,0,n,this.visualElement,!1))}stopAnimation(){Qo(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Qo(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Qo(n=>{const{drag:r}=this.getProps();if(!q2(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,o=this.getAxisMotionValue(n);if(i&&i.layout){const{min:s,max:l}=i.layout.layoutBox[n];o.set(e[n]-Kn(s,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!e0(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Qo(s=>{const l=this.getAxisMotionValue(s);if(l&&this.constraints!==!1){const a=l.get();i[s]=O1e({min:a,max:a},this.constraints[s])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Qo(s=>{if(!q2(s,e,null))return;const l=this.getAxisMotionValue(s),{min:a,max:u}=this.constraints[s];l.set(Kn(a,u,i[s]))})}addListeners(){if(!this.visualElement.current)return;L1e.set(this.visualElement,this);const e=this.visualElement.current,n=Qa(e,"pointerdown",a=>{const{drag:u,dragListener:c=!0}=this.getProps();u&&c&&this.start(a)}),r=()=>{const{dragConstraints:a}=this.getProps();e0(a)&&a.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,o=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),sn.read(r);const s=Wa(window,"resize",()=>this.scalePositionWithinConstraints()),l=i.addEventListener("didUpdate",({delta:a,hasLayoutChanged:u})=>{this.isDragging&&u&&(Qo(c=>{const h=this.getAxisMotionValue(c);h&&(this.originPoint[c]+=a[c].translate,h.set(h.get()+a[c].translate))}),this.visualElement.render())});return()=>{s(),n(),o(),l&&l()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:o=!1,dragElastic:s=qS,dragMomentum:l=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:o,dragElastic:s,dragMomentum:l}}}function q2(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function z1e(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class F1e extends rh{constructor(e){super(e),this.removeGroupControls=hi,this.removeListeners=hi,this.controls=new B1e(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||hi}unmount(){this.removeGroupControls(),this.removeListeners()}}const RR=t=>(e,n)=>{t&&sn.postRender(()=>t(e,n))};class $1e extends rh{constructor(){super(...arguments),this.removePointerDownListener=hi}onPointerDown(e){this.session=new Lq(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Kq(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:RR(e),onStart:RR(n),onMove:r,onEnd:(o,s)=>{delete this.session,i&&sn.postRender(()=>i(o,s))}}}mount(){this.removePointerDownListener=Qa(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const dA=I.createContext(null);function V1e(){const t=I.useContext(dA);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,i=I.useId();I.useEffect(()=>r(i),[]);const o=I.useCallback(()=>n&&n(i),[i,n]);return!e&&n?[!1,o]:[!0]}const Gq=I.createContext({}),Yq=I.createContext({}),dw={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function NR(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Dm={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(pt.test(t))t=parseFloat(t);else return t;const n=NR(t,e.target.x),r=NR(t,e.target.y);return`${n}% ${r}%`}},H1e={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=Bc.parse(t);if(i.length>5)return r;const o=Bc.createTransformer(t),s=typeof i[0]!="number"?1:0,l=n.x.scale*e.x,a=n.y.scale*e.y;i[0+s]/=l,i[1+s]/=a;const u=Kn(l,a,.5);return typeof i[2+s]=="number"&&(i[2+s]/=u),typeof i[3+s]=="number"&&(i[3+s]/=u),o(i)}},hx={};function j1e(t){Object.assign(hx,t)}const{schedule:pA,cancel:CFe}=GU(queueMicrotask,!1);class W1e extends I.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:o}=e;j1e(U1e),o&&(n.group&&n.group.add(o),r&&r.register&&i&&r.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),dw.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:o}=this.props,s=r.projection;return s&&(s.isPresent=o,i||e.layoutDependency!==n||n===void 0?s.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?s.promote():s.relegate()||sn.postRender(()=>{const l=s.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),pA.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Xq(t){const[e,n]=V1e(),r=I.useContext(Gq);return P.jsx(W1e,{...t,layoutGroup:r,switchLayoutGroup:I.useContext(Yq),isPresent:e,safeToRemove:n})}const U1e={borderRadius:{...Dm,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Dm,borderTopRightRadius:Dm,borderBottomLeftRadius:Dm,borderBottomRightRadius:Dm,boxShadow:H1e},Jq=["TopLeft","TopRight","BottomLeft","BottomRight"],q1e=Jq.length,LR=t=>typeof t=="string"?parseFloat(t):t,BR=t=>typeof t=="number"||pt.test(t);function K1e(t,e,n,r,i,o){i?(t.opacity=Kn(0,n.opacity!==void 0?n.opacity:1,G1e(r)),t.opacityExit=Kn(e.opacity!==void 0?e.opacity:1,0,Y1e(r))):o&&(t.opacity=Kn(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let s=0;s<q1e;s++){const l=`border${Jq[s]}Radius`;let a=zR(e,l),u=zR(n,l);if(a===void 0&&u===void 0)continue;a||(a=0),u||(u=0),a===0||u===0||BR(a)===BR(u)?(t[l]=Math.max(Kn(LR(a),LR(u),r),0),(Ul.test(u)||Ul.test(a))&&(t[l]+="%")):t[l]=u}(e.rotate||n.rotate)&&(t.rotate=Kn(e.rotate||0,n.rotate||0,r))}function zR(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const G1e=Zq(0,.5,tq),Y1e=Zq(.5,.95,hi);function Zq(t,e,n){return r=>r<t?0:r>e?1:n(wp(t,e,r))}function FR(t,e){t.min=e.min,t.max=e.max}function Jo(t,e){FR(t.x,e.x),FR(t.y,e.y)}function $R(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function VR(t,e,n,r,i){return t-=e,t=cx(t,1/n,r),i!==void 0&&(t=cx(t,1/i,r)),t}function X1e(t,e=0,n=1,r=.5,i,o=t,s=t){if(Ul.test(e)&&(e=parseFloat(e),e=Kn(s.min,s.max,e/100)-s.min),typeof e!="number")return;let l=Kn(o.min,o.max,r);t===o&&(l-=e),t.min=VR(t.min,e,n,l,i),t.max=VR(t.max,e,n,l,i)}function HR(t,e,[n,r,i],o,s){X1e(t,e[n],e[r],e[i],e.scale,o,s)}const J1e=["x","scaleX","originX"],Z1e=["y","scaleY","originY"];function jR(t,e,n,r){HR(t.x,e,J1e,n?n.x:void 0,r?r.x:void 0),HR(t.y,e,Z1e,n?n.y:void 0,r?r.y:void 0)}function WR(t){return t.translate===0&&t.scale===1}function Qq(t){return WR(t.x)&&WR(t.y)}function UR(t,e){return t.min===e.min&&t.max===e.max}function Q1e(t,e){return UR(t.x,e.x)&&UR(t.y,e.y)}function qR(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function eK(t,e){return qR(t.x,e.x)&&qR(t.y,e.y)}function KR(t){return zo(t.x)/zo(t.y)}function GR(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class eye{constructor(){this.members=[]}add(e){cA(this.members,e),e.scheduleRender()}remove(e){if(hA(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const o=this.members[i];if(o.isPresent!==!1){r=o;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function tye(t,e,n){let r="";const i=t.x.translate/e.x,o=t.y.translate/e.y,s=(n==null?void 0:n.z)||0;if((i||o||s)&&(r=`translate3d(${i}px, ${o}px, ${s}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:u,rotate:c,rotateX:h,rotateY:f,skewX:d,skewY:p}=n;u&&(r=`perspective(${u}px) ${r}`),c&&(r+=`rotate(${c}deg) `),h&&(r+=`rotateX(${h}deg) `),f&&(r+=`rotateY(${f}deg) `),d&&(r+=`skewX(${d}deg) `),p&&(r+=`skewY(${p}deg) `)}const l=t.x.scale*e.x,a=t.y.scale*e.y;return(l!==1||a!==1)&&(r+=`scale(${l}, ${a})`),r||"none"}const nye=(t,e)=>t.depth-e.depth;class rye{constructor(){this.children=[],this.isDirty=!1}add(e){cA(this.children,e),this.isDirty=!0}remove(e){hA(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(nye),this.isDirty=!1,this.children.forEach(e)}}function pw(t){const e=li(t)?t.get():t;return Gge(e)?e.toValue():e}function iye(t,e){const n=ql.now(),r=({timestamp:i})=>{const o=i-n;o>=e&&(Nc(r),t(o-e))};return sn.read(r,!0),()=>Nc(r)}function oye(t){return t instanceof SVGElement&&t.tagName!=="svg"}function sye(t,e,n){const r=li(t)?t:uy(t);return r.start(uA("",r,e,n)),r.animation}const Eh={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},ig=typeof window<"u"&&window.MotionDebug!==void 0,S7=["","X","Y","Z"],lye={visibility:"hidden"},YR=1e3;let aye=0;function C7(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function tK(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=Dq(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:o}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",sn,!(i||o))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&tK(r)}function nK({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(s={},l=e==null?void 0:e()){this.id=aye++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,ig&&(Eh.totalNodes=Eh.resolvedTargetDeltas=Eh.recalculatedProjection=0),this.nodes.forEach(hye),this.nodes.forEach(gye),this.nodes.forEach(yye),this.nodes.forEach(fye),ig&&window.MotionDebug.record(Eh)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=s,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let a=0;a<this.path.length;a++)this.path[a].shouldResetTransform=!0;this.root===this&&(this.nodes=new rye)}addEventListener(s,l){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new fA),this.eventHandlers.get(s).add(l)}notifyListeners(s,...l){const a=this.eventHandlers.get(s);a&&a.notify(...l)}hasListeners(s){return this.eventHandlers.has(s)}mount(s,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=oye(s),this.instance=s;const{layoutId:a,layout:u,visualElement:c}=this.options;if(c&&!c.current&&c.mount(s),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(u||a)&&(this.isLayoutDirty=!0),t){let h;const f=()=>this.root.updateBlockedByResize=!1;t(s,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=iye(f,250),dw.hasAnimatedSinceResize&&(dw.hasAnimatedSinceResize=!1,this.nodes.forEach(JR))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&c&&(a||u)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:f,hasRelativeTargetChanged:d,layout:p})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const m=this.options.transition||c.getDefaultTransition()||kye,{onLayoutAnimationStart:y,onLayoutAnimationComplete:g}=c.getProps(),v=!this.targetLayout||!eK(this.targetLayout,p)||d,w=!f&&d;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||w||f&&(v||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,w);const b={...YM(m,"layout"),onPlay:y,onComplete:g};(c.shouldReduceMotion||this.options.layoutRoot)&&(b.delay=0,b.type=!1),this.startAnimation(b)}else f||JR(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=p})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const s=this.getStack();s&&s.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Nc(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(vye),this.animationId++)}getTransformTemplate(){const{visualElement:s}=this.options;return s&&s.getProps().transformTemplate}willUpdate(s=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&tK(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let c=0;c<this.path.length;c++){const h=this.path[c];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:l,layout:a}=this.options;if(l===void 0&&!a)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(XR);return}this.isUpdating||this.nodes.forEach(pye),this.isUpdating=!1,this.nodes.forEach(mye),this.nodes.forEach(uye),this.nodes.forEach(cye),this.clearAllSnapshots();const l=ql.now();$r.delta=Lc(0,1e3/60,l-$r.timestamp),$r.timestamp=l,$r.isProcessing=!0,m7.update.process($r),m7.preRender.process($r),m7.render.process($r),$r.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,pA.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(dye),this.sharedNodes.forEach(wye)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,sn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){sn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let a=0;a<this.path.length;a++)this.path[a].updateScroll();const s=this.layout;this.layout=this.measure(!1),this.layoutCorrected=nr(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,s?s.layoutBox:void 0)}updateScroll(s="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(l=!1),l){const a=r(this.instance);this.scroll={animationId:this.root.animationId,phase:s,isRoot:a,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:a}}}resetTransform(){if(!i)return;const s=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!Qq(this.projectionDelta),a=this.getTransformTemplate(),u=a?a(this.latestValues,""):void 0,c=u!==this.prevTransformTemplateValue;s&&(l||Ah(this.latestValues)||c)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){const l=this.measurePageBox();let a=this.removeElementScroll(l);return s&&(a=this.removeTransform(a)),Sye(a),{animationId:this.root.animationId,measuredBox:l,layoutBox:a,latestValues:{},source:this.id}}measurePageBox(){var s;const{visualElement:l}=this.options;if(!l)return nr();const a=l.measureViewportBox();if(!(((s=this.scroll)===null||s===void 0?void 0:s.wasRoot)||this.path.some(Cye))){const{scroll:c}=this.root;c&&(n0(a.x,c.offset.x),n0(a.y,c.offset.y))}return a}removeElementScroll(s){var l;const a=nr();if(Jo(a,s),!((l=this.scroll)===null||l===void 0)&&l.wasRoot)return a;for(let u=0;u<this.path.length;u++){const c=this.path[u],{scroll:h,options:f}=c;c!==this.root&&h&&f.layoutScroll&&(h.wasRoot&&Jo(a,s),n0(a.x,h.offset.x),n0(a.y,h.offset.y))}return a}applyTransform(s,l=!1){const a=nr();Jo(a,s);for(let u=0;u<this.path.length;u++){const c=this.path[u];!l&&c.options.layoutScroll&&c.scroll&&c!==c.root&&r0(a,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),Ah(c.latestValues)&&r0(a,c.latestValues)}return Ah(this.latestValues)&&r0(a,this.latestValues),a}removeTransform(s){const l=nr();Jo(l,s);for(let a=0;a<this.path.length;a++){const u=this.path[a];if(!u.instance||!Ah(u.latestValues))continue;KS(u.latestValues)&&u.updateSnapshot();const c=nr(),h=u.measurePageBox();Jo(c,h),jR(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,c)}return Ah(this.latestValues)&&jR(l,this.latestValues),l}setTargetDelta(s){this.targetDelta=s,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==$r.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(s=!1){var l;const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==a;if(!(s||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:f}=this.options;if(!(!this.layout||!(h||f))){if(this.resolvedRelativeTargetAt=$r.timestamp,!this.targetDelta&&!this.relativeTarget){const d=this.getClosestProjectingParent();d&&d.layout&&this.animationProgress!==1?(this.relativeParent=d,this.forceRelativeParentToResolveTarget(),this.relativeTarget=nr(),this.relativeTargetOrigin=nr(),o1(this.relativeTargetOrigin,this.layout.layoutBox,d.layout.layoutBox),Jo(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=nr(),this.targetWithTransforms=nr()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),T1e(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Jo(this.target,this.layout.layoutBox),Uq(this.target,this.targetDelta)):Jo(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const d=this.getClosestProjectingParent();d&&!!d.resumingFrom==!!this.resumingFrom&&!d.options.layoutScroll&&d.target&&this.animationProgress!==1?(this.relativeParent=d,this.forceRelativeParentToResolveTarget(),this.relativeTarget=nr(),this.relativeTargetOrigin=nr(),o1(this.relativeTargetOrigin,this.target,d.target),Jo(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}ig&&Eh.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||KS(this.parent.latestValues)||Wq(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var s;const l=this.getLead(),a=!!this.resumingFrom||this!==l;let u=!0;if((this.isProjectionDirty||!((s=this.parent)===null||s===void 0)&&s.isProjectionDirty)&&(u=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===$r.timestamp&&(u=!1),u)return;const{layout:c,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||h))return;Jo(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,d=this.treeScale.y;R1e(this.layoutCorrected,this.treeScale,this.path,a),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=nr());const{target:p}=l;if(!p){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():($R(this.prevProjectionDelta.x,this.projectionDelta.x),$R(this.prevProjectionDelta.y,this.projectionDelta.y)),i1(this.projectionDelta,this.layoutCorrected,p,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==d||!GR(this.projectionDelta.x,this.prevProjectionDelta.x)||!GR(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p)),ig&&Eh.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){var l;if((l=this.options.visualElement)===null||l===void 0||l.scheduleRender(),s){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=t0(),this.projectionDelta=t0(),this.projectionDeltaWithTransform=t0()}setAnimationOrigin(s,l=!1){const a=this.snapshot,u=a?a.latestValues:{},c={...this.latestValues},h=t0();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const f=nr(),d=a?a.source:void 0,p=this.layout?this.layout.source:void 0,m=d!==p,y=this.getStack(),g=!y||y.members.length<=1,v=!!(m&&!g&&this.options.crossfade===!0&&!this.path.some(bye));this.animationProgress=0;let w;this.mixTargetDelta=b=>{const S=b/1e3;ZR(h.x,s.x,S),ZR(h.y,s.y,S),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(o1(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),xye(this.relativeTarget,this.relativeTargetOrigin,f,S),w&&Q1e(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=nr()),Jo(w,this.relativeTarget)),m&&(this.animationValues=c,K1e(c,u,this.latestValues,S,v,g)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=S},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Nc(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=sn.update(()=>{dw.hasAnimatedSinceResize=!0,this.currentAnimation=sye(0,YR,{...s,onUpdate:l=>{this.mixTargetDelta(l),s.onUpdate&&s.onUpdate(l)},onComplete:()=>{s.onComplete&&s.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const s=this.getStack();s&&s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(YR),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const s=this.getLead();let{targetWithTransforms:l,target:a,layout:u,latestValues:c}=s;if(!(!l||!a||!u)){if(this!==s&&this.layout&&u&&rK(this.options.animationType,this.layout.layoutBox,u.layoutBox)){a=this.target||nr();const h=zo(this.layout.layoutBox.x);a.x.min=s.target.x.min,a.x.max=a.x.min+h;const f=zo(this.layout.layoutBox.y);a.y.min=s.target.y.min,a.y.max=a.y.min+f}Jo(l,a),r0(l,c),i1(this.projectionDeltaWithTransform,this.layoutCorrected,l,c)}}registerSharedNode(s,l){this.sharedNodes.has(s)||this.sharedNodes.set(s,new eye),this.sharedNodes.get(s).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const s=this.getStack();return s?s.lead===this:!0}getLead(){var s;const{layoutId:l}=this.options;return l?((s=this.getStack())===null||s===void 0?void 0:s.lead)||this:this}getPrevLead(){var s;const{layoutId:l}=this.options;return l?(s=this.getStack())===null||s===void 0?void 0:s.prevLead:void 0}getStack(){const{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:l,preserveFollowOpacity:a}={}){const u=this.getStack();u&&u.promote(this,a),s&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const s=this.getStack();return s?s.relegate(this):!1}resetSkewAndRotation(){const{visualElement:s}=this.options;if(!s)return;let l=!1;const{latestValues:a}=s;if((a.z||a.rotate||a.rotateX||a.rotateY||a.rotateZ||a.skewX||a.skewY)&&(l=!0),!l)return;const u={};a.z&&C7("z",s,u,this.animationValues);for(let c=0;c<S7.length;c++)C7(`rotate${S7[c]}`,s,u,this.animationValues),C7(`skew${S7[c]}`,s,u,this.animationValues);s.render();for(const c in u)s.setStaticValue(c,u[c]),this.animationValues&&(this.animationValues[c]=u[c]);s.scheduleRender()}getProjectionStyles(s){var l,a;if(!this.instance||this.isSVG)return;if(!this.isVisible)return lye;const u={visibility:""},c=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=pw(s==null?void 0:s.pointerEvents)||"",u.transform=c?c(this.latestValues,""):"none",u;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const m={};return this.options.layoutId&&(m.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,m.pointerEvents=pw(s==null?void 0:s.pointerEvents)||""),this.hasProjected&&!Ah(this.latestValues)&&(m.transform=c?c({},""):"none",this.hasProjected=!1),m}const f=h.animationValues||h.latestValues;this.applyTransformsToTarget(),u.transform=tye(this.projectionDeltaWithTransform,this.treeScale,f),c&&(u.transform=c(f,u.transform));const{x:d,y:p}=this.projectionDelta;u.transformOrigin=`${d.origin*100}% ${p.origin*100}% 0`,h.animationValues?u.opacity=h===this?(a=(l=f.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&a!==void 0?a:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:u.opacity=h===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const m in hx){if(f[m]===void 0)continue;const{correct:y,applyTo:g}=hx[m],v=u.transform==="none"?f[m]:y(f[m],h);if(g){const w=g.length;for(let b=0;b<w;b++)u[g[b]]=v}else u[m]=v}return this.options.layoutId&&(u.pointerEvents=h===this?pw(s==null?void 0:s.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>{var l;return(l=s.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(XR),this.root.sharedNodes.clear()}}}function uye(t){t.updateLayout()}function cye(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:o}=t.options,s=n.source!==t.layout.source;o==="size"?Qo(h=>{const f=s?n.measuredBox[h]:n.layoutBox[h],d=zo(f);f.min=r[h].min,f.max=f.min+d}):rK(o,n.layoutBox,r)&&Qo(h=>{const f=s?n.measuredBox[h]:n.layoutBox[h],d=zo(r[h]);f.max=f.min+d,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+d)});const l=t0();i1(l,r,n.layoutBox);const a=t0();s?i1(a,t.applyTransform(i,!0),n.measuredBox):i1(a,r,n.layoutBox);const u=!Qq(l);let c=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:d}=h;if(f&&d){const p=nr();o1(p,n.layoutBox,f.layoutBox);const m=nr();o1(m,r,d.layoutBox),eK(p,m)||(c=!0),h.options.layoutRoot&&(t.relativeTarget=m,t.relativeTargetOrigin=p,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:a,layoutDelta:l,hasLayoutChanged:u,hasRelativeTargetChanged:c})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function hye(t){ig&&Eh.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function fye(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function dye(t){t.clearSnapshot()}function XR(t){t.clearMeasurements()}function pye(t){t.isLayoutDirty=!1}function mye(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function JR(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function gye(t){t.resolveTargetDelta()}function yye(t){t.calcProjection()}function vye(t){t.resetSkewAndRotation()}function wye(t){t.removeLeadSnapshot()}function ZR(t,e,n){t.translate=Kn(e.translate,0,n),t.scale=Kn(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function QR(t,e,n,r){t.min=Kn(e.min,n.min,r),t.max=Kn(e.max,n.max,r)}function xye(t,e,n,r){QR(t.x,e.x,n.x,r),QR(t.y,e.y,n.y,r)}function bye(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const kye={duration:.45,ease:[.4,0,.1,1]},eN=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),tN=eN("applewebkit/")&&!eN("chrome/")?Math.round:hi;function nN(t){t.min=tN(t.min),t.max=tN(t.max)}function Sye(t){nN(t.x),nN(t.y)}function rK(t,e,n){return t==="position"||t==="preserve-aspect"&&!C1e(KR(e),KR(n),.2)}function Cye(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const Tye=nK({attachResizeListener:(t,e)=>Wa(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),T7={current:void 0},iK=nK({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!T7.current){const t=new Tye({});t.mount(window),t.setOptions({layoutScroll:!0}),T7.current=t}return T7.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Mye={pan:{Feature:$1e},drag:{Feature:F1e,ProjectionNode:iK,MeasureLayout:Xq}};function rN(t,e){const n=e?"pointerenter":"pointerleave",r=e?"onHoverStart":"onHoverEnd",i=(o,s)=>{if(o.pointerType==="touch"||$q())return;const l=t.getProps();t.animationState&&l.whileHover&&t.animationState.setActive("whileHover",e);const a=l[r];a&&sn.postRender(()=>a(o,s))};return Qa(t.current,n,i,{passive:!t.getProps()[r]})}class Aye extends rh{mount(){this.unmount=Za(rN(this.node,!0),rN(this.node,!1))}unmount(){}}class Eye extends rh{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Za(Wa(this.node.current,"focus",()=>this.onFocus()),Wa(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const oK=(t,e)=>e?t===e?!0:oK(t,e.parentElement):!1;function M7(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,Gb(n))}class Oye extends rh{constructor(){super(...arguments),this.removeStartListeners=hi,this.removeEndListeners=hi,this.removeAccessibleListeners=hi,this.startPointerPress=(e,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),o=Qa(window,"pointerup",(l,a)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:c,globalTapTarget:h}=this.node.getProps(),f=!h&&!oK(this.node.current,l.target)?c:u;f&&sn.update(()=>f(l,a))},{passive:!(r.onTap||r.onPointerUp)}),s=Qa(window,"pointercancel",(l,a)=>this.cancelPress(l,a),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=Za(o,s),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=o=>{if(o.key!=="Enter"||this.isPressing)return;const s=l=>{l.key!=="Enter"||!this.checkPressEnd()||M7("up",(a,u)=>{const{onTap:c}=this.node.getProps();c&&sn.postRender(()=>c(a,u))})};this.removeEndListeners(),this.removeEndListeners=Wa(this.node.current,"keyup",s),M7("down",(l,a)=>{this.startPress(l,a)})},n=Wa(this.node.current,"keydown",e),r=()=>{this.isPressing&&M7("cancel",(o,s)=>this.cancelPress(o,s))},i=Wa(this.node.current,"blur",r);this.removeAccessibleListeners=Za(n,i)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&sn.postRender(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!$q()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&sn.postRender(()=>r(e,n))}mount(){const e=this.node.getProps(),n=Qa(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=Wa(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Za(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const YS=new WeakMap,A7=new WeakMap,Pye=t=>{const e=YS.get(t.target);e&&e(t)},Dye=t=>{t.forEach(Pye)};function _ye({root:t,...e}){const n=t||document;A7.has(n)||A7.set(n,{});const r=A7.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(Dye,{root:t,...e})),r[i]}function Iye(t,e,n){const r=_ye(e);return YS.set(t,n),r.observe(t),()=>{YS.delete(t),r.unobserve(t)}}const Rye={some:0,all:1};class Nye extends rh{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:o}=e,s={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:Rye[i]},l=a=>{const{isIntersecting:u}=a;if(this.isInView===u||(this.isInView=u,o&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:c,onViewportLeave:h}=this.node.getProps(),f=u?c:h;f&&f(a)};return Iye(this.node.current,s,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(Lye(e,n))&&this.startObserver()}unmount(){}}function Lye({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const Bye={inView:{Feature:Nye},tap:{Feature:Oye},focus:{Feature:Eye},hover:{Feature:Aye}},zye={layout:{ProjectionNode:iK,MeasureLayout:Xq}},sK=I.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),Yb=I.createContext({}),mA=typeof window<"u",Fye=mA?I.useLayoutEffect:I.useEffect,lK=I.createContext({strict:!1});function $ye(t,e,n,r,i){var o,s;const{visualElement:l}=I.useContext(Yb),a=I.useContext(lK),u=I.useContext(dA),c=I.useContext(sK).reducedMotion,h=I.useRef();r=r||a.renderer,!h.current&&r&&(h.current=r(t,{visualState:e,parent:l,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:c}));const f=h.current,d=I.useContext(Yq);f&&!f.projection&&i&&(f.type==="html"||f.type==="svg")&&Vye(h.current,n,i,d),I.useInsertionEffect(()=>{f&&f.update(n,u)});const p=n[Pq],m=I.useRef(!!p&&!(!((o=window.MotionHandoffIsComplete)===null||o===void 0)&&o.call(window,p))&&((s=window.MotionHasOptimisedAnimation)===null||s===void 0?void 0:s.call(window,p)));return Fye(()=>{f&&(window.MotionIsMounted=!0,f.updateFeatures(),pA.render(f.render),m.current&&f.animationState&&f.animationState.animateChanges())}),I.useEffect(()=>{f&&(!m.current&&f.animationState&&f.animationState.animateChanges(),m.current&&(queueMicrotask(()=>{var y;(y=window.MotionHandoffMarkAsComplete)===null||y===void 0||y.call(window,p)}),m.current=!1))}),f}function Vye(t,e,n,r){const{layoutId:i,layout:o,drag:s,dragConstraints:l,layoutScroll:a,layoutRoot:u}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:aK(t.parent)),t.projection.setOptions({layoutId:i,layout:o,alwaysMeasureLayout:!!s||l&&e0(l),visualElement:t,animationType:typeof o=="string"?o:"both",initialPromotionConfig:r,layoutScroll:a,layoutRoot:u})}function aK(t){if(t)return t.options.allowProjection!==!1?t.projection:aK(t.parent)}function Hye(t,e,n){return I.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):e0(n)&&(n.current=r))},[e])}function Xb(t){return oy(t.animate)||GM.some(e=>sy(t[e]))}function uK(t){return!!(Xb(t)||t.variants)}function jye(t,e){if(Xb(t)){const{initial:n,animate:r}=t;return{initial:n===!1||sy(n)?n:void 0,animate:sy(r)?r:void 0}}return t.inherit!==!1?e:{}}function Wye(t){const{initial:e,animate:n}=jye(t,I.useContext(Yb));return I.useMemo(()=>({initial:e,animate:n}),[iN(e),iN(n)])}function iN(t){return Array.isArray(t)?t.join(" "):t}const oN={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},xp={};for(const t in oN)xp[t]={isEnabled:e=>oN[t].some(n=>!!e[n])};function Uye(t){for(const e in t)xp[e]={...xp[e],...t[e]}}const qye=Symbol.for("motionComponentSymbol");function Kye({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){t&&Uye(t);function o(l,a){let u;const c={...I.useContext(sK),...l,layoutId:Gye(l)},{isStatic:h}=c,f=Wye(l),d=r(l,h);if(!h&&mA){Yye();const p=Xye(c);u=p.MeasureLayout,f.visualElement=$ye(i,d,c,e,p.ProjectionNode)}return P.jsxs(Yb.Provider,{value:f,children:[u&&f.visualElement?P.jsx(u,{visualElement:f.visualElement,...c}):null,n(i,l,Hye(d,f.visualElement,a),d,h,f.visualElement)]})}const s=I.forwardRef(o);return s[qye]=i,s}function Gye({layoutId:t}){const e=I.useContext(Gq).id;return e&&t!==void 0?e+"-"+t:t}function Yye(t,e){I.useContext(lK).strict}function Xye(t){const{drag:e,layout:n}=xp;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const Jye=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function gA(t){return typeof t!="string"||t.includes("-")?!1:!!(Jye.indexOf(t)>-1||/[A-Z]/u.test(t))}function cK(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const o in n)t.style.setProperty(o,n[o])}const hK=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function fK(t,e,n,r){cK(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(hK.has(i)?i:Kb(i),e.attrs[i])}function dK(t,{layout:e,layoutId:n}){return nh.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!hx[t]||t==="opacity")}function yA(t,e,n){var r;const{style:i}=t,o={};for(const s in i)(li(i[s])||e.style&&li(e.style[s])||dK(s,t)||((r=n==null?void 0:n.getValue(s))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(o[s]=i[s]);return n&&i&&typeof i.willChange=="string"&&(n.applyWillChange=!1),o}function pK(t,e,n){const r=yA(t,e,n);for(const i in t)if(li(t[i])||li(e[i])){const o=Bv.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[o]=t[i]}return r}function Zye(t){const e=I.useRef(null);return e.current===null&&(e.current=t()),e.current}function Qye({applyWillChange:t=!1,scrapeMotionValuesFromProps:e,createRenderState:n,onMount:r},i,o,s,l){const a={latestValues:eve(i,o,s,l?!1:t,e),renderState:n()};return r&&(a.mount=u=>r(i,u,a)),a}const mK=t=>(e,n)=>{const r=I.useContext(Yb),i=I.useContext(dA),o=()=>Qye(t,e,r,i,n);return n?o():Zye(o)};function sN(t,e,n){const r=Array.isArray(e)?e:[e];for(let i=0;i<r.length;i++){const o=qM(t,r[i]);if(o){const{transitionEnd:s,transition:l,...a}=o;n(a,s)}}}function eve(t,e,n,r,i){var o;const s={};let l=r&&((o=t.style)===null||o===void 0?void 0:o.willChange)===void 0;const a=i(t,{});for(const m in a)s[m]=pw(a[m]);let{initial:u,animate:c}=t;const h=Xb(t),f=uK(t);e&&f&&!h&&t.inherit!==!1&&(u===void 0&&(u=e.initial),c===void 0&&(c=e.animate));let d=n?n.initial===!1:!1;d=d||u===!1;const p=d?c:u;return p&&typeof p!="boolean"&&!oy(p)&&sN(t,p,(m,y)=>{for(const g in m){let v=m[g];if(Array.isArray(v)){const w=d?v.length-1:0;v=v[w]}v!==null&&(s[g]=v)}for(const g in y)s[g]=y[g]}),l&&c&&u!==!1&&!oy(c)&&sN(t,c,m=>{for(const y in m)if(_q(y)){s.willChange="transform";return}}),s}const vA=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),gK=()=>({...vA(),attrs:{}}),yK=(t,e)=>e&&typeof t=="number"?e.transform(t):t,tve={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},nve=Bv.length;function rve(t,e,n){let r="",i=!0;for(let o=0;o<nve;o++){const s=Bv[o],l=t[s];if(l===void 0)continue;let a=!0;if(typeof l=="number"?a=l===(s.startsWith("scale")?1:0):a=parseFloat(l)===0,!a||n){const u=yK(l,nA[s]);if(!a){i=!1;const c=tve[s]||s;r+=`${c}(${u}) `}n&&(e[s]=u)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function wA(t,e,n){const{style:r,vars:i,transformOrigin:o}=t;let s=!1,l=!1;for(const a in e){const u=e[a];if(nh.has(a)){s=!0;continue}else if(sq(a)){i[a]=u;continue}else{const c=yK(u,nA[a]);a.startsWith("origin")?(l=!0,o[a]=c):r[a]=c}}if(e.transform||(s||n?r.transform=rve(e,t.transform,n):r.transform&&(r.transform="none")),l){const{originX:a="50%",originY:u="50%",originZ:c=0}=o;r.transformOrigin=`${a} ${u} ${c}`}}function lN(t,e,n){return typeof t=="string"?t:pt.transform(e+n*t)}function ive(t,e,n){const r=lN(e,t.x,t.width),i=lN(n,t.y,t.height);return`${r} ${i}`}const ove={offset:"stroke-dashoffset",array:"stroke-dasharray"},sve={offset:"strokeDashoffset",array:"strokeDasharray"};function lve(t,e,n=1,r=0,i=!0){t.pathLength=1;const o=i?ove:sve;t[o.offset]=pt.transform(-r);const s=pt.transform(e),l=pt.transform(n);t[o.array]=`${s} ${l}`}function xA(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:o,pathLength:s,pathSpacing:l=1,pathOffset:a=0,...u},c,h){if(wA(t,u,h),c){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:f,style:d,dimensions:p}=t;f.transform&&(p&&(d.transform=f.transform),delete f.transform),p&&(i!==void 0||o!==void 0||d.transform)&&(d.transformOrigin=ive(p,i!==void 0?i:.5,o!==void 0?o:.5)),e!==void 0&&(f.x=e),n!==void 0&&(f.y=n),r!==void 0&&(f.scale=r),s!==void 0&&lve(f,s,l,a,!1)}const bA=t=>typeof t=="string"&&t.toLowerCase()==="svg",ave={useVisualState:mK({scrapeMotionValuesFromProps:pK,createRenderState:gK,onMount:(t,e,{renderState:n,latestValues:r})=>{sn.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),sn.render(()=>{xA(n,r,bA(e.tagName),t.transformTemplate),fK(e,n)})}})},uve={useVisualState:mK({applyWillChange:!0,scrapeMotionValuesFromProps:yA,createRenderState:vA})};function vK(t,e,n){for(const r in e)!li(e[r])&&!dK(r,n)&&(t[r]=e[r])}function cve({transformTemplate:t},e){return I.useMemo(()=>{const n=vA();return wA(n,e,t),Object.assign({},n.vars,n.style)},[e])}function hve(t,e){const n=t.style||{},r={};return vK(r,n,t),Object.assign(r,cve(t,e)),r}function fve(t,e){const n={},r=hve(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const dve=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function fx(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||dve.has(t)}let wK=t=>!fx(t);function pve(t){t&&(wK=e=>e.startsWith("on")?!fx(e):t(e))}try{pve(require("@emotion/is-prop-valid").default)}catch{}function mve(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(wK(i)||n===!0&&fx(i)||!e&&!fx(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function gve(t,e,n,r){const i=I.useMemo(()=>{const o=gK();return xA(o,e,bA(r),t.transformTemplate),{...o.attrs,style:{...o.style}}},[e]);if(t.style){const o={};vK(o,t.style,t),i.style={...o,...i.style}}return i}function yve(t=!1){return(n,r,i,{latestValues:o},s)=>{const a=(gA(n)?gve:fve)(r,o,s,n),u=mve(r,typeof n=="string",t),c=n!==I.Fragment?{...u,...a,ref:i}:{},{children:h}=r,f=I.useMemo(()=>li(h)?h.get():h,[h]);return I.createElement(n,{...c,children:f})}}function vve(t,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const s={...gA(r)?ave:uve,preloadedFeatures:t,useRender:yve(i),createVisualElement:e,Component:r};return Kye(s)}}const XS={current:null},xK={current:!1};function wve(){if(xK.current=!0,!!mA)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>XS.current=t.matches;t.addListener(e),e()}else XS.current=!1}function xve(t,e,n){for(const r in e){const i=e[r],o=n[r];if(li(i))t.addValue(r,i);else if(li(o))t.addValue(r,uy(i,{owner:t}));else if(o!==i)if(t.hasValue(r)){const s=t.getValue(r);s.liveStyle===!0?s.jump(i):s.hasAnimated||s.set(i)}else{const s=t.getStaticValue(r);t.addValue(r,uy(s!==void 0?s:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const aN=new WeakMap,bve=[...uq,Zr,Bc],kve=t=>bve.find(aq(t)),uN=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Sve{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:o,visualState:s},l={}){this.applyWillChange=!1,this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=QM,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const f=ql.now();this.renderScheduledAt<f&&(this.renderScheduledAt=f,sn.render(this.render,!1,!0))};const{latestValues:a,renderState:u}=s;this.latestValues=a,this.baseTarget={...a},this.initialValues=n.initial?{...a}:{},this.renderState=u,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=l,this.blockInitialAnimation=!!o,this.isControllingVariants=Xb(n),this.isVariantNode=uK(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:c,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const f in h){const d=h[f];a[f]!==void 0&&li(d)&&d.set(a[f],!1)}}mount(e){this.current=e,aN.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),xK.current||wve(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:XS.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){aN.delete(this.current),this.projection&&this.projection.unmount(),Nc(this.notifyUpdate),Nc(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=nh.has(e),i=n.on("change",l=>{this.latestValues[e]=l,this.props.onUpdate&&sn.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),o=n.on("renderRequest",this.scheduleRender);let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),o(),s&&s(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in xp){const n=xp[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const o=this.features[e];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):nr()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<uN.length;r++){const i=uN[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const o="on"+i,s=e[o];s&&(this.propEventSubscriptions[i]=this.on(i,s))}this.prevMotionValues=xve(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=uy(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(iq(i)||rq(i))?i=parseFloat(i):!kve(i)&&Bc.test(n)&&(i=yq(e,n)),this.setBaseTarget(e,li(i)?i.get():i)),li(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const s=qM(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);s&&(i=s[e])}if(r&&i!==void 0)return i;const o=this.getBaseTargetFromProps(this.props,e);return o!==void 0&&!li(o)?o:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new fA),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class bK extends Sve{constructor(){super(...arguments),this.KeyframeResolver=vq}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}}function Cve(t){return window.getComputedStyle(t)}class Tve extends bK{constructor(){super(...arguments),this.type="html",this.applyWillChange=!0,this.renderInstance=cK}readValueFromInstance(e,n){if(nh.has(n)){const r=rA(n);return r&&r.default||0}else{const r=Cve(e),i=(sq(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return qq(e,n)}build(e,n,r){wA(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return yA(e,n,r)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;li(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}class Mve extends bK{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=nr}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(nh.has(n)){const r=rA(n);return r&&r.default||0}return n=hK.has(n)?n:Kb(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return pK(e,n,r)}build(e,n,r){xA(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,i){fK(e,n,r,i)}mount(e){this.isSVGTag=bA(e.tagName),super.mount(e)}}const Ave=(t,e)=>gA(t)?new Mve(e):new Tve(e,{allowProjection:t!==I.Fragment}),Eve=vve({...m1e,...Bye,...Mye,...zye},Ave),kA=lme(Eve),Ove=de.div`
  scroll-snap-type: y mandatory;
  /* background: var(--main-bg-color); */
  /* background: var(--main-bg-color);
  background: radial-gradient(
    circle,
    var(--main-bg-color) 50%,
    var(--main-hover-color) 100%
  ); */
  color: var(--main-color);
`,Pve=de.div`
  font-family: sans-serif;
  text-align: center;
`,_m=de.section`
  height: 100dvh;
  display: flex;
  justify-content: center;
  align-items: center;
  position: relative;
  scroll-snap-align: center;
  perspective: 500px;
  overflow: hidden;
  background: ${t=>t.$bgColor?t.$bgColor:"var(--main-bg-color)"};
`,E7=de(kA.div)`
  width: 300px;
  height: 400px;
  position: relative;
  max-height: 90vh;
  margin: 20px;
  overflow: hidden;
  border-radius: 5px;

  img {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }
`,O7=de(kA.h2)`
  margin: 0;
  color: var(--ice-main-color_3);
  text-shadow: 1px 1px 2px var(--main-bg-color);
  left: calc(50% - 50px);
  top: calc(50%);
  font-size: 3rem;
  font-weight: 700;
  font-family: consolas;
  font-style: normal;
  letter-spacing: -2px;
  line-height: 1.2;
  position: absolute;
`,Dve=de(kA.div)`
  background-color: #000;
  border: 4px solid #707070;
  border-radius: 20px;
  box-shadow: 0 0 20px 2px rgba(28, 31, 47, 0.1);
  padding: 10px 10px;
  width: 90vw;
  max-width: 700px;
  height: 900px;
  position: relative;
  max-height: 90vh;
  margin: 20px;
  overflow: hidden;
`,_ve=de.div`
  display: inline-block;
  width: 100%;
  height: 100%;
  border-radius: 10px;
  background-color: var(--main-bg-color);
  color: var(--main-color);
  overflow: hidden;
`,Ive=de.div`
  width: 150px;
  height: 150px;
  transition: all 0.1s;
  position: relative;
  transform: ${({$rotateX:t,$rotateY:e})=>`perspective(350px) rotateX(${t}deg) rotateY(${e}deg)`};
`,Rve=de.div`
  position: absolute;
  width: 150px;
  height: 150px;
  background: linear-gradient(
    105deg,
    transparent 40%,
    rgba(255, 219, 112, 0.8) 45%,
    rgba(132, 50, 255, 0.6) 50%,
    transparent 54%
  );
  filter: ${({$opacity:t})=>`brightness(1.2) opacity(${t})`};
  mix-blend-mode: color-dodge;
  background-size: 150% 150%;
  background-position: ${({$backgroundPosition:t})=>`${t}%`};
  transition: all 0.1s;
`,Nve=de.div`
  width: 150px;
  height: 150px;
  background-image: ${({$imgUrl:t})=>`url(${t});`};
  border-radius: 6px;
  background-size: contain;
  background-position: center;
  background-repeat: no-repeat;
`,Lve=({width:t=18,height:e=18,color:n="white"})=>P.jsx("svg",{width:t,height:e,viewBox:"0 0 24 24",stroke:n,fill:"none",xmlns:"http://www.w3.org/2000/svg",children:P.jsx("path",{d:"M5.70711 9.71069C5.31658 10.1012 5.31658 10.7344 5.70711 11.1249L10.5993 16.0123C11.3805 16.7927 12.6463 16.7924 13.4271 16.0117L18.3174 11.1213C18.708 10.7308 18.708 10.0976 18.3174 9.70708C17.9269 9.31655 17.2937 9.31655 16.9032 9.70708L12.7176 13.8927C12.3271 14.2833 11.6939 14.2832 11.3034 13.8927L7.12132 9.71069C6.7308 9.32016 6.09763 9.32016 5.70711 9.71069Z",fill:n})}),Bve=`
# (Park Jeong-kyun, )  
## 
  - 2001 2 23 ( ${new Date().getFullYear()-new Date("2001-02-23").getFullYear()})
  -    
## 
  -    
## 
  - dbzoseh84@gmail.com
##  
  -  , ,  
## 
  - ()
  - ()
  - ()
  - (  )
  -   4()
## 
  -   3 CERT()  
    - 2020 11 23 ~ 2022 07 22
    - ${vl(new Date("2020-11"),new Date("2022-07"))}
##  
  -  2
  - 
  - 
  -  2
  -  2
##  
  - 
    - Python, TypeScript, Javascript/HTML/CSS, Go, Java
  - Digital Forensics
  - Network/System Security
  - Docker, React, NextJS, JSP, FastAPI, Nifi, Jupyter, Kafka, Redis, Superset
##  
  -   3 
    - CERT/
    - 2021 01 25 ~ 2022 07 22
    - ${vl(new Date("2021-01"),new Date("2022-07"))}
  - NuriggumSoft() DX 
    - SI, UI/UX, ,  
    - 2022 07 25 ~ 2024 06 24
    - ${vl(new Date("2022-07"),new Date("2024-06"))}
  - Aimos() AI    
    - SI, SM, UI/UX, , , Java 
    - 2024 07 15 ~ 
    - ${vl(new Date("2024-07"),new Date)}
##  
  - AI Link On, Plant AI
    -  : LG , LG CNS
    - Python Fast API  
    - 2022 07 ~ 2022 12 (${vl(new Date("2022-07"),new Date("2022-12"))})
  -     
    -  : 
    - Jupyter Hub AI   , Nifi  ETL
    - 2023 01 ~ 2023 08 (${vl(new Date("2023-01"),new Date("2023-08"))})
  -  ITC   
    -  : ITC
    - TypeScript React   
    - 2023 03 ~ 2023 06 (${vl(new Date("2023-03"),new Date("2023-06"))})
  -  
    -  : , ITC
    - Java, JavaScript JSP   
    - 2023 06 ~ 2023 12 (${vl(new Date("2023-06"),new Date("2023-12"))})
  -   Aimos  
    -  : , LG CNS, KG ITC
    - TypeScript React   
    - 2023 06 ~ 2024 04 (${vl(new Date("2023-06"),new Date("2024-04"))})
  -   Aimos     
    -  : , LG CNS, Aimos
    - 2024 07 ~ (${vl(new Date("2024-07"),new Date)})
`,cN=({imgUrl:t})=>{const[e,n]=I.useState(0),[r,i]=I.useState(0),[o,s]=I.useState(.8),[l,a]=I.useState(100),u=I.useCallback(h=>{const f=h.nativeEvent.offsetX,d=h.nativeEvent.offsetY,p=-1/5*f+20,m=4/30*d-20;n(m),i(p),a(f/5+d/5),s(f/200)},[]),c=I.useCallback(()=>{s(0),n(0),i(0)},[]);return P.jsxs(Ive,{$rotateX:e,$rotateY:r,onMouseMove:u,onMouseOut:c,children:[P.jsx(Rve,{$opacity:o,$backgroundPosition:l}),P.jsx(Nve,{$imgUrl:t})]})},zve=()=>P.jsx(Ove,{children:P.jsxs(Pve,{children:[P.jsx(_m,{$bgColor:"var(--main-hover-color)",children:P.jsxs("div",{style:{display:"flex",flexDirection:"column",width:"100%",height:"100%"},children:[P.jsxs("div",{style:{flexGrow:"1",display:"flex",alignItems:"center",justifyContent:"center"},children:[P.jsx(cN,{imgUrl:"/images/kyun.jpg"}),P.jsx(cN,{imgUrl:"/images/forensic_badge.png"})]}),P.jsx("div",{style:{fontWeight:"700",fontFamily:"consolas",fontSize:"15px"},children:"Scroll Down"}),P.jsx("div",{style:{marginBottom:"100px"},children:P.jsx(Lve,{width:35,height:35})})]})}),P.jsxs(_m,{$bgColor:"var(--main-bg-color)",children:[P.jsx(E7,{initial:{opacity:0,y:"5vh"},whileInView:{opacity:1,y:"0"},transition:{duration:.5},viewport:{once:!1},children:P.jsx("img",{src:"/images/digital_forensics.jpg",alt:"test"})}),P.jsxs(O7,{initial:{opacity:0,y:"10vh"},whileInView:{opacity:1,y:"0"},transition:{duration:.5},viewport:{once:!1},children:["Digital",P.jsx("br",{})," Forensics"]})]}),P.jsxs(_m,{$bgColor:"var(--main-bg-color)",children:[P.jsx(E7,{initial:{opacity:0,y:"5vh"},whileInView:{opacity:1,y:"0"},transition:{duration:.5},viewport:{once:!1},children:P.jsx("img",{src:"/images/security.jpg",alt:"test"})}),P.jsx(O7,{initial:{opacity:0,y:"10vh"},whileInView:{opacity:1,y:"0"},transition:{duration:.5},viewport:{once:!1},children:"Security"})]}),P.jsxs(_m,{$bgColor:"var(--main-bg-color)",children:[P.jsx(E7,{initial:{opacity:0,y:"5vh"},whileInView:{opacity:1,y:"0"},transition:{duration:.5},viewport:{once:!1},children:P.jsx("img",{src:"/images/developer.jpg",alt:"test"})}),P.jsx(O7,{initial:{opacity:0,y:"10vh"},whileInView:{opacity:1,y:"0"},transition:{duration:.5},viewport:{once:!1},children:"Developer"})]}),P.jsx(_m,{$bgColor:"var(--main-bg-color_reverse)",children:P.jsx(Dve,{initial:{opacity:0,x:"10vw"},whileInView:{opacity:1,x:"0"},transition:{duration:.5},viewport:{once:!1},children:P.jsx(_ve,{children:P.jsx(UM,{defaultText:Bve})})})})]})});var kK=typeof global=="object"&&global&&global.Object===Object&&global,Fve=typeof self=="object"&&self&&self.Object===Object&&self,td=kK||Fve||Function("return this")(),dx=td.Symbol,SK=Object.prototype,$ve=SK.hasOwnProperty,Vve=SK.toString,Im=dx?dx.toStringTag:void 0;function Hve(t){var e=$ve.call(t,Im),n=t[Im];try{t[Im]=void 0;var r=!0}catch{}var i=Vve.call(t);return r&&(e?t[Im]=n:delete t[Im]),i}var jve=Object.prototype,Wve=jve.toString;function Uve(t){return Wve.call(t)}var qve="[object Null]",Kve="[object Undefined]",hN=dx?dx.toStringTag:void 0;function $v(t){return t==null?t===void 0?Kve:qve:hN&&hN in Object(t)?Hve(t):Uve(t)}function Xp(t){return t!=null&&typeof t=="object"}var Gve="[object Symbol]";function Yve(t){return typeof t=="symbol"||Xp(t)&&$v(t)==Gve}var JS=Array.isArray,Xve=/\s/;function Jve(t){for(var e=t.length;e--&&Xve.test(t.charAt(e)););return e}var Zve=/^\s+/;function Qve(t){return t&&t.slice(0,Jve(t)+1).replace(Zve,"")}function Fo(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var fN=NaN,e2e=/^[-+]0x[0-9a-f]+$/i,t2e=/^0b[01]+$/i,n2e=/^0o[0-7]+$/i,r2e=parseInt;function dN(t){if(typeof t=="number")return t;if(Yve(t))return fN;if(Fo(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Fo(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=Qve(t);var n=t2e.test(t);return n||n2e.test(t)?r2e(t.slice(2),n?2:8):e2e.test(t)?fN:+t}function CK(t){return t}var i2e="[object AsyncFunction]",o2e="[object Function]",s2e="[object GeneratorFunction]",l2e="[object Proxy]";function SA(t){if(!Fo(t))return!1;var e=$v(t);return e==o2e||e==s2e||e==i2e||e==l2e}var P7=td["__core-js_shared__"],pN=function(){var t=/[^.]+$/.exec(P7&&P7.keys&&P7.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function a2e(t){return!!pN&&pN in t}var u2e=Function.prototype,c2e=u2e.toString;function h2e(t){if(t!=null){try{return c2e.call(t)}catch{}try{return t+""}catch{}}return""}var f2e=/[\\^$.*+?()[\]{}|]/g,d2e=/^\[object .+?Constructor\]$/,p2e=Function.prototype,m2e=Object.prototype,g2e=p2e.toString,y2e=m2e.hasOwnProperty,v2e=RegExp("^"+g2e.call(y2e).replace(f2e,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function w2e(t){if(!Fo(t)||a2e(t))return!1;var e=SA(t)?v2e:d2e;return e.test(h2e(t))}function x2e(t,e){return t==null?void 0:t[e]}function CA(t,e){var n=x2e(t,e);return w2e(n)?n:void 0}var mN=Object.create,b2e=function(){function t(){}return function(e){if(!Fo(e))return{};if(mN)return mN(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();function TK(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function k2e(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}var S2e=800,C2e=16,T2e=Date.now;function M2e(t){var e=0,n=0;return function(){var r=T2e(),i=C2e-(r-n);if(n=r,i>0){if(++e>=S2e)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function A2e(t){return function(){return t}}var px=function(){try{var t=CA(Object,"defineProperty");return t({},"",{}),t}catch{}}(),E2e=px?function(t,e){return px(t,"toString",{configurable:!0,enumerable:!1,value:A2e(e),writable:!0})}:CK,O2e=M2e(E2e),P2e=9007199254740991,D2e=/^(?:0|[1-9]\d*)$/;function MK(t,e){var n=typeof t;return e=e??P2e,!!e&&(n=="number"||n!="symbol"&&D2e.test(t))&&t>-1&&t%1==0&&t<e}function TA(t,e,n){e=="__proto__"&&px?px(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function Jb(t,e){return t===e||t!==t&&e!==e}var _2e=Object.prototype,I2e=_2e.hasOwnProperty;function R2e(t,e,n){var r=t[e];(!(I2e.call(t,e)&&Jb(r,n))||n===void 0&&!(e in t))&&TA(t,e,n)}function N2e(t,e,n,r){var i=!n;n||(n={});for(var o=-1,s=e.length;++o<s;){var l=e[o],a=void 0;a===void 0&&(a=t[l]),i?TA(n,l,a):R2e(n,l,a)}return n}var gN=Math.max;function L2e(t,e,n){return e=gN(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=gN(r.length-e,0),s=Array(o);++i<o;)s[i]=r[e+i];i=-1;for(var l=Array(e+1);++i<e;)l[i]=r[i];return l[e]=n(s),TK(t,this,l)}}function AK(t,e){return O2e(L2e(t,e,CK),t+"")}var B2e=9007199254740991;function EK(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=B2e}function MA(t){return t!=null&&EK(t.length)&&!SA(t)}function z2e(t,e,n){if(!Fo(n))return!1;var r=typeof e;return(r=="number"?MA(n)&&MK(e,n.length):r=="string"&&e in n)?Jb(n[e],t):!1}function F2e(t){return AK(function(e,n){var r=-1,i=n.length,o=i>1?n[i-1]:void 0,s=i>2?n[2]:void 0;for(o=t.length>3&&typeof o=="function"?(i--,o):void 0,s&&z2e(n[0],n[1],s)&&(o=i<3?void 0:o,i=1),e=Object(e);++r<i;){var l=n[r];l&&t(e,l,r,o)}return e})}var $2e=Object.prototype;function OK(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||$2e;return t===n}function V2e(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var H2e="[object Arguments]";function yN(t){return Xp(t)&&$v(t)==H2e}var PK=Object.prototype,j2e=PK.hasOwnProperty,W2e=PK.propertyIsEnumerable,ZS=yN(function(){return arguments}())?yN:function(t){return Xp(t)&&j2e.call(t,"callee")&&!W2e.call(t,"callee")};function U2e(){return!1}var DK=typeof exports=="object"&&exports&&!exports.nodeType&&exports,vN=DK&&typeof module=="object"&&module&&!module.nodeType&&module,q2e=vN&&vN.exports===DK,wN=q2e?td.Buffer:void 0,K2e=wN?wN.isBuffer:void 0,_K=K2e||U2e,G2e="[object Arguments]",Y2e="[object Array]",X2e="[object Boolean]",J2e="[object Date]",Z2e="[object Error]",Q2e="[object Function]",e4e="[object Map]",t4e="[object Number]",n4e="[object Object]",r4e="[object RegExp]",i4e="[object Set]",o4e="[object String]",s4e="[object WeakMap]",l4e="[object ArrayBuffer]",a4e="[object DataView]",u4e="[object Float32Array]",c4e="[object Float64Array]",h4e="[object Int8Array]",f4e="[object Int16Array]",d4e="[object Int32Array]",p4e="[object Uint8Array]",m4e="[object Uint8ClampedArray]",g4e="[object Uint16Array]",y4e="[object Uint32Array]",On={};On[u4e]=On[c4e]=On[h4e]=On[f4e]=On[d4e]=On[p4e]=On[m4e]=On[g4e]=On[y4e]=!0;On[G2e]=On[Y2e]=On[l4e]=On[X2e]=On[a4e]=On[J2e]=On[Z2e]=On[Q2e]=On[e4e]=On[t4e]=On[n4e]=On[r4e]=On[i4e]=On[o4e]=On[s4e]=!1;function v4e(t){return Xp(t)&&EK(t.length)&&!!On[$v(t)]}function w4e(t){return function(e){return t(e)}}var IK=typeof exports=="object"&&exports&&!exports.nodeType&&exports,s1=IK&&typeof module=="object"&&module&&!module.nodeType&&module,x4e=s1&&s1.exports===IK,D7=x4e&&kK.process,xN=function(){try{var t=s1&&s1.require&&s1.require("util").types;return t||D7&&D7.binding&&D7.binding("util")}catch{}}(),bN=xN&&xN.isTypedArray,RK=bN?w4e(bN):v4e;function b4e(t,e){var n=JS(t),r=!n&&ZS(t),i=!n&&!r&&_K(t),o=!n&&!r&&!i&&RK(t),s=n||r||i||o,l=s?V2e(t.length,String):[],a=l.length;for(var u in t)s&&(u=="length"||i&&(u=="offset"||u=="parent")||o&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||MK(u,a))||l.push(u);return l}function k4e(t,e){return function(n){return t(e(n))}}function S4e(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var C4e=Object.prototype,T4e=C4e.hasOwnProperty;function M4e(t){if(!Fo(t))return S4e(t);var e=OK(t),n=[];for(var r in t)r=="constructor"&&(e||!T4e.call(t,r))||n.push(r);return n}function NK(t){return MA(t)?b4e(t):M4e(t)}var cy=CA(Object,"create");function A4e(){this.__data__=cy?cy(null):{},this.size=0}function E4e(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var O4e="__lodash_hash_undefined__",P4e=Object.prototype,D4e=P4e.hasOwnProperty;function _4e(t){var e=this.__data__;if(cy){var n=e[t];return n===O4e?void 0:n}return D4e.call(e,t)?e[t]:void 0}var I4e=Object.prototype,R4e=I4e.hasOwnProperty;function N4e(t){var e=this.__data__;return cy?e[t]!==void 0:R4e.call(e,t)}var L4e="__lodash_hash_undefined__";function B4e(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=cy&&e===void 0?L4e:e,this}function Nf(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Nf.prototype.clear=A4e;Nf.prototype.delete=E4e;Nf.prototype.get=_4e;Nf.prototype.has=N4e;Nf.prototype.set=B4e;function z4e(){this.__data__=[],this.size=0}function Zb(t,e){for(var n=t.length;n--;)if(Jb(t[n][0],e))return n;return-1}var F4e=Array.prototype,$4e=F4e.splice;function V4e(t){var e=this.__data__,n=Zb(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():$4e.call(e,n,1),--this.size,!0}function H4e(t){var e=this.__data__,n=Zb(e,t);return n<0?void 0:e[n][1]}function j4e(t){return Zb(this.__data__,t)>-1}function W4e(t,e){var n=this.__data__,r=Zb(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}function bu(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}bu.prototype.clear=z4e;bu.prototype.delete=V4e;bu.prototype.get=H4e;bu.prototype.has=j4e;bu.prototype.set=W4e;var LK=CA(td,"Map");function U4e(){this.size=0,this.__data__={hash:new Nf,map:new(LK||bu),string:new Nf}}function q4e(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function Qb(t,e){var n=t.__data__;return q4e(e)?n[typeof e=="string"?"string":"hash"]:n.map}function K4e(t){var e=Qb(this,t).delete(t);return this.size-=e?1:0,e}function G4e(t){return Qb(this,t).get(t)}function Y4e(t){return Qb(this,t).has(t)}function X4e(t,e){var n=Qb(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}function Jp(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Jp.prototype.clear=U4e;Jp.prototype.delete=K4e;Jp.prototype.get=G4e;Jp.prototype.has=Y4e;Jp.prototype.set=X4e;var BK=k4e(Object.getPrototypeOf,Object),J4e="[object Object]",Z4e=Function.prototype,Q4e=Object.prototype,zK=Z4e.toString,ewe=Q4e.hasOwnProperty,twe=zK.call(Object);function nwe(t){if(!Xp(t)||$v(t)!=J4e)return!1;var e=BK(t);if(e===null)return!0;var n=ewe.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&zK.call(n)==twe}function rwe(){this.__data__=new bu,this.size=0}function iwe(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function owe(t){return this.__data__.get(t)}function swe(t){return this.__data__.has(t)}var lwe=200;function awe(t,e){var n=this.__data__;if(n instanceof bu){var r=n.__data__;if(!LK||r.length<lwe-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Jp(r)}return n.set(t,e),this.size=n.size,this}function Zp(t){var e=this.__data__=new bu(t);this.size=e.size}Zp.prototype.clear=rwe;Zp.prototype.delete=iwe;Zp.prototype.get=owe;Zp.prototype.has=swe;Zp.prototype.set=awe;var FK=typeof exports=="object"&&exports&&!exports.nodeType&&exports,kN=FK&&typeof module=="object"&&module&&!module.nodeType&&module,uwe=kN&&kN.exports===FK,SN=uwe?td.Buffer:void 0;SN&&SN.allocUnsafe;function cwe(t,e){return t.slice()}var CN=td.Uint8Array;function hwe(t){var e=new t.constructor(t.byteLength);return new CN(e).set(new CN(t)),e}function fwe(t,e){var n=hwe(t.buffer);return new t.constructor(n,t.byteOffset,t.length)}function dwe(t){return typeof t.constructor=="function"&&!OK(t)?b2e(BK(t)):{}}function pwe(t){return function(e,n,r){for(var i=-1,o=Object(e),s=r(e),l=s.length;l--;){var a=s[++i];if(n(o[a],a,o)===!1)break}return e}}var mwe=pwe(),_7=function(){return td.Date.now()},gwe="Expected a function",ywe=Math.max,vwe=Math.min;function e3(t,e,n){var r,i,o,s,l,a,u=0,c=!1,h=!1,f=!0;if(typeof t!="function")throw new TypeError(gwe);e=dN(e)||0,Fo(n)&&(c=!!n.leading,h="maxWait"in n,o=h?ywe(dN(n.maxWait)||0,e):o,f="trailing"in n?!!n.trailing:f);function d(k){var T=r,A=i;return r=i=void 0,u=k,s=t.apply(A,T),s}function p(k){return u=k,l=setTimeout(g,e),c?d(k):s}function m(k){var T=k-a,A=k-u,z=e-T;return h?vwe(z,o-A):z}function y(k){var T=k-a,A=k-u;return a===void 0||T>=e||T<0||h&&A>=o}function g(){var k=_7();if(y(k))return v(k);l=setTimeout(g,m(k))}function v(k){return l=void 0,f&&r?d(k):(r=i=void 0,s)}function w(){l!==void 0&&clearTimeout(l),u=0,r=a=i=l=void 0}function b(){return l===void 0?s:v(_7())}function S(){var k=_7(),T=y(k);if(r=arguments,i=this,a=k,T){if(l===void 0)return p(a);if(h)return clearTimeout(l),l=setTimeout(g,e),d(a)}return l===void 0&&(l=setTimeout(g,e)),s}return S.cancel=w,S.flush=b,S}function QS(t,e,n){(n!==void 0&&!Jb(t[e],n)||n===void 0&&!(e in t))&&TA(t,e,n)}function wwe(t){return Xp(t)&&MA(t)}function e9(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}function xwe(t){return N2e(t,NK(t))}function bwe(t,e,n,r,i,o,s){var l=e9(t,n),a=e9(e,n),u=s.get(a);if(u){QS(t,n,u);return}var c=o?o(l,a,n+"",t,e,s):void 0,h=c===void 0;if(h){var f=JS(a),d=!f&&_K(a),p=!f&&!d&&RK(a);c=a,f||d||p?JS(l)?c=l:wwe(l)?c=k2e(l):d?(h=!1,c=cwe(a)):p?(h=!1,c=fwe(a)):c=[]:nwe(a)||ZS(a)?(c=l,ZS(l)?c=xwe(l):(!Fo(l)||SA(l))&&(c=dwe(a))):h=!1}h&&(s.set(a,c),i(c,a,r,o,s),s.delete(a)),QS(t,n,c)}function AA(t,e,n,r,i){t!==e&&mwe(e,function(o,s){if(i||(i=new Zp),Fo(o))bwe(t,e,s,n,AA,r,i);else{var l=r?r(e9(t,s),o,s+"",t,e,i):void 0;l===void 0&&(l=o),QS(t,s,l)}},NK)}function $K(t,e,n,r,i,o){return Fo(t)&&Fo(e)&&(o.set(e,t),AA(t,e,void 0,$K,o),o.delete(e)),t}var kwe=F2e(function(t,e,n,r){AA(t,e,n,r)}),Swe=AK(function(t){return t.push(void 0,$K),TK(kwe,void 0,t)}),Cwe="Expected a function";function t3(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(Cwe);return Fo(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),e3(t,e,{leading:r,maxWait:e,trailing:i})}const Twe="modulepreload",Mwe=function(t){return"/"+t},TN={},ne=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),l=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));i=Promise.allSettled(n.map(a=>{if(a=Mwe(a),a in TN)return;TN[a]=!0;const u=a.endsWith(".css"),c=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${c}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":Twe,u||(h.as="script"),h.crossOrigin="",h.href=a,l&&h.setAttribute("nonce",l),document.head.appendChild(h),u)return new Promise((f,d)=>{h.addEventListener("load",f),h.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${a}`)))})}))}function o(s){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=s,window.dispatchEvent(l),!l.defaultPrevented)throw s}return i.then(s=>{for(const l of s||[])l.status==="rejected"&&o(l.reason);return e().catch(o)})},Awe=1024;let Ewe=0,cs=class{constructor(e,n){this.from=e,this.to=n}};class zt{constructor(e={}){this.id=Ewe++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=$o.match(e)),n=>{let r=e(n);return r===void 0?null:[this,r]}}}zt.closedBy=new zt({deserialize:t=>t.split(" ")});zt.openedBy=new zt({deserialize:t=>t.split(" ")});zt.group=new zt({deserialize:t=>t.split(" ")});zt.isolate=new zt({deserialize:t=>{if(t&&t!="rtl"&&t!="ltr"&&t!="auto")throw new RangeError("Invalid value for isolate: "+t);return t||"auto"}});zt.contextHash=new zt({perNode:!0});zt.lookAhead=new zt({perNode:!0});zt.mounted=new zt({perNode:!0});class hy{constructor(e,n,r){this.tree=e,this.overlay=n,this.parser=r}static get(e){return e&&e.props&&e.props[zt.mounted.id]}}const Owe=Object.create(null);let $o=class VK{constructor(e,n,r,i=0){this.name=e,this.props=n,this.id=r,this.flags=i}static define(e){let n=e.props&&e.props.length?Object.create(null):Owe,r=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),i=new VK(e.name||"",n,e.id,r);if(e.props){for(let o of e.props)if(Array.isArray(o)||(o=o(i)),o){if(o[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");n[o[0].id]=o[1]}}return i}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let n=this.prop(zt.group);return n?n.indexOf(e)>-1:!1}return this.id==e}static match(e){let n=Object.create(null);for(let r in e)for(let i of r.split(" "))n[i]=e[r];return r=>{for(let i=r.prop(zt.group),o=-1;o<(i?i.length:0);o++){let s=n[o<0?r.name:i[o]];if(s)return s}}}};$o.none=new $o("",Object.create(null),0,8);class EA{constructor(e){this.types=e;for(let n=0;n<e.length;n++)if(e[n].id!=n)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...e){let n=[];for(let r of this.types){let i=null;for(let o of e){let s=o(r);s&&(i||(i=Object.assign({},r.props)),i[s[0].id]=s[1])}n.push(i?new $o(r.name,i,r.id,r.flags):r)}return new EA(n)}}const K2=new WeakMap,MN=new WeakMap;var Un;(function(t){t[t.ExcludeBuffers=1]="ExcludeBuffers",t[t.IncludeAnonymous=2]="IncludeAnonymous",t[t.IgnoreMounts=4]="IgnoreMounts",t[t.IgnoreOverlays=8]="IgnoreOverlays"})(Un||(Un={}));class kn{constructor(e,n,r,i,o){if(this.type=e,this.children=n,this.positions=r,this.length=i,this.props=null,o&&o.length){this.props=Object.create(null);for(let[s,l]of o)this.props[typeof s=="number"?s:s.id]=l}}toString(){let e=hy.get(this);if(e&&!e.overlay)return e.tree.toString();let n="";for(let r of this.children){let i=r.toString();i&&(n&&(n+=","),n+=i)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(n.length?"("+n+")":""):n}cursor(e=0){return new mx(this.topNode,e)}cursorAt(e,n=0,r=0){let i=K2.get(this)||this.topNode,o=new mx(i);return o.moveTo(e,n),K2.set(this,o._tree),o}get topNode(){return new fi(this,0,0,null)}resolve(e,n=0){let r=fy(K2.get(this)||this.topNode,e,n,!1);return K2.set(this,r),r}resolveInner(e,n=0){let r=fy(MN.get(this)||this.topNode,e,n,!0);return MN.set(this,r),r}resolveStack(e,n=0){return _we(this,e,n)}iterate(e){let{enter:n,leave:r,from:i=0,to:o=this.length}=e,s=e.mode||0,l=(s&Un.IncludeAnonymous)>0;for(let a=this.cursor(s|Un.IncludeAnonymous);;){let u=!1;if(a.from<=o&&a.to>=i&&(!l&&a.type.isAnonymous||n(a)!==!1)){if(a.firstChild())continue;u=!0}for(;u&&r&&(l||!a.type.isAnonymous)&&r(a),!a.nextSibling();){if(!a.parent())return;u=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let n in this.props)e.push([+n,this.props[n]]);return e}balance(e={}){return this.children.length<=8?this:DA($o.none,this.children,this.positions,0,this.children.length,0,this.length,(n,r,i)=>new kn(this.type,n,r,i,this.propValues),e.makeTree||((n,r,i)=>new kn($o.none,n,r,i)))}static build(e){return Iwe(e)}}kn.empty=new kn($o.none,[],[],0);class OA{constructor(e,n){this.buffer=e,this.index=n}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new OA(this.buffer,this.index)}}class zc{constructor(e,n,r){this.buffer=e,this.length=n,this.set=r}get type(){return $o.none}toString(){let e=[];for(let n=0;n<this.buffer.length;)e.push(this.childString(n)),n=this.buffer[n+3];return e.join(",")}childString(e){let n=this.buffer[e],r=this.buffer[e+3],i=this.set.types[n],o=i.name;if(/\W/.test(o)&&!i.isError&&(o=JSON.stringify(o)),e+=4,r==e)return o;let s=[];for(;e<r;)s.push(this.childString(e)),e=this.buffer[e+3];return o+"("+s.join(",")+")"}findChild(e,n,r,i,o){let{buffer:s}=this,l=-1;for(let a=e;a!=n&&!(HK(o,i,s[a+1],s[a+2])&&(l=a,r>0));a=s[a+3]);return l}slice(e,n,r){let i=this.buffer,o=new Uint16Array(n-e),s=0;for(let l=e,a=0;l<n;){o[a++]=i[l++],o[a++]=i[l++]-r;let u=o[a++]=i[l++]-r;o[a++]=i[l++]-e,s=Math.max(s,u)}return new zc(o,s,this.set)}}function HK(t,e,n,r){switch(t){case-2:return n<e;case-1:return r>=e&&n<e;case 0:return n<e&&r>e;case 1:return n<=e&&r>e;case 2:return r>e;case 4:return!0}}function fy(t,e,n,r){for(var i;t.from==t.to||(n<1?t.from>=e:t.from>e)||(n>-1?t.to<=e:t.to<e);){let s=!r&&t instanceof fi&&t.index<0?null:t.parent;if(!s)return t;t=s}let o=r?0:Un.IgnoreOverlays;if(r)for(let s=t,l=s.parent;l;s=l,l=s.parent)s instanceof fi&&s.index<0&&((i=l.enter(e,n,o))===null||i===void 0?void 0:i.from)!=s.from&&(t=l);for(;;){let s=t.enter(e,n,o);if(!s)return t;t=s}}class jK{cursor(e=0){return new mx(this,e)}getChild(e,n=null,r=null){let i=AN(this,e,n,r);return i.length?i[0]:null}getChildren(e,n=null,r=null){return AN(this,e,n,r)}resolve(e,n=0){return fy(this,e,n,!1)}resolveInner(e,n=0){return fy(this,e,n,!0)}matchContext(e){return t9(this.parent,e)}enterUnfinishedNodesBefore(e){let n=this.childBefore(e),r=this;for(;n;){let i=n.lastChild;if(!i||i.to!=n.to)break;i.type.isError&&i.from==i.to?(r=n,n=i.prevSibling):n=i}return r}get node(){return this}get next(){return this.parent}}class fi extends jK{constructor(e,n,r,i){super(),this._tree=e,this.from=n,this.index=r,this._parent=i}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,n,r,i,o=0){for(let s=this;;){for(let{children:l,positions:a}=s._tree,u=n>0?l.length:-1;e!=u;e+=n){let c=l[e],h=a[e]+s.from;if(HK(i,r,h,h+c.length)){if(c instanceof zc){if(o&Un.ExcludeBuffers)continue;let f=c.findChild(0,c.buffer.length,n,r-h,i);if(f>-1)return new Bl(new Pwe(s,c,e,h),null,f)}else if(o&Un.IncludeAnonymous||!c.type.isAnonymous||PA(c)){let f;if(!(o&Un.IgnoreMounts)&&(f=hy.get(c))&&!f.overlay)return new fi(f.tree,h,e,s);let d=new fi(c,h,e,s);return o&Un.IncludeAnonymous||!d.type.isAnonymous?d:d.nextChild(n<0?c.children.length-1:0,n,r,i)}}}if(o&Un.IncludeAnonymous||!s.type.isAnonymous||(s.index>=0?e=s.index+n:e=n<0?-1:s._parent._tree.children.length,s=s._parent,!s))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,n,r=0){let i;if(!(r&Un.IgnoreOverlays)&&(i=hy.get(this._tree))&&i.overlay){let o=e-this.from;for(let{from:s,to:l}of i.overlay)if((n>0?s<=o:s<o)&&(n<0?l>=o:l>o))return new fi(i.tree,i.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,n,r)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function AN(t,e,n,r){let i=t.cursor(),o=[];if(!i.firstChild())return o;if(n!=null){for(let s=!1;!s;)if(s=i.type.is(n),!i.nextSibling())return o}for(;;){if(r!=null&&i.type.is(r))return o;if(i.type.is(e)&&o.push(i.node),!i.nextSibling())return r==null?o:[]}}function t9(t,e,n=e.length-1){for(let r=t;n>=0;r=r.parent){if(!r)return!1;if(!r.type.isAnonymous){if(e[n]&&e[n]!=r.name)return!1;n--}}return!0}class Pwe{constructor(e,n,r,i){this.parent=e,this.buffer=n,this.index=r,this.start=i}}class Bl extends jK{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,n,r){super(),this.context=e,this._parent=n,this.index=r,this.type=e.buffer.set.types[e.buffer.buffer[r]]}child(e,n,r){let{buffer:i}=this.context,o=i.findChild(this.index+4,i.buffer[this.index+3],e,n-this.context.start,r);return o<0?null:new Bl(this.context,this,o)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,n,r=0){if(r&Un.ExcludeBuffers)return null;let{buffer:i}=this.context,o=i.findChild(this.index+4,i.buffer[this.index+3],n>0?1:-1,e-this.context.start,n);return o<0?null:new Bl(this.context,this,o)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,n=e.buffer[this.index+3];return n<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new Bl(this.context,this._parent,n):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,n=this._parent?this._parent.index+4:0;return this.index==n?this.externalSibling(-1):new Bl(this.context,this._parent,e.findChild(n,this.index,-1,0,4))}get tree(){return null}toTree(){let e=[],n=[],{buffer:r}=this.context,i=this.index+4,o=r.buffer[this.index+3];if(o>i){let s=r.buffer[this.index+1];e.push(r.slice(i,o,s)),n.push(0)}return new kn(this.type,e,n,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function WK(t){if(!t.length)return null;let e=0,n=t[0];for(let o=1;o<t.length;o++){let s=t[o];(s.from>n.from||s.to<n.to)&&(n=s,e=o)}let r=n instanceof fi&&n.index<0?null:n.parent,i=t.slice();return r?i[e]=r:i.splice(e,1),new Dwe(i,n)}class Dwe{constructor(e,n){this.heads=e,this.node=n}get next(){return WK(this.heads)}}function _we(t,e,n){let r=t.resolveInner(e,n),i=null;for(let o=r instanceof fi?r:r.context.parent;o;o=o.parent)if(o.index<0){let s=o.parent;(i||(i=[r])).push(s.resolve(e,n)),o=s}else{let s=hy.get(o.tree);if(s&&s.overlay&&s.overlay[0].from<=e&&s.overlay[s.overlay.length-1].to>=e){let l=new fi(s.tree,s.overlay[0].from+o.from,-1,o);(i||(i=[r])).push(fy(l,e,n,!1))}}return i?WK(i):r}class mx{get name(){return this.type.name}constructor(e,n=0){if(this.mode=n,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof fi)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let r=e._parent;r;r=r._parent)this.stack.unshift(r.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,n){this.index=e;let{start:r,buffer:i}=this.buffer;return this.type=n||i.set.types[i.buffer[e]],this.from=r+i.buffer[e+1],this.to=r+i.buffer[e+2],!0}yield(e){return e?e instanceof fi?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,n,r){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,n,r,this.mode));let{buffer:i}=this.buffer,o=i.findChild(this.index+4,i.buffer[this.index+3],e,n-this.buffer.start,r);return o<0?!1:(this.stack.push(this.index),this.yieldBuf(o))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,n,r=this.mode){return this.buffer?r&Un.ExcludeBuffers?!1:this.enterChild(1,e,n):this.yield(this._tree.enter(e,n,r))}parent(){if(!this.buffer)return this.yieldNode(this.mode&Un.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&Un.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:n}=this.buffer,r=this.stack.length-1;if(e<0){let i=r<0?0:this.stack[r]+4;if(this.index!=i)return this.yieldBuf(n.findChild(i,this.index,-1,0,4))}else{let i=n.buffer[this.index+3];if(i<(r<0?n.buffer.length:n.buffer[this.stack[r]+3]))return this.yieldBuf(i)}return r<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let n,r,{buffer:i}=this;if(i){if(e>0){if(this.index<i.buffer.buffer.length)return!1}else for(let o=0;o<this.index;o++)if(i.buffer.buffer[o+3]<this.index)return!1;({index:n,parent:r}=i)}else({index:n,_parent:r}=this._tree);for(;r;{index:n,_parent:r}=r)if(n>-1)for(let o=n+e,s=e<0?-1:r._tree.children.length;o!=s;o+=e){let l=r._tree.children[o];if(this.mode&Un.IncludeAnonymous||l instanceof zc||!l.type.isAnonymous||PA(l))return!1}return!0}move(e,n){if(n&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,n=0){for(;(this.from==this.to||(n<1?this.from>=e:this.from>e)||(n>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,n););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,n=null,r=0;if(e&&e.context==this.buffer)e:for(let i=this.index,o=this.stack.length;o>=0;){for(let s=e;s;s=s._parent)if(s.index==i){if(i==this.index)return s;n=s,r=o+1;break e}i=this.stack[--o]}for(let i=r;i<this.stack.length;i++)n=new Bl(this.buffer,n,this.stack[i]);return this.bufferNode=new Bl(this.buffer,n,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,n){for(let r=0;;){let i=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){r++;continue}this.type.isAnonymous||(i=!0)}for(;;){if(i&&n&&n(this),i=this.type.isAnonymous,!r)return;if(this.nextSibling())break;this.parent(),r--,i=!0}}}matchContext(e){if(!this.buffer)return t9(this.node.parent,e);let{buffer:n}=this.buffer,{types:r}=n.set;for(let i=e.length-1,o=this.stack.length-1;i>=0;o--){if(o<0)return t9(this._tree,e,i);let s=r[n.buffer[this.stack[o]]];if(!s.isAnonymous){if(e[i]&&e[i]!=s.name)return!1;i--}}return!0}}function PA(t){return t.children.some(e=>e instanceof zc||!e.type.isAnonymous||PA(e))}function Iwe(t){var e;let{buffer:n,nodeSet:r,maxBufferLength:i=Awe,reused:o=[],minRepeatType:s=r.types.length}=t,l=Array.isArray(n)?new OA(n,n.length):n,a=r.types,u=0,c=0;function h(S,k,T,A,z,E){let{id:B,start:$,end:ae,size:G}=l,q=c,K=u;for(;G<0;)if(l.next(),G==-1){let re=o[B];T.push(re),A.push($-S);return}else if(G==-3){u=B;return}else if(G==-4){c=B;return}else throw new RangeError(`Unrecognized record size: ${G}`);let Y=a[B],L,X,O=$-S;if(ae-$<=i&&(X=y(l.pos-k,z))){let re=new Uint16Array(X.size-X.skip),ce=l.pos-X.size,_=re.length;for(;l.pos>ce;)_=g(X.start,re,_);L=new zc(re,ae-X.start,r),O=X.start-S}else{let re=l.pos-G;l.next();let ce=[],_=[],Le=B>=s?B:-1,Ie=0,qe=ae;for(;l.pos>re;)Le>=0&&l.id==Le&&l.size>=0?(l.end<=qe-i&&(p(ce,_,$,Ie,l.end,qe,Le,q,K),Ie=ce.length,qe=l.end),l.next()):E>2500?f($,re,ce,_):h($,re,ce,_,Le,E+1);if(Le>=0&&Ie>0&&Ie<ce.length&&p(ce,_,$,Ie,$,qe,Le,q,K),ce.reverse(),_.reverse(),Le>-1&&Ie>0){let ct=d(Y,K);L=DA(Y,ce,_,0,ce.length,0,ae-$,ct,ct)}else L=m(Y,ce,_,ae-$,q-ae,K)}T.push(L),A.push(O)}function f(S,k,T,A){let z=[],E=0,B=-1;for(;l.pos>k;){let{id:$,start:ae,end:G,size:q}=l;if(q>4)l.next();else{if(B>-1&&ae<B)break;B<0&&(B=G-i),z.push($,ae,G),E++,l.next()}}if(E){let $=new Uint16Array(E*4),ae=z[z.length-2];for(let G=z.length-3,q=0;G>=0;G-=3)$[q++]=z[G],$[q++]=z[G+1]-ae,$[q++]=z[G+2]-ae,$[q++]=q;T.push(new zc($,z[2]-ae,r)),A.push(ae-S)}}function d(S,k){return(T,A,z)=>{let E=0,B=T.length-1,$,ae;if(B>=0&&($=T[B])instanceof kn){if(!B&&$.type==S&&$.length==z)return $;(ae=$.prop(zt.lookAhead))&&(E=A[B]+$.length+ae)}return m(S,T,A,z,E,k)}}function p(S,k,T,A,z,E,B,$,ae){let G=[],q=[];for(;S.length>A;)G.push(S.pop()),q.push(k.pop()+T-z);S.push(m(r.types[B],G,q,E-z,$-E,ae)),k.push(z-T)}function m(S,k,T,A,z,E,B){if(E){let $=[zt.contextHash,E];B=B?[$].concat(B):[$]}if(z>25){let $=[zt.lookAhead,z];B=B?[$].concat(B):[$]}return new kn(S,k,T,A,B)}function y(S,k){let T=l.fork(),A=0,z=0,E=0,B=T.end-i,$={size:0,start:0,skip:0};e:for(let ae=T.pos-S;T.pos>ae;){let G=T.size;if(T.id==k&&G>=0){$.size=A,$.start=z,$.skip=E,E+=4,A+=4,T.next();continue}let q=T.pos-G;if(G<0||q<ae||T.start<B)break;let K=T.id>=s?4:0,Y=T.start;for(T.next();T.pos>q;){if(T.size<0)if(T.size==-3)K+=4;else break e;else T.id>=s&&(K+=4);T.next()}z=Y,A+=G,E+=K}return(k<0||A==S)&&($.size=A,$.start=z,$.skip=E),$.size>4?$:void 0}function g(S,k,T){let{id:A,start:z,end:E,size:B}=l;if(l.next(),B>=0&&A<s){let $=T;if(B>4){let ae=l.pos-(B-4);for(;l.pos>ae;)T=g(S,k,T)}k[--T]=$,k[--T]=E-S,k[--T]=z-S,k[--T]=A}else B==-3?u=A:B==-4&&(c=A);return T}let v=[],w=[];for(;l.pos>0;)h(t.start||0,t.bufferStart||0,v,w,-1,0);let b=(e=t.length)!==null&&e!==void 0?e:v.length?w[0]+v[0].length:0;return new kn(a[t.topID],v.reverse(),w.reverse(),b)}const EN=new WeakMap;function mw(t,e){if(!t.isAnonymous||e instanceof zc||e.type!=t)return 1;let n=EN.get(e);if(n==null){n=1;for(let r of e.children){if(r.type!=t||!(r instanceof kn)){n=1;break}n+=mw(t,r)}EN.set(e,n)}return n}function DA(t,e,n,r,i,o,s,l,a){let u=0;for(let p=r;p<i;p++)u+=mw(t,e[p]);let c=Math.ceil(u*1.5/8),h=[],f=[];function d(p,m,y,g,v){for(let w=y;w<g;){let b=w,S=m[w],k=mw(t,p[w]);for(w++;w<g;w++){let T=mw(t,p[w]);if(k+T>=c)break;k+=T}if(w==b+1){if(k>c){let T=p[b];d(T.children,T.positions,0,T.children.length,m[b]+v);continue}h.push(p[b])}else{let T=m[w-1]+p[w-1].length-S;h.push(DA(t,p,m,b,w,S,T,null,a))}f.push(S+v-o)}}return d(e,n,r,i,0),(l||a)(h,f,s)}class AFe{constructor(){this.map=new WeakMap}setBuffer(e,n,r){let i=this.map.get(e);i||this.map.set(e,i=new Map),i.set(n,r)}getBuffer(e,n){let r=this.map.get(e);return r&&r.get(n)}set(e,n){e instanceof Bl?this.setBuffer(e.context.buffer,e.index,n):e instanceof fi&&this.map.set(e.tree,n)}get(e){return e instanceof Bl?this.getBuffer(e.context.buffer,e.index):e instanceof fi?this.map.get(e.tree):void 0}cursorSet(e,n){e.buffer?this.setBuffer(e.buffer.buffer,e.index,n):this.map.set(e.tree,n)}cursorGet(e){return e.buffer?this.getBuffer(e.buffer.buffer,e.index):this.map.get(e.tree)}}class eu{constructor(e,n,r,i,o=!1,s=!1){this.from=e,this.to=n,this.tree=r,this.offset=i,this.open=(o?1:0)|(s?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(e,n=[],r=!1){let i=[new eu(0,e.length,e,0,!1,r)];for(let o of n)o.to>e.length&&i.push(o);return i}static applyChanges(e,n,r=128){if(!n.length)return e;let i=[],o=1,s=e.length?e[0]:null;for(let l=0,a=0,u=0;;l++){let c=l<n.length?n[l]:null,h=c?c.fromA:1e9;if(h-a>=r)for(;s&&s.from<h;){let f=s;if(a>=f.from||h<=f.to||u){let d=Math.max(f.from,a)-u,p=Math.min(f.to,h)-u;f=d>=p?null:new eu(d,p,f.tree,f.offset+u,l>0,!!c)}if(f&&i.push(f),s.to>h)break;s=o<e.length?e[o++]:null}if(!c)break;a=c.toA,u=c.toA-c.toB}return i}}let UK=class{startParse(e,n,r){return typeof e=="string"&&(e=new Rwe(e)),r=r?r.length?r.map(i=>new cs(i.from,i.to)):[new cs(0,0)]:[new cs(0,e.length)],this.createParse(e,n||[],r)}parse(e,n,r){let i=this.startParse(e,n,r);for(;;){let o=i.advance();if(o)return o}}};class Rwe{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,n){return this.string.slice(e,n)}}function OFe(t){return(e,n,r,i)=>new Lwe(e,t,n,r,i)}class ON{constructor(e,n,r,i,o){this.parser=e,this.parse=n,this.overlay=r,this.target=i,this.from=o}}function PN(t){if(!t.length||t.some(e=>e.from>=e.to))throw new RangeError("Invalid inner parse ranges given: "+JSON.stringify(t))}class Nwe{constructor(e,n,r,i,o,s,l){this.parser=e,this.predicate=n,this.mounts=r,this.index=i,this.start=o,this.target=s,this.prev=l,this.depth=0,this.ranges=[]}}const n9=new zt({perNode:!0});class Lwe{constructor(e,n,r,i,o){this.nest=n,this.input=r,this.fragments=i,this.ranges=o,this.inner=[],this.innerDone=0,this.baseTree=null,this.stoppedAt=null,this.baseParse=e}advance(){if(this.baseParse){let r=this.baseParse.advance();if(!r)return null;if(this.baseParse=null,this.baseTree=r,this.startInner(),this.stoppedAt!=null)for(let i of this.inner)i.parse.stopAt(this.stoppedAt)}if(this.innerDone==this.inner.length){let r=this.baseTree;return this.stoppedAt!=null&&(r=new kn(r.type,r.children,r.positions,r.length,r.propValues.concat([[n9,this.stoppedAt]]))),r}let e=this.inner[this.innerDone],n=e.parse.advance();if(n){this.innerDone++;let r=Object.assign(Object.create(null),e.target.props);r[zt.mounted.id]=new hy(n,e.overlay,e.parser),e.target.props=r}return null}get parsedPos(){if(this.baseParse)return 0;let e=this.input.length;for(let n=this.innerDone;n<this.inner.length;n++)this.inner[n].from<e&&(e=Math.min(e,this.inner[n].parse.parsedPos));return e}stopAt(e){if(this.stoppedAt=e,this.baseParse)this.baseParse.stopAt(e);else for(let n=this.innerDone;n<this.inner.length;n++)this.inner[n].parse.stopAt(e)}startInner(){let e=new Fwe(this.fragments),n=null,r=null,i=new mx(new fi(this.baseTree,this.ranges[0].from,0,null),Un.IncludeAnonymous|Un.IgnoreMounts);e:for(let o,s;;){let l=!0,a;if(this.stoppedAt!=null&&i.from>=this.stoppedAt)l=!1;else if(e.hasNode(i)){if(n){let u=n.mounts.find(c=>c.frag.from<=i.from&&c.frag.to>=i.to&&c.mount.overlay);if(u)for(let c of u.mount.overlay){let h=c.from+u.pos,f=c.to+u.pos;h>=i.from&&f<=i.to&&!n.ranges.some(d=>d.from<f&&d.to>h)&&n.ranges.push({from:h,to:f})}}l=!1}else if(r&&(s=Bwe(r.ranges,i.from,i.to)))l=s!=2;else if(!i.type.isAnonymous&&(o=this.nest(i,this.input))&&(i.from<i.to||!o.overlay)){i.tree||zwe(i);let u=e.findMounts(i.from,o.parser);if(typeof o.overlay=="function")n=new Nwe(o.parser,o.overlay,u,this.inner.length,i.from,i.tree,n);else{let c=IN(this.ranges,o.overlay||(i.from<i.to?[new cs(i.from,i.to)]:[]));c.length&&PN(c),(c.length||!o.overlay)&&this.inner.push(new ON(o.parser,c.length?o.parser.startParse(this.input,RN(u,c),c):o.parser.startParse(""),o.overlay?o.overlay.map(h=>new cs(h.from-i.from,h.to-i.from)):null,i.tree,c.length?c[0].from:i.from)),o.overlay?c.length&&(r={ranges:c,depth:0,prev:r}):l=!1}}else if(n&&(a=n.predicate(i))&&(a===!0&&(a=new cs(i.from,i.to)),a.from<a.to)){let u=n.ranges.length-1;u>=0&&n.ranges[u].to==a.from?n.ranges[u]={from:n.ranges[u].from,to:a.to}:n.ranges.push(a)}if(l&&i.firstChild())n&&n.depth++,r&&r.depth++;else for(;!i.nextSibling();){if(!i.parent())break e;if(n&&!--n.depth){let u=IN(this.ranges,n.ranges);u.length&&(PN(u),this.inner.splice(n.index,0,new ON(n.parser,n.parser.startParse(this.input,RN(n.mounts,u),u),n.ranges.map(c=>new cs(c.from-n.start,c.to-n.start)),n.target,u[0].from))),n=n.prev}r&&!--r.depth&&(r=r.prev)}}}}function Bwe(t,e,n){for(let r of t){if(r.from>=n)break;if(r.to>e)return r.from<=e&&r.to>=n?2:1}return 0}function DN(t,e,n,r,i,o){if(e<n){let s=t.buffer[e+1];r.push(t.slice(e,n,s)),i.push(s-o)}}function zwe(t){let{node:e}=t,n=[],r=e.context.buffer;do n.push(t.index),t.parent();while(!t.tree);let i=t.tree,o=i.children.indexOf(r),s=i.children[o],l=s.buffer,a=[o];function u(c,h,f,d,p,m){let y=n[m],g=[],v=[];DN(s,c,y,g,v,d);let w=l[y+1],b=l[y+2];a.push(g.length);let S=m?u(y+4,l[y+3],s.set.types[l[y]],w,b-w,m-1):e.toTree();return g.push(S),v.push(w-d),DN(s,l[y+3],h,g,v,d),new kn(f,g,v,p)}i.children[o]=u(0,l.length,$o.none,0,s.length,n.length-1);for(let c of a){let h=t.tree.children[c],f=t.tree.positions[c];t.yield(new fi(h,f+t.from,c,t._tree))}}class _N{constructor(e,n){this.offset=n,this.done=!1,this.cursor=e.cursor(Un.IncludeAnonymous|Un.IgnoreMounts)}moveTo(e){let{cursor:n}=this,r=e-this.offset;for(;!this.done&&n.from<r;)n.to>=e&&n.enter(r,1,Un.IgnoreOverlays|Un.ExcludeBuffers)||n.next(!1)||(this.done=!0)}hasNode(e){if(this.moveTo(e.from),!this.done&&this.cursor.from+this.offset==e.from&&this.cursor.tree)for(let n=this.cursor.tree;;){if(n==e.tree)return!0;if(n.children.length&&n.positions[0]==0&&n.children[0]instanceof kn)n=n.children[0];else break}return!1}}class Fwe{constructor(e){var n;if(this.fragments=e,this.curTo=0,this.fragI=0,e.length){let r=this.curFrag=e[0];this.curTo=(n=r.tree.prop(n9))!==null&&n!==void 0?n:r.to,this.inner=new _N(r.tree,-r.offset)}else this.curFrag=this.inner=null}hasNode(e){for(;this.curFrag&&e.from>=this.curTo;)this.nextFrag();return this.curFrag&&this.curFrag.from<=e.from&&this.curTo>=e.to&&this.inner.hasNode(e)}nextFrag(){var e;if(this.fragI++,this.fragI==this.fragments.length)this.curFrag=this.inner=null;else{let n=this.curFrag=this.fragments[this.fragI];this.curTo=(e=n.tree.prop(n9))!==null&&e!==void 0?e:n.to,this.inner=new _N(n.tree,-n.offset)}}findMounts(e,n){var r;let i=[];if(this.inner){this.inner.cursor.moveTo(e,1);for(let o=this.inner.cursor.node;o;o=o.parent){let s=(r=o.tree)===null||r===void 0?void 0:r.prop(zt.mounted);if(s&&s.parser==n)for(let l=this.fragI;l<this.fragments.length;l++){let a=this.fragments[l];if(a.from>=o.to)break;a.tree==this.curFrag.tree&&i.push({frag:a,pos:o.from-a.offset,mount:s})}}}return i}}function IN(t,e){let n=null,r=e;for(let i=1,o=0;i<t.length;i++){let s=t[i-1].to,l=t[i].from;for(;o<r.length;o++){let a=r[o];if(a.from>=l)break;a.to<=s||(n||(r=n=e.slice()),a.from<s?(n[o]=new cs(a.from,s),a.to>l&&n.splice(o+1,0,new cs(l,a.to))):a.to>l?n[o--]=new cs(l,a.to):n.splice(o--,1))}}return r}function $we(t,e,n,r){let i=0,o=0,s=!1,l=!1,a=-1e9,u=[];for(;;){let c=i==t.length?1e9:s?t[i].to:t[i].from,h=o==e.length?1e9:l?e[o].to:e[o].from;if(s!=l){let f=Math.max(a,n),d=Math.min(c,h,r);f<d&&u.push(new cs(f,d))}if(a=Math.min(c,h),a==1e9)break;c==a&&(s?(s=!1,i++):s=!0),h==a&&(l?(l=!1,o++):l=!0)}return u}function RN(t,e){let n=[];for(let{pos:r,mount:i,frag:o}of t){let s=r+(i.overlay?i.overlay[0].from:0),l=s+i.tree.length,a=Math.max(o.from,s),u=Math.min(o.to,l);if(i.overlay){let c=i.overlay.map(f=>new cs(f.from+r,f.to+r)),h=$we(e,c,a,u);for(let f=0,d=a;;f++){let p=f==h.length,m=p?u:h[f].from;if(m>d&&n.push(new eu(d,m,i.tree,-s,o.from>=d||o.openStart,o.to<=m||o.openEnd)),p)break;d=h[f].to}}else n.push(new eu(a,u,i.tree,-s,o.from>=s||o.openStart,o.to<=l||o.openEnd))}return n}let r9=[],qK=[];(()=>{let t="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(e=>e?parseInt(e,36):1);for(let e=0,n=0;e<t.length;e++)(e%2?qK:r9).push(n=n+t[e])})();function Vwe(t){if(t<768)return!1;for(let e=0,n=r9.length;;){let r=e+n>>1;if(t<r9[r])n=r;else if(t>=qK[r])e=r+1;else return!0;if(e==n)return!1}}function NN(t){return t>=127462&&t<=127487}const LN=8205;function Hwe(t,e,n=!0,r=!0){return(n?KK:jwe)(t,e,r)}function KK(t,e,n){if(e==t.length)return e;e&&GK(t.charCodeAt(e))&&YK(t.charCodeAt(e-1))&&e--;let r=I7(t,e);for(e+=BN(r);e<t.length;){let i=I7(t,e);if(r==LN||i==LN||n&&Vwe(i))e+=BN(i),r=i;else if(NN(i)){let o=0,s=e-2;for(;s>=0&&NN(I7(t,s));)o++,s-=2;if(o%2==0)break;e+=2}else break}return e}function jwe(t,e,n){for(;e>0;){let r=KK(t,e-2,n);if(r<e)return r;e--}return 0}function I7(t,e){let n=t.charCodeAt(e);if(!YK(n)||e+1==t.length)return n;let r=t.charCodeAt(e+1);return GK(r)?(n-55296<<10)+(r-56320)+65536:n}function GK(t){return t>=56320&&t<57344}function YK(t){return t>=55296&&t<56320}function BN(t){return t<65536?1:2}let Yt=class XK{lineAt(e){if(e<0||e>this.length)throw new RangeError(`Invalid position ${e} in document of length ${this.length}`);return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw new RangeError(`Invalid line number ${e} in ${this.lines}-line document`);return this.lineInner(e,!0,1,0)}replace(e,n,r){[e,n]=bp(this,e,n);let i=[];return this.decompose(0,e,i,2),r.length&&r.decompose(0,r.length,i,3),this.decompose(n,this.length,i,1),gw.from(i,this.length-(n-e)+r.length)}append(e){return this.replace(this.length,this.length,e)}slice(e,n=this.length){[e,n]=bp(this,e,n);let r=[];return this.decompose(e,n,r,0),gw.from(r,n-e)}eq(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;let n=this.scanIdentical(e,1),r=this.length-this.scanIdentical(e,-1),i=new l1(this),o=new l1(e);for(let s=n,l=n;;){if(i.next(s),o.next(s),s=0,i.lineBreak!=o.lineBreak||i.done!=o.done||i.value!=o.value)return!1;if(l+=i.value.length,i.done||l>=r)return!0}}iter(e=1){return new l1(this,e)}iterRange(e,n=this.length){return new JK(this,e,n)}iterLines(e,n){let r;if(e==null)r=this.iter();else{n==null&&(n=this.lines+1);let i=this.line(e).from;r=this.iterRange(i,Math.max(i,n==this.lines+1?this.length:n<=1?0:this.line(n-1).to))}return new ZK(r)}toString(){return this.sliceString(0)}toJSON(){let e=[];return this.flatten(e),e}constructor(){}static of(e){if(e.length==0)throw new RangeError("A document must have at least one line");return e.length==1&&!e[0]?XK.empty:e.length<=32?new rr(e):gw.from(rr.split(e,[]))}};class rr extends Yt{constructor(e,n=Wwe(e)){super(),this.text=e,this.length=n}get lines(){return this.text.length}get children(){return null}lineInner(e,n,r,i){for(let o=0;;o++){let s=this.text[o],l=i+s.length;if((n?r:l)>=e)return new Uwe(i,l,r,s);i=l+1,r++}}decompose(e,n,r,i){let o=e<=0&&n>=this.length?this:new rr(zN(this.text,e,n),Math.min(n,this.length)-Math.max(0,e));if(i&1){let s=r.pop(),l=yw(o.text,s.text.slice(),0,o.length);if(l.length<=32)r.push(new rr(l,s.length+o.length));else{let a=l.length>>1;r.push(new rr(l.slice(0,a)),new rr(l.slice(a)))}}else r.push(o)}replace(e,n,r){if(!(r instanceof rr))return super.replace(e,n,r);[e,n]=bp(this,e,n);let i=yw(this.text,yw(r.text,zN(this.text,0,e)),n),o=this.length+r.length-(n-e);return i.length<=32?new rr(i,o):gw.from(rr.split(i,[]),o)}sliceString(e,n=this.length,r=`
`){[e,n]=bp(this,e,n);let i="";for(let o=0,s=0;o<=n&&s<this.text.length;s++){let l=this.text[s],a=o+l.length;o>e&&s&&(i+=r),e<a&&n>o&&(i+=l.slice(Math.max(0,e-o),n-o)),o=a+1}return i}flatten(e){for(let n of this.text)e.push(n)}scanIdentical(){return 0}static split(e,n){let r=[],i=-1;for(let o of e)r.push(o),i+=o.length+1,r.length==32&&(n.push(new rr(r,i)),r=[],i=-1);return i>-1&&n.push(new rr(r,i)),n}}let gw=class Td extends Yt{constructor(e,n){super(),this.children=e,this.length=n,this.lines=0;for(let r of e)this.lines+=r.lines}lineInner(e,n,r,i){for(let o=0;;o++){let s=this.children[o],l=i+s.length,a=r+s.lines-1;if((n?a:l)>=e)return s.lineInner(e,n,r,i);i=l+1,r=a+1}}decompose(e,n,r,i){for(let o=0,s=0;s<=n&&o<this.children.length;o++){let l=this.children[o],a=s+l.length;if(e<=a&&n>=s){let u=i&((s<=e?1:0)|(a>=n?2:0));s>=e&&a<=n&&!u?r.push(l):l.decompose(e-s,n-s,r,u)}s=a+1}}replace(e,n,r){if([e,n]=bp(this,e,n),r.lines<this.lines)for(let i=0,o=0;i<this.children.length;i++){let s=this.children[i],l=o+s.length;if(e>=o&&n<=l){let a=s.replace(e-o,n-o,r),u=this.lines-s.lines+a.lines;if(a.lines<u>>4&&a.lines>u>>6){let c=this.children.slice();return c[i]=a,new Td(c,this.length-(n-e)+r.length)}return super.replace(o,l,a)}o=l+1}return super.replace(e,n,r)}sliceString(e,n=this.length,r=`
`){[e,n]=bp(this,e,n);let i="";for(let o=0,s=0;o<this.children.length&&s<=n;o++){let l=this.children[o],a=s+l.length;s>e&&o&&(i+=r),e<a&&n>s&&(i+=l.sliceString(e-s,n-s,r)),s=a+1}return i}flatten(e){for(let n of this.children)n.flatten(e)}scanIdentical(e,n){if(!(e instanceof Td))return 0;let r=0,[i,o,s,l]=n>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1];for(;;i+=n,o+=n){if(i==s||o==l)return r;let a=this.children[i],u=e.children[o];if(a!=u)return r+a.scanIdentical(u,n);r+=a.length+1}}static from(e,n=e.reduce((r,i)=>r+i.length+1,-1)){let r=0;for(let d of e)r+=d.lines;if(r<32){let d=[];for(let p of e)p.flatten(d);return new rr(d,n)}let i=Math.max(32,r>>5),o=i<<1,s=i>>1,l=[],a=0,u=-1,c=[];function h(d){let p;if(d.lines>o&&d instanceof Td)for(let m of d.children)h(m);else d.lines>s&&(a>s||!a)?(f(),l.push(d)):d instanceof rr&&a&&(p=c[c.length-1])instanceof rr&&d.lines+p.lines<=32?(a+=d.lines,u+=d.length+1,c[c.length-1]=new rr(p.text.concat(d.text),p.length+1+d.length)):(a+d.lines>i&&f(),a+=d.lines,u+=d.length+1,c.push(d))}function f(){a!=0&&(l.push(c.length==1?c[0]:Td.from(c,u)),u=-1,a=c.length=0)}for(let d of e)h(d);return f(),l.length==1?l[0]:new Td(l,n)}};Yt.empty=new rr([""],0);function Wwe(t){let e=-1;for(let n of t)e+=n.length+1;return e}function yw(t,e,n=0,r=1e9){for(let i=0,o=0,s=!0;o<t.length&&i<=r;o++){let l=t[o],a=i+l.length;a>=n&&(a>r&&(l=l.slice(0,r-i)),i<n&&(l=l.slice(n-i)),s?(e[e.length-1]+=l,s=!1):e.push(l)),i=a+1}return e}function zN(t,e,n){return yw(t,[""],e,n)}class l1{constructor(e,n=1){this.dir=n,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[n>0?1:(e instanceof rr?e.text.length:e.children.length)<<1]}nextInner(e,n){for(this.done=this.lineBreak=!1;;){let r=this.nodes.length-1,i=this.nodes[r],o=this.offsets[r],s=o>>1,l=i instanceof rr?i.text.length:i.children.length;if(s==(n>0?l:0)){if(r==0)return this.done=!0,this.value="",this;n>0&&this.offsets[r-1]++,this.nodes.pop(),this.offsets.pop()}else if((o&1)==(n>0?0:1)){if(this.offsets[r]+=n,e==0)return this.lineBreak=!0,this.value=`
`,this;e--}else if(i instanceof rr){let a=i.text[s+(n<0?-1:0)];if(this.offsets[r]+=n,a.length>Math.max(0,e))return this.value=e==0?a:n>0?a.slice(e):a.slice(0,a.length-e),this;e-=a.length}else{let a=i.children[s+(n<0?-1:0)];e>a.length?(e-=a.length,this.offsets[r]+=n):(n<0&&this.offsets[r]--,this.nodes.push(a),this.offsets.push(n>0?1:(a instanceof rr?a.text.length:a.children.length)<<1))}}}next(e=0){return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}}class JK{constructor(e,n,r){this.value="",this.done=!1,this.cursor=new l1(e,n>r?-1:1),this.pos=n>r?e.length:0,this.from=Math.min(n,r),this.to=Math.max(n,r)}nextInner(e,n){if(n<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,n<0?this.pos-this.to:this.from-this.pos);let r=n<0?this.pos-this.from:this.to-this.pos;e>r&&(e=r),r-=e;let{value:i}=this.cursor.next(e);return this.pos+=(i.length+e)*n,this.value=i.length<=r?i:n<0?i.slice(i.length-r):i.slice(0,r),this.done=!this.value,this}next(e=0){return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class ZK{constructor(e){this.inner=e,this.afterBreak=!0,this.value="",this.done=!1}next(e=0){let{done:n,lineBreak:r,value:i}=this.inner.next(e);return n&&this.afterBreak?(this.value="",this.afterBreak=!1):n?(this.done=!0,this.value=""):r?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=i,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol<"u"&&(Yt.prototype[Symbol.iterator]=function(){return this.iter()},l1.prototype[Symbol.iterator]=JK.prototype[Symbol.iterator]=ZK.prototype[Symbol.iterator]=function(){return this});class Uwe{constructor(e,n,r,i){this.from=e,this.to=n,this.number=r,this.text=i}get length(){return this.to-this.from}}function bp(t,e,n){return e=Math.max(0,Math.min(t.length,e)),[e,Math.max(e,Math.min(t.length,n))]}function Ur(t,e,n=!0,r=!0){return Hwe(t,e,n,r)}function qwe(t){return t>=56320&&t<57344}function Kwe(t){return t>=55296&&t<56320}function Ji(t,e){let n=t.charCodeAt(e);if(!Kwe(n)||e+1==t.length)return n;let r=t.charCodeAt(e+1);return qwe(r)?(n-55296<<10)+(r-56320)+65536:n}function _A(t){return t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode((t>>10)+55296,(t&1023)+56320))}function Nl(t){return t<65536?1:2}const i9=/\r\n?|\n/;var Wr=function(t){return t[t.Simple=0]="Simple",t[t.TrackDel=1]="TrackDel",t[t.TrackBefore=2]="TrackBefore",t[t.TrackAfter=3]="TrackAfter",t}(Wr||(Wr={}));class Kl{constructor(e){this.sections=e}get length(){let e=0;for(let n=0;n<this.sections.length;n+=2)e+=this.sections[n];return e}get newLength(){let e=0;for(let n=0;n<this.sections.length;n+=2){let r=this.sections[n+1];e+=r<0?this.sections[n]:r}return e}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(e){for(let n=0,r=0,i=0;n<this.sections.length;){let o=this.sections[n++],s=this.sections[n++];s<0?(e(r,i,o),i+=o):i+=s,r+=o}}iterChangedRanges(e,n=!1){o9(this,e,n)}get invertedDesc(){let e=[];for(let n=0;n<this.sections.length;){let r=this.sections[n++],i=this.sections[n++];i<0?e.push(r,i):e.push(i,r)}return new Kl(e)}composeDesc(e){return this.empty?e:e.empty?this:QK(this,e)}mapDesc(e,n=!1){return e.empty?this:s9(this,e,n)}mapPos(e,n=-1,r=Wr.Simple){let i=0,o=0;for(let s=0;s<this.sections.length;){let l=this.sections[s++],a=this.sections[s++],u=i+l;if(a<0){if(u>e)return o+(e-i);o+=l}else{if(r!=Wr.Simple&&u>=e&&(r==Wr.TrackDel&&i<e&&u>e||r==Wr.TrackBefore&&i<e||r==Wr.TrackAfter&&u>e))return null;if(u>e||u==e&&n<0&&!l)return e==i||n<0?o:o+a;o+=a}i=u}if(e>i)throw new RangeError(`Position ${e} is out of range for changeset of length ${i}`);return o}touchesRange(e,n=e){for(let r=0,i=0;r<this.sections.length&&i<=n;){let o=this.sections[r++],s=this.sections[r++],l=i+o;if(s>=0&&i<=n&&l>=e)return i<e&&l>n?"cover":!0;i=l}return!1}toString(){let e="";for(let n=0;n<this.sections.length;){let r=this.sections[n++],i=this.sections[n++];e+=(e?" ":"")+r+(i>=0?":"+i:"")}return e}toJSON(){return this.sections}static fromJSON(e){if(!Array.isArray(e)||e.length%2||e.some(n=>typeof n!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new Kl(e)}static create(e){return new Kl(e)}}class br extends Kl{constructor(e,n){super(e),this.inserted=n}apply(e){if(this.length!=e.length)throw new RangeError("Applying change set to a document with the wrong length");return o9(this,(n,r,i,o,s)=>e=e.replace(i,i+(r-n),s),!1),e}mapDesc(e,n=!1){return s9(this,e,n,!0)}invert(e){let n=this.sections.slice(),r=[];for(let i=0,o=0;i<n.length;i+=2){let s=n[i],l=n[i+1];if(l>=0){n[i]=l,n[i+1]=s;let a=i>>1;for(;r.length<a;)r.push(Yt.empty);r.push(s?e.slice(o,o+s):Yt.empty)}o+=s}return new br(n,r)}compose(e){return this.empty?e:e.empty?this:QK(this,e,!0)}map(e,n=!1){return e.empty?this:s9(this,e,n,!0)}iterChanges(e,n=!1){o9(this,e,n)}get desc(){return Kl.create(this.sections)}filter(e){let n=[],r=[],i=[],o=new dy(this);e:for(let s=0,l=0;;){let a=s==e.length?1e9:e[s++];for(;l<a||l==a&&o.len==0;){if(o.done)break e;let c=Math.min(o.len,a-l);ti(i,c,-1);let h=o.ins==-1?-1:o.off==0?o.ins:0;ti(n,c,h),h>0&&fc(r,n,o.text),o.forward(c),l+=c}let u=e[s++];for(;l<u;){if(o.done)break e;let c=Math.min(o.len,u-l);ti(n,c,-1),ti(i,c,o.ins==-1?-1:o.off==0?o.ins:0),o.forward(c),l+=c}}return{changes:new br(n,r),filtered:Kl.create(i)}}toJSON(){let e=[];for(let n=0;n<this.sections.length;n+=2){let r=this.sections[n],i=this.sections[n+1];i<0?e.push(r):i==0?e.push([r]):e.push([r].concat(this.inserted[n>>1].toJSON()))}return e}static of(e,n,r){let i=[],o=[],s=0,l=null;function a(c=!1){if(!c&&!i.length)return;s<n&&ti(i,n-s,-1);let h=new br(i,o);l=l?l.compose(h.map(l)):h,i=[],o=[],s=0}function u(c){if(Array.isArray(c))for(let h of c)u(h);else if(c instanceof br){if(c.length!=n)throw new RangeError(`Mismatched change set length (got ${c.length}, expected ${n})`);a(),l=l?l.compose(c.map(l)):c}else{let{from:h,to:f=h,insert:d}=c;if(h>f||h<0||f>n)throw new RangeError(`Invalid change range ${h} to ${f} (in doc of length ${n})`);let p=d?typeof d=="string"?Yt.of(d.split(r||i9)):d:Yt.empty,m=p.length;if(h==f&&m==0)return;h<s&&a(),h>s&&ti(i,h-s,-1),ti(i,f-h,m),fc(o,i,p),s=f}}return u(e),a(!l),l}static empty(e){return new br(e?[e,-1]:[],[])}static fromJSON(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");let n=[],r=[];for(let i=0;i<e.length;i++){let o=e[i];if(typeof o=="number")n.push(o,-1);else{if(!Array.isArray(o)||typeof o[0]!="number"||o.some((s,l)=>l&&typeof s!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(o.length==1)n.push(o[0],0);else{for(;r.length<i;)r.push(Yt.empty);r[i]=Yt.of(o.slice(1)),n.push(o[0],r[i].length)}}}return new br(n,r)}static createSet(e,n){return new br(e,n)}}function ti(t,e,n,r=!1){if(e==0&&n<=0)return;let i=t.length-2;i>=0&&n<=0&&n==t[i+1]?t[i]+=e:i>=0&&e==0&&t[i]==0?t[i+1]+=n:r?(t[i]+=e,t[i+1]+=n):t.push(e,n)}function fc(t,e,n){if(n.length==0)return;let r=e.length-2>>1;if(r<t.length)t[t.length-1]=t[t.length-1].append(n);else{for(;t.length<r;)t.push(Yt.empty);t.push(n)}}function o9(t,e,n){let r=t.inserted;for(let i=0,o=0,s=0;s<t.sections.length;){let l=t.sections[s++],a=t.sections[s++];if(a<0)i+=l,o+=l;else{let u=i,c=o,h=Yt.empty;for(;u+=l,c+=a,a&&r&&(h=h.append(r[s-2>>1])),!(n||s==t.sections.length||t.sections[s+1]<0);)l=t.sections[s++],a=t.sections[s++];e(i,u,o,c,h),i=u,o=c}}}function s9(t,e,n,r=!1){let i=[],o=r?[]:null,s=new dy(t),l=new dy(e);for(let a=-1;;){if(s.done&&l.len||l.done&&s.len)throw new Error("Mismatched change set lengths");if(s.ins==-1&&l.ins==-1){let u=Math.min(s.len,l.len);ti(i,u,-1),s.forward(u),l.forward(u)}else if(l.ins>=0&&(s.ins<0||a==s.i||s.off==0&&(l.len<s.len||l.len==s.len&&!n))){let u=l.len;for(ti(i,l.ins,-1);u;){let c=Math.min(s.len,u);s.ins>=0&&a<s.i&&s.len<=c&&(ti(i,0,s.ins),o&&fc(o,i,s.text),a=s.i),s.forward(c),u-=c}l.next()}else if(s.ins>=0){let u=0,c=s.len;for(;c;)if(l.ins==-1){let h=Math.min(c,l.len);u+=h,c-=h,l.forward(h)}else if(l.ins==0&&l.len<c)c-=l.len,l.next();else break;ti(i,u,a<s.i?s.ins:0),o&&a<s.i&&fc(o,i,s.text),a=s.i,s.forward(s.len-c)}else{if(s.done&&l.done)return o?br.createSet(i,o):Kl.create(i);throw new Error("Mismatched change set lengths")}}}function QK(t,e,n=!1){let r=[],i=n?[]:null,o=new dy(t),s=new dy(e);for(let l=!1;;){if(o.done&&s.done)return i?br.createSet(r,i):Kl.create(r);if(o.ins==0)ti(r,o.len,0,l),o.next();else if(s.len==0&&!s.done)ti(r,0,s.ins,l),i&&fc(i,r,s.text),s.next();else{if(o.done||s.done)throw new Error("Mismatched change set lengths");{let a=Math.min(o.len2,s.len),u=r.length;if(o.ins==-1){let c=s.ins==-1?-1:s.off?0:s.ins;ti(r,a,c,l),i&&c&&fc(i,r,s.text)}else s.ins==-1?(ti(r,o.off?0:o.len,a,l),i&&fc(i,r,o.textBit(a))):(ti(r,o.off?0:o.len,s.off?0:s.ins,l),i&&!s.off&&fc(i,r,s.text));l=(o.ins>a||s.ins>=0&&s.len>a)&&(l||r.length>u),o.forward2(a),s.forward(a)}}}}class dy{constructor(e){this.set=e,this.i=0,this.next()}next(){let{sections:e}=this.set;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:e}=this.set,n=this.i-2>>1;return n>=e.length?Yt.empty:e[n]}textBit(e){let{inserted:n}=this.set,r=this.i-2>>1;return r>=n.length&&!e?Yt.empty:n[r].slice(this.off,e==null?void 0:this.off+e)}forward(e){e==this.len?this.next():(this.len-=e,this.off+=e)}forward2(e){this.ins==-1?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}}let G2=class l9{constructor(e,n,r){this.from=e,this.to=n,this.flags=r}get anchor(){return this.flags&32?this.to:this.from}get head(){return this.flags&32?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&8?-1:this.flags&16?1:0}get bidiLevel(){let e=this.flags&7;return e==7?null:e}get goalColumn(){let e=this.flags>>6;return e==16777215?void 0:e}map(e,n=-1){let r,i;return this.empty?r=i=e.mapPos(this.from,n):(r=e.mapPos(this.from,1),i=e.mapPos(this.to,-1)),r==this.from&&i==this.to?this:new l9(r,i,this.flags)}extend(e,n=e){if(e<=this.anchor&&n>=this.anchor)return fe.range(e,n);let r=Math.abs(e-this.anchor)>Math.abs(n-this.anchor)?e:n;return fe.range(this.anchor,r)}eq(e,n=!1){return this.anchor==e.anchor&&this.head==e.head&&(!n||!this.empty||this.assoc==e.assoc)}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(e){if(!e||typeof e.anchor!="number"||typeof e.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return fe.range(e.anchor,e.head)}static create(e,n,r){return new l9(e,n,r)}};class fe{constructor(e,n){this.ranges=e,this.mainIndex=n}map(e,n=-1){return e.empty?this:fe.create(this.ranges.map(r=>r.map(e,n)),this.mainIndex)}eq(e,n=!1){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(let r=0;r<this.ranges.length;r++)if(!this.ranges[r].eq(e.ranges[r],n))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new fe([this.main],0)}addRange(e,n=!0){return fe.create([e].concat(this.ranges),n?0:this.mainIndex+1)}replaceRange(e,n=this.mainIndex){let r=this.ranges.slice();return r[n]=e,fe.create(r,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(e=>e.toJSON()),main:this.mainIndex}}static fromJSON(e){if(!e||!Array.isArray(e.ranges)||typeof e.main!="number"||e.main>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new fe(e.ranges.map(n=>G2.fromJSON(n)),e.main)}static single(e,n=e){return new fe([fe.range(e,n)],0)}static create(e,n=0){if(e.length==0)throw new RangeError("A selection needs at least one range");for(let r=0,i=0;i<e.length;i++){let o=e[i];if(o.empty?o.from<=r:o.from<r)return fe.normalized(e.slice(),n);r=o.to}return new fe(e,n)}static cursor(e,n=0,r,i){return G2.create(e,e,(n==0?0:n<0?8:16)|(r==null?7:Math.min(6,r))|(i??16777215)<<6)}static range(e,n,r,i){let o=(r??16777215)<<6|(i==null?7:Math.min(6,i));return n<e?G2.create(n,e,48|o):G2.create(e,n,(n>e?8:0)|o)}static normalized(e,n=0){let r=e[n];e.sort((i,o)=>i.from-o.from),n=e.indexOf(r);for(let i=1;i<e.length;i++){let o=e[i],s=e[i-1];if(o.empty?o.from<=s.to:o.from<s.to){let l=s.from,a=Math.max(o.to,s.to);i<=n&&n--,e.splice(--i,2,o.anchor>o.head?fe.range(a,l):fe.range(l,a))}}return new fe(e,n)}}function eG(t,e){for(let n of t.ranges)if(n.to>e)throw new RangeError("Selection points outside of document")}let IA=0;class Ue{constructor(e,n,r,i,o){this.combine=e,this.compareInput=n,this.compare=r,this.isStatic=i,this.id=IA++,this.default=e([]),this.extensions=typeof o=="function"?o(this):o}get reader(){return this}static define(e={}){return new Ue(e.combine||(n=>n),e.compareInput||((n,r)=>n===r),e.compare||(e.combine?(n,r)=>n===r:RA),!!e.static,e.enables)}of(e){return new vw([],this,0,e)}compute(e,n){if(this.isStatic)throw new Error("Can't compute a static facet");return new vw(e,this,1,n)}computeN(e,n){if(this.isStatic)throw new Error("Can't compute a static facet");return new vw(e,this,2,n)}from(e,n){return n||(n=r=>r),this.compute([e],r=>n(r.field(e)))}}function RA(t,e){return t==e||t.length==e.length&&t.every((n,r)=>n===e[r])}class vw{constructor(e,n,r,i){this.dependencies=e,this.facet=n,this.type=r,this.value=i,this.id=IA++}dynamicSlot(e){var n;let r=this.value,i=this.facet.compareInput,o=this.id,s=e[o]>>1,l=this.type==2,a=!1,u=!1,c=[];for(let h of this.dependencies)h=="doc"?a=!0:h=="selection"?u=!0:((n=e[h.id])!==null&&n!==void 0?n:1)&1||c.push(e[h.id]);return{create(h){return h.values[s]=r(h),1},update(h,f){if(a&&f.docChanged||u&&(f.docChanged||f.selection)||a9(h,c)){let d=r(h);if(l?!FN(d,h.values[s],i):!i(d,h.values[s]))return h.values[s]=d,1}return 0},reconfigure:(h,f)=>{let d,p=f.config.address[o];if(p!=null){let m=gx(f,p);if(this.dependencies.every(y=>y instanceof Ue?f.facet(y)===h.facet(y):y instanceof Rr?f.field(y,!1)==h.field(y,!1):!0)||(l?FN(d=r(h),m,i):i(d=r(h),m)))return h.values[s]=m,0}else d=r(h);return h.values[s]=d,1}}}}function FN(t,e,n){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!n(t[r],e[r]))return!1;return!0}function a9(t,e){let n=!1;for(let r of e)a1(t,r)&1&&(n=!0);return n}function Gwe(t,e,n){let r=n.map(a=>t[a.id]),i=n.map(a=>a.type),o=r.filter(a=>!(a&1)),s=t[e.id]>>1;function l(a){let u=[];for(let c=0;c<r.length;c++){let h=gx(a,r[c]);if(i[c]==2)for(let f of h)u.push(f);else u.push(h)}return e.combine(u)}return{create(a){for(let u of r)a1(a,u);return a.values[s]=l(a),1},update(a,u){if(!a9(a,o))return 0;let c=l(a);return e.compare(c,a.values[s])?0:(a.values[s]=c,1)},reconfigure(a,u){let c=a9(a,r),h=u.config.facets[e.id],f=u.facet(e);if(h&&!c&&RA(n,h))return a.values[s]=f,0;let d=l(a);return e.compare(d,f)?(a.values[s]=f,0):(a.values[s]=d,1)}}}const Y2=Ue.define({static:!0});class Rr{constructor(e,n,r,i,o){this.id=e,this.createF=n,this.updateF=r,this.compareF=i,this.spec=o,this.provides=void 0}static define(e){let n=new Rr(IA++,e.create,e.update,e.compare||((r,i)=>r===i),e);return e.provide&&(n.provides=e.provide(n)),n}create(e){let n=e.facet(Y2).find(r=>r.field==this);return((n==null?void 0:n.create)||this.createF)(e)}slot(e){let n=e[this.id]>>1;return{create:r=>(r.values[n]=this.create(r),1),update:(r,i)=>{let o=r.values[n],s=this.updateF(o,i);return this.compareF(o,s)?0:(r.values[n]=s,1)},reconfigure:(r,i)=>{let o=r.facet(Y2),s=i.facet(Y2),l;return(l=o.find(a=>a.field==this))&&l!=s.find(a=>a.field==this)?(r.values[n]=l.create(r),1):i.config.address[this.id]!=null?(r.values[n]=i.field(this),0):(r.values[n]=this.create(r),1)}}}init(e){return[this,Y2.of({field:this,create:e})]}get extension(){return this}}const Lh={lowest:4,low:3,default:2,high:1,highest:0};function Rm(t){return e=>new tG(e,t)}const ih={highest:Rm(Lh.highest),high:Rm(Lh.high),default:Rm(Lh.default),low:Rm(Lh.low),lowest:Rm(Lh.lowest)};class tG{constructor(e,n){this.inner=e,this.prec=n}}class kp{of(e){return new u9(this,e)}reconfigure(e){return kp.reconfigure.of({compartment:this,extension:e})}get(e){return e.config.compartments.get(this)}}class u9{constructor(e,n){this.compartment=e,this.inner=n}}let $N=class nG{constructor(e,n,r,i,o,s){for(this.base=e,this.compartments=n,this.dynamicSlots=r,this.address=i,this.staticValues=o,this.facets=s,this.statusTemplate=[];this.statusTemplate.length<r.length;)this.statusTemplate.push(0)}staticFacet(e){let n=this.address[e.id];return n==null?e.default:this.staticValues[n>>1]}static resolve(e,n,r){let i=[],o=Object.create(null),s=new Map;for(let f of Ywe(e,n,s))f instanceof Rr?i.push(f):(o[f.facet.id]||(o[f.facet.id]=[])).push(f);let l=Object.create(null),a=[],u=[];for(let f of i)l[f.id]=u.length<<1,u.push(d=>f.slot(d));let c=r==null?void 0:r.config.facets;for(let f in o){let d=o[f],p=d[0].facet,m=c&&c[f]||[];if(d.every(y=>y.type==0))if(l[p.id]=a.length<<1|1,RA(m,d))a.push(r.facet(p));else{let y=p.combine(d.map(g=>g.value));a.push(r&&p.compare(y,r.facet(p))?r.facet(p):y)}else{for(let y of d)y.type==0?(l[y.id]=a.length<<1|1,a.push(y.value)):(l[y.id]=u.length<<1,u.push(g=>y.dynamicSlot(g)));l[p.id]=u.length<<1,u.push(y=>Gwe(y,p,d))}}let h=u.map(f=>f(l));return new nG(e,s,h,l,a,o)}};function Ywe(t,e,n){let r=[[],[],[],[],[]],i=new Map;function o(s,l){let a=i.get(s);if(a!=null){if(a<=l)return;let u=r[a].indexOf(s);u>-1&&r[a].splice(u,1),s instanceof u9&&n.delete(s.compartment)}if(i.set(s,l),Array.isArray(s))for(let u of s)o(u,l);else if(s instanceof u9){if(n.has(s.compartment))throw new RangeError("Duplicate use of compartment in extensions");let u=e.get(s.compartment)||s.inner;n.set(s.compartment,u),o(u,l)}else if(s instanceof tG)o(s.inner,s.prec);else if(s instanceof Rr)r[l].push(s),s.provides&&o(s.provides,l);else if(s instanceof vw)r[l].push(s),s.facet.extensions&&o(s.facet.extensions,Lh.default);else{let u=s.extension;if(!u)throw new Error(`Unrecognized extension value in extension set (${s}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);o(u,l)}}return o(t,Lh.default),r.reduce((s,l)=>s.concat(l))}function a1(t,e){if(e&1)return 2;let n=e>>1,r=t.status[n];if(r==4)throw new Error("Cyclic dependency between fields and/or facets");if(r&2)return r;t.status[n]=4;let i=t.computeSlot(t,t.config.dynamicSlots[n]);return t.status[n]=2|i}function gx(t,e){return e&1?t.config.staticValues[e>>1]:t.values[e>>1]}const rG=Ue.define(),c9=Ue.define({combine:t=>t.some(e=>e),static:!0}),iG=Ue.define({combine:t=>t.length?t[0]:void 0,static:!0}),oG=Ue.define(),sG=Ue.define(),lG=Ue.define(),aG=Ue.define({combine:t=>t.length?t[0]:!1});class ku{constructor(e,n){this.type=e,this.value=n}static define(){return new Xwe}}class Xwe{of(e){return new ku(this,e)}}class Jwe{constructor(e){this.map=e}of(e){return new Tt(this,e)}}class Tt{constructor(e,n){this.type=e,this.value=n}map(e){let n=this.type.map(this.value,e);return n===void 0?void 0:n==this.value?this:new Tt(this.type,n)}is(e){return this.type==e}static define(e={}){return new Jwe(e.map||(n=>n))}static mapEffects(e,n){if(!e.length)return e;let r=[];for(let i of e){let o=i.map(n);o&&r.push(o)}return r}}Tt.reconfigure=Tt.define();Tt.appendConfig=Tt.define();let Ii=class og{constructor(e,n,r,i,o,s){this.startState=e,this.changes=n,this.selection=r,this.effects=i,this.annotations=o,this.scrollIntoView=s,this._doc=null,this._state=null,r&&eG(r,n.newLength),o.some(l=>l.type==og.time)||(this.annotations=o.concat(og.time.of(Date.now())))}static create(e,n,r,i,o,s){return new og(e,n,r,i,o,s)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(e){for(let n of this.annotations)if(n.type==e)return n.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(e){let n=this.annotation(og.userEvent);return!!(n&&(n==e||n.length>e.length&&n.slice(0,e.length)==e&&n[e.length]=="."))}};Ii.time=ku.define();Ii.userEvent=ku.define();Ii.addToHistory=ku.define();Ii.remote=ku.define();function Zwe(t,e){let n=[];for(let r=0,i=0;;){let o,s;if(r<t.length&&(i==e.length||e[i]>=t[r]))o=t[r++],s=t[r++];else if(i<e.length)o=e[i++],s=e[i++];else return n;!n.length||n[n.length-1]<o?n.push(o,s):n[n.length-1]<s&&(n[n.length-1]=s)}}function uG(t,e,n){var r;let i,o,s;return n?(i=e.changes,o=br.empty(e.changes.length),s=t.changes.compose(e.changes)):(i=e.changes.map(t.changes),o=t.changes.mapDesc(e.changes,!0),s=t.changes.compose(i)),{changes:s,selection:e.selection?e.selection.map(o):(r=t.selection)===null||r===void 0?void 0:r.map(i),effects:Tt.mapEffects(t.effects,i).concat(Tt.mapEffects(e.effects,o)),annotations:t.annotations.length?t.annotations.concat(e.annotations):e.annotations,scrollIntoView:t.scrollIntoView||e.scrollIntoView}}function h9(t,e,n){let r=e.selection,i=y0(e.annotations);return e.userEvent&&(i=i.concat(Ii.userEvent.of(e.userEvent))),{changes:e.changes instanceof br?e.changes:br.of(e.changes||[],n,t.facet(iG)),selection:r&&(r instanceof fe?r:fe.single(r.anchor,r.head)),effects:y0(e.effects),annotations:i,scrollIntoView:!!e.scrollIntoView}}function cG(t,e,n){let r=h9(t,e.length?e[0]:{},t.doc.length);e.length&&e[0].filter===!1&&(n=!1);for(let o=1;o<e.length;o++){e[o].filter===!1&&(n=!1);let s=!!e[o].sequential;r=uG(r,h9(t,e[o],s?r.changes.newLength:t.doc.length),s)}let i=Ii.create(t,r.changes,r.selection,r.effects,r.annotations,r.scrollIntoView);return e5e(n?Qwe(i):i)}function Qwe(t){let e=t.startState,n=!0;for(let i of e.facet(oG)){let o=i(t);if(o===!1){n=!1;break}Array.isArray(o)&&(n=n===!0?o:Zwe(n,o))}if(n!==!0){let i,o;if(n===!1)o=t.changes.invertedDesc,i=br.empty(e.doc.length);else{let s=t.changes.filter(n);i=s.changes,o=s.filtered.mapDesc(s.changes).invertedDesc}t=Ii.create(e,i,t.selection&&t.selection.map(o),Tt.mapEffects(t.effects,o),t.annotations,t.scrollIntoView)}let r=e.facet(sG);for(let i=r.length-1;i>=0;i--){let o=r[i](t);o instanceof Ii?t=o:Array.isArray(o)&&o.length==1&&o[0]instanceof Ii?t=o[0]:t=cG(e,y0(o),!1)}return t}function e5e(t){let e=t.startState,n=e.facet(lG),r=t;for(let i=n.length-1;i>=0;i--){let o=n[i](t);o&&Object.keys(o).length&&(r=uG(r,h9(e,o,t.changes.newLength),!0))}return r==t?t:Ii.create(e,t.changes,t.selection,r.effects,r.annotations,r.scrollIntoView)}const t5e=[];function y0(t){return t==null?t5e:Array.isArray(t)?t:[t]}var zn=function(t){return t[t.Word=0]="Word",t[t.Space=1]="Space",t[t.Other=2]="Other",t}(zn||(zn={}));const n5e=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let f9;try{f9=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}function r5e(t){if(f9)return f9.test(t);for(let e=0;e<t.length;e++){let n=t[e];if(/\w/.test(n)||n>""&&(n.toUpperCase()!=n.toLowerCase()||n5e.test(n)))return!0}return!1}function i5e(t){return e=>{if(!/\S/.test(e))return zn.Space;if(r5e(e))return zn.Word;for(let n=0;n<t.length;n++)if(e.indexOf(t[n])>-1)return zn.Word;return zn.Other}}let Fn=class Bs{constructor(e,n,r,i,o,s){this.config=e,this.doc=n,this.selection=r,this.values=i,this.status=e.statusTemplate.slice(),this.computeSlot=o,s&&(s._state=this);for(let l=0;l<this.config.dynamicSlots.length;l++)a1(this,l<<1);this.computeSlot=null}field(e,n=!0){let r=this.config.address[e.id];if(r==null){if(n)throw new RangeError("Field is not present in this state");return}return a1(this,r),gx(this,r)}update(...e){return cG(this,e,!0)}applyTransaction(e){let n=this.config,{base:r,compartments:i}=n;for(let l of e.effects)l.is(kp.reconfigure)?(n&&(i=new Map,n.compartments.forEach((a,u)=>i.set(u,a)),n=null),i.set(l.value.compartment,l.value.extension)):l.is(Tt.reconfigure)?(n=null,r=l.value):l.is(Tt.appendConfig)&&(n=null,r=y0(r).concat(l.value));let o;n?o=e.startState.values.slice():(n=$N.resolve(r,i,this),o=new Bs(n,this.doc,this.selection,n.dynamicSlots.map(()=>null),(a,u)=>u.reconfigure(a,this),null).values);let s=e.startState.facet(c9)?e.newSelection:e.newSelection.asSingle();new Bs(n,e.newDoc,s,o,(l,a)=>a.update(l,e),e)}replaceSelection(e){return typeof e=="string"&&(e=this.toText(e)),this.changeByRange(n=>({changes:{from:n.from,to:n.to,insert:e},range:fe.cursor(n.from+e.length)}))}changeByRange(e){let n=this.selection,r=e(n.ranges[0]),i=this.changes(r.changes),o=[r.range],s=y0(r.effects);for(let l=1;l<n.ranges.length;l++){let a=e(n.ranges[l]),u=this.changes(a.changes),c=u.map(i);for(let f=0;f<l;f++)o[f]=o[f].map(c);let h=i.mapDesc(u,!0);o.push(a.range.map(h)),i=i.compose(c),s=Tt.mapEffects(s,c).concat(Tt.mapEffects(y0(a.effects),h))}return{changes:i,selection:fe.create(o,n.mainIndex),effects:s}}changes(e=[]){return e instanceof br?e:br.of(e,this.doc.length,this.facet(Bs.lineSeparator))}toText(e){return Yt.of(e.split(this.facet(Bs.lineSeparator)||i9))}sliceDoc(e=0,n=this.doc.length){return this.doc.sliceString(e,n,this.lineBreak)}facet(e){let n=this.config.address[e.id];return n==null?e.default:(a1(this,n),gx(this,n))}toJSON(e){let n={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(let r in e){let i=e[r];i instanceof Rr&&this.config.address[i.id]!=null&&(n[r]=i.spec.toJSON(this.field(e[r]),this))}return n}static fromJSON(e,n={},r){if(!e||typeof e.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let i=[];if(r){for(let o in r)if(Object.prototype.hasOwnProperty.call(e,o)){let s=r[o],l=e[o];i.push(s.init(a=>s.spec.fromJSON(l,a)))}}return Bs.create({doc:e.doc,selection:fe.fromJSON(e.selection),extensions:n.extensions?i.concat([n.extensions]):i})}static create(e={}){let n=$N.resolve(e.extensions||[],new Map),r=e.doc instanceof Yt?e.doc:Yt.of((e.doc||"").split(n.staticFacet(Bs.lineSeparator)||i9)),i=e.selection?e.selection instanceof fe?e.selection:fe.single(e.selection.anchor,e.selection.head):fe.single(0);return eG(i,r.length),n.staticFacet(c9)||(i=i.asSingle()),new Bs(n,r,i,n.dynamicSlots.map(()=>null),(o,s)=>s.create(o),null)}get tabSize(){return this.facet(Bs.tabSize)}get lineBreak(){return this.facet(Bs.lineSeparator)||`
`}get readOnly(){return this.facet(aG)}phrase(e,...n){for(let r of this.facet(Bs.phrases))if(Object.prototype.hasOwnProperty.call(r,e)){e=r[e];break}return n.length&&(e=e.replace(/\$(\$|\d*)/g,(r,i)=>{if(i=="$")return"$";let o=+(i||1);return!o||o>n.length?r:n[o-1]})),e}languageDataAt(e,n,r=-1){let i=[];for(let o of this.facet(rG))for(let s of o(this,n,r))Object.prototype.hasOwnProperty.call(s,e)&&i.push(s[e]);return i}charCategorizer(e){return i5e(this.languageDataAt("wordChars",e).join(""))}wordAt(e){let{text:n,from:r,length:i}=this.doc.lineAt(e),o=this.charCategorizer(e),s=e-r,l=e-r;for(;s>0;){let a=Ur(n,s,!1);if(o(n.slice(a,s))!=zn.Word)break;s=a}for(;l<i;){let a=Ur(n,l);if(o(n.slice(l,a))!=zn.Word)break;l=a}return s==l?null:fe.range(s+r,l+r)}};Fn.allowMultipleSelections=c9;Fn.tabSize=Ue.define({combine:t=>t.length?t[0]:4});Fn.lineSeparator=iG;Fn.readOnly=aG;Fn.phrases=Ue.define({compare(t,e){let n=Object.keys(t),r=Object.keys(e);return n.length==r.length&&n.every(i=>t[i]==e[i])}});Fn.languageData=rG;Fn.changeFilter=oG;Fn.transactionFilter=sG;Fn.transactionExtender=lG;kp.reconfigure=Tt.define();function oa(t,e,n={}){let r={};for(let i of t)for(let o of Object.keys(i)){let s=i[o],l=r[o];if(l===void 0)r[o]=s;else if(!(l===s||s===void 0))if(Object.hasOwnProperty.call(n,o))r[o]=n[o](l,s);else throw new Error("Config merge conflict for field "+o)}for(let i in e)r[i]===void 0&&(r[i]=e[i]);return r}class Lf{eq(e){return this==e}range(e,n=e){return py.create(e,n,this)}}Lf.prototype.startSide=Lf.prototype.endSide=0;Lf.prototype.point=!1;Lf.prototype.mapMode=Wr.TrackDel;class py{constructor(e,n,r){this.from=e,this.to=n,this.value=r}static create(e,n,r){return new py(e,n,r)}}function d9(t,e){return t.from-e.from||t.value.startSide-e.value.startSide}class NA{constructor(e,n,r,i){this.from=e,this.to=n,this.value=r,this.maxPoint=i}get length(){return this.to[this.to.length-1]}findIndex(e,n,r,i=0){let o=r?this.to:this.from;for(let s=i,l=o.length;;){if(s==l)return s;let a=s+l>>1,u=o[a]-e||(r?this.value[a].endSide:this.value[a].startSide)-n;if(a==s)return u>=0?s:l;u>=0?l=a:s=a+1}}between(e,n,r,i){for(let o=this.findIndex(n,-1e9,!0),s=this.findIndex(r,1e9,!1,o);o<s;o++)if(i(this.from[o]+e,this.to[o]+e,this.value[o])===!1)return!1}map(e,n){let r=[],i=[],o=[],s=-1,l=-1;for(let a=0;a<this.value.length;a++){let u=this.value[a],c=this.from[a]+e,h=this.to[a]+e,f,d;if(c==h){let p=n.mapPos(c,u.startSide,u.mapMode);if(p==null||(f=d=p,u.startSide!=u.endSide&&(d=n.mapPos(c,u.endSide),d<f)))continue}else if(f=n.mapPos(c,u.startSide),d=n.mapPos(h,u.endSide),f>d||f==d&&u.startSide>0&&u.endSide<=0)continue;(d-f||u.endSide-u.startSide)<0||(s<0&&(s=f),u.point&&(l=Math.max(l,d-f)),r.push(u),i.push(f-s),o.push(d-s))}return{mapped:r.length?new NA(i,o,r,l):null,pos:s}}}class qt{constructor(e,n,r,i){this.chunkPos=e,this.chunk=n,this.nextLayer=r,this.maxPoint=i}static create(e,n,r,i){return new qt(e,n,r,i)}get length(){let e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let e=this.nextLayer.size;for(let n of this.chunk)e+=n.value.length;return e}chunkEnd(e){return this.chunkPos[e]+this.chunk[e].length}update(e){let{add:n=[],sort:r=!1,filterFrom:i=0,filterTo:o=this.length}=e,s=e.filter;if(n.length==0&&!s)return this;if(r&&(n=n.slice().sort(d9)),this.isEmpty)return n.length?qt.of(n):this;let l=new hG(this,null,-1).goto(0),a=0,u=[],c=new cu;for(;l.value||a<n.length;)if(a<n.length&&(l.from-n[a].from||l.startSide-n[a].value.startSide)>=0){let h=n[a++];c.addInner(h.from,h.to,h.value)||u.push(h)}else l.rangeIndex==1&&l.chunkIndex<this.chunk.length&&(a==n.length||this.chunkEnd(l.chunkIndex)<n[a].from)&&(!s||i>this.chunkEnd(l.chunkIndex)||o<this.chunkPos[l.chunkIndex])&&c.addChunk(this.chunkPos[l.chunkIndex],this.chunk[l.chunkIndex])?l.nextChunk():((!s||i>l.to||o<l.from||s(l.from,l.to,l.value))&&(c.addInner(l.from,l.to,l.value)||u.push(py.create(l.from,l.to,l.value))),l.next());return c.finishInner(this.nextLayer.isEmpty&&!u.length?qt.empty:this.nextLayer.update({add:u,filter:s,filterFrom:i,filterTo:o}))}map(e){if(e.empty||this.isEmpty)return this;let n=[],r=[],i=-1;for(let s=0;s<this.chunk.length;s++){let l=this.chunkPos[s],a=this.chunk[s],u=e.touchesRange(l,l+a.length);if(u===!1)i=Math.max(i,a.maxPoint),n.push(a),r.push(e.mapPos(l));else if(u===!0){let{mapped:c,pos:h}=a.map(l,e);c&&(i=Math.max(i,c.maxPoint),n.push(c),r.push(h))}}let o=this.nextLayer.map(e);return n.length==0?o:new qt(r,n,o||qt.empty,i)}between(e,n,r){if(!this.isEmpty){for(let i=0;i<this.chunk.length;i++){let o=this.chunkPos[i],s=this.chunk[i];if(n>=o&&e<=o+s.length&&s.between(o,e-o,n-o,r)===!1)return}this.nextLayer.between(e,n,r)}}iter(e=0){return my.from([this]).goto(e)}get isEmpty(){return this.nextLayer==this}static iter(e,n=0){return my.from(e).goto(n)}static compare(e,n,r,i,o=-1){let s=e.filter(h=>h.maxPoint>0||!h.isEmpty&&h.maxPoint>=o),l=n.filter(h=>h.maxPoint>0||!h.isEmpty&&h.maxPoint>=o),a=VN(s,l,r),u=new Nm(s,a,o),c=new Nm(l,a,o);r.iterGaps((h,f,d)=>HN(u,h,c,f,d,i)),r.empty&&r.length==0&&HN(u,0,c,0,0,i)}static eq(e,n,r=0,i){i==null&&(i=999999999);let o=e.filter(c=>!c.isEmpty&&n.indexOf(c)<0),s=n.filter(c=>!c.isEmpty&&e.indexOf(c)<0);if(o.length!=s.length)return!1;if(!o.length)return!0;let l=VN(o,s),a=new Nm(o,l,0).goto(r),u=new Nm(s,l,0).goto(r);for(;;){if(a.to!=u.to||!p9(a.active,u.active)||a.point&&(!u.point||!a.point.eq(u.point)))return!1;if(a.to>i)return!0;a.next(),u.next()}}static spans(e,n,r,i,o=-1){let s=new Nm(e,null,o).goto(n),l=n,a=s.openStart;for(;;){let u=Math.min(s.to,r);if(s.point){let c=s.activeForPoint(s.to),h=s.pointFrom<n?c.length+1:s.point.startSide<0?c.length:Math.min(c.length,a);i.point(l,u,s.point,c,h,s.pointRank),a=Math.min(s.openEnd(u),c.length)}else u>l&&(i.span(l,u,s.active,a),a=s.openEnd(u));if(s.to>r)return a+(s.point&&s.to>r?1:0);l=s.to,s.next()}}static of(e,n=!1){let r=new cu;for(let i of e instanceof py?[e]:n?o5e(e):e)r.add(i.from,i.to,i.value);return r.finish()}static join(e){if(!e.length)return qt.empty;let n=e[e.length-1];for(let r=e.length-2;r>=0;r--)for(let i=e[r];i!=qt.empty;i=i.nextLayer)n=new qt(i.chunkPos,i.chunk,n,Math.max(i.maxPoint,n.maxPoint));return n}}qt.empty=new qt([],[],null,-1);function o5e(t){if(t.length>1)for(let e=t[0],n=1;n<t.length;n++){let r=t[n];if(d9(e,r)>0)return t.slice().sort(d9);e=r}return t}qt.empty.nextLayer=qt.empty;class cu{finishChunk(e){this.chunks.push(new NA(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(e,n,r){this.addInner(e,n,r)||(this.nextLayer||(this.nextLayer=new cu)).add(e,n,r)}addInner(e,n,r){let i=e-this.lastTo||r.startSide-this.last.endSide;if(i<=0&&(e-this.lastFrom||r.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return i<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(n-this.chunkStart),this.last=r,this.lastFrom=e,this.lastTo=n,this.value.push(r),r.point&&(this.maxPoint=Math.max(this.maxPoint,n-e)),!0)}addChunk(e,n){if((e-this.lastTo||n.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,n.maxPoint),this.chunks.push(n),this.chunkPos.push(e);let r=n.value.length-1;return this.last=n.value[r],this.lastFrom=n.from[r]+e,this.lastTo=n.to[r]+e,!0}finish(){return this.finishInner(qt.empty)}finishInner(e){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return e;let n=qt.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,n}}function VN(t,e,n){let r=new Map;for(let o of t)for(let s=0;s<o.chunk.length;s++)o.chunk[s].maxPoint<=0&&r.set(o.chunk[s],o.chunkPos[s]);let i=new Set;for(let o of e)for(let s=0;s<o.chunk.length;s++){let l=r.get(o.chunk[s]);l!=null&&(n?n.mapPos(l):l)==o.chunkPos[s]&&!(n!=null&&n.touchesRange(l,l+o.chunk[s].length))&&i.add(o.chunk[s])}return i}class hG{constructor(e,n,r,i=0){this.layer=e,this.skip=n,this.minPoint=r,this.rank=i}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e,n=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,n,!1),this}gotoInner(e,n,r){for(;this.chunkIndex<this.layer.chunk.length;){let i=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(i)||this.layer.chunkEnd(this.chunkIndex)<e||i.maxPoint<this.minPoint))break;this.chunkIndex++,r=!1}if(this.chunkIndex<this.layer.chunk.length){let i=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],n,!0);(!r||this.rangeIndex<i)&&this.setRangeIndex(i)}this.next()}forward(e,n){(this.to-e||this.endSide-n)<0&&this.gotoInner(e,n,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let e=this.layer.chunkPos[this.chunkIndex],n=this.layer.chunk[this.chunkIndex],r=e+n.from[this.rangeIndex];if(this.from=r,this.to=e+n.to[this.rangeIndex],this.value=n.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}}class my{constructor(e){this.heap=e}static from(e,n=null,r=-1){let i=[];for(let o=0;o<e.length;o++)for(let s=e[o];!s.isEmpty;s=s.nextLayer)s.maxPoint>=r&&i.push(new hG(s,n,r,o));return i.length==1?i[0]:new my(i)}get startSide(){return this.value?this.value.startSide:0}goto(e,n=-1e9){for(let r of this.heap)r.goto(e,n);for(let r=this.heap.length>>1;r>=0;r--)R7(this.heap,r);return this.next(),this}forward(e,n){for(let r of this.heap)r.forward(e,n);for(let r=this.heap.length>>1;r>=0;r--)R7(this.heap,r);(this.to-e||this.value.endSide-n)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),R7(this.heap,0)}}}function R7(t,e){for(let n=t[e];;){let r=(e<<1)+1;if(r>=t.length)break;let i=t[r];if(r+1<t.length&&i.compare(t[r+1])>=0&&(i=t[r+1],r++),n.compare(i)<0)break;t[r]=n,t[e]=i,e=r}}class Nm{constructor(e,n,r){this.minPoint=r,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=my.from(e,n,r)}goto(e,n=-1e9){return this.cursor.goto(e,n),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=n,this.openStart=-1,this.next(),this}forward(e,n){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-n)<0;)this.removeActive(this.minActive);this.cursor.forward(e,n)}removeActive(e){X2(this.active,e),X2(this.activeTo,e),X2(this.activeRank,e),this.minActive=jN(this.active,this.activeTo)}addActive(e){let n=0,{value:r,to:i,rank:o}=this.cursor;for(;n<this.activeRank.length&&(o-this.activeRank[n]||i-this.activeTo[n])>0;)n++;J2(this.active,n,r),J2(this.activeTo,n,i),J2(this.activeRank,n,o),e&&J2(e,n,this.cursor.from),this.minActive=jN(this.active,this.activeTo)}next(){let e=this.to,n=this.point;this.point=null;let r=this.openStart<0?[]:null;for(;;){let i=this.minActive;if(i>-1&&(this.activeTo[i]-this.cursor.from||this.active[i].endSide-this.cursor.startSide)<0){if(this.activeTo[i]>e){this.to=this.activeTo[i],this.endSide=this.active[i].endSide;break}this.removeActive(i),r&&X2(r,i)}else if(this.cursor.value)if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let o=this.cursor.value;if(!o.point)this.addActive(r),this.cursor.next();else if(n&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=o,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=o.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(r){this.openStart=0;for(let i=r.length-1;i>=0&&r[i]<e;i--)this.openStart++}}activeForPoint(e){if(!this.active.length)return this.active;let n=[];for(let r=this.active.length-1;r>=0&&!(this.activeRank[r]<this.pointRank);r--)(this.activeTo[r]>e||this.activeTo[r]==e&&this.active[r].endSide>=this.point.endSide)&&n.push(this.active[r]);return n.reverse()}openEnd(e){let n=0;for(let r=this.activeTo.length-1;r>=0&&this.activeTo[r]>e;r--)n++;return n}}function HN(t,e,n,r,i,o){t.goto(e),n.goto(r);let s=r+i,l=r,a=r-e;for(;;){let u=t.to+a-n.to,c=u||t.endSide-n.endSide,h=c<0?t.to+a:n.to,f=Math.min(h,s);if(t.point||n.point?t.point&&n.point&&(t.point==n.point||t.point.eq(n.point))&&p9(t.activeForPoint(t.to),n.activeForPoint(n.to))||o.comparePoint(l,f,t.point,n.point):f>l&&!p9(t.active,n.active)&&o.compareRange(l,f,t.active,n.active),h>s)break;(u||t.openEnd!=n.openEnd)&&o.boundChange&&o.boundChange(h),l=h,c<=0&&t.next(),c>=0&&n.next()}}function p9(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!=e[n]&&!t[n].eq(e[n]))return!1;return!0}function X2(t,e){for(let n=e,r=t.length-1;n<r;n++)t[n]=t[n+1];t.pop()}function J2(t,e,n){for(let r=t.length-1;r>=e;r--)t[r+1]=t[r];t[e]=n}function jN(t,e){let n=-1,r=1e9;for(let i=0;i<e.length;i++)(e[i]-r||t[i].endSide-t[n].endSide)<0&&(n=i,r=e[i]);return n}function Qp(t,e,n=t.length){let r=0;for(let i=0;i<n&&i<t.length;)t.charCodeAt(i)==9?(r+=e-r%e,i++):(r++,i=Ur(t,i));return r}function m9(t,e,n,r){for(let i=0,o=0;;){if(o>=e)return i;if(i==t.length)break;o+=t.charCodeAt(i)==9?n-o%n:1,i=Ur(t,i)}return r===!0?-1:t.length}const g9="",WN=typeof Symbol>"u"?"__"+g9:Symbol.for(g9),y9=typeof Symbol>"u"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),UN=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};class Fc{constructor(e,n){this.rules=[];let{finish:r}=n||{};function i(s){return/^@/.test(s)?[s]:s.split(/,\s*/)}function o(s,l,a,u){let c=[],h=/^@(\w+)\b/.exec(s[0]),f=h&&h[1]=="keyframes";if(h&&l==null)return a.push(s[0]+";");for(let d in l){let p=l[d];if(/&/.test(d))o(d.split(/,\s*/).map(m=>s.map(y=>m.replace(/&/,y))).reduce((m,y)=>m.concat(y)),p,a);else if(p&&typeof p=="object"){if(!h)throw new RangeError("The value of a property ("+d+") should be a primitive value.");o(i(d),p,c,f)}else p!=null&&c.push(d.replace(/_.*/,"").replace(/[A-Z]/g,m=>"-"+m.toLowerCase())+": "+p+";")}(c.length||f)&&a.push((r&&!h&&!u?s.map(r):s).join(", ")+" {"+c.join(" ")+"}")}for(let s in e)o(i(s),e[s],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let e=UN[WN]||1;return UN[WN]=e+1,g9+e.toString(36)}static mount(e,n,r){let i=e[y9],o=r&&r.nonce;i?o&&i.setNonce(o):i=new s5e(e,o),i.mount(Array.isArray(n)?n:[n],e)}}let qN=new Map;class s5e{constructor(e,n){let r=e.ownerDocument||e,i=r.defaultView;if(!e.head&&e.adoptedStyleSheets&&i.CSSStyleSheet){let o=qN.get(r);if(o)return e[y9]=o;this.sheet=new i.CSSStyleSheet,qN.set(r,this)}else this.styleTag=r.createElement("style"),n&&this.styleTag.setAttribute("nonce",n);this.modules=[],e[y9]=this}mount(e,n){let r=this.sheet,i=0,o=0;for(let s=0;s<e.length;s++){let l=e[s],a=this.modules.indexOf(l);if(a<o&&a>-1&&(this.modules.splice(a,1),o--,a=-1),a==-1){if(this.modules.splice(o++,0,l),r)for(let u=0;u<l.rules.length;u++)r.insertRule(l.rules[u],i++)}else{for(;o<a;)i+=this.modules[o++].rules.length;i+=l.rules.length,o++}}if(r)n.adoptedStyleSheets.indexOf(this.sheet)<0&&(n.adoptedStyleSheets=[this.sheet,...n.adoptedStyleSheets]);else{let s="";for(let a=0;a<this.modules.length;a++)s+=this.modules[a].getRules()+`
`;this.styleTag.textContent=s;let l=n.head||n;this.styleTag.parentNode!=l&&l.insertBefore(this.styleTag,l.firstChild)}}setNonce(e){this.styleTag&&this.styleTag.getAttribute("nonce")!=e&&this.styleTag.setAttribute("nonce",e)}}var hu={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},gy={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},l5e=typeof navigator<"u"&&/Mac/.test(navigator.platform),a5e=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Hr=0;Hr<10;Hr++)hu[48+Hr]=hu[96+Hr]=String(Hr);for(var Hr=1;Hr<=24;Hr++)hu[Hr+111]="F"+Hr;for(var Hr=65;Hr<=90;Hr++)hu[Hr]=String.fromCharCode(Hr+32),gy[Hr]=String.fromCharCode(Hr);for(var N7 in hu)gy.hasOwnProperty(N7)||(gy[N7]=hu[N7]);function fG(t){var e=l5e&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||a5e&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?gy:hu)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}function un(){var t=arguments[0];typeof t=="string"&&(t=document.createElement(t));var e=1,n=arguments[1];if(n&&typeof n=="object"&&n.nodeType==null&&!Array.isArray(n)){for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){var i=n[r];typeof i=="string"?t.setAttribute(r,i):i!=null&&(t[r]=i)}e++}for(;e<arguments.length;e++)dG(t,arguments[e]);return t}function dG(t,e){if(typeof e=="string")t.appendChild(document.createTextNode(e));else if(e!=null)if(e.nodeType!=null)t.appendChild(e);else if(Array.isArray(e))for(var n=0;n<e.length;n++)dG(t,e[n]);else throw new RangeError("Unsupported child node: "+e)}function yy(t){let e;return t.nodeType==11?e=t.getSelection?t:t.ownerDocument:e=t,e.getSelection()}function v9(t,e){return e?t==e||t.contains(e.nodeType!=1?e.parentNode:e):!1}function ww(t,e){if(!e.anchorNode)return!1;try{return v9(t,e.anchorNode)}catch{return!1}}function vy(t){return t.nodeType==3?zf(t,0,t.nodeValue.length).getClientRects():t.nodeType==1?t.getClientRects():[]}function u1(t,e,n,r){return n?KN(t,e,n,r,-1)||KN(t,e,n,r,1):!1}function Bf(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e}function yx(t){return t.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(t.nodeName)}function KN(t,e,n,r,i){for(;;){if(t==n&&e==r)return!0;if(e==(i<0?0:Zl(t))){if(t.nodeName=="DIV")return!1;let o=t.parentNode;if(!o||o.nodeType!=1)return!1;e=Bf(t)+(i<0?0:1),t=o}else if(t.nodeType==1){if(t=t.childNodes[e+(i<0?-1:0)],t.nodeType==1&&t.contentEditable=="false")return!1;e=i<0?Zl(t):0}else return!1}}function Zl(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function n3(t,e){let n=e?t.left:t.right;return{left:n,right:n,top:t.top,bottom:t.bottom}}function u5e(t){let e=t.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.innerWidth,top:0,bottom:t.innerHeight}}function pG(t,e){let n=e.width/t.offsetWidth,r=e.height/t.offsetHeight;return(n>.995&&n<1.005||!isFinite(n)||Math.abs(e.width-t.offsetWidth)<1)&&(n=1),(r>.995&&r<1.005||!isFinite(r)||Math.abs(e.height-t.offsetHeight)<1)&&(r=1),{scaleX:n,scaleY:r}}function c5e(t,e,n,r,i,o,s,l){let a=t.ownerDocument,u=a.defaultView||window;for(let c=t,h=!1;c&&!h;)if(c.nodeType==1){let f,d=c==a.body,p=1,m=1;if(d)f=u5e(u);else{if(/^(fixed|sticky)$/.test(getComputedStyle(c).position)&&(h=!0),c.scrollHeight<=c.clientHeight&&c.scrollWidth<=c.clientWidth){c=c.assignedSlot||c.parentNode;continue}let v=c.getBoundingClientRect();({scaleX:p,scaleY:m}=pG(c,v)),f={left:v.left,right:v.left+c.clientWidth*p,top:v.top,bottom:v.top+c.clientHeight*m}}let y=0,g=0;if(i=="nearest")e.top<f.top?(g=e.top-(f.top+s),n>0&&e.bottom>f.bottom+g&&(g=e.bottom-f.bottom+s)):e.bottom>f.bottom&&(g=e.bottom-f.bottom+s,n<0&&e.top-g<f.top&&(g=e.top-(f.top+s)));else{let v=e.bottom-e.top,w=f.bottom-f.top;g=(i=="center"&&v<=w?e.top+v/2-w/2:i=="start"||i=="center"&&n<0?e.top-s:e.bottom-w+s)-f.top}if(r=="nearest"?e.left<f.left?(y=e.left-(f.left+o),n>0&&e.right>f.right+y&&(y=e.right-f.right+o)):e.right>f.right&&(y=e.right-f.right+o,n<0&&e.left<f.left+y&&(y=e.left-(f.left+o))):y=(r=="center"?e.left+(e.right-e.left)/2-(f.right-f.left)/2:r=="start"==l?e.left-o:e.right-(f.right-f.left)+o)-f.left,y||g)if(d)u.scrollBy(y,g);else{let v=0,w=0;if(g){let b=c.scrollTop;c.scrollTop+=g/m,w=(c.scrollTop-b)*m}if(y){let b=c.scrollLeft;c.scrollLeft+=y/p,v=(c.scrollLeft-b)*p}e={left:e.left-v,top:e.top-w,right:e.right-v,bottom:e.bottom-w},v&&Math.abs(v-y)<1&&(r="nearest"),w&&Math.abs(w-g)<1&&(i="nearest")}if(d)break;(e.top<f.top||e.bottom>f.bottom||e.left<f.left||e.right>f.right)&&(e={left:Math.max(e.left,f.left),right:Math.min(e.right,f.right),top:Math.max(e.top,f.top),bottom:Math.min(e.bottom,f.bottom)}),c=c.assignedSlot||c.parentNode}else if(c.nodeType==11)c=c.host;else break}function h5e(t){let e=t.ownerDocument,n,r;for(let i=t.parentNode;i&&!(i==e.body||n&&r);)if(i.nodeType==1)!r&&i.scrollHeight>i.clientHeight&&(r=i),!n&&i.scrollWidth>i.clientWidth&&(n=i),i=i.assignedSlot||i.parentNode;else if(i.nodeType==11)i=i.host;else break;return{x:n,y:r}}class f5e{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){let{anchorNode:n,focusNode:r}=e;this.set(n,Math.min(e.anchorOffset,n?Zl(n):0),r,Math.min(e.focusOffset,r?Zl(r):0))}set(e,n,r,i){this.anchorNode=e,this.anchorOffset=n,this.focusNode=r,this.focusOffset=i}}let wd=null;function mG(t){if(t.setActive)return t.setActive();if(wd)return t.focus(wd);let e=[];for(let n=t;n&&(e.push(n,n.scrollTop,n.scrollLeft),n!=n.ownerDocument);n=n.parentNode);if(t.focus(wd==null?{get preventScroll(){return wd={preventScroll:!0},!0}}:void 0),!wd){wd=!1;for(let n=0;n<e.length;){let r=e[n++],i=e[n++],o=e[n++];r.scrollTop!=i&&(r.scrollTop=i),r.scrollLeft!=o&&(r.scrollLeft=o)}}}let GN;function zf(t,e,n=e){let r=GN||(GN=document.createRange());return r.setEnd(t,n),r.setStart(t,e),r}function v0(t,e,n,r){let i={key:e,code:e,keyCode:n,which:n,cancelable:!0};r&&({altKey:i.altKey,ctrlKey:i.ctrlKey,shiftKey:i.shiftKey,metaKey:i.metaKey}=r);let o=new KeyboardEvent("keydown",i);o.synthetic=!0,t.dispatchEvent(o);let s=new KeyboardEvent("keyup",i);return s.synthetic=!0,t.dispatchEvent(s),o.defaultPrevented||s.defaultPrevented}function d5e(t){for(;t;){if(t&&(t.nodeType==9||t.nodeType==11&&t.host))return t;t=t.assignedSlot||t.parentNode}return null}function gG(t){for(;t.attributes.length;)t.removeAttributeNode(t.attributes[0])}function p5e(t,e){let n=e.focusNode,r=e.focusOffset;if(!n||e.anchorNode!=n||e.anchorOffset!=r)return!1;for(r=Math.min(r,Zl(n));;)if(r){if(n.nodeType!=1)return!1;let i=n.childNodes[r-1];i.contentEditable=="false"?r--:(n=i,r=Zl(n))}else{if(n==t)return!0;r=Bf(n),n=n.parentNode}}function yG(t){return t.scrollTop>Math.max(1,t.scrollHeight-t.clientHeight-4)}function vG(t,e){for(let n=t,r=e;;){if(n.nodeType==3&&r>0)return{node:n,offset:r};if(n.nodeType==1&&r>0){if(n.contentEditable=="false")return null;n=n.childNodes[r-1],r=Zl(n)}else if(n.parentNode&&!yx(n))r=Bf(n),n=n.parentNode;else return null}}function wG(t,e){for(let n=t,r=e;;){if(n.nodeType==3&&r<n.nodeValue.length)return{node:n,offset:r};if(n.nodeType==1&&r<n.childNodes.length){if(n.contentEditable=="false")return null;n=n.childNodes[r],r=0}else if(n.parentNode&&!yx(n))r=Bf(n)+1,n=n.parentNode;else return null}}class oi{constructor(e,n,r=!0){this.node=e,this.offset=n,this.precise=r}static before(e,n){return new oi(e.parentNode,Bf(e),n)}static after(e,n){return new oi(e.parentNode,Bf(e)+1,n)}}const LA=[];class fn{constructor(){this.parent=null,this.dom=null,this.flags=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e){let n=this.posAtStart;for(let r of this.children){if(r==e)return n;n+=r.length+r.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}sync(e,n){if(this.flags&2){let r=this.dom,i=null,o;for(let s of this.children){if(s.flags&7){if(!s.dom&&(o=i?i.nextSibling:r.firstChild)){let l=fn.get(o);(!l||!l.parent&&l.canReuseDOM(s))&&s.reuseDOM(o)}s.sync(e,n),s.flags&=-8}if(o=i?i.nextSibling:r.firstChild,n&&!n.written&&n.node==r&&o!=s.dom&&(n.written=!0),s.dom.parentNode==r)for(;o&&o!=s.dom;)o=YN(o);else r.insertBefore(s.dom,o);i=s.dom}for(o=i?i.nextSibling:r.firstChild,o&&n&&n.node==r&&(n.written=!0);o;)o=YN(o)}else if(this.flags&1)for(let r of this.children)r.flags&7&&(r.sync(e,n),r.flags&=-8)}reuseDOM(e){}localPosFromDOM(e,n){let r;if(e==this.dom)r=this.dom.childNodes[n];else{let i=Zl(e)==0?0:n==0?-1:1;for(;;){let o=e.parentNode;if(o==this.dom)break;i==0&&o.firstChild!=o.lastChild&&(e==o.firstChild?i=-1:i=1),e=o}i<0?r=e:r=e.nextSibling}if(r==this.dom.firstChild)return 0;for(;r&&!fn.get(r);)r=r.nextSibling;if(!r)return this.length;for(let i=0,o=0;;i++){let s=this.children[i];if(s.dom==r)return o;o+=s.length+s.breakAfter}}domBoundsAround(e,n,r=0){let i=-1,o=-1,s=-1,l=-1;for(let a=0,u=r,c=r;a<this.children.length;a++){let h=this.children[a],f=u+h.length;if(u<e&&f>n)return h.domBoundsAround(e,n,u);if(f>=e&&i==-1&&(i=a,o=u),u>n&&h.dom.parentNode==this.dom){s=a,l=c;break}c=f,u=f+h.breakAfter}return{from:o,to:l<0?r+this.length:l,startDOM:(i?this.children[i-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:s<this.children.length&&s>=0?this.children[s].dom:null}}markDirty(e=!1){this.flags|=2,this.markParentsDirty(e)}markParentsDirty(e){for(let n=this.parent;n;n=n.parent){if(e&&(n.flags|=2),n.flags&1)return;n.flags|=1,e=!1}}setParent(e){this.parent!=e&&(this.parent=e,this.flags&7&&this.markParentsDirty(!0))}setDOM(e){this.dom!=e&&(this.dom&&(this.dom.cmView=null),this.dom=e,e.cmView=this)}get rootView(){for(let e=this;;){let n=e.parent;if(!n)return e;e=n}}replaceChildren(e,n,r=LA){this.markDirty();for(let i=e;i<n;i++){let o=this.children[i];o.parent==this&&r.indexOf(o)<0&&o.destroy()}r.length<250?this.children.splice(e,n-e,...r):this.children=[].concat(this.children.slice(0,e),r,this.children.slice(n));for(let i=0;i<r.length;i++)r[i].setParent(this)}ignoreMutation(e){return!1}ignoreEvent(e){return!1}childCursor(e=this.length){return new xG(this.children,e,this.children.length)}childPos(e,n=1){return this.childCursor().findPos(e,n)}toString(){let e=this.constructor.name.replace("View","");return e+(this.children.length?"("+this.children.join()+")":this.length?"["+(e=="Text"?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(e){return e.cmView}get isEditable(){return!0}get isWidget(){return!1}get isHidden(){return!1}merge(e,n,r,i,o,s){return!1}become(e){return!1}canReuseDOM(e){return e.constructor==this.constructor&&!((this.flags|e.flags)&8)}getSide(){return 0}destroy(){for(let e of this.children)e.parent==this&&e.destroy();this.parent=null}}fn.prototype.breakAfter=0;function YN(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class xG{constructor(e,n,r){this.children=e,this.pos=n,this.i=r,this.off=0}findPos(e,n=1){for(;;){if(e>this.pos||e==this.pos&&(n>0||this.i==0||this.children[this.i-1].breakAfter))return this.off=e-this.pos,this;let r=this.children[--this.i];this.pos-=r.length+r.breakAfter}}}function bG(t,e,n,r,i,o,s,l,a){let{children:u}=t,c=u.length?u[e]:null,h=o.length?o[o.length-1]:null,f=h?h.breakAfter:s;if(!(e==r&&c&&!s&&!f&&o.length<2&&c.merge(n,i,o.length?h:null,n==0,l,a))){if(r<u.length){let d=u[r];d&&(i<d.length||d.breakAfter&&(h!=null&&h.breakAfter))?(e==r&&(d=d.split(i),i=0),!f&&h&&d.merge(0,i,h,!0,0,a)?o[o.length-1]=d:((i||d.children.length&&!d.children[0].length)&&d.merge(0,i,null,!1,0,a),o.push(d))):d!=null&&d.breakAfter&&(h?h.breakAfter=1:s=1),r++}for(c&&(c.breakAfter=s,n>0&&(!s&&o.length&&c.merge(n,c.length,o[0],!1,l,0)?c.breakAfter=o.shift().breakAfter:(n<c.length||c.children.length&&c.children[c.children.length-1].length==0)&&c.merge(n,c.length,null,!1,l,0),e++));e<r&&o.length;)if(u[r-1].become(o[o.length-1]))r--,o.pop(),a=o.length?0:l;else if(u[e].become(o[0]))e++,o.shift(),l=o.length?0:a;else break;!o.length&&e&&r<u.length&&!u[e-1].breakAfter&&u[r].merge(0,0,u[e-1],!1,l,a)&&e--,(e<r||o.length)&&t.replaceChildren(e,r,o)}}function kG(t,e,n,r,i,o){let s=t.childCursor(),{i:l,off:a}=s.findPos(n,1),{i:u,off:c}=s.findPos(e,-1),h=e-n;for(let f of r)h+=f.length;t.length+=h,bG(t,u,c,l,a,r,0,i,o)}let Zi=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},w9=typeof document<"u"?document:{documentElement:{style:{}}};const x9=/Edge\/(\d+)/.exec(Zi.userAgent),SG=/MSIE \d/.test(Zi.userAgent),b9=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Zi.userAgent),r3=!!(SG||b9||x9),XN=!r3&&/gecko\/(\d+)/i.test(Zi.userAgent),L7=!r3&&/Chrome\/(\d+)/.exec(Zi.userAgent),JN="webkitFontSmoothing"in w9.documentElement.style,CG=!r3&&/Apple Computer/.test(Zi.vendor),ZN=CG&&(/Mobile\/\w+/.test(Zi.userAgent)||Zi.maxTouchPoints>2);var We={mac:ZN||/Mac/.test(Zi.platform),windows:/Win/.test(Zi.platform),linux:/Linux|X11/.test(Zi.platform),ie:r3,ie_version:SG?w9.documentMode||6:b9?+b9[1]:x9?+x9[1]:0,gecko:XN,gecko_version:XN?+(/Firefox\/(\d+)/.exec(Zi.userAgent)||[0,0])[1]:0,chrome:!!L7,chrome_version:L7?+L7[1]:0,ios:ZN,android:/Android\b/.test(Zi.userAgent),webkit:JN,safari:CG,webkit_version:JN?+(/\bAppleWebKit\/(\d+)/.exec(Zi.userAgent)||[0,0])[1]:0,tabSize:w9.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};const m5e=256;class rl extends fn{constructor(e){super(),this.text=e}get length(){return this.text.length}createDOM(e){this.setDOM(e||document.createTextNode(this.text))}sync(e,n){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(n&&n.node==this.dom&&(n.written=!0),this.dom.nodeValue=this.text)}reuseDOM(e){e.nodeType==3&&this.createDOM(e)}merge(e,n,r){return this.flags&8||r&&(!(r instanceof rl)||this.length-(n-e)+r.length>m5e||r.flags&8)?!1:(this.text=this.text.slice(0,e)+(r?r.text:"")+this.text.slice(n),this.markDirty(),!0)}split(e){let n=new rl(this.text.slice(e));return this.text=this.text.slice(0,e),this.markDirty(),n.flags|=this.flags&8,n}localPosFromDOM(e,n){return e==this.dom?n:n?this.text.length:0}domAtPos(e){return new oi(this.dom,e)}domBoundsAround(e,n,r){return{from:r,to:r+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(e,n){return g5e(this.dom,e,n)}}class fu extends fn{constructor(e,n=[],r=0){super(),this.mark=e,this.children=n,this.length=r;for(let i of n)i.setParent(this)}setAttrs(e){if(gG(e),this.mark.class&&(e.className=this.mark.class),this.mark.attrs)for(let n in this.mark.attrs)e.setAttribute(n,this.mark.attrs[n]);return e}canReuseDOM(e){return super.canReuseDOM(e)&&!((this.flags|e.flags)&8)}reuseDOM(e){e.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(e),this.flags|=6)}sync(e,n){this.dom?this.flags&4&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(e,n)}merge(e,n,r,i,o,s){return r&&(!(r instanceof fu&&r.mark.eq(this.mark))||e&&o<=0||n<this.length&&s<=0)?!1:(kG(this,e,n,r?r.children.slice():[],o-1,s-1),this.markDirty(),!0)}split(e){let n=[],r=0,i=-1,o=0;for(let l of this.children){let a=r+l.length;a>e&&n.push(r<e?l.split(e-r):l),i<0&&r>=e&&(i=o),r=a,o++}let s=this.length-e;return this.length=e,i>-1&&(this.children.length=i,this.markDirty()),new fu(this.mark,n,s)}domAtPos(e){return TG(this,e)}coordsAt(e,n){return AG(this,e,n)}}function g5e(t,e,n){let r=t.nodeValue.length;e>r&&(e=r);let i=e,o=e,s=0;e==0&&n<0||e==r&&n>=0?We.chrome||We.gecko||(e?(i--,s=1):o<r&&(o++,s=-1)):n<0?i--:o<r&&o++;let l=zf(t,i,o).getClientRects();if(!l.length)return null;let a=l[(s?s<0:n>=0)?0:l.length-1];return We.safari&&!s&&a.width==0&&(a=Array.prototype.find.call(l,u=>u.width)||a),s?n3(a,s<0):a||null}class dc extends fn{static create(e,n,r){return new dc(e,n,r)}constructor(e,n,r){super(),this.widget=e,this.length=n,this.side=r,this.prevWidget=null}split(e){let n=dc.create(this.widget,this.length-e,this.side);return this.length-=e,n}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}getSide(){return this.side}merge(e,n,r,i,o,s){return r&&(!(r instanceof dc)||!this.widget.compare(r.widget)||e>0&&o<=0||n<this.length&&s<=0)?!1:(this.length=e+(r?r.length:0)+(this.length-n),!0)}become(e){return e instanceof dc&&e.side==this.side&&this.widget.constructor==e.widget.constructor?(this.widget.compare(e.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get overrideDOMText(){if(this.length==0)return Yt.empty;let e=this;for(;e.parent;)e=e.parent;let{view:n}=e,r=n&&n.state.doc,i=this.posAtStart;return r?r.slice(i,i+this.length):Yt.empty}domAtPos(e){return(this.length?e==0:this.side>0)?oi.before(this.dom):oi.after(this.dom,e==this.length)}domBoundsAround(){return null}coordsAt(e,n){let r=this.widget.coordsAt(this.dom,e,n);if(r)return r;let i=this.dom.getClientRects(),o=null;if(!i.length)return null;let s=this.side?this.side<0:e>0;for(let l=s?i.length-1:0;o=i[l],!(e>0?l==0:l==i.length-1||o.top<o.bottom);l+=s?-1:1);return n3(o,!s)}get isEditable(){return!1}get isWidget(){return!0}get isHidden(){return this.widget.isHidden}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class Sp extends fn{constructor(e){super(),this.side=e}get length(){return 0}merge(){return!1}become(e){return e instanceof Sp&&e.side==this.side}split(){return new Sp(this.side)}sync(){if(!this.dom){let e=document.createElement("img");e.className="cm-widgetBuffer",e.setAttribute("aria-hidden","true"),this.setDOM(e)}}getSide(){return this.side}domAtPos(e){return this.side>0?oi.before(this.dom):oi.after(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(e){return this.dom.getBoundingClientRect()}get overrideDOMText(){return Yt.empty}get isHidden(){return!0}}rl.prototype.children=dc.prototype.children=Sp.prototype.children=LA;function TG(t,e){let n=t.dom,{children:r}=t,i=0;for(let o=0;i<r.length;i++){let s=r[i],l=o+s.length;if(!(l==o&&s.getSide()<=0)){if(e>o&&e<l&&s.dom.parentNode==n)return s.domAtPos(e-o);if(e<=o)break;o=l}}for(let o=i;o>0;o--){let s=r[o-1];if(s.dom.parentNode==n)return s.domAtPos(s.length)}for(let o=i;o<r.length;o++){let s=r[o];if(s.dom.parentNode==n)return s.domAtPos(0)}return new oi(n,0)}function MG(t,e,n){let r,{children:i}=t;n>0&&e instanceof fu&&i.length&&(r=i[i.length-1])instanceof fu&&r.mark.eq(e.mark)?MG(r,e.children[0],n-1):(i.push(e),e.setParent(t)),t.length+=e.length}function AG(t,e,n){let r=null,i=-1,o=null,s=-1;function l(u,c){for(let h=0,f=0;h<u.children.length&&f<=c;h++){let d=u.children[h],p=f+d.length;p>=c&&(d.children.length?l(d,c-f):(!o||o.isHidden&&(n>0||v5e(o,d)))&&(p>c||f==p&&d.getSide()>0)?(o=d,s=c-f):(f<c||f==p&&d.getSide()<0&&!d.isHidden)&&(r=d,i=c-f)),f=p}}l(t,e);let a=(n<0?r:o)||r||o;return a?a.coordsAt(Math.max(0,a==r?i:s),n):y5e(t)}function y5e(t){let e=t.dom.lastChild;if(!e)return t.dom.getBoundingClientRect();let n=vy(e);return n[n.length-1]||null}function v5e(t,e){let n=t.coordsAt(0,1),r=e.coordsAt(0,1);return n&&r&&r.top<n.bottom}function k9(t,e){for(let n in t)n=="class"&&e.class?e.class+=" "+t.class:n=="style"&&e.style?e.style+=";"+t.style:e[n]=t[n];return e}const QN=Object.create(null);function vx(t,e,n){if(t==e)return!0;t||(t=QN),e||(e=QN);let r=Object.keys(t),i=Object.keys(e);if(r.length-(n&&r.indexOf(n)>-1?1:0)!=i.length-(n&&i.indexOf(n)>-1?1:0))return!1;for(let o of r)if(o!=n&&(i.indexOf(o)==-1||t[o]!==e[o]))return!1;return!0}function S9(t,e,n){let r=!1;if(e)for(let i in e)n&&i in n||(r=!0,i=="style"?t.style.cssText="":t.removeAttribute(i));if(n)for(let i in n)e&&e[i]==n[i]||(r=!0,i=="style"?t.style.cssText=n[i]:t.setAttribute(i,n[i]));return r}function w5e(t){let e=Object.create(null);for(let n=0;n<t.attributes.length;n++){let r=t.attributes[n];e[r.name]=r.value}return e}let Su=class{eq(e){return!1}updateDOM(e,n){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(e){return!0}coordsAt(e,n,r){return null}get isHidden(){return!1}get editable(){return!1}destroy(e){}};var Ri=function(t){return t[t.Text=0]="Text",t[t.WidgetBefore=1]="WidgetBefore",t[t.WidgetAfter=2]="WidgetAfter",t[t.WidgetRange=3]="WidgetRange",t}(Ri||(Ri={}));let st=class extends Lf{constructor(e,n,r,i){super(),this.startSide=e,this.endSide=n,this.widget=r,this.spec=i}get heightRelevant(){return!1}static mark(e){return new Vv(e)}static widget(e){let n=Math.max(-1e4,Math.min(1e4,e.side||0)),r=!!e.block;return n+=r&&!e.inlineOrder?n>0?3e8:-4e8:n>0?1e8:-1e8,new $c(e,n,n,r,e.widget||null,!1)}static replace(e){let n=!!e.block,r,i;if(e.isBlockGap)r=-5e8,i=4e8;else{let{start:o,end:s}=EG(e,n);r=(o?n?-3e8:-1:5e8)-1,i=(s?n?2e8:1:-6e8)+1}return new $c(e,r,i,n,e.widget||null,!0)}static line(e){return new Hv(e)}static set(e,n=!1){return qt.of(e,n)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}};st.none=qt.empty;class Vv extends st{constructor(e){let{start:n,end:r}=EG(e);super(n?-1:5e8,r?1:-6e8,null,e),this.tagName=e.tagName||"span",this.class=e.class||"",this.attrs=e.attributes||null}eq(e){var n,r;return this==e||e instanceof Vv&&this.tagName==e.tagName&&(this.class||((n=this.attrs)===null||n===void 0?void 0:n.class))==(e.class||((r=e.attrs)===null||r===void 0?void 0:r.class))&&vx(this.attrs,e.attrs,"class")}range(e,n=e){if(e>=n)throw new RangeError("Mark decorations may not be empty");return super.range(e,n)}}Vv.prototype.point=!1;class Hv extends st{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof Hv&&this.spec.class==e.spec.class&&vx(this.spec.attributes,e.spec.attributes)}range(e,n=e){if(n!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,n)}}Hv.prototype.mapMode=Wr.TrackBefore;Hv.prototype.point=!0;class $c extends st{constructor(e,n,r,i,o,s){super(n,r,o,e),this.block=i,this.isReplace=s,this.mapMode=i?n<=0?Wr.TrackBefore:Wr.TrackAfter:Wr.TrackDel}get type(){return this.startSide!=this.endSide?Ri.WidgetRange:this.startSide<=0?Ri.WidgetBefore:Ri.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(e){return e instanceof $c&&x5e(this.widget,e.widget)&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide}range(e,n=e){if(this.isReplace&&(e>n||e==n&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&n!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,n)}}$c.prototype.point=!0;function EG(t,e=!1){let{inclusiveStart:n,inclusiveEnd:r}=t;return n==null&&(n=t.inclusive),r==null&&(r=t.inclusive),{start:n??e,end:r??e}}function x5e(t,e){return t==e||!!(t&&e&&t.compare(e))}function xw(t,e,n,r=0){let i=n.length-1;i>=0&&n[i]+r>=t?n[i]=Math.max(n[i],e):n.push(t,e)}class fr extends fn{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(e,n,r,i,o,s){if(r){if(!(r instanceof fr))return!1;this.dom||r.transferDOM(this)}return i&&this.setDeco(r?r.attrs:null),kG(this,e,n,r?r.children.slice():[],o,s),!0}split(e){let n=new fr;if(n.breakAfter=this.breakAfter,this.length==0)return n;let{i:r,off:i}=this.childPos(e);i&&(n.append(this.children[r].split(i),0),this.children[r].merge(i,this.children[r].length,null,!1,0,0),r++);for(let o=r;o<this.children.length;o++)n.append(this.children[o],0);for(;r>0&&this.children[r-1].length==0;)this.children[--r].destroy();return this.children.length=r,this.markDirty(),this.length=e,n}transferDOM(e){this.dom&&(this.markDirty(),e.setDOM(this.dom),e.prevAttrs=this.prevAttrs===void 0?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(e){vx(this.attrs,e)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=e)}append(e,n){MG(this,e,n)}addLineDeco(e){let n=e.spec.attributes,r=e.spec.class;n&&(this.attrs=k9(n,this.attrs||{})),r&&(this.attrs=k9({class:r},this.attrs||{}))}domAtPos(e){return TG(this,e)}reuseDOM(e){e.nodeName=="DIV"&&(this.setDOM(e),this.flags|=6)}sync(e,n){var r;this.dom?this.flags&4&&(gG(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),this.prevAttrs!==void 0&&(S9(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(e,n);let i=this.dom.lastChild;for(;i&&fn.get(i)instanceof fu;)i=i.lastChild;if(!i||!this.length||i.nodeName!="BR"&&((r=fn.get(i))===null||r===void 0?void 0:r.isEditable)==!1&&(!We.ios||!this.children.some(o=>o instanceof rl))){let o=document.createElement("BR");o.cmIgnore=!0,this.dom.appendChild(o)}}measureTextSize(){if(this.children.length==0||this.length>20)return null;let e=0,n;for(let r of this.children){if(!(r instanceof rl)||/[^ -~]/.test(r.text))return null;let i=vy(r.dom);if(i.length!=1)return null;e+=i[0].width,n=i[0].height}return e?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:e/this.length,textHeight:n}:null}coordsAt(e,n){let r=AG(this,e,n);if(!this.children.length&&r&&this.parent){let{heightOracle:i}=this.parent.view.viewState,o=r.bottom-r.top;if(Math.abs(o-i.lineHeight)<2&&i.textHeight<o){let s=(o-i.textHeight)/2;return{top:r.top+s,bottom:r.bottom-s,left:r.left,right:r.left}}}return r}become(e){return e instanceof fr&&this.children.length==0&&e.children.length==0&&vx(this.attrs,e.attrs)&&this.breakAfter==e.breakAfter}covers(){return!0}static find(e,n){for(let r=0,i=0;r<e.children.length;r++){let o=e.children[r],s=i+o.length;if(s>=n){if(o instanceof fr)return o;if(s>n)break}i=s+o.breakAfter}return null}}class tu extends fn{constructor(e,n,r){super(),this.widget=e,this.length=n,this.deco=r,this.breakAfter=0,this.prevWidget=null}merge(e,n,r,i,o,s){return r&&(!(r instanceof tu)||!this.widget.compare(r.widget)||e>0&&o<=0||n<this.length&&s<=0)?!1:(this.length=e+(r?r.length:0)+(this.length-n),!0)}domAtPos(e){return e==0?oi.before(this.dom):oi.after(this.dom,e==this.length)}split(e){let n=this.length-e;this.length=e;let r=new tu(this.widget,n,this.deco);return r.breakAfter=this.breakAfter,r}get children(){return LA}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):Yt.empty}domBoundsAround(){return null}become(e){return e instanceof tu&&e.widget.constructor==this.widget.constructor?(e.widget.compare(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,this.deco=e.deco,this.breakAfter=e.breakAfter,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get isEditable(){return!1}get isWidget(){return!0}coordsAt(e,n){let r=this.widget.coordsAt(this.dom,e,n);return r||(this.widget instanceof C9?null:n3(this.dom.getBoundingClientRect(),this.length?e==0:n<=0))}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}covers(e){let{startSide:n,endSide:r}=this.deco;return n==r?!1:e<0?n<0:r>0}}class C9 extends Su{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement("div");return e.className="cm-gap",this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get editable(){return!0}get estimatedHeight(){return this.height}ignoreEvent(){return!1}}class c1{constructor(e,n,r,i){this.doc=e,this.pos=n,this.end=r,this.disallowBlockEffectsFor=i,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=e.iter(),this.skip=n}posCovered(){if(this.content.length==0)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let e=this.content[this.content.length-1];return!(e.breakAfter||e instanceof tu&&e.deco.endSide<0)}getLine(){return this.curLine||(this.content.push(this.curLine=new fr),this.atCursorPos=!0),this.curLine}flushBuffer(e=this.bufferMarks){this.pendingBuffer&&(this.curLine.append(Z2(new Sp(-1),e),e.length),this.pendingBuffer=0)}addBlockWidget(e){this.flushBuffer(),this.curLine=null,this.content.push(e)}finish(e){this.pendingBuffer&&e<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,!this.posCovered()&&!(e&&this.content.length&&this.content[this.content.length-1]instanceof tu)&&this.getLine()}buildText(e,n,r){for(;e>0;){if(this.textOff==this.text.length){let{value:o,lineBreak:s,done:l}=this.cursor.next(this.skip);if(this.skip=0,l)throw new Error("Ran out of text content when drawing inline views");if(s){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,e--;continue}else this.text=o,this.textOff=0}let i=Math.min(this.text.length-this.textOff,e,512);this.flushBuffer(n.slice(n.length-r)),this.getLine().append(Z2(new rl(this.text.slice(this.textOff,this.textOff+i)),n),r),this.atCursorPos=!0,this.textOff+=i,e-=i,r=0}}span(e,n,r,i){this.buildText(n-e,r,i),this.pos=n,this.openStart<0&&(this.openStart=i)}point(e,n,r,i,o,s){if(this.disallowBlockEffectsFor[s]&&r instanceof $c){if(r.block)throw new RangeError("Block decorations may not be specified via plugins");if(n>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let l=n-e;if(r instanceof $c)if(r.block)r.startSide>0&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new tu(r.widget||Cp.block,l,r));else{let a=dc.create(r.widget||Cp.inline,l,l?0:r.startSide),u=this.atCursorPos&&!a.isEditable&&o<=i.length&&(e<n||r.startSide>0),c=!a.isEditable&&(e<n||o>i.length||r.startSide<=0),h=this.getLine();this.pendingBuffer==2&&!u&&!a.isEditable&&(this.pendingBuffer=0),this.flushBuffer(i),u&&(h.append(Z2(new Sp(1),i),o),o=i.length+Math.max(0,o-i.length)),h.append(Z2(a,i),o),this.atCursorPos=c,this.pendingBuffer=c?e<n||o>i.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=i.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(r);l&&(this.textOff+l<=this.text.length?this.textOff+=l:(this.skip+=l-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=n),this.openStart<0&&(this.openStart=o)}static build(e,n,r,i,o){let s=new c1(e,n,r,o);return s.openEnd=qt.spans(i,n,r,s),s.openStart<0&&(s.openStart=s.openEnd),s.finish(s.openEnd),s}}function Z2(t,e){for(let n of e)t=new fu(n,[t],t.length);return t}class Cp extends Su{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}Cp.inline=new Cp("span");Cp.block=new Cp("div");var In=function(t){return t[t.LTR=0]="LTR",t[t.RTL=1]="RTL",t}(In||(In={}));const Ff=In.LTR,BA=In.RTL;function OG(t){let e=[];for(let n=0;n<t.length;n++)e.push(1<<+t[n]);return e}const b5e=OG("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),k5e=OG("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),T9=Object.create(null),wl=[];for(let t of["()","[]","{}"]){let e=t.charCodeAt(0),n=t.charCodeAt(1);T9[e]=n,T9[n]=-e}function PG(t){return t<=247?b5e[t]:1424<=t&&t<=1524?2:1536<=t&&t<=1785?k5e[t-1536]:1774<=t&&t<=2220?4:8192<=t&&t<=8204?256:64336<=t&&t<=65023?4:1}const S5e=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class pc{get dir(){return this.level%2?BA:Ff}constructor(e,n,r){this.from=e,this.to=n,this.level=r}side(e,n){return this.dir==n==e?this.to:this.from}forward(e,n){return e==(this.dir==n)}static find(e,n,r,i){let o=-1;for(let s=0;s<e.length;s++){let l=e[s];if(l.from<=n&&l.to>=n){if(l.level==r)return s;(o<0||(i!=0?i<0?l.from<n:l.to>n:e[o].level>l.level))&&(o=s)}}if(o<0)throw new RangeError("Index out of range");return o}}function DG(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++){let r=t[n],i=e[n];if(r.from!=i.from||r.to!=i.to||r.direction!=i.direction||!DG(r.inner,i.inner))return!1}return!0}const cn=[];function C5e(t,e,n,r,i){for(let o=0;o<=r.length;o++){let s=o?r[o-1].to:e,l=o<r.length?r[o].from:n,a=o?256:i;for(let u=s,c=a,h=a;u<l;u++){let f=PG(t.charCodeAt(u));f==512?f=c:f==8&&h==4&&(f=16),cn[u]=f==4?2:f,f&7&&(h=f),c=f}for(let u=s,c=a,h=a;u<l;u++){let f=cn[u];if(f==128)u<l-1&&c==cn[u+1]&&c&24?f=cn[u]=c:cn[u]=256;else if(f==64){let d=u+1;for(;d<l&&cn[d]==64;)d++;let p=u&&c==8||d<n&&cn[d]==8?h==1?1:8:256;for(let m=u;m<d;m++)cn[m]=p;u=d-1}else f==8&&h==1&&(cn[u]=1);c=f,f&7&&(h=f)}}}function T5e(t,e,n,r,i){let o=i==1?2:1;for(let s=0,l=0,a=0;s<=r.length;s++){let u=s?r[s-1].to:e,c=s<r.length?r[s].from:n;for(let h=u,f,d,p;h<c;h++)if(d=T9[f=t.charCodeAt(h)])if(d<0){for(let m=l-3;m>=0;m-=3)if(wl[m+1]==-d){let y=wl[m+2],g=y&2?i:y&4?y&1?o:i:0;g&&(cn[h]=cn[wl[m]]=g),l=m;break}}else{if(wl.length==189)break;wl[l++]=h,wl[l++]=f,wl[l++]=a}else if((p=cn[h])==2||p==1){let m=p==i;a=m?0:1;for(let y=l-3;y>=0;y-=3){let g=wl[y+2];if(g&2)break;if(m)wl[y+2]|=2;else{if(g&4)break;wl[y+2]|=4}}}}}function M5e(t,e,n,r){for(let i=0,o=r;i<=n.length;i++){let s=i?n[i-1].to:t,l=i<n.length?n[i].from:e;for(let a=s;a<l;){let u=cn[a];if(u==256){let c=a+1;for(;;)if(c==l){if(i==n.length)break;c=n[i++].to,l=i<n.length?n[i].from:e}else if(cn[c]==256)c++;else break;let h=o==1,f=(c<e?cn[c]:r)==1,d=h==f?h?1:2:r;for(let p=c,m=i,y=m?n[m-1].to:t;p>a;)p==y&&(p=n[--m].from,y=m?n[m-1].to:t),cn[--p]=d;a=c}else o=u,a++}}}function M9(t,e,n,r,i,o,s){let l=r%2?2:1;if(r%2==i%2)for(let a=e,u=0;a<n;){let c=!0,h=!1;if(u==o.length||a<o[u].from){let m=cn[a];m!=l&&(c=!1,h=m==16)}let f=!c&&l==1?[]:null,d=c?r:r+1,p=a;e:for(;;)if(u<o.length&&p==o[u].from){if(h)break e;let m=o[u];if(!c)for(let y=m.to,g=u+1;;){if(y==n)break e;if(g<o.length&&o[g].from==y)y=o[g++].to;else{if(cn[y]==l)break e;break}}if(u++,f)f.push(m);else{m.from>a&&s.push(new pc(a,m.from,d));let y=m.direction==Ff!=!(d%2);A9(t,y?r+1:r,i,m.inner,m.from,m.to,s),a=m.to}p=m.to}else{if(p==n||(c?cn[p]!=l:cn[p]==l))break;p++}f?M9(t,a,p,r+1,i,f,s):a<p&&s.push(new pc(a,p,d)),a=p}else for(let a=n,u=o.length;a>e;){let c=!0,h=!1;if(!u||a>o[u-1].to){let m=cn[a-1];m!=l&&(c=!1,h=m==16)}let f=!c&&l==1?[]:null,d=c?r:r+1,p=a;e:for(;;)if(u&&p==o[u-1].to){if(h)break e;let m=o[--u];if(!c)for(let y=m.from,g=u;;){if(y==e)break e;if(g&&o[g-1].to==y)y=o[--g].from;else{if(cn[y-1]==l)break e;break}}if(f)f.push(m);else{m.to<a&&s.push(new pc(m.to,a,d));let y=m.direction==Ff!=!(d%2);A9(t,y?r+1:r,i,m.inner,m.from,m.to,s),a=m.from}p=m.from}else{if(p==e||(c?cn[p-1]!=l:cn[p-1]==l))break;p--}f?M9(t,p,a,r+1,i,f,s):p<a&&s.push(new pc(p,a,d)),a=p}}function A9(t,e,n,r,i,o,s){let l=e%2?2:1;C5e(t,i,o,r,l),T5e(t,i,o,r,l),M5e(i,o,r,l),M9(t,i,o,e,n,r,s)}function A5e(t,e,n){if(!t)return[new pc(0,0,e==BA?1:0)];if(e==Ff&&!n.length&&!S5e.test(t))return _G(t.length);if(n.length)for(;t.length>cn.length;)cn[cn.length]=256;let r=[],i=e==Ff?0:1;return A9(t,i,i,n,0,t.length,r),r}function _G(t){return[new pc(0,t,0)]}let IG="";function E5e(t,e,n,r,i){var o;let s=r.head-t.from,l=pc.find(e,s,(o=r.bidiLevel)!==null&&o!==void 0?o:-1,r.assoc),a=e[l],u=a.side(i,n);if(s==u){let f=l+=i?1:-1;if(f<0||f>=e.length)return null;a=e[l=f],s=a.side(!i,n),u=a.side(i,n)}let c=Ur(t.text,s,a.forward(i,n));(c<a.from||c>a.to)&&(c=u),IG=t.text.slice(Math.min(s,c),Math.max(s,c));let h=l==(i?e.length-1:0)?null:e[l+(i?1:-1)];return h&&c==u&&h.level+(i?0:1)<a.level?fe.cursor(h.side(!i,n)+t.from,h.forward(i,n)?1:-1,h.level):fe.cursor(c+t.from,a.forward(i,n)?-1:1,a.level)}function O5e(t,e,n){for(let r=e;r<n;r++){let i=PG(t.charCodeAt(r));if(i==1)return Ff;if(i==2||i==4)return BA}return Ff}const RG=Ue.define(),NG=Ue.define(),LG=Ue.define(),BG=Ue.define(),E9=Ue.define(),zG=Ue.define(),FG=Ue.define(),zA=Ue.define(),FA=Ue.define(),$G=Ue.define({combine:t=>t.some(e=>e)}),VG=Ue.define({combine:t=>t.some(e=>e)}),HG=Ue.define();class w0{constructor(e,n="nearest",r="nearest",i=5,o=5,s=!1){this.range=e,this.y=n,this.x=r,this.yMargin=i,this.xMargin=o,this.isSnapshot=s}map(e){return e.empty?this:new w0(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(e){return this.range.to<=e.doc.length?this:new w0(fe.cursor(e.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}}const Q2=Tt.define({map:(t,e)=>t.map(e)}),jG=Tt.define();function no(t,e,n){let r=t.facet(BG);r.length?r[0](e):window.onerror&&window.onerror(String(e),n,void 0,void 0,e)||(n?console.error(n+":",e):console.error(e))}const $a=Ue.define({combine:t=>t.length?t[0]:!0});let P5e=0;const i0=Ue.define({combine(t){return t.filter((e,n)=>{for(let r=0;r<n;r++)if(t[r].plugin==e.plugin)return!1;return!0})}});class yr{constructor(e,n,r,i,o){this.id=e,this.create=n,this.domEventHandlers=r,this.domEventObservers=i,this.baseExtensions=o(this),this.extension=this.baseExtensions.concat(i0.of({plugin:this,arg:void 0}))}of(e){return this.baseExtensions.concat(i0.of({plugin:this,arg:e}))}static define(e,n){const{eventHandlers:r,eventObservers:i,provide:o,decorations:s}=n||{};return new yr(P5e++,e,r,i,l=>{let a=[];return s&&a.push(wy.of(u=>{let c=u.plugin(l);return c?s(c):st.none})),o&&a.push(o(l)),a})}static fromClass(e,n){return yr.define((r,i)=>new e(r,i),n)}}class B7{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}get plugin(){return this.spec&&this.spec.plugin}update(e){if(this.value){if(this.mustUpdate){let n=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(n)}catch(r){if(no(n.state,r,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.plugin.create(e,this.spec.arg)}catch(n){no(e.state,n,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(e){var n;if(!((n=this.value)===null||n===void 0)&&n.destroy)try{this.value.destroy()}catch(r){no(e.state,r,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const WG=Ue.define(),$A=Ue.define(),wy=Ue.define(),UG=Ue.define(),i3=Ue.define(),qG=Ue.define();function eL(t,e){let n=t.state.facet(qG);if(!n.length)return n;let r=n.map(o=>o instanceof Function?o(t):o),i=[];return qt.spans(r,e.from,e.to,{point(){},span(o,s,l,a){let u=o-e.from,c=s-e.from,h=i;for(let f=l.length-1;f>=0;f--,a--){let d=l[f].spec.bidiIsolate,p;if(d==null&&(d=O5e(e.text,u,c)),a>0&&h.length&&(p=h[h.length-1]).to==u&&p.direction==d)p.to=c,h=p.inner;else{let m={from:u,to:c,direction:d,inner:[]};h.push(m),h=m.inner}}}}),i}const KG=Ue.define();function VA(t){let e=0,n=0,r=0,i=0;for(let o of t.state.facet(KG)){let s=o(t);s&&(s.left!=null&&(e=Math.max(e,s.left)),s.right!=null&&(n=Math.max(n,s.right)),s.top!=null&&(r=Math.max(r,s.top)),s.bottom!=null&&(i=Math.max(i,s.bottom)))}return{left:e,right:n,top:r,bottom:i}}const sg=Ue.define();class ys{constructor(e,n,r,i){this.fromA=e,this.toA=n,this.fromB=r,this.toB=i}join(e){return new ys(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let n=e.length,r=this;for(;n>0;n--){let i=e[n-1];if(!(i.fromA>r.toA)){if(i.toA<r.fromA)break;r=r.join(i),e.splice(n-1,1)}}return e.splice(n,0,r),e}static extendWithRanges(e,n){if(n.length==0)return e;let r=[];for(let i=0,o=0,s=0,l=0;;i++){let a=i==e.length?null:e[i],u=s-l,c=a?a.fromB:1e9;for(;o<n.length&&n[o]<c;){let h=n[o],f=n[o+1],d=Math.max(l,h),p=Math.min(c,f);if(d<=p&&new ys(d+u,p+u,d,p).addToSet(r),f>c)break;o+=2}if(!a)return r;new ys(a.fromA,a.toA,a.fromB,a.toB).addToSet(r),s=a.toA,l=a.toB}}}class wx{constructor(e,n,r){this.view=e,this.state=n,this.transactions=r,this.flags=0,this.startState=e.state,this.changes=br.empty(this.startState.doc.length);for(let o of r)this.changes=this.changes.compose(o.changes);let i=[];this.changes.iterChangedRanges((o,s,l,a)=>i.push(new ys(o,s,l,a))),this.changedRanges=i}static create(e,n,r){return new wx(e,n,r)}get viewportChanged(){return(this.flags&4)>0}get viewportMoved(){return(this.flags&8)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&18)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(e=>e.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}class tL extends fn{get length(){return this.view.state.doc.length}constructor(e){super(),this.view=e,this.decorations=[],this.dynamicDecorationMap=[!1],this.domChanged=null,this.hasComposition=null,this.markedForComposition=new Set,this.editContextFormatting=st.none,this.lastCompositionAfterCursor=!1,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(e.contentDOM),this.children=[new fr],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new ys(0,0,0,e.state.doc.length)],0,null)}update(e){var n;let r=e.changedRanges;this.minWidth>0&&r.length&&(r.every(({fromA:u,toA:c})=>c<this.minWidthFrom||u>this.minWidthTo)?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.updateEditContextFormatting(e);let i=-1;this.view.inputState.composing>=0&&!this.view.observer.editContext&&(!((n=this.domChanged)===null||n===void 0)&&n.newSel?i=this.domChanged.newSel.head:!B5e(e.changes,this.hasComposition)&&!e.selectionSet&&(i=e.state.selection.main.head));let o=i>-1?_5e(this.view,e.changes,i):null;if(this.domChanged=null,this.hasComposition){this.markedForComposition.clear();let{from:u,to:c}=this.hasComposition;r=new ys(u,c,e.changes.mapPos(u,-1),e.changes.mapPos(c,1)).addToSet(r.slice())}this.hasComposition=o?{from:o.range.fromB,to:o.range.toB}:null,(We.ie||We.chrome)&&!o&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let s=this.decorations,l=this.updateDeco(),a=N5e(s,l,e.changes);return r=ys.extendWithRanges(r,a),!(this.flags&7)&&r.length==0?!1:(this.updateInner(r,e.startState.doc.length,o),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,n,r){this.view.viewState.mustMeasureContent=!0,this.updateChildren(e,n,r);let{observer:i}=this.view;i.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let s=We.chrome||We.ios?{node:i.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,s),this.flags&=-8,s&&(s.written||i.selectionRange.focusNode!=s.node)&&(this.forceSelection=!0),this.dom.style.height=""}),this.markedForComposition.forEach(s=>s.flags&=-9);let o=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let s of this.children)s instanceof tu&&s.widget instanceof C9&&o.push(s.dom);i.updateGaps(o)}updateChildren(e,n,r){let i=r?r.range.addToSet(e.slice()):e,o=this.childCursor(n);for(let s=i.length-1;;s--){let l=s>=0?i[s]:null;if(!l)break;let{fromA:a,toA:u,fromB:c,toB:h}=l,f,d,p,m;if(r&&r.range.fromB<h&&r.range.toB>c){let b=c1.build(this.view.state.doc,c,r.range.fromB,this.decorations,this.dynamicDecorationMap),S=c1.build(this.view.state.doc,r.range.toB,h,this.decorations,this.dynamicDecorationMap);d=b.breakAtStart,p=b.openStart,m=S.openEnd;let k=this.compositionView(r);S.breakAtStart?k.breakAfter=1:S.content.length&&k.merge(k.length,k.length,S.content[0],!1,S.openStart,0)&&(k.breakAfter=S.content[0].breakAfter,S.content.shift()),b.content.length&&k.merge(0,0,b.content[b.content.length-1],!0,0,b.openEnd)&&b.content.pop(),f=b.content.concat(k).concat(S.content)}else({content:f,breakAtStart:d,openStart:p,openEnd:m}=c1.build(this.view.state.doc,c,h,this.decorations,this.dynamicDecorationMap));let{i:y,off:g}=o.findPos(u,1),{i:v,off:w}=o.findPos(a,-1);bG(this,v,w,y,g,f,d,p,m)}r&&this.fixCompositionDOM(r)}updateEditContextFormatting(e){this.editContextFormatting=this.editContextFormatting.map(e.changes);for(let n of e.transactions)for(let r of n.effects)r.is(jG)&&(this.editContextFormatting=r.value)}compositionView(e){let n=new rl(e.text.nodeValue);n.flags|=8;for(let{deco:i}of e.marks)n=new fu(i,[n],n.length);let r=new fr;return r.append(n,0),r}fixCompositionDOM(e){let n=(o,s)=>{s.flags|=8|(s.children.some(a=>a.flags&7)?1:0),this.markedForComposition.add(s);let l=fn.get(o);l&&l!=s&&(l.dom=null),s.setDOM(o)},r=this.childPos(e.range.fromB,1),i=this.children[r.i];n(e.line,i);for(let o=e.marks.length-1;o>=-1;o--)r=i.childPos(r.off,1),i=i.children[r.i],n(o>=0?e.marks[o].node:e.text,i)}updateSelection(e=!1,n=!1){(e||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange();let r=this.view.root.activeElement,i=r==this.dom,o=!i&&!(this.view.state.facet($a)||this.dom.tabIndex>-1)&&ww(this.dom,this.view.observer.selectionRange)&&!(r&&this.dom.contains(r));if(!(i||n||o))return;let s=this.forceSelection;this.forceSelection=!1;let l=this.view.state.selection.main,a=this.moveToLine(this.domAtPos(l.anchor)),u=l.empty?a:this.moveToLine(this.domAtPos(l.head));if(We.gecko&&l.empty&&!this.hasComposition&&D5e(a)){let h=document.createTextNode("");this.view.observer.ignore(()=>a.node.insertBefore(h,a.node.childNodes[a.offset]||null)),a=u=new oi(h,0),s=!0}let c=this.view.observer.selectionRange;(s||!c.focusNode||(!u1(a.node,a.offset,c.anchorNode,c.anchorOffset)||!u1(u.node,u.offset,c.focusNode,c.focusOffset))&&!this.suppressWidgetCursorChange(c,l))&&(this.view.observer.ignore(()=>{We.android&&We.chrome&&this.dom.contains(c.focusNode)&&L5e(c.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let h=yy(this.view.root);if(h)if(l.empty){if(We.gecko){let f=I5e(a.node,a.offset);if(f&&f!=3){let d=(f==1?vG:wG)(a.node,a.offset);d&&(a=new oi(d.node,d.offset))}}h.collapse(a.node,a.offset),l.bidiLevel!=null&&h.caretBidiLevel!==void 0&&(h.caretBidiLevel=l.bidiLevel)}else if(h.extend){h.collapse(a.node,a.offset);try{h.extend(u.node,u.offset)}catch{}}else{let f=document.createRange();l.anchor>l.head&&([a,u]=[u,a]),f.setEnd(u.node,u.offset),f.setStart(a.node,a.offset),h.removeAllRanges(),h.addRange(f)}o&&this.view.root.activeElement==this.dom&&(this.dom.blur(),r&&r.focus())}),this.view.observer.setSelectionRange(a,u)),this.impreciseAnchor=a.precise?null:new oi(c.anchorNode,c.anchorOffset),this.impreciseHead=u.precise?null:new oi(c.focusNode,c.focusOffset)}suppressWidgetCursorChange(e,n){return this.hasComposition&&n.empty&&u1(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)&&this.posFromDOM(e.focusNode,e.focusOffset)==n.head}enforceCursorAssoc(){if(this.hasComposition)return;let{view:e}=this,n=e.state.selection.main,r=yy(e.root),{anchorNode:i,anchorOffset:o}=e.observer.selectionRange;if(!r||!n.empty||!n.assoc||!r.modify)return;let s=fr.find(this,n.head);if(!s)return;let l=s.posAtStart;if(n.head==l||n.head==l+s.length)return;let a=this.coordsAt(n.head,-1),u=this.coordsAt(n.head,1);if(!a||!u||a.bottom>u.top)return;let c=this.domAtPos(n.head+n.assoc);r.collapse(c.node,c.offset),r.modify("move",n.assoc<0?"forward":"backward","lineboundary"),e.observer.readSelectionRange();let h=e.observer.selectionRange;e.docView.posFromDOM(h.anchorNode,h.anchorOffset)!=n.from&&r.collapse(i,o)}moveToLine(e){let n=this.dom,r;if(e.node!=n)return e;for(let i=e.offset;!r&&i<n.childNodes.length;i++){let o=fn.get(n.childNodes[i]);o instanceof fr&&(r=o.domAtPos(0))}for(let i=e.offset-1;!r&&i>=0;i--){let o=fn.get(n.childNodes[i]);o instanceof fr&&(r=o.domAtPos(o.length))}return r?new oi(r.node,r.offset,!0):e}nearest(e){for(let n=e;n;){let r=fn.get(n);if(r&&r.rootView==this)return r;n=n.parentNode}return null}posFromDOM(e,n){let r=this.nearest(e);if(!r)throw new RangeError("Trying to find position for a DOM position outside of the document");return r.localPosFromDOM(e,n)+r.posAtStart}domAtPos(e){let{i:n,off:r}=this.childCursor().findPos(e,-1);for(;n<this.children.length-1;){let i=this.children[n];if(r<i.length||i instanceof fr)break;n++,r=0}return this.children[n].domAtPos(r)}coordsAt(e,n){let r=null,i=0;for(let o=this.length,s=this.children.length-1;s>=0;s--){let l=this.children[s],a=o-l.breakAfter,u=a-l.length;if(a<e)break;if(u<=e&&(u<e||l.covers(-1))&&(a>e||l.covers(1))&&(!r||l instanceof fr&&!(r instanceof fr&&n>=0)))r=l,i=u;else if(r&&u==e&&a==e&&l instanceof tu&&Math.abs(n)<2){if(l.deco.startSide<0)break;s&&(r=null)}o=u}return r?r.coordsAt(e-i,n):null}coordsForChar(e){let{i:n,off:r}=this.childPos(e,1),i=this.children[n];if(!(i instanceof fr))return null;for(;i.children.length;){let{i:l,off:a}=i.childPos(r,1);for(;;l++){if(l==i.children.length)return null;if((i=i.children[l]).length)break}r=a}if(!(i instanceof rl))return null;let o=Ur(i.text,r);if(o==r)return null;let s=zf(i.dom,r,o).getClientRects();for(let l=0;l<s.length;l++){let a=s[l];if(l==s.length-1||a.top<a.bottom&&a.left<a.right)return a}return null}measureVisibleLineHeights(e){let n=[],{from:r,to:i}=e,o=this.view.contentDOM.clientWidth,s=o>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,l=-1,a=this.view.textDirection==In.LTR;for(let u=0,c=0;c<this.children.length;c++){let h=this.children[c],f=u+h.length;if(f>i)break;if(u>=r){let d=h.dom.getBoundingClientRect();if(n.push(d.height),s){let p=h.dom.lastChild,m=p?vy(p):[];if(m.length){let y=m[m.length-1],g=a?y.right-d.left:d.right-y.left;g>l&&(l=g,this.minWidth=o,this.minWidthFrom=u,this.minWidthTo=f)}}}u=f+h.breakAfter}return n}textDirectionAt(e){let{i:n}=this.childPos(e,1);return getComputedStyle(this.children[n].dom).direction=="rtl"?In.RTL:In.LTR}measureTextSize(){for(let o of this.children)if(o instanceof fr){let s=o.measureTextSize();if(s)return s}let e=document.createElement("div"),n,r,i;return e.className="cm-line",e.style.width="99999px",e.style.position="absolute",e.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild(e);let o=vy(e.firstChild)[0];n=e.getBoundingClientRect().height,r=o?o.width/27:7,i=o?o.height:n,e.remove()}),{lineHeight:n,charWidth:r,textHeight:i}}childCursor(e=this.length){let n=this.children.length;return n&&(e-=this.children[--n].length),new xG(this.children,e,n)}computeBlockGapDeco(){let e=[],n=this.view.viewState;for(let r=0,i=0;;i++){let o=i==n.viewports.length?null:n.viewports[i],s=o?o.from-1:this.length;if(s>r){let l=(n.lineBlockAt(s).bottom-n.lineBlockAt(r).top)/this.view.scaleY;e.push(st.replace({widget:new C9(l),block:!0,inclusive:!0,isBlockGap:!0}).range(r,s))}if(!o)break;r=o.to+1}return st.set(e)}updateDeco(){let e=1,n=this.view.state.facet(wy).map(o=>(this.dynamicDecorationMap[e++]=typeof o=="function")?o(this.view):o),r=!1,i=this.view.state.facet(UG).map((o,s)=>{let l=typeof o=="function";return l&&(r=!0),l?o(this.view):o});for(i.length&&(this.dynamicDecorationMap[e++]=r,n.push(qt.join(i))),this.decorations=[this.editContextFormatting,...n,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco];e<this.decorations.length;)this.dynamicDecorationMap[e++]=!1;return this.decorations}scrollIntoView(e){if(e.isSnapshot){let u=this.view.viewState.lineBlockAt(e.range.head);this.view.scrollDOM.scrollTop=u.top-e.yMargin,this.view.scrollDOM.scrollLeft=e.xMargin;return}for(let u of this.view.state.facet(HG))try{if(u(this.view,e.range,e))return!0}catch(c){no(this.view.state,c,"scroll handler")}let{range:n}=e,r=this.coordsAt(n.head,n.empty?n.assoc:n.head>n.anchor?-1:1),i;if(!r)return;!n.empty&&(i=this.coordsAt(n.anchor,n.anchor>n.head?-1:1))&&(r={left:Math.min(r.left,i.left),top:Math.min(r.top,i.top),right:Math.max(r.right,i.right),bottom:Math.max(r.bottom,i.bottom)});let o=VA(this.view),s={left:r.left-o.left,top:r.top-o.top,right:r.right+o.right,bottom:r.bottom+o.bottom},{offsetWidth:l,offsetHeight:a}=this.view.scrollDOM;c5e(this.view.scrollDOM,s,n.head<n.anchor?-1:1,e.x,e.y,Math.max(Math.min(e.xMargin,l),-l),Math.max(Math.min(e.yMargin,a),-a),this.view.textDirection==In.LTR)}}function D5e(t){return t.node.nodeType==1&&t.node.firstChild&&(t.offset==0||t.node.childNodes[t.offset-1].contentEditable=="false")&&(t.offset==t.node.childNodes.length||t.node.childNodes[t.offset].contentEditable=="false")}function GG(t,e){let n=t.observer.selectionRange;if(!n.focusNode)return null;let r=vG(n.focusNode,n.focusOffset),i=wG(n.focusNode,n.focusOffset),o=r||i;if(i&&r&&i.node!=r.node){let l=fn.get(i.node);if(!l||l instanceof rl&&l.text!=i.node.nodeValue)o=i;else if(t.docView.lastCompositionAfterCursor){let a=fn.get(r.node);!a||a instanceof rl&&a.text!=r.node.nodeValue||(o=i)}}if(t.docView.lastCompositionAfterCursor=o!=r,!o)return null;let s=e-o.offset;return{from:s,to:s+o.node.nodeValue.length,node:o.node}}function _5e(t,e,n){let r=GG(t,n);if(!r)return null;let{node:i,from:o,to:s}=r,l=i.nodeValue;if(/[\n\r]/.test(l)||t.state.doc.sliceString(r.from,r.to)!=l)return null;let a=e.invertedDesc,u=new ys(a.mapPos(o),a.mapPos(s),o,s),c=[];for(let h=i.parentNode;;h=h.parentNode){let f=fn.get(h);if(f instanceof fu)c.push({node:h,deco:f.mark});else{if(f instanceof fr||h.nodeName=="DIV"&&h.parentNode==t.contentDOM)return{range:u,text:i,marks:c,line:h};if(h!=t.contentDOM)c.push({node:h,deco:new Vv({inclusive:!0,attributes:w5e(h),tagName:h.tagName.toLowerCase()})});else return null}}}function I5e(t,e){return t.nodeType!=1?0:(e&&t.childNodes[e-1].contentEditable=="false"?1:0)|(e<t.childNodes.length&&t.childNodes[e].contentEditable=="false"?2:0)}let R5e=class{constructor(){this.changes=[]}compareRange(e,n){xw(e,n,this.changes)}comparePoint(e,n){xw(e,n,this.changes)}boundChange(e){xw(e,e,this.changes)}};function N5e(t,e,n){let r=new R5e;return qt.compare(t,e,n,r),r.changes}function L5e(t,e){for(let n=t;n&&n!=e;n=n.assignedSlot||n.parentNode)if(n.nodeType==1&&n.contentEditable=="false")return!0;return!1}function B5e(t,e){let n=!1;return e&&t.iterChangedRanges((r,i)=>{r<e.to&&i>e.from&&(n=!0)}),n}function z5e(t,e,n=1){let r=t.charCategorizer(e),i=t.doc.lineAt(e),o=e-i.from;if(i.length==0)return fe.cursor(e);o==0?n=1:o==i.length&&(n=-1);let s=o,l=o;n<0?s=Ur(i.text,o,!1):l=Ur(i.text,o);let a=r(i.text.slice(s,l));for(;s>0;){let u=Ur(i.text,s,!1);if(r(i.text.slice(u,s))!=a)break;s=u}for(;l<i.length;){let u=Ur(i.text,l);if(r(i.text.slice(l,u))!=a)break;l=u}return fe.range(s+i.from,l+i.from)}function F5e(t,e){return e.left>t?e.left-t:Math.max(0,t-e.right)}function $5e(t,e){return e.top>t?e.top-t:Math.max(0,t-e.bottom)}function z7(t,e){return t.top<e.bottom-1&&t.bottom>e.top+1}function nL(t,e){return e<t.top?{top:e,left:t.left,right:t.right,bottom:t.bottom}:t}function rL(t,e){return e>t.bottom?{top:t.top,left:t.left,right:t.right,bottom:e}:t}function O9(t,e,n){let r,i,o,s,l=!1,a,u,c,h;for(let p=t.firstChild;p;p=p.nextSibling){let m=vy(p);for(let y=0;y<m.length;y++){let g=m[y];i&&z7(i,g)&&(g=nL(rL(g,i.bottom),i.top));let v=F5e(e,g),w=$5e(n,g);if(v==0&&w==0)return p.nodeType==3?iL(p,e,n):O9(p,e,n);(!r||s>w||s==w&&o>v)&&(r=p,i=g,o=v,s=w,l=v?e<g.left?y>0:y<m.length-1:!0),v==0?n>g.bottom&&(!c||c.bottom<g.bottom)?(a=p,c=g):n<g.top&&(!h||h.top>g.top)&&(u=p,h=g):c&&z7(c,g)?c=rL(c,g.bottom):h&&z7(h,g)&&(h=nL(h,g.top))}}if(c&&c.bottom>=n?(r=a,i=c):h&&h.top<=n&&(r=u,i=h),!r)return{node:t,offset:0};let f=Math.max(i.left,Math.min(i.right,e));if(r.nodeType==3)return iL(r,f,n);if(l&&r.contentEditable!="false")return O9(r,f,n);let d=Array.prototype.indexOf.call(t.childNodes,r)+(e>=(i.left+i.right)/2?1:0);return{node:t,offset:d}}function iL(t,e,n){let r=t.nodeValue.length,i=-1,o=1e9,s=0;for(let l=0;l<r;l++){let a=zf(t,l,l+1).getClientRects();for(let u=0;u<a.length;u++){let c=a[u];if(c.top==c.bottom)continue;s||(s=e-c.left);let h=(c.top>n?c.top-n:n-c.bottom)-1;if(c.left-1<=e&&c.right+1>=e&&h<o){let f=e>=(c.left+c.right)/2,d=f;if((We.chrome||We.gecko)&&zf(t,l).getBoundingClientRect().left==c.right&&(d=!f),h<=0)return{node:t,offset:l+(d?1:0)};i=l+(d?1:0),o=h}}}return{node:t,offset:i>-1?i:s>0?t.nodeValue.length:0}}function YG(t,e,n,r=-1){var i,o;let s=t.contentDOM.getBoundingClientRect(),l=s.top+t.viewState.paddingTop,a,{docHeight:u}=t.viewState,{x:c,y:h}=e,f=h-l;if(f<0)return 0;if(f>u)return t.state.doc.length;for(let b=t.viewState.heightOracle.textHeight/2,S=!1;a=t.elementAtHeight(f),a.type!=Ri.Text;)for(;f=r>0?a.bottom+b:a.top-b,!(f>=0&&f<=u);){if(S)return n?null:0;S=!0,r=-r}h=l+f;let d=a.from;if(d<t.viewport.from)return t.viewport.from==0?0:n?null:oL(t,s,a,c,h);if(d>t.viewport.to)return t.viewport.to==t.state.doc.length?t.state.doc.length:n?null:oL(t,s,a,c,h);let p=t.dom.ownerDocument,m=t.root.elementFromPoint?t.root:p,y=m.elementFromPoint(c,h);y&&!t.contentDOM.contains(y)&&(y=null),y||(c=Math.max(s.left+1,Math.min(s.right-1,c)),y=m.elementFromPoint(c,h),y&&!t.contentDOM.contains(y)&&(y=null));let g,v=-1;if(y&&((i=t.docView.nearest(y))===null||i===void 0?void 0:i.isEditable)!=!1){if(p.caretPositionFromPoint){let b=p.caretPositionFromPoint(c,h);b&&({offsetNode:g,offset:v}=b)}else if(p.caretRangeFromPoint){let b=p.caretRangeFromPoint(c,h);b&&({startContainer:g,startOffset:v}=b,(!t.contentDOM.contains(g)||We.safari&&V5e(g,v,c)||We.chrome&&H5e(g,v,c))&&(g=void 0))}g&&(v=Math.min(Zl(g),v))}if(!g||!t.docView.dom.contains(g)){let b=fr.find(t.docView,d);if(!b)return f>a.top+a.height/2?a.to:a.from;({node:g,offset:v}=O9(b.dom,c,h))}let w=t.docView.nearest(g);if(!w)return null;if(w.isWidget&&((o=w.dom)===null||o===void 0?void 0:o.nodeType)==1){let b=w.dom.getBoundingClientRect();return e.y<b.top||e.y<=b.bottom&&e.x<=(b.left+b.right)/2?w.posAtStart:w.posAtEnd}else return w.localPosFromDOM(g,v)+w.posAtStart}function oL(t,e,n,r,i){let o=Math.round((r-e.left)*t.defaultCharacterWidth);if(t.lineWrapping&&n.height>t.defaultLineHeight*1.5){let l=t.viewState.heightOracle.textHeight,a=Math.floor((i-n.top-(t.defaultLineHeight-l)*.5)/l);o+=a*t.viewState.heightOracle.lineLength}let s=t.state.sliceDoc(n.from,n.to);return n.from+m9(s,o,t.state.tabSize)}function V5e(t,e,n){let r,i=t;if(t.nodeType!=3||e!=(r=t.nodeValue.length))return!1;for(;;){let o=i.nextSibling;if(o){if(o.nodeName=="BR")break;return!1}else{let s=i.parentNode;if(!s||s.nodeName=="DIV")break;i=s}}return zf(t,r-1,r).getBoundingClientRect().right>n}function H5e(t,e,n){if(e!=0)return!1;for(let i=t;;){let o=i.parentNode;if(!o||o.nodeType!=1||o.firstChild!=i)return!1;if(o.classList.contains("cm-line"))break;i=o}let r=t.nodeType==1?t.getBoundingClientRect():zf(t,0,Math.max(t.nodeValue.length,1)).getBoundingClientRect();return n-r.left>5}function P9(t,e,n){let r=t.lineBlockAt(e);if(Array.isArray(r.type)){let i;for(let o of r.type){if(o.from>e)break;if(!(o.to<e)){if(o.from<e&&o.to>e)return o;(!i||o.type==Ri.Text&&(i.type!=o.type||(n<0?o.from<e:o.to>e)))&&(i=o)}}return i||r}return r}function j5e(t,e,n,r){let i=P9(t,e.head,e.assoc||-1),o=!r||i.type!=Ri.Text||!(t.lineWrapping||i.widgetLineBreaks)?null:t.coordsAtPos(e.assoc<0&&e.head>i.from?e.head-1:e.head);if(o){let s=t.dom.getBoundingClientRect(),l=t.textDirectionAt(i.from),a=t.posAtCoords({x:n==(l==In.LTR)?s.right-1:s.left+1,y:(o.top+o.bottom)/2});if(a!=null)return fe.cursor(a,n?-1:1)}return fe.cursor(n?i.to:i.from,n?-1:1)}function sL(t,e,n,r){let i=t.state.doc.lineAt(e.head),o=t.bidiSpans(i),s=t.textDirectionAt(i.from);for(let l=e,a=null;;){let u=E5e(i,o,s,l,n),c=IG;if(!u){if(i.number==(n?t.state.doc.lines:1))return l;c=`
`,i=t.state.doc.line(i.number+(n?1:-1)),o=t.bidiSpans(i),u=t.visualLineSide(i,!n)}if(a){if(!a(c))return l}else{if(!r)return u;a=r(c)}l=u}}function W5e(t,e,n){let r=t.state.charCategorizer(e),i=r(n);return o=>{let s=r(o);return i==zn.Space&&(i=s),i==s}}function U5e(t,e,n,r){let i=e.head,o=n?1:-1;if(i==(n?t.state.doc.length:0))return fe.cursor(i,e.assoc);let s=e.goalColumn,l,a=t.contentDOM.getBoundingClientRect(),u=t.coordsAtPos(i,e.assoc||-1),c=t.documentTop;if(u)s==null&&(s=u.left-a.left),l=o<0?u.top:u.bottom;else{let d=t.viewState.lineBlockAt(i);s==null&&(s=Math.min(a.right-a.left,t.defaultCharacterWidth*(i-d.from))),l=(o<0?d.top:d.bottom)+c}let h=a.left+s,f=r??t.viewState.heightOracle.textHeight>>1;for(let d=0;;d+=10){let p=l+(f+d)*o,m=YG(t,{x:h,y:p},!1,o);if(p<a.top||p>a.bottom||(o<0?m<i:m>i)){let y=t.docView.coordsForChar(m),g=!y||p<y.top?-1:1;return fe.cursor(m,g,void 0,s)}}}function bw(t,e,n){for(;;){let r=0;for(let i of t)i.between(e-1,e+1,(o,s,l)=>{if(e>o&&e<s){let a=r||n||(e-o<s-e?-1:1);e=a<0?o:s,r=a}});if(!r)return e}}function XG(t,e){let n=null;for(let r=0;r<e.ranges.length;r++){let i=e.ranges[r],o=null;if(i.empty){let s=bw(t,i.from,0);s!=i.from&&(o=fe.cursor(s,-1))}else{let s=bw(t,i.from,-1),l=bw(t,i.to,1);(s!=i.from||l!=i.to)&&(o=fe.range(i.from==i.anchor?s:l,i.from==i.head?s:l))}o&&(n||(n=e.ranges.slice()),n[r]=o)}return n?fe.create(n,e.mainIndex):e}function F7(t,e,n){let r=bw(t.state.facet(i3).map(i=>i(t)),n.from,e.head>n.from?-1:1);return r==n.from?n:fe.cursor(r,r<n.from?1:-1)}const lg="";class q5e{constructor(e,n){this.points=e,this.text="",this.lineSeparator=n.facet(Fn.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=lg}readRange(e,n){if(!e)return this;let r=e.parentNode;for(let i=e;;){this.findPointBefore(r,i);let o=this.text.length;this.readNode(i);let s=i.nextSibling;if(s==n)break;let l=fn.get(i),a=fn.get(s);(l&&a?l.breakAfter:(l?l.breakAfter:yx(i))||yx(s)&&(i.nodeName!="BR"||i.cmIgnore)&&this.text.length>o)&&this.lineBreak(),i=s}return this.findPointBefore(r,n),this}readTextNode(e){let n=e.nodeValue;for(let r of this.points)r.node==e&&(r.pos=this.text.length+Math.min(r.offset,n.length));for(let r=0,i=this.lineSeparator?null:/\r\n?|\n/g;;){let o=-1,s=1,l;if(this.lineSeparator?(o=n.indexOf(this.lineSeparator,r),s=this.lineSeparator.length):(l=i.exec(n))&&(o=l.index,s=l[0].length),this.append(n.slice(r,o<0?n.length:o)),o<0)break;if(this.lineBreak(),s>1)for(let a of this.points)a.node==e&&a.pos>this.text.length&&(a.pos-=s-1);r=o+s}}readNode(e){if(e.cmIgnore)return;let n=fn.get(e),r=n&&n.overrideDOMText;if(r!=null){this.findPointInside(e,r.length);for(let i=r.iter();!i.next().done;)i.lineBreak?this.lineBreak():this.append(i.value)}else e.nodeType==3?this.readTextNode(e):e.nodeName=="BR"?e.nextSibling&&this.lineBreak():e.nodeType==1&&this.readRange(e.firstChild,null)}findPointBefore(e,n){for(let r of this.points)r.node==e&&e.childNodes[r.offset]==n&&(r.pos=this.text.length)}findPointInside(e,n){for(let r of this.points)(e.nodeType==3?r.node==e:e.contains(r.node))&&(r.pos=this.text.length+(K5e(e,r.node,r.offset)?n:0))}}function K5e(t,e,n){for(;;){if(!e||n<Zl(e))return!1;if(e==t)return!0;n=Bf(e)+1,e=e.parentNode}}class lL{constructor(e,n){this.node=e,this.offset=n,this.pos=-1}}class G5e{constructor(e,n,r,i){this.typeOver=i,this.bounds=null,this.text="",this.domChanged=n>-1;let{impreciseHead:o,impreciseAnchor:s}=e.docView;if(e.state.readOnly&&n>-1)this.newSel=null;else if(n>-1&&(this.bounds=e.docView.domBoundsAround(n,r,0))){let l=o||s?[]:J5e(e),a=new q5e(l,e.state);a.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=a.text,this.newSel=Z5e(l,this.bounds.from)}else{let l=e.observer.selectionRange,a=o&&o.node==l.focusNode&&o.offset==l.focusOffset||!v9(e.contentDOM,l.focusNode)?e.state.selection.main.head:e.docView.posFromDOM(l.focusNode,l.focusOffset),u=s&&s.node==l.anchorNode&&s.offset==l.anchorOffset||!v9(e.contentDOM,l.anchorNode)?e.state.selection.main.anchor:e.docView.posFromDOM(l.anchorNode,l.anchorOffset),c=e.viewport;if((We.ios||We.chrome)&&e.state.selection.main.empty&&a!=u&&(c.from>0||c.to<e.state.doc.length)){let h=Math.min(a,u),f=Math.max(a,u),d=c.from-h,p=c.to-f;(d==0||d==1||h==0)&&(p==0||p==-1||f==e.state.doc.length)&&(a=0,u=e.state.doc.length)}this.newSel=fe.single(u,a)}}}function JG(t,e){let n,{newSel:r}=e,i=t.state.selection.main,o=t.inputState.lastKeyTime>Date.now()-100?t.inputState.lastKeyCode:-1;if(e.bounds){let{from:s,to:l}=e.bounds,a=i.from,u=null;(o===8||We.android&&e.text.length<l-s)&&(a=i.to,u="end");let c=X5e(t.state.doc.sliceString(s,l,lg),e.text,a-s,u);c&&(We.chrome&&o==13&&c.toB==c.from+2&&e.text.slice(c.from,c.toB)==lg+lg&&c.toB--,n={from:s+c.from,to:s+c.toA,insert:Yt.of(e.text.slice(c.from,c.toB).split(lg))})}else r&&(!t.hasFocus&&t.state.facet($a)||r.main.eq(i))&&(r=null);if(!n&&!r)return!1;if(!n&&e.typeOver&&!i.empty&&r&&r.main.empty?n={from:i.from,to:i.to,insert:t.state.doc.slice(i.from,i.to)}:(We.mac||We.android)&&n&&n.from==n.to&&n.from==i.head-1&&/^\. ?$/.test(n.insert.toString())&&t.contentDOM.getAttribute("autocorrect")=="off"?(r&&n.insert.length==2&&(r=fe.single(r.main.anchor-1,r.main.head-1)),n={from:n.from,to:n.to,insert:Yt.of([n.insert.toString().replace("."," ")])}):n&&n.from>=i.from&&n.to<=i.to&&(n.from!=i.from||n.to!=i.to)&&i.to-i.from-(n.to-n.from)<=4?n={from:i.from,to:i.to,insert:t.state.doc.slice(i.from,n.from).append(n.insert).append(t.state.doc.slice(n.to,i.to))}:We.chrome&&n&&n.from==n.to&&n.from==i.head&&n.insert.toString()==`
 `&&t.lineWrapping&&(r&&(r=fe.single(r.main.anchor-1,r.main.head-1)),n={from:i.from,to:i.to,insert:Yt.of([" "])}),n)return HA(t,n,r,o);if(r&&!r.main.eq(i)){let s=!1,l="select";return t.inputState.lastSelectionTime>Date.now()-50&&(t.inputState.lastSelectionOrigin=="select"&&(s=!0),l=t.inputState.lastSelectionOrigin,l=="select.pointer"&&(r=XG(t.state.facet(i3).map(a=>a(t)),r))),t.dispatch({selection:r,scrollIntoView:s,userEvent:l}),!0}else return!1}function HA(t,e,n,r=-1){if(We.ios&&t.inputState.flushIOSKey(e))return!0;let i=t.state.selection.main;if(We.android&&(e.to==i.to&&(e.from==i.from||e.from==i.from-1&&t.state.sliceDoc(e.from,i.from)==" ")&&e.insert.length==1&&e.insert.lines==2&&v0(t.contentDOM,"Enter",13)||(e.from==i.from-1&&e.to==i.to&&e.insert.length==0||r==8&&e.insert.length<e.to-e.from&&e.to>i.head)&&v0(t.contentDOM,"Backspace",8)||e.from==i.from&&e.to==i.to+1&&e.insert.length==0&&v0(t.contentDOM,"Delete",46)))return!0;let o=e.insert.toString();t.inputState.composing>=0&&t.inputState.composing++;let s,l=()=>s||(s=Y5e(t,e,n));return t.state.facet(zG).some(a=>a(t,e.from,e.to,o,l))||t.dispatch(l()),!0}function Y5e(t,e,n){let r,i=t.state,o=i.selection.main;if(e.from>=o.from&&e.to<=o.to&&e.to-e.from>=(o.to-o.from)/3&&(!n||n.main.empty&&n.main.from==e.from+e.insert.length)&&t.inputState.composing<0){let l=o.from<e.from?i.sliceDoc(o.from,e.from):"",a=o.to>e.to?i.sliceDoc(e.to,o.to):"";r=i.replaceSelection(t.state.toText(l+e.insert.sliceString(0,void 0,t.state.lineBreak)+a))}else{let l=i.changes(e),a=n&&n.main.to<=l.newLength?n.main:void 0;if(i.selection.ranges.length>1&&t.inputState.composing>=0&&e.to<=o.to&&e.to>=o.to-10){let u=t.state.sliceDoc(e.from,e.to),c,h=n&&GG(t,n.main.head);if(h){let p=e.insert.length-(e.to-e.from);c={from:h.from,to:h.to-p}}else c=t.state.doc.lineAt(o.head);let f=o.to-e.to,d=o.to-o.from;r=i.changeByRange(p=>{if(p.from==o.from&&p.to==o.to)return{changes:l,range:a||p.map(l)};let m=p.to-f,y=m-u.length;if(p.to-p.from!=d||t.state.sliceDoc(y,m)!=u||p.to>=c.from&&p.from<=c.to)return{range:p};let g=i.changes({from:y,to:m,insert:e.insert}),v=p.to-o.to;return{changes:g,range:a?fe.range(Math.max(0,a.anchor+v),Math.max(0,a.head+v)):p.map(g)}})}else r={changes:l,selection:a&&i.selection.replaceRange(a)}}let s="input.type";return(t.composing||t.inputState.compositionPendingChange&&t.inputState.compositionEndedAt>Date.now()-50)&&(t.inputState.compositionPendingChange=!1,s+=".compose",t.inputState.compositionFirstChange&&(s+=".start",t.inputState.compositionFirstChange=!1)),i.update(r,{userEvent:s,scrollIntoView:!0})}function X5e(t,e,n,r){let i=Math.min(t.length,e.length),o=0;for(;o<i&&t.charCodeAt(o)==e.charCodeAt(o);)o++;if(o==i&&t.length==e.length)return null;let s=t.length,l=e.length;for(;s>0&&l>0&&t.charCodeAt(s-1)==e.charCodeAt(l-1);)s--,l--;if(r=="end"){let a=Math.max(0,o-Math.min(s,l));n-=s+a-o}if(s<o&&t.length<e.length){let a=n<=o&&n>=s?o-n:0;o-=a,l=o+(l-s),s=o}else if(l<o){let a=n<=o&&n>=l?o-n:0;o-=a,s=o+(s-l),l=o}return{from:o,toA:s,toB:l}}function J5e(t){let e=[];if(t.root.activeElement!=t.contentDOM)return e;let{anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:o}=t.observer.selectionRange;return n&&(e.push(new lL(n,r)),(i!=n||o!=r)&&e.push(new lL(i,o))),e}function Z5e(t,e){if(t.length==0)return null;let n=t[0].pos,r=t.length==2?t[1].pos:n;return n>-1&&r>-1?fe.single(n+e,r+e):null}let Q5e=class{setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}constructor(e){this.view=e,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.tabFocusMode=-1,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=e.hasFocus,We.safari&&e.contentDOM.addEventListener("input",()=>null),We.gecko&&mxe(e.contentDOM.ownerDocument)}handleEvent(e){!lxe(this.view,e)||this.ignoreDuringComposition(e)||e.type=="keydown"&&this.keydown(e)||(this.view.updateState!=0?Promise.resolve().then(()=>this.runHandlers(e.type,e)):this.runHandlers(e.type,e))}runHandlers(e,n){let r=this.handlers[e];if(r){for(let i of r.observers)i(this.view,n);for(let i of r.handlers){if(n.defaultPrevented)break;if(i(this.view,n)){n.preventDefault();break}}}}ensureHandlers(e){let n=exe(e),r=this.handlers,i=this.view.contentDOM;for(let o in n)if(o!="scroll"){let s=!n[o].handlers.length,l=r[o];l&&s!=!l.handlers.length&&(i.removeEventListener(o,this.handleEvent),l=null),l||i.addEventListener(o,this.handleEvent,{passive:s})}for(let o in r)o!="scroll"&&!n[o]&&i.removeEventListener(o,this.handleEvent);this.handlers=n}keydown(e){if(this.lastKeyCode=e.keyCode,this.lastKeyTime=Date.now(),e.keyCode==9&&this.tabFocusMode>-1&&(!this.tabFocusMode||Date.now()<=this.tabFocusMode))return!0;if(this.tabFocusMode>0&&e.keyCode!=27&&QG.indexOf(e.keyCode)<0&&(this.tabFocusMode=-1),We.android&&We.chrome&&!e.synthetic&&(e.keyCode==13||e.keyCode==8))return this.view.observer.delayAndroidKey(e.key,e.keyCode),!0;let n;return We.ios&&!e.synthetic&&!e.altKey&&!e.metaKey&&((n=ZG.find(r=>r.keyCode==e.keyCode))&&!e.ctrlKey||txe.indexOf(e.key)>-1&&e.ctrlKey&&!e.shiftKey)?(this.pendingIOSKey=n||e,setTimeout(()=>this.flushIOSKey(),250),!0):(e.keyCode!=229&&this.view.observer.forceFlush(),!1)}flushIOSKey(e){let n=this.pendingIOSKey;return!n||n.key=="Enter"&&e&&e.from<e.to&&/^\S+$/.test(e.insert.toString())?!1:(this.pendingIOSKey=void 0,v0(this.view.contentDOM,n.key,n.keyCode,n instanceof KeyboardEvent?n:void 0))}ignoreDuringComposition(e){return/^key/.test(e.type)?this.composing>0?!0:We.safari&&!We.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100?(this.compositionPendingKey=!1,!0):!1:!1}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.view.observer.update(e),this.mouseSelection&&this.mouseSelection.update(e),this.draggedContent&&e.docChanged&&(this.draggedContent=this.draggedContent.map(e.changes)),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}};function aL(t,e){return(n,r)=>{try{return e.call(t,r,n)}catch(i){no(n.state,i)}}}function exe(t){let e=Object.create(null);function n(r){return e[r]||(e[r]={observers:[],handlers:[]})}for(let r of t){let i=r.spec,o=i&&i.plugin.domEventHandlers,s=i&&i.plugin.domEventObservers;if(o)for(let l in o){let a=o[l];a&&n(l).handlers.push(aL(r.value,a))}if(s)for(let l in s){let a=s[l];a&&n(l).observers.push(aL(r.value,a))}}for(let r in il)n(r).handlers.push(il[r]);for(let r in Cs)n(r).observers.push(Cs[r]);return e}const ZG=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],txe="dthko",QG=[16,17,18,20,91,92,224,225],e4=6;function t4(t){return Math.max(0,t)*.7+8}function nxe(t,e){return Math.max(Math.abs(t.clientX-e.clientX),Math.abs(t.clientY-e.clientY))}class rxe{constructor(e,n,r,i){this.view=e,this.startEvent=n,this.style=r,this.mustSelect=i,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=n,this.scrollParents=h5e(e.contentDOM),this.atoms=e.state.facet(i3).map(s=>s(e));let o=e.contentDOM.ownerDocument;o.addEventListener("mousemove",this.move=this.move.bind(this)),o.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=n.shiftKey,this.multiple=e.state.facet(Fn.allowMultipleSelections)&&ixe(e,n),this.dragging=sxe(e,n)&&nY(n)==1?null:!1}start(e){this.dragging===!1&&this.select(e)}move(e){if(e.buttons==0)return this.destroy();if(this.dragging||this.dragging==null&&nxe(this.startEvent,e)<10)return;this.select(this.lastEvent=e);let n=0,r=0,i=0,o=0,s=this.view.win.innerWidth,l=this.view.win.innerHeight;this.scrollParents.x&&({left:i,right:s}=this.scrollParents.x.getBoundingClientRect()),this.scrollParents.y&&({top:o,bottom:l}=this.scrollParents.y.getBoundingClientRect());let a=VA(this.view);e.clientX-a.left<=i+e4?n=-t4(i-e.clientX):e.clientX+a.right>=s-e4&&(n=t4(e.clientX-s)),e.clientY-a.top<=o+e4?r=-t4(o-e.clientY):e.clientY+a.bottom>=l-e4&&(r=t4(e.clientY-l)),this.setScrollSpeed(n,r)}up(e){this.dragging==null&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(e,n){this.scrollSpeed={x:e,y:n},e||n?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){let{x:e,y:n}=this.scrollSpeed;e&&this.scrollParents.x&&(this.scrollParents.x.scrollLeft+=e,e=0),n&&this.scrollParents.y&&(this.scrollParents.y.scrollTop+=n,n=0),(e||n)&&this.view.win.scrollBy(e,n),this.dragging===!1&&this.select(this.lastEvent)}select(e){let{view:n}=this,r=XG(this.atoms,this.style.get(e,this.extend,this.multiple));(this.mustSelect||!r.eq(n.state.selection,this.dragging===!1))&&this.view.dispatch({selection:r,userEvent:"select.pointer"}),this.mustSelect=!1}update(e){e.transactions.some(n=>n.isUserEvent("input.type"))?this.destroy():this.style.update(e)&&setTimeout(()=>this.select(this.lastEvent),20)}}function ixe(t,e){let n=t.state.facet(RG);return n.length?n[0](e):We.mac?e.metaKey:e.ctrlKey}function oxe(t,e){let n=t.state.facet(NG);return n.length?n[0](e):We.mac?!e.altKey:!e.ctrlKey}function sxe(t,e){let{main:n}=t.state.selection;if(n.empty)return!1;let r=yy(t.root);if(!r||r.rangeCount==0)return!0;let i=r.getRangeAt(0).getClientRects();for(let o=0;o<i.length;o++){let s=i[o];if(s.left<=e.clientX&&s.right>=e.clientX&&s.top<=e.clientY&&s.bottom>=e.clientY)return!0}return!1}function lxe(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target,r;n!=t.contentDOM;n=n.parentNode)if(!n||n.nodeType==11||(r=fn.get(n))&&r.ignoreEvent(e))return!1;return!0}const il=Object.create(null),Cs=Object.create(null),eY=We.ie&&We.ie_version<15||We.ios&&We.webkit_version<604;function axe(t){let e=t.dom.parentNode;if(!e)return;let n=e.appendChild(document.createElement("textarea"));n.style.cssText="position: fixed; left: -10000px; top: 10px",n.focus(),setTimeout(()=>{t.focus(),n.remove(),tY(t,n.value)},50)}function o3(t,e,n){for(let r of t.facet(e))n=r(n,t);return n}function tY(t,e){e=o3(t.state,zA,e);let{state:n}=t,r,i=1,o=n.toText(e),s=o.lines==n.selection.ranges.length;if(D9!=null&&n.selection.ranges.every(a=>a.empty)&&D9==o.toString()){let a=-1;r=n.changeByRange(u=>{let c=n.doc.lineAt(u.from);if(c.from==a)return{range:u};a=c.from;let h=n.toText((s?o.line(i++).text:e)+n.lineBreak);return{changes:{from:c.from,insert:h},range:fe.cursor(u.from+h.length)}})}else s?r=n.changeByRange(a=>{let u=o.line(i++);return{changes:{from:a.from,to:a.to,insert:u.text},range:fe.cursor(a.from+u.length)}}):r=n.replaceSelection(o);t.dispatch(r,{userEvent:"input.paste",scrollIntoView:!0})}Cs.scroll=t=>{t.inputState.lastScrollTop=t.scrollDOM.scrollTop,t.inputState.lastScrollLeft=t.scrollDOM.scrollLeft};il.keydown=(t,e)=>(t.inputState.setSelectionOrigin("select"),e.keyCode==27&&t.inputState.tabFocusMode!=0&&(t.inputState.tabFocusMode=Date.now()+2e3),!1);Cs.touchstart=(t,e)=>{t.inputState.lastTouchTime=Date.now(),t.inputState.setSelectionOrigin("select.pointer")};Cs.touchmove=t=>{t.inputState.setSelectionOrigin("select.pointer")};il.mousedown=(t,e)=>{if(t.observer.flush(),t.inputState.lastTouchTime>Date.now()-2e3)return!1;let n=null;for(let r of t.state.facet(LG))if(n=r(t,e),n)break;if(!n&&e.button==0&&(n=hxe(t,e)),n){let r=!t.hasFocus;t.inputState.startMouseSelection(new rxe(t,e,n,r)),r&&t.observer.ignore(()=>{mG(t.contentDOM);let o=t.root.activeElement;o&&!o.contains(t.contentDOM)&&o.blur()});let i=t.inputState.mouseSelection;if(i)return i.start(e),i.dragging===!1}else t.inputState.setSelectionOrigin("select.pointer");return!1};function uL(t,e,n,r){if(r==1)return fe.cursor(e,n);if(r==2)return z5e(t.state,e,n);{let i=fr.find(t.docView,e),o=t.state.doc.lineAt(i?i.posAtEnd:e),s=i?i.posAtStart:o.from,l=i?i.posAtEnd:o.to;return l<t.state.doc.length&&l==o.to&&l++,fe.range(s,l)}}let cL=(t,e,n)=>e>=n.top&&e<=n.bottom&&t>=n.left&&t<=n.right;function uxe(t,e,n,r){let i=fr.find(t.docView,e);if(!i)return 1;let o=e-i.posAtStart;if(o==0)return 1;if(o==i.length)return-1;let s=i.coordsAt(o,-1);if(s&&cL(n,r,s))return-1;let l=i.coordsAt(o,1);return l&&cL(n,r,l)?1:s&&s.bottom>=r?-1:1}function hL(t,e){let n=t.posAtCoords({x:e.clientX,y:e.clientY},!1);return{pos:n,bias:uxe(t,n,e.clientX,e.clientY)}}const cxe=We.ie&&We.ie_version<=11;let fL=null,dL=0,pL=0;function nY(t){if(!cxe)return t.detail;let e=fL,n=pL;return fL=t,pL=Date.now(),dL=!e||n>Date.now()-400&&Math.abs(e.clientX-t.clientX)<2&&Math.abs(e.clientY-t.clientY)<2?(dL+1)%3:1}function hxe(t,e){let n=hL(t,e),r=nY(e),i=t.state.selection;return{update(o){o.docChanged&&(n.pos=o.changes.mapPos(n.pos),i=i.map(o.changes))},get(o,s,l){let a=hL(t,o),u,c=uL(t,a.pos,a.bias,r);if(n.pos!=a.pos&&!s){let h=uL(t,n.pos,n.bias,r),f=Math.min(h.from,c.from),d=Math.max(h.to,c.to);c=f<c.from?fe.range(f,d):fe.range(d,f)}return s?i.replaceRange(i.main.extend(c.from,c.to)):l&&r==1&&i.ranges.length>1&&(u=fxe(i,a.pos))?u:l?i.addRange(c):fe.create([c])}}}function fxe(t,e){for(let n=0;n<t.ranges.length;n++){let{from:r,to:i}=t.ranges[n];if(r<=e&&i>=e)return fe.create(t.ranges.slice(0,n).concat(t.ranges.slice(n+1)),t.mainIndex==n?0:t.mainIndex-(t.mainIndex>n?1:0))}return null}il.dragstart=(t,e)=>{let{selection:{main:n}}=t.state;if(e.target.draggable){let i=t.docView.nearest(e.target);if(i&&i.isWidget){let o=i.posAtStart,s=o+i.length;(o>=n.to||s<=n.from)&&(n=fe.range(o,s))}}let{inputState:r}=t;return r.mouseSelection&&(r.mouseSelection.dragging=!0),r.draggedContent=n,e.dataTransfer&&(e.dataTransfer.setData("Text",o3(t.state,FA,t.state.sliceDoc(n.from,n.to))),e.dataTransfer.effectAllowed="copyMove"),!1};il.dragend=t=>(t.inputState.draggedContent=null,!1);function mL(t,e,n,r){if(n=o3(t.state,zA,n),!n)return;let i=t.posAtCoords({x:e.clientX,y:e.clientY},!1),{draggedContent:o}=t.inputState,s=r&&o&&oxe(t,e)?{from:o.from,to:o.to}:null,l={from:i,insert:n},a=t.state.changes(s?[s,l]:l);t.focus(),t.dispatch({changes:a,selection:{anchor:a.mapPos(i,-1),head:a.mapPos(i,1)},userEvent:s?"move.drop":"input.drop"}),t.inputState.draggedContent=null}il.drop=(t,e)=>{if(!e.dataTransfer)return!1;if(t.state.readOnly)return!0;let n=e.dataTransfer.files;if(n&&n.length){let r=Array(n.length),i=0,o=()=>{++i==n.length&&mL(t,e,r.filter(s=>s!=null).join(t.state.lineBreak),!1)};for(let s=0;s<n.length;s++){let l=new FileReader;l.onerror=o,l.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(l.result)||(r[s]=l.result),o()},l.readAsText(n[s])}return!0}else{let r=e.dataTransfer.getData("Text");if(r)return mL(t,e,r,!0),!0}return!1};il.paste=(t,e)=>{if(t.state.readOnly)return!0;t.observer.flush();let n=eY?null:e.clipboardData;return n?(tY(t,n.getData("text/plain")||n.getData("text/uri-list")),!0):(axe(t),!1)};function dxe(t,e){let n=t.dom.parentNode;if(!n)return;let r=n.appendChild(document.createElement("textarea"));r.style.cssText="position: fixed; left: -10000px; top: 10px",r.value=e,r.focus(),r.selectionEnd=e.length,r.selectionStart=0,setTimeout(()=>{r.remove(),t.focus()},50)}function pxe(t){let e=[],n=[],r=!1;for(let i of t.selection.ranges)i.empty||(e.push(t.sliceDoc(i.from,i.to)),n.push(i));if(!e.length){let i=-1;for(let{from:o}of t.selection.ranges){let s=t.doc.lineAt(o);s.number>i&&(e.push(s.text),n.push({from:s.from,to:Math.min(t.doc.length,s.to+1)})),i=s.number}r=!0}return{text:o3(t,FA,e.join(t.lineBreak)),ranges:n,linewise:r}}let D9=null;il.copy=il.cut=(t,e)=>{let{text:n,ranges:r,linewise:i}=pxe(t.state);if(!n&&!i)return!1;D9=i?n:null,e.type=="cut"&&!t.state.readOnly&&t.dispatch({changes:r,scrollIntoView:!0,userEvent:"delete.cut"});let o=eY?null:e.clipboardData;return o?(o.clearData(),o.setData("text/plain",n),!0):(dxe(t,n),!1)};const rY=ku.define();function iY(t,e){let n=[];for(let r of t.facet(FG)){let i=r(t,e);i&&n.push(i)}return n.length?t.update({effects:n,annotations:rY.of(!0)}):null}function oY(t){setTimeout(()=>{let e=t.hasFocus;if(e!=t.inputState.notifiedFocused){let n=iY(t.state,e);n?t.dispatch(n):t.update([])}},10)}Cs.focus=t=>{t.inputState.lastFocusTime=Date.now(),!t.scrollDOM.scrollTop&&(t.inputState.lastScrollTop||t.inputState.lastScrollLeft)&&(t.scrollDOM.scrollTop=t.inputState.lastScrollTop,t.scrollDOM.scrollLeft=t.inputState.lastScrollLeft),oY(t)};Cs.blur=t=>{t.observer.clearSelectionRange(),oY(t)};Cs.compositionstart=Cs.compositionupdate=t=>{t.observer.editContext||(t.inputState.compositionFirstChange==null&&(t.inputState.compositionFirstChange=!0),t.inputState.composing<0&&(t.inputState.composing=0))};Cs.compositionend=t=>{t.observer.editContext||(t.inputState.composing=-1,t.inputState.compositionEndedAt=Date.now(),t.inputState.compositionPendingKey=!0,t.inputState.compositionPendingChange=t.observer.pendingRecords().length>0,t.inputState.compositionFirstChange=null,We.chrome&&We.android?t.observer.flushSoon():t.inputState.compositionPendingChange?Promise.resolve().then(()=>t.observer.flush()):setTimeout(()=>{t.inputState.composing<0&&t.docView.hasComposition&&t.update([])},50))};Cs.contextmenu=t=>{t.inputState.lastContextMenu=Date.now()};il.beforeinput=(t,e)=>{var n,r;if(e.inputType=="insertReplacementText"&&t.observer.editContext){let o=(n=e.dataTransfer)===null||n===void 0?void 0:n.getData("text/plain"),s=e.getTargetRanges();if(o&&s.length){let l=s[0],a=t.posAtDOM(l.startContainer,l.startOffset),u=t.posAtDOM(l.endContainer,l.endOffset);return HA(t,{from:a,to:u,insert:t.state.toText(o)},null),!0}}let i;if(We.chrome&&We.android&&(i=ZG.find(o=>o.inputType==e.inputType))&&(t.observer.delayAndroidKey(i.key,i.keyCode),i.key=="Backspace"||i.key=="Delete")){let o=((r=window.visualViewport)===null||r===void 0?void 0:r.height)||0;setTimeout(()=>{var s;(((s=window.visualViewport)===null||s===void 0?void 0:s.height)||0)>o+10&&t.hasFocus&&(t.contentDOM.blur(),t.focus())},100)}return We.ios&&e.inputType=="deleteContentForward"&&t.observer.flushSoon(),We.safari&&e.inputType=="insertText"&&t.inputState.composing>=0&&setTimeout(()=>Cs.compositionend(t,e),20),!1};const gL=new Set;function mxe(t){gL.has(t)||(gL.add(t),t.addEventListener("copy",()=>{}),t.addEventListener("cut",()=>{}))}const yL=["pre-wrap","normal","pre-line","break-spaces"];let Tp=!1;function vL(){Tp=!1}class gxe{constructor(e){this.lineWrapping=e,this.doc=Yt.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30}heightForGap(e,n){let r=this.doc.lineAt(n).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(r+=Math.max(0,Math.ceil((n-e-r*this.lineLength*.5)/this.lineLength))),this.lineHeight*r}heightForLine(e){return this.lineWrapping?(1+Math.max(0,Math.ceil((e-this.lineLength)/Math.max(1,this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForWrapping(e){return yL.indexOf(e)>-1!=this.lineWrapping}mustRefreshForHeights(e){let n=!1;for(let r=0;r<e.length;r++){let i=e[r];i<0?r++:this.heightSamples[Math.floor(i*10)]||(n=!0,this.heightSamples[Math.floor(i*10)]=!0)}return n}refresh(e,n,r,i,o,s){let l=yL.indexOf(e)>-1,a=Math.round(n)!=Math.round(this.lineHeight)||this.lineWrapping!=l;if(this.lineWrapping=l,this.lineHeight=n,this.charWidth=r,this.textHeight=i,this.lineLength=o,a){this.heightSamples={};for(let u=0;u<s.length;u++){let c=s[u];c<0?u++:this.heightSamples[Math.floor(c*10)]=!0}}return a}}class yxe{constructor(e,n){this.from=e,this.heights=n,this.index=0}get more(){return this.index<this.heights.length}}class Ll{constructor(e,n,r,i,o){this.from=e,this.length=n,this.top=r,this.height=i,this._content=o}get type(){return typeof this._content=="number"?Ri.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof $c?this._content.widget:null}get widgetLineBreaks(){return typeof this._content=="number"?this._content:0}join(e){let n=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(e._content)?e._content:[e]);return new Ll(this.from,this.length+e.length,this.top,this.height+e.height,n)}}var Dn=function(t){return t[t.ByPos=0]="ByPos",t[t.ByHeight=1]="ByHeight",t[t.ByPosNoHeight=2]="ByPosNoHeight",t}(Dn||(Dn={}));const kw=.001;class Ni{constructor(e,n,r=2){this.length=e,this.height=n,this.flags=r}get outdated(){return(this.flags&2)>0}set outdated(e){this.flags=(e?2:0)|this.flags&-3}setHeight(e){this.height!=e&&(Math.abs(this.height-e)>kw&&(Tp=!0),this.height=e)}replace(e,n,r){return Ni.of(r)}decomposeLeft(e,n){n.push(this)}decomposeRight(e,n){n.push(this)}applyChanges(e,n,r,i){let o=this,s=r.doc;for(let l=i.length-1;l>=0;l--){let{fromA:a,toA:u,fromB:c,toB:h}=i[l],f=o.lineAt(a,Dn.ByPosNoHeight,r.setDoc(n),0,0),d=f.to>=u?f:o.lineAt(u,Dn.ByPosNoHeight,r,0,0);for(h+=d.to-u,u=d.to;l>0&&f.from<=i[l-1].toA;)a=i[l-1].fromA,c=i[l-1].fromB,l--,a<f.from&&(f=o.lineAt(a,Dn.ByPosNoHeight,r,0,0));c+=f.from-a,a=f.from;let p=jA.build(r.setDoc(s),e,c,h);o=xx(o,o.replace(a,u,p))}return o.updateHeight(r,0)}static empty(){return new Mo(0,0)}static of(e){if(e.length==1)return e[0];let n=0,r=e.length,i=0,o=0;for(;;)if(n==r)if(i>o*2){let l=e[n-1];l.break?e.splice(--n,1,l.left,null,l.right):e.splice(--n,1,l.left,l.right),r+=1+l.break,i-=l.size}else if(o>i*2){let l=e[r];l.break?e.splice(r,1,l.left,null,l.right):e.splice(r,1,l.left,l.right),r+=2+l.break,o-=l.size}else break;else if(i<o){let l=e[n++];l&&(i+=l.size)}else{let l=e[--r];l&&(o+=l.size)}let s=0;return e[n-1]==null?(s=1,n--):e[n]==null&&(s=1,r++),new vxe(Ni.of(e.slice(0,n)),s,Ni.of(e.slice(r)))}}function xx(t,e){return t==e?t:(t.constructor!=e.constructor&&(Tp=!0),e)}Ni.prototype.size=1;class sY extends Ni{constructor(e,n,r){super(e,n),this.deco=r}blockAt(e,n,r,i){return new Ll(i,this.length,r,this.height,this.deco||0)}lineAt(e,n,r,i,o){return this.blockAt(0,r,i,o)}forEachLine(e,n,r,i,o,s){e<=o+this.length&&n>=o&&s(this.blockAt(0,r,i,o))}updateHeight(e,n=0,r=!1,i){return i&&i.from<=n&&i.more&&this.setHeight(i.heights[i.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class Mo extends sY{constructor(e,n){super(e,n,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0}blockAt(e,n,r,i){return new Ll(i,this.length,r,this.height,this.breaks)}replace(e,n,r){let i=r[0];return r.length==1&&(i instanceof Mo||i instanceof Vr&&i.flags&4)&&Math.abs(this.length-i.length)<10?(i instanceof Vr?i=new Mo(i.length,this.height):i.height=this.height,this.outdated||(i.outdated=!1),i):Ni.of(r)}updateHeight(e,n=0,r=!1,i){return i&&i.from<=n&&i.more?this.setHeight(i.heights[i.index++]):(r||this.outdated)&&this.setHeight(Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))+this.breaks*e.lineHeight),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class Vr extends Ni{constructor(e){super(e,0)}heightMetrics(e,n){let r=e.doc.lineAt(n).number,i=e.doc.lineAt(n+this.length).number,o=i-r+1,s,l=0;if(e.lineWrapping){let a=Math.min(this.height,e.lineHeight*o);s=a/o,this.length>o+1&&(l=(this.height-a)/(this.length-o-1))}else s=this.height/o;return{firstLine:r,lastLine:i,perLine:s,perChar:l}}blockAt(e,n,r,i){let{firstLine:o,lastLine:s,perLine:l,perChar:a}=this.heightMetrics(n,i);if(n.lineWrapping){let u=i+(e<n.lineHeight?0:Math.round(Math.max(0,Math.min(1,(e-r)/this.height))*this.length)),c=n.doc.lineAt(u),h=l+c.length*a,f=Math.max(r,e-h/2);return new Ll(c.from,c.length,f,h,0)}else{let u=Math.max(0,Math.min(s-o,Math.floor((e-r)/l))),{from:c,length:h}=n.doc.line(o+u);return new Ll(c,h,r+l*u,l,0)}}lineAt(e,n,r,i,o){if(n==Dn.ByHeight)return this.blockAt(e,r,i,o);if(n==Dn.ByPosNoHeight){let{from:d,to:p}=r.doc.lineAt(e);return new Ll(d,p-d,0,0,0)}let{firstLine:s,perLine:l,perChar:a}=this.heightMetrics(r,o),u=r.doc.lineAt(e),c=l+u.length*a,h=u.number-s,f=i+l*h+a*(u.from-o-h);return new Ll(u.from,u.length,Math.max(i,Math.min(f,i+this.height-c)),c,0)}forEachLine(e,n,r,i,o,s){e=Math.max(e,o),n=Math.min(n,o+this.length);let{firstLine:l,perLine:a,perChar:u}=this.heightMetrics(r,o);for(let c=e,h=i;c<=n;){let f=r.doc.lineAt(c);if(c==e){let p=f.number-l;h+=a*p+u*(e-o-p)}let d=a+u*f.length;s(new Ll(f.from,f.length,h,d,0)),h+=d,c=f.to+1}}replace(e,n,r){let i=this.length-n;if(i>0){let o=r[r.length-1];o instanceof Vr?r[r.length-1]=new Vr(o.length+i):r.push(null,new Vr(i-1))}if(e>0){let o=r[0];o instanceof Vr?r[0]=new Vr(e+o.length):r.unshift(new Vr(e-1),null)}return Ni.of(r)}decomposeLeft(e,n){n.push(new Vr(e-1),null)}decomposeRight(e,n){n.push(null,new Vr(this.length-e-1))}updateHeight(e,n=0,r=!1,i){let o=n+this.length;if(i&&i.from<=n+this.length&&i.more){let s=[],l=Math.max(n,i.from),a=-1;for(i.from>n&&s.push(new Vr(i.from-n-1).updateHeight(e,n));l<=o&&i.more;){let c=e.doc.lineAt(l).length;s.length&&s.push(null);let h=i.heights[i.index++];a==-1?a=h:Math.abs(h-a)>=kw&&(a=-2);let f=new Mo(c,h);f.outdated=!1,s.push(f),l+=c+1}l<=o&&s.push(null,new Vr(o-l).updateHeight(e,l));let u=Ni.of(s);return(a<0||Math.abs(u.height-this.height)>=kw||Math.abs(a-this.heightMetrics(e,n).perLine)>=kw)&&(Tp=!0),xx(this,u)}else(r||this.outdated)&&(this.setHeight(e.heightForGap(n,n+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}}class vxe extends Ni{constructor(e,n,r){super(e.length+n+r.length,e.height+r.height,n|(e.outdated||r.outdated?2:0)),this.left=e,this.right=r,this.size=e.size+r.size}get break(){return this.flags&1}blockAt(e,n,r,i){let o=r+this.left.height;return e<o?this.left.blockAt(e,n,r,i):this.right.blockAt(e,n,o,i+this.left.length+this.break)}lineAt(e,n,r,i,o){let s=i+this.left.height,l=o+this.left.length+this.break,a=n==Dn.ByHeight?e<s:e<l,u=a?this.left.lineAt(e,n,r,i,o):this.right.lineAt(e,n,r,s,l);if(this.break||(a?u.to<l:u.from>l))return u;let c=n==Dn.ByPosNoHeight?Dn.ByPosNoHeight:Dn.ByPos;return a?u.join(this.right.lineAt(l,c,r,s,l)):this.left.lineAt(l,c,r,i,o).join(u)}forEachLine(e,n,r,i,o,s){let l=i+this.left.height,a=o+this.left.length+this.break;if(this.break)e<a&&this.left.forEachLine(e,n,r,i,o,s),n>=a&&this.right.forEachLine(e,n,r,l,a,s);else{let u=this.lineAt(a,Dn.ByPos,r,i,o);e<u.from&&this.left.forEachLine(e,u.from-1,r,i,o,s),u.to>=e&&u.from<=n&&s(u),n>u.to&&this.right.forEachLine(u.to+1,n,r,l,a,s)}}replace(e,n,r){let i=this.left.length+this.break;if(n<i)return this.balanced(this.left.replace(e,n,r),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-i,n-i,r));let o=[];e>0&&this.decomposeLeft(e,o);let s=o.length;for(let l of r)o.push(l);if(e>0&&wL(o,s-1),n<this.length){let l=o.length;this.decomposeRight(n,o),wL(o,l)}return Ni.of(o)}decomposeLeft(e,n){let r=this.left.length;if(e<=r)return this.left.decomposeLeft(e,n);n.push(this.left),this.break&&(r++,e>=r&&n.push(null)),e>r&&this.right.decomposeLeft(e-r,n)}decomposeRight(e,n){let r=this.left.length,i=r+this.break;if(e>=i)return this.right.decomposeRight(e-i,n);e<r&&this.left.decomposeRight(e,n),this.break&&e<i&&n.push(null),n.push(this.right)}balanced(e,n){return e.size>2*n.size||n.size>2*e.size?Ni.of(this.break?[e,null,n]:[e,n]):(this.left=xx(this.left,e),this.right=xx(this.right,n),this.setHeight(e.height+n.height),this.outdated=e.outdated||n.outdated,this.size=e.size+n.size,this.length=e.length+this.break+n.length,this)}updateHeight(e,n=0,r=!1,i){let{left:o,right:s}=this,l=n+o.length+this.break,a=null;return i&&i.from<=n+o.length&&i.more?a=o=o.updateHeight(e,n,r,i):o.updateHeight(e,n,r),i&&i.from<=l+s.length&&i.more?a=s=s.updateHeight(e,l,r,i):s.updateHeight(e,l,r),a?this.balanced(o,s):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function wL(t,e){let n,r;t[e]==null&&(n=t[e-1])instanceof Vr&&(r=t[e+1])instanceof Vr&&t.splice(e-1,3,new Vr(n.length+1+r.length))}const wxe=5;class jA{constructor(e,n){this.pos=e,this.oracle=n,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,n){if(this.lineStart>-1){let r=Math.min(n,this.lineEnd),i=this.nodes[this.nodes.length-1];i instanceof Mo?i.length+=r-this.pos:(r>this.pos||!this.isCovered)&&this.nodes.push(new Mo(r-this.pos,-1)),this.writtenTo=r,n>r&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=n}point(e,n,r){if(e<n||r.heightRelevant){let i=r.widget?r.widget.estimatedHeight:0,o=r.widget?r.widget.lineBreaks:0;i<0&&(i=this.oracle.lineHeight);let s=n-e;r.block?this.addBlock(new sY(s,i,r)):(s||o||i>=wxe)&&this.addLineDeco(i,o,s)}else n>e&&this.span(e,n);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:n}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=n,this.writtenTo<e&&((this.writtenTo<e-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new Mo(this.pos-e,-1)),this.writtenTo=this.pos}blankContent(e,n){let r=new Vr(n-e);return this.oracle.doc.lineAt(e).to==n&&(r.flags|=4),r}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof Mo)return e;let n=new Mo(0,-1);return this.nodes.push(n),n}addBlock(e){this.enterLine();let n=e.deco;n&&n.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,n&&n.endSide>0&&(this.covering=e)}addLineDeco(e,n,r){let i=this.ensureLine();i.length+=r,i.collapsed+=r,i.widgetHeight=Math.max(i.widgetHeight,e),i.breaks+=n,this.writtenTo=this.pos=this.pos+r}finish(e){let n=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(n instanceof Mo)&&!this.isCovered?this.nodes.push(new Mo(0,-1)):(this.writtenTo<this.pos||n==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let r=e;for(let i of this.nodes)i instanceof Mo&&i.updateHeight(this.oracle,r),r+=i?i.length:1;return this.nodes}static build(e,n,r,i){let o=new jA(r,e);return qt.spans(n,r,i,o,0),o.finish(r)}}function xxe(t,e,n){let r=new bxe;return qt.compare(t,e,n,r,0),r.changes}class bxe{constructor(){this.changes=[]}compareRange(){}comparePoint(e,n,r,i){(e<n||r&&r.heightRelevant||i&&i.heightRelevant)&&xw(e,n,this.changes,5)}}function kxe(t,e){let n=t.getBoundingClientRect(),r=t.ownerDocument,i=r.defaultView||window,o=Math.max(0,n.left),s=Math.min(i.innerWidth,n.right),l=Math.max(0,n.top),a=Math.min(i.innerHeight,n.bottom);for(let u=t.parentNode;u&&u!=r.body;)if(u.nodeType==1){let c=u,h=window.getComputedStyle(c);if((c.scrollHeight>c.clientHeight||c.scrollWidth>c.clientWidth)&&h.overflow!="visible"){let f=c.getBoundingClientRect();o=Math.max(o,f.left),s=Math.min(s,f.right),l=Math.max(l,f.top),a=Math.min(u==t.parentNode?i.innerHeight:a,f.bottom)}u=h.position=="absolute"||h.position=="fixed"?c.offsetParent:c.parentNode}else if(u.nodeType==11)u=u.host;else break;return{left:o-n.left,right:Math.max(o,s)-n.left,top:l-(n.top+e),bottom:Math.max(l,a)-(n.top+e)}}function Sxe(t){let e=t.getBoundingClientRect(),n=t.ownerDocument.defaultView||window;return e.left<n.innerWidth&&e.right>0&&e.top<n.innerHeight&&e.bottom>0}function Cxe(t,e){let n=t.getBoundingClientRect();return{left:0,right:n.right-n.left,top:e,bottom:n.bottom-(n.top+e)}}class $7{constructor(e,n,r,i){this.from=e,this.to=n,this.size=r,this.displaySize=i}static same(e,n){if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++){let i=e[r],o=n[r];if(i.from!=o.from||i.to!=o.to||i.size!=o.size)return!1}return!0}draw(e,n){return st.replace({widget:new Txe(this.displaySize*(n?e.scaleY:e.scaleX),n)}).range(this.from,this.to)}}class Txe extends Su{constructor(e,n){super(),this.size=e,this.vertical=n}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}}class xL{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!1,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=bL,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=In.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let n=e.facet($A).some(r=>typeof r!="function"&&r.class=="cm-lineWrapping");this.heightOracle=new gxe(n),this.stateDeco=e.facet(wy).filter(r=>typeof r!="function"),this.heightMap=Ni.empty().applyChanges(this.stateDeco,Yt.empty,this.heightOracle.setDoc(e.doc),[new ys(0,0,0,e.doc.length)]);for(let r=0;r<2&&(this.viewport=this.getViewport(0,null),!!this.updateForViewport());r++);this.updateViewportLines(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=st.set(this.lineGaps.map(r=>r.draw(this,!1))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:n}=this.state.selection;for(let r=0;r<=1;r++){let i=r?n.head:n.anchor;if(!e.some(({from:o,to:s})=>i>=o&&i<=s)){let{from:o,to:s}=this.lineBlockAt(i);e.push(new n4(o,s))}}return this.viewports=e.sort((r,i)=>r.from-i.from),this.updateScaler()}updateScaler(){let e=this.scaler;return this.scaler=this.heightMap.height<=7e6?bL:new WA(this.heightOracle,this.heightMap,this.viewports),e.eq(this.scaler)?0:2}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,e=>{this.viewportLines.push(ag(e,this.scaler))})}update(e,n=null){this.state=e.state;let r=this.stateDeco;this.stateDeco=this.state.facet(wy).filter(c=>typeof c!="function");let i=e.changedRanges,o=ys.extendWithRanges(i,xxe(r,this.stateDeco,e?e.changes:br.empty(this.state.doc.length))),s=this.heightMap.height,l=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);vL(),this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),o),(this.heightMap.height!=s||Tp)&&(e.flags|=2),l?(this.scrollAnchorPos=e.changes.mapPos(l.from,-1),this.scrollAnchorHeight=l.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=s);let a=o.length?this.mapViewport(this.viewport,e.changes):this.viewport;(n&&(n.range.head<a.from||n.range.head>a.to)||!this.viewportIsAppropriate(a))&&(a=this.getViewport(0,n));let u=a.from!=this.viewport.from||a.to!=this.viewport.to;this.viewport=a,e.flags|=this.updateForViewport(),(u||!e.changes.empty||e.flags&2)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(e.changes),n&&(this.scrollTarget=n),!this.mustEnforceCursorAssoc&&e.selectionSet&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&!e.state.facet(VG)&&(this.mustEnforceCursorAssoc=!0)}measure(e){let n=e.contentDOM,r=window.getComputedStyle(n),i=this.heightOracle,o=r.whiteSpace;this.defaultTextDirection=r.direction=="rtl"?In.RTL:In.LTR;let s=this.heightOracle.mustRefreshForWrapping(o),l=n.getBoundingClientRect(),a=s||this.mustMeasureContent||this.contentDOMHeight!=l.height;this.contentDOMHeight=l.height,this.mustMeasureContent=!1;let u=0,c=0;if(l.width&&l.height){let{scaleX:b,scaleY:S}=pG(n,l);(b>.005&&Math.abs(this.scaleX-b)>.005||S>.005&&Math.abs(this.scaleY-S)>.005)&&(this.scaleX=b,this.scaleY=S,u|=16,s=a=!0)}let h=(parseInt(r.paddingTop)||0)*this.scaleY,f=(parseInt(r.paddingBottom)||0)*this.scaleY;(this.paddingTop!=h||this.paddingBottom!=f)&&(this.paddingTop=h,this.paddingBottom=f,u|=18),this.editorWidth!=e.scrollDOM.clientWidth&&(i.lineWrapping&&(a=!0),this.editorWidth=e.scrollDOM.clientWidth,u|=16);let d=e.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=d&&(this.scrollAnchorHeight=-1,this.scrollTop=d),this.scrolledToBottom=yG(e.scrollDOM);let p=(this.printing?Cxe:kxe)(n,this.paddingTop),m=p.top-this.pixelViewport.top,y=p.bottom-this.pixelViewport.bottom;this.pixelViewport=p;let g=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(g!=this.inView&&(this.inView=g,g&&(a=!0)),!this.inView&&!this.scrollTarget&&!Sxe(e.dom))return 0;let v=l.width;if((this.contentDOMWidth!=v||this.editorHeight!=e.scrollDOM.clientHeight)&&(this.contentDOMWidth=l.width,this.editorHeight=e.scrollDOM.clientHeight,u|=16),a){let b=e.docView.measureVisibleLineHeights(this.viewport);if(i.mustRefreshForHeights(b)&&(s=!0),s||i.lineWrapping&&Math.abs(v-this.contentDOMWidth)>i.charWidth){let{lineHeight:S,charWidth:k,textHeight:T}=e.docView.measureTextSize();s=S>0&&i.refresh(o,S,k,T,Math.max(5,v/k),b),s&&(e.docView.minWidth=0,u|=16)}m>0&&y>0?c=Math.max(m,y):m<0&&y<0&&(c=Math.min(m,y)),vL();for(let S of this.viewports){let k=S.from==this.viewport.from?b:e.docView.measureVisibleLineHeights(S);this.heightMap=(s?Ni.empty().applyChanges(this.stateDeco,Yt.empty,this.heightOracle,[new ys(0,0,0,e.state.doc.length)]):this.heightMap).updateHeight(i,0,s,new yxe(S.from,k))}Tp&&(u|=2)}let w=!this.viewportIsAppropriate(this.viewport,c)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return w&&(u&2&&(u|=this.updateScaler()),this.viewport=this.getViewport(c,this.scrollTarget),u|=this.updateForViewport()),(u&2||w)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(s?[]:this.lineGaps,e)),u|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),u}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,n){let r=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),i=this.heightMap,o=this.heightOracle,{visibleTop:s,visibleBottom:l}=this,a=new n4(i.lineAt(s-r*1e3,Dn.ByHeight,o,0,0).from,i.lineAt(l+(1-r)*1e3,Dn.ByHeight,o,0,0).to);if(n){let{head:u}=n.range;if(u<a.from||u>a.to){let c=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),h=i.lineAt(u,Dn.ByPos,o,0,0),f;n.y=="center"?f=(h.top+h.bottom)/2-c/2:n.y=="start"||n.y=="nearest"&&u<a.from?f=h.top:f=h.bottom-c,a=new n4(i.lineAt(f-1e3/2,Dn.ByHeight,o,0,0).from,i.lineAt(f+c+1e3/2,Dn.ByHeight,o,0,0).to)}}return a}mapViewport(e,n){let r=n.mapPos(e.from,-1),i=n.mapPos(e.to,1);return new n4(this.heightMap.lineAt(r,Dn.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(i,Dn.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:e,to:n},r=0){if(!this.inView)return!0;let{top:i}=this.heightMap.lineAt(e,Dn.ByPos,this.heightOracle,0,0),{bottom:o}=this.heightMap.lineAt(n,Dn.ByPos,this.heightOracle,0,0),{visibleTop:s,visibleBottom:l}=this;return(e==0||i<=s-Math.max(10,Math.min(-r,250)))&&(n==this.state.doc.length||o>=l+Math.max(10,Math.min(r,250)))&&i>s-2*1e3&&o<l+2*1e3}mapLineGaps(e,n){if(!e.length||n.empty)return e;let r=[];for(let i of e)n.touchesRange(i.from,i.to)||r.push(new $7(n.mapPos(i.from),n.mapPos(i.to),i.size,i.displaySize));return r}ensureLineGaps(e,n){let r=this.heightOracle.lineWrapping,i=r?1e4:2e3,o=i>>1,s=i<<1;if(this.defaultTextDirection!=In.LTR&&!r)return[];let l=[],a=(c,h,f,d)=>{if(h-c<o)return;let p=this.state.selection.main,m=[p.from];p.empty||m.push(p.to);for(let g of m)if(g>c&&g<h){a(c,g-10,f,d),a(g+10,h,f,d);return}let y=Axe(e,g=>g.from>=f.from&&g.to<=f.to&&Math.abs(g.from-c)<o&&Math.abs(g.to-h)<o&&!m.some(v=>g.from<v&&g.to>v));if(!y){if(h<f.to&&n&&r&&n.visibleRanges.some(w=>w.from<=h&&w.to>=h)){let w=n.moveToLineBoundary(fe.cursor(h),!1,!0).head;w>c&&(h=w)}let g=this.gapSize(f,c,h,d),v=r||g<2e6?g:2e6;y=new $7(c,h,g,v)}l.push(y)},u=c=>{if(c.length<s||c.type!=Ri.Text)return;let h=Mxe(c.from,c.to,this.stateDeco);if(h.total<s)return;let f=this.scrollTarget?this.scrollTarget.range.head:null,d,p;if(r){let m=i/this.heightOracle.lineLength*this.heightOracle.lineHeight,y,g;if(f!=null){let v=i4(h,f),w=((this.visibleBottom-this.visibleTop)/2+m)/c.height;y=v-w,g=v+w}else y=(this.visibleTop-c.top-m)/c.height,g=(this.visibleBottom-c.top+m)/c.height;d=r4(h,y),p=r4(h,g)}else{let m=h.total*this.heightOracle.charWidth,y=i*this.heightOracle.charWidth,g=0;if(m>2e6)for(let k of e)k.from>=c.from&&k.from<c.to&&k.size!=k.displaySize&&k.from*this.heightOracle.charWidth+g<this.pixelViewport.left&&(g=k.size-k.displaySize);let v=this.pixelViewport.left+g,w=this.pixelViewport.right+g,b,S;if(f!=null){let k=i4(h,f),T=((w-v)/2+y)/m;b=k-T,S=k+T}else b=(v-y)/m,S=(w+y)/m;d=r4(h,b),p=r4(h,S)}d>c.from&&a(c.from,d,c,h),p<c.to&&a(p,c.to,c,h)};for(let c of this.viewportLines)Array.isArray(c.type)?c.type.forEach(u):u(c);return l}gapSize(e,n,r,i){let o=i4(i,r)-i4(i,n);return this.heightOracle.lineWrapping?e.height*o:i.total*this.heightOracle.charWidth*o}updateLineGaps(e){$7.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=st.set(e.map(n=>n.draw(this,this.heightOracle.lineWrapping))))}computeVisibleRanges(e){let n=this.stateDeco;this.lineGaps.length&&(n=n.concat(this.lineGapDeco));let r=[];qt.spans(n,this.viewport.from,this.viewport.to,{span(o,s){r.push({from:o,to:s})},point(){}},20);let i=0;if(r.length!=this.visibleRanges.length)i=12;else for(let o=0;o<r.length&&!(i&8);o++){let s=this.visibleRanges[o],l=r[o];(s.from!=l.from||s.to!=l.to)&&(i|=4,e&&e.mapPos(s.from,-1)==l.from&&e.mapPos(s.to,1)==l.to||(i|=8))}return this.visibleRanges=r,i}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find(n=>n.from<=e&&n.to>=e)||ag(this.heightMap.lineAt(e,Dn.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(e){return e>=this.viewportLines[0].top&&e<=this.viewportLines[this.viewportLines.length-1].bottom&&this.viewportLines.find(n=>n.top<=e&&n.bottom>=e)||ag(this.heightMap.lineAt(this.scaler.fromDOM(e),Dn.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(e){let n=this.lineBlockAtHeight(e+8);return n.from>=this.viewport.from||this.viewportLines[0].top-e>200?n:this.viewportLines[0]}elementAtHeight(e){return ag(this.heightMap.blockAt(this.scaler.fromDOM(e),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class n4{constructor(e,n){this.from=e,this.to=n}}function Mxe(t,e,n){let r=[],i=t,o=0;return qt.spans(n,t,e,{span(){},point(s,l){s>i&&(r.push({from:i,to:s}),o+=s-i),i=l}},20),i<e&&(r.push({from:i,to:e}),o+=e-i),{total:o,ranges:r}}function r4({total:t,ranges:e},n){if(n<=0)return e[0].from;if(n>=1)return e[e.length-1].to;let r=Math.floor(t*n);for(let i=0;;i++){let{from:o,to:s}=e[i],l=s-o;if(r<=l)return o+r;r-=l}}function i4(t,e){let n=0;for(let{from:r,to:i}of t.ranges){if(e<=i){n+=e-r;break}n+=i-r}return n/t.total}function Axe(t,e){for(let n of t)if(e(n))return n}const bL={toDOM(t){return t},fromDOM(t){return t},scale:1,eq(t){return t==this}};class WA{constructor(e,n,r){let i=0,o=0,s=0;this.viewports=r.map(({from:l,to:a})=>{let u=n.lineAt(l,Dn.ByPos,e,0,0).top,c=n.lineAt(a,Dn.ByPos,e,0,0).bottom;return i+=c-u,{from:l,to:a,top:u,bottom:c,domTop:0,domBottom:0}}),this.scale=(7e6-i)/(n.height-i);for(let l of this.viewports)l.domTop=s+(l.top-o)*this.scale,s=l.domBottom=l.domTop+(l.bottom-l.top),o=l.bottom}toDOM(e){for(let n=0,r=0,i=0;;n++){let o=n<this.viewports.length?this.viewports[n]:null;if(!o||e<o.top)return i+(e-r)*this.scale;if(e<=o.bottom)return o.domTop+(e-o.top);r=o.bottom,i=o.domBottom}}fromDOM(e){for(let n=0,r=0,i=0;;n++){let o=n<this.viewports.length?this.viewports[n]:null;if(!o||e<o.domTop)return r+(e-i)/this.scale;if(e<=o.domBottom)return o.top+(e-o.domTop);r=o.bottom,i=o.domBottom}}eq(e){return e instanceof WA?this.scale==e.scale&&this.viewports.length==e.viewports.length&&this.viewports.every((n,r)=>n.from==e.viewports[r].from&&n.to==e.viewports[r].to):!1}}function ag(t,e){if(e.scale==1)return t;let n=e.toDOM(t.top),r=e.toDOM(t.bottom);return new Ll(t.from,t.length,n,r-n,Array.isArray(t._content)?t._content.map(i=>ag(i,e)):t._content)}const o4=Ue.define({combine:t=>t.join(" ")}),_9=Ue.define({combine:t=>t.indexOf(!0)>-1}),I9=Fc.newName(),lY=Fc.newName(),aY=Fc.newName(),uY={"&light":"."+lY,"&dark":"."+aY};function R9(t,e,n){return new Fc(e,{finish(r){return/&/.test(r)?r.replace(/&\w*/,i=>{if(i=="&")return t;if(!n||!n[i])throw new RangeError(`Unsupported selector: ${i}`);return n[i]}):t+" "+r}})}const Exe=R9("."+I9,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0,overflowAnchor:"none"},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#ddd"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},".cm-iso":{unicodeBidi:"isolate"},".cm-announced":{position:"fixed",top:"-10000px"},"@media print":{".cm-announced":{display:"none"}},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",zIndex:200},".cm-gutters-before":{insetInlineStart:0},".cm-gutters-after":{insetInlineEnd:0},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",border:"0px solid #ddd","&.cm-gutters-before":{borderRightWidth:"1px"},"&.cm-gutters-after":{borderLeftWidth:"1px"}},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0,zIndex:300},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-dialog":{padding:"2px 19px 4px 6px",position:"relative","& label":{fontSize:"80%"}},".cm-dialog-close":{position:"absolute",top:"3px",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",fontSize:"14px",padding:"0"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top",userSelect:"none"},".cm-highlightSpace":{backgroundImage:"radial-gradient(circle at 50% 55%, #aaa 20%, transparent 5%)",backgroundPosition:"center"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},uY),Oxe={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},V7=We.ie&&We.ie_version<=11;let Pxe=class{constructor(e){this.view=e,this.active=!1,this.editContext=null,this.selectionRange=new f5e,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.printQuery=null,this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver(n=>{for(let r of n)this.queue.push(r);(We.ie&&We.ie_version<=11||We.ios&&e.composing)&&n.some(r=>r.type=="childList"&&r.removedNodes.length||r.type=="characterData"&&r.oldValue.length>r.target.nodeValue.length)?this.flushSoon():this.flush()}),window.EditContext&&We.android&&e.constructor.EDIT_CONTEXT!==!1&&!(We.chrome&&We.chrome_version<126)&&(this.editContext=new _xe(e),e.state.facet($a)&&(e.contentDOM.editContext=this.editContext.editContext)),V7&&(this.onCharData=n=>{this.queue.push({target:n.target,type:"characterData",oldValue:n.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),window.matchMedia&&(this.printQuery=window.matchMedia("print")),typeof ResizeObserver=="function"&&(this.resizeScroll=new ResizeObserver(()=>{var n;((n=this.view.docView)===null||n===void 0?void 0:n.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(e.scrollDOM)),this.addWindowListeners(this.win=e.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(n=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),n.length>0&&n[n.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(n=>{n.length>0&&n[n.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(e){this.view.inputState.runHandlers("scroll",e),this.intersecting&&this.view.measure()}onScroll(e){this.intersecting&&this.flush(!1),this.editContext&&this.view.requestMeasure(this.editContext.measureReq),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(e){(e.type=="change"||!e.type)&&!e.matches||(this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500))}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some((n,r)=>n!=e[r]))){this.gapIntersection.disconnect();for(let n of e)this.gapIntersection.observe(n);this.gaps=e}}onSelectionChange(e){let n=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:r}=this,i=this.selectionRange;if(r.state.facet($a)?r.root.activeElement!=this.dom:!ww(this.dom,i))return;let o=i.anchorNode&&r.docView.nearest(i.anchorNode);if(o&&o.ignoreEvent(e)){n||(this.selectionChanged=!1);return}(We.ie&&We.ie_version<=11||We.android&&We.chrome)&&!r.state.selection.main.empty&&i.focusNode&&u1(i.focusNode,i.focusOffset,i.anchorNode,i.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:e}=this,n=yy(e.root);if(!n)return!1;let r=We.safari&&e.root.nodeType==11&&e.root.activeElement==this.dom&&Dxe(this.view,n)||n;if(!r||this.selectionRange.eq(r))return!1;let i=ww(this.dom,r);return i&&!this.selectionChanged&&e.inputState.lastFocusTime>Date.now()-200&&e.inputState.lastTouchTime<Date.now()-300&&p5e(this.dom,r)?(this.view.inputState.lastFocusTime=0,e.docView.updateSelection(),!1):(this.selectionRange.setRange(r),i&&(this.selectionChanged=!0),!0)}setSelectionRange(e,n){this.selectionRange.set(e.node,e.offset,n.node,n.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let e=0,n=null;for(let r=this.dom;r;)if(r.nodeType==1)!n&&e<this.scrollTargets.length&&this.scrollTargets[e]==r?e++:n||(n=this.scrollTargets.slice(0,e)),n&&n.push(r),r=r.assignedSlot||r.parentNode;else if(r.nodeType==11)r=r.host;else break;if(e<this.scrollTargets.length&&!n&&(n=this.scrollTargets.slice(0,e)),n){for(let r of this.scrollTargets)r.removeEventListener("scroll",this.onScroll);for(let r of this.scrollTargets=n)r.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,Oxe),V7&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),V7&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,n){var r;if(!this.delayedAndroidKey){let i=()=>{let o=this.delayedAndroidKey;o&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=o.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&o.force&&v0(this.dom,o.key,o.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(i)}(!this.delayedAndroidKey||e=="Enter")&&(this.delayedAndroidKey={key:e,keyCode:n,force:this.lastChange<Date.now()-50||!!(!((r=this.delayedAndroidKey)===null||r===void 0)&&r.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}processRecords(){let e=this.pendingRecords();e.length&&(this.queue=[]);let n=-1,r=-1,i=!1;for(let o of e){let s=this.readMutation(o);s&&(s.typeOver&&(i=!0),n==-1?{from:n,to:r}=s:(n=Math.min(s.from,n),r=Math.max(s.to,r)))}return{from:n,to:r,typeOver:i}}readChange(){let{from:e,to:n,typeOver:r}=this.processRecords(),i=this.selectionChanged&&ww(this.dom,this.selectionRange);if(e<0&&!i)return null;e>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let o=new G5e(this.view,e,n,r);return this.view.docView.domChanged={newSel:o.newSel?o.newSel.main:null},o}flush(e=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;e&&this.readSelectionRange();let n=this.readChange();if(!n)return this.view.requestMeasure(),!1;let r=this.view.state,i=JG(this.view,n);return this.view.state==r&&(n.domChanged||n.newSel&&!n.newSel.main.eq(this.view.state.selection.main))&&this.view.update([]),i}readMutation(e){let n=this.view.docView.nearest(e.target);if(!n||n.ignoreMutation(e))return null;if(n.markDirty(e.type=="attributes"),e.type=="attributes"&&(n.flags|=4),e.type=="childList"){let r=kL(n,e.previousSibling||e.target.previousSibling,-1),i=kL(n,e.nextSibling||e.target.nextSibling,1);return{from:r?n.posAfter(r):n.posAtStart,to:i?n.posBefore(i):n.posAtEnd,typeOver:!1}}else return e.type=="characterData"?{from:n.posAtStart,to:n.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}setWindow(e){e!=this.win&&(this.removeWindowListeners(this.win),this.win=e,this.addWindowListeners(this.win))}addWindowListeners(e){e.addEventListener("resize",this.onResize),this.printQuery?this.printQuery.addEventListener?this.printQuery.addEventListener("change",this.onPrint):this.printQuery.addListener(this.onPrint):e.addEventListener("beforeprint",this.onPrint),e.addEventListener("scroll",this.onScroll),e.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(e){e.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onResize),this.printQuery?this.printQuery.removeEventListener?this.printQuery.removeEventListener("change",this.onPrint):this.printQuery.removeListener(this.onPrint):e.removeEventListener("beforeprint",this.onPrint),e.document.removeEventListener("selectionchange",this.onSelectionChange)}update(e){this.editContext&&(this.editContext.update(e),e.startState.facet($a)!=e.state.facet($a)&&(e.view.contentDOM.editContext=e.state.facet($a)?this.editContext.editContext:null))}destroy(){var e,n,r;this.stop(),(e=this.intersection)===null||e===void 0||e.disconnect(),(n=this.gapIntersection)===null||n===void 0||n.disconnect(),(r=this.resizeScroll)===null||r===void 0||r.disconnect();for(let i of this.scrollTargets)i.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey),this.editContext&&(this.view.contentDOM.editContext=null,this.editContext.destroy())}};function kL(t,e,n){for(;e;){let r=fn.get(e);if(r&&r.parent==t)return r;let i=e.parentNode;e=i!=t.dom?i:n>0?e.nextSibling:e.previousSibling}return null}function SL(t,e){let n=e.startContainer,r=e.startOffset,i=e.endContainer,o=e.endOffset,s=t.docView.domAtPos(t.state.selection.main.anchor);return u1(s.node,s.offset,i,o)&&([n,r,i,o]=[i,o,n,r]),{anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:o}}function Dxe(t,e){if(e.getComposedRanges){let i=e.getComposedRanges(t.root)[0];if(i)return SL(t,i)}let n=null;function r(i){i.preventDefault(),i.stopImmediatePropagation(),n=i.getTargetRanges()[0]}return t.contentDOM.addEventListener("beforeinput",r,!0),t.dom.ownerDocument.execCommand("indent"),t.contentDOM.removeEventListener("beforeinput",r,!0),n?SL(t,n):null}class _xe{constructor(e){this.from=0,this.to=0,this.pendingContextChange=null,this.handlers=Object.create(null),this.composing=null,this.resetRange(e.state);let n=this.editContext=new window.EditContext({text:e.state.doc.sliceString(this.from,this.to),selectionStart:this.toContextPos(Math.max(this.from,Math.min(this.to,e.state.selection.main.anchor))),selectionEnd:this.toContextPos(e.state.selection.main.head)});this.handlers.textupdate=r=>{let i=e.state.selection.main,{anchor:o,head:s}=i,l=this.toEditorPos(r.updateRangeStart),a=this.toEditorPos(r.updateRangeEnd);e.inputState.composing>=0&&!this.composing&&(this.composing={contextBase:r.updateRangeStart,editorBase:l,drifted:!1});let u={from:l,to:a,insert:Yt.of(r.text.split(`
`))};if(u.from==this.from&&o<this.from?u.from=o:u.to==this.to&&o>this.to&&(u.to=o),u.from==u.to&&!u.insert.length){let c=fe.single(this.toEditorPos(r.selectionStart),this.toEditorPos(r.selectionEnd));c.main.eq(i)||e.dispatch({selection:c,userEvent:"select"});return}if((We.mac||We.android)&&u.from==s-1&&/^\. ?$/.test(r.text)&&e.contentDOM.getAttribute("autocorrect")=="off"&&(u={from:l,to:a,insert:Yt.of([r.text.replace("."," ")])}),this.pendingContextChange=u,!e.state.readOnly){let c=this.to-this.from+(u.to-u.from+u.insert.length);HA(e,u,fe.single(this.toEditorPos(r.selectionStart,c),this.toEditorPos(r.selectionEnd,c)))}this.pendingContextChange&&(this.revertPending(e.state),this.setSelection(e.state))},this.handlers.characterboundsupdate=r=>{let i=[],o=null;for(let s=this.toEditorPos(r.rangeStart),l=this.toEditorPos(r.rangeEnd);s<l;s++){let a=e.coordsForChar(s);o=a&&new DOMRect(a.left,a.top,a.right-a.left,a.bottom-a.top)||o||new DOMRect,i.push(o)}n.updateCharacterBounds(r.rangeStart,i)},this.handlers.textformatupdate=r=>{let i=[];for(let o of r.getTextFormats()){let s=o.underlineStyle,l=o.underlineThickness;if(s!="None"&&l!="None"){let a=this.toEditorPos(o.rangeStart),u=this.toEditorPos(o.rangeEnd);if(a<u){let c=`text-decoration: underline ${s=="Dashed"?"dashed ":s=="Squiggle"?"wavy ":""}${l=="Thin"?1:2}px`;i.push(st.mark({attributes:{style:c}}).range(a,u))}}}e.dispatch({effects:jG.of(st.set(i))})},this.handlers.compositionstart=()=>{e.inputState.composing<0&&(e.inputState.composing=0,e.inputState.compositionFirstChange=!0)},this.handlers.compositionend=()=>{if(e.inputState.composing=-1,e.inputState.compositionFirstChange=null,this.composing){let{drifted:r}=this.composing;this.composing=null,r&&this.reset(e.state)}};for(let r in this.handlers)n.addEventListener(r,this.handlers[r]);this.measureReq={read:r=>{this.editContext.updateControlBounds(r.contentDOM.getBoundingClientRect());let i=yy(r.root);i&&i.rangeCount&&this.editContext.updateSelectionBounds(i.getRangeAt(0).getBoundingClientRect())}}}applyEdits(e){let n=0,r=!1,i=this.pendingContextChange;return e.changes.iterChanges((o,s,l,a,u)=>{if(r)return;let c=u.length-(s-o);if(i&&s>=i.to)if(i.from==o&&i.to==s&&i.insert.eq(u)){i=this.pendingContextChange=null,n+=c,this.to+=c;return}else i=null,this.revertPending(e.state);if(o+=n,s+=n,s<=this.from)this.from+=c,this.to+=c;else if(o<this.to){if(o<this.from||s>this.to||this.to-this.from+u.length>3e4){r=!0;return}this.editContext.updateText(this.toContextPos(o),this.toContextPos(s),u.toString()),this.to+=c}n+=c}),i&&!r&&this.revertPending(e.state),!r}update(e){let n=this.pendingContextChange,r=e.startState.selection.main;this.composing&&(this.composing.drifted||!e.changes.touchesRange(r.from,r.to)&&e.transactions.some(i=>!i.isUserEvent("input.type")&&i.changes.touchesRange(this.from,this.to)))?(this.composing.drifted=!0,this.composing.editorBase=e.changes.mapPos(this.composing.editorBase)):!this.applyEdits(e)||!this.rangeIsValid(e.state)?(this.pendingContextChange=null,this.reset(e.state)):(e.docChanged||e.selectionSet||n)&&this.setSelection(e.state),(e.geometryChanged||e.docChanged||e.selectionSet)&&e.view.requestMeasure(this.measureReq)}resetRange(e){let{head:n}=e.selection.main;this.from=Math.max(0,n-1e4),this.to=Math.min(e.doc.length,n+1e4)}reset(e){this.resetRange(e),this.editContext.updateText(0,this.editContext.text.length,e.doc.sliceString(this.from,this.to)),this.setSelection(e)}revertPending(e){let n=this.pendingContextChange;this.pendingContextChange=null,this.editContext.updateText(this.toContextPos(n.from),this.toContextPos(n.from+n.insert.length),e.doc.sliceString(n.from,n.to))}setSelection(e){let{main:n}=e.selection,r=this.toContextPos(Math.max(this.from,Math.min(this.to,n.anchor))),i=this.toContextPos(n.head);(this.editContext.selectionStart!=r||this.editContext.selectionEnd!=i)&&this.editContext.updateSelection(r,i)}rangeIsValid(e){let{head:n}=e.selection.main;return!(this.from>0&&n-this.from<500||this.to<e.doc.length&&this.to-n<500||this.to-this.from>1e4*3)}toEditorPos(e,n=this.to-this.from){e=Math.min(e,n);let r=this.composing;return r&&r.drifted?r.editorBase+(e-r.contextBase):e+this.from}toContextPos(e){let n=this.composing;return n&&n.drifted?n.contextBase+(e-n.editorBase):e-this.from}destroy(){for(let e in this.handlers)this.editContext.removeEventListener(e,this.handlers[e])}}let Ge=class N9{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return!!this.inputState&&this.inputState.composing>0}get compositionStarted(){return!!this.inputState&&this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(e={}){var n;this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.className="cm-announced",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),e.parent&&e.parent.appendChild(this.dom);let{dispatch:r}=e;this.dispatchTransactions=e.dispatchTransactions||r&&(i=>i.forEach(o=>r(o,this)))||(i=>this.update(i)),this.dispatch=this.dispatch.bind(this),this._root=e.root||d5e(e.parent)||document,this.viewState=new xL(e.state||Fn.create(e)),e.scrollTo&&e.scrollTo.is(Q2)&&(this.viewState.scrollTarget=e.scrollTo.value.clip(this.viewState.state)),this.plugins=this.state.facet(i0).map(i=>new B7(i));for(let i of this.plugins)i.update(this);this.observer=new Pxe(this),this.inputState=new Q5e(this),this.inputState.ensureHandlers(this.plugins),this.docView=new tL(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),!((n=document.fonts)===null||n===void 0)&&n.ready&&document.fonts.ready.then(()=>this.requestMeasure())}dispatch(...e){let n=e.length==1&&e[0]instanceof Ii?e:e.length==1&&Array.isArray(e[0])?e[0]:[this.state.update(...e)];this.dispatchTransactions(n,this)}update(e){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let n=!1,r=!1,i,o=this.state;for(let f of e){if(f.startState!=o)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");o=f.state}if(this.destroyed){this.viewState.state=o;return}let s=this.hasFocus,l=0,a=null;e.some(f=>f.annotation(rY))?(this.inputState.notifiedFocused=s,l=1):s!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=s,a=iY(o,s),a||(l=1));let u=this.observer.delayedAndroidKey,c=null;if(u?(this.observer.clearDelayedAndroidKey(),c=this.observer.readChange(),(c&&!this.state.doc.eq(o.doc)||!this.state.selection.eq(o.selection))&&(c=null)):this.observer.clear(),o.facet(Fn.phrases)!=this.state.facet(Fn.phrases))return this.setState(o);i=wx.create(this,o,e),i.flags|=l;let h=this.viewState.scrollTarget;try{this.updateState=2;for(let f of e){if(h&&(h=h.map(f.changes)),f.scrollIntoView){let{main:d}=f.state.selection;h=new w0(d.empty?d:fe.cursor(d.head,d.head>d.anchor?-1:1))}for(let d of f.effects)d.is(Q2)&&(h=d.value.clip(this.state))}this.viewState.update(i,h),this.bidiCache=bx.update(this.bidiCache,i.changes),i.empty||(this.updatePlugins(i),this.inputState.update(i)),n=this.docView.update(i),this.state.facet(sg)!=this.styleModules&&this.mountStyles(),r=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(n,e.some(f=>f.isUserEvent("select.pointer")))}finally{this.updateState=0}if(i.startState.facet(o4)!=i.state.facet(o4)&&(this.viewState.mustMeasureContent=!0),(n||r||h||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),n&&this.docViewUpdate(),!i.empty)for(let f of this.state.facet(E9))try{f(i)}catch(d){no(this.state,d,"update listener")}(a||c)&&Promise.resolve().then(()=>{a&&this.state==a.startState&&this.dispatch(a),c&&!JG(this,c)&&u.force&&v0(this.contentDOM,u.key,u.keyCode)})}setState(e){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=e;return}this.updateState=2;let n=this.hasFocus;try{for(let r of this.plugins)r.destroy(this);this.viewState=new xL(e),this.plugins=e.facet(i0).map(r=>new B7(r)),this.pluginMap.clear();for(let r of this.plugins)r.update(this);this.docView.destroy(),this.docView=new tL(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}n&&this.focus(),this.requestMeasure()}updatePlugins(e){let n=e.startState.facet(i0),r=e.state.facet(i0);if(n!=r){let i=[];for(let o of r){let s=n.indexOf(o);if(s<0)i.push(new B7(o));else{let l=this.plugins[s];l.mustUpdate=e,i.push(l)}}for(let o of this.plugins)o.mustUpdate!=e&&o.destroy(this);this.plugins=i,this.pluginMap.clear()}else for(let i of this.plugins)i.mustUpdate=e;for(let i=0;i<this.plugins.length;i++)this.plugins[i].update(this);n!=r&&this.inputState.ensureHandlers(this.plugins)}docViewUpdate(){for(let e of this.plugins){let n=e.value;if(n&&n.docViewUpdate)try{n.docViewUpdate(this)}catch(r){no(this.state,r,"doc view update listener")}}}measure(e=!0){if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey){this.measureScheduled=-1,this.requestMeasure();return}this.measureScheduled=0,e&&this.observer.forceFlush();let n=null,r=this.scrollDOM,i=r.scrollTop*this.scaleY,{scrollAnchorPos:o,scrollAnchorHeight:s}=this.viewState;Math.abs(i-this.viewState.scrollTop)>1&&(s=-1),this.viewState.scrollAnchorHeight=-1;try{for(let l=0;;l++){if(s<0)if(yG(r))o=-1,s=this.viewState.heightMap.height;else{let d=this.viewState.scrollAnchorAt(i);o=d.from,s=d.top}this.updateState=1;let a=this.viewState.measure(this);if(!a&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(l>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let u=[];a&4||([this.measureRequests,u]=[u,this.measureRequests]);let c=u.map(d=>{try{return d.read(this)}catch(p){return no(this.state,p),CL}}),h=wx.create(this,this.state,[]),f=!1;h.flags|=a,n?n.flags|=a:n=h,this.updateState=2,h.empty||(this.updatePlugins(h),this.inputState.update(h),this.updateAttrs(),f=this.docView.update(h),f&&this.docViewUpdate());for(let d=0;d<u.length;d++)if(c[d]!=CL)try{let p=u[d];p.write&&p.write(c[d],this)}catch(p){no(this.state,p)}if(f&&this.docView.updateSelection(!0),!h.viewportChanged&&this.measureRequests.length==0){if(this.viewState.editorHeight)if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,s=-1;continue}else{let p=(o<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(o).top)-s;if(p>1||p<-1){i=i+p,r.scrollTop=i/this.scaleY,s=-1;continue}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(n&&!n.empty)for(let l of this.state.facet(E9))l(n)}get themeClasses(){return I9+" "+(this.state.facet(_9)?aY:lY)+" "+this.state.facet(o4)}updateAttrs(){let e=TL(this,WG,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),n={spellcheck:"false",autocorrect:"off",autocapitalize:"off",writingsuggestions:"false",translate:"no",contenteditable:this.state.facet($a)?"true":"false",class:"cm-content",style:`${We.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(n["aria-readonly"]="true"),TL(this,$A,n);let r=this.observer.ignore(()=>{let i=S9(this.contentDOM,this.contentAttrs,n),o=S9(this.dom,this.editorAttrs,e);return i||o});return this.editorAttrs=e,this.contentAttrs=n,r}showAnnouncements(e){let n=!0;for(let r of e)for(let i of r.effects)if(i.is(N9.announce)){n&&(this.announceDOM.textContent=""),n=!1;let o=this.announceDOM.appendChild(document.createElement("div"));o.textContent=i.value}}mountStyles(){this.styleModules=this.state.facet(sg);let e=this.state.facet(N9.cspNonce);Fc.mount(this.root,this.styleModules.concat(Exe).reverse(),e?{nonce:e}:void 0)}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),e){if(this.measureRequests.indexOf(e)>-1)return;if(e.key!=null){for(let n=0;n<this.measureRequests.length;n++)if(this.measureRequests[n].key===e.key){this.measureRequests[n]=e;return}}this.measureRequests.push(e)}}plugin(e){let n=this.pluginMap.get(e);return(n===void 0||n&&n.plugin!=e)&&this.pluginMap.set(e,n=this.plugins.find(r=>r.plugin==e)||null),n&&n.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,n,r){return F7(this,e,sL(this,e,n,r))}moveByGroup(e,n){return F7(this,e,sL(this,e,n,r=>W5e(this,e.head,r)))}visualLineSide(e,n){let r=this.bidiSpans(e),i=this.textDirectionAt(e.from),o=r[n?r.length-1:0];return fe.cursor(o.side(n,i)+e.from,o.forward(!n,i)?1:-1)}moveToLineBoundary(e,n,r=!0){return j5e(this,e,n,r)}moveVertically(e,n,r){return F7(this,e,U5e(this,e,n,r))}domAtPos(e){return this.docView.domAtPos(e)}posAtDOM(e,n=0){return this.docView.posFromDOM(e,n)}posAtCoords(e,n=!0){return this.readMeasured(),YG(this,e,n)}coordsAtPos(e,n=1){this.readMeasured();let r=this.docView.coordsAt(e,n);if(!r||r.left==r.right)return r;let i=this.state.doc.lineAt(e),o=this.bidiSpans(i),s=o[pc.find(o,e-i.from,-1,n)];return n3(r,s.dir==In.LTR==n>0)}coordsForChar(e){return this.readMeasured(),this.docView.coordsForChar(e)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(e){return!this.state.facet($G)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>Ixe)return _G(e.length);let n=this.textDirectionAt(e.from),r;for(let o of this.bidiCache)if(o.from==e.from&&o.dir==n&&(o.fresh||DG(o.isolates,r=eL(this,e))))return o.order;r||(r=eL(this,e));let i=A5e(e.text,n,r);return this.bidiCache.push(new bx(e.from,e.to,n,r,!0,i)),i}get hasFocus(){var e;return(this.dom.ownerDocument.hasFocus()||We.safari&&((e=this.inputState)===null||e===void 0?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{mG(this.contentDOM),this.docView.updateSelection()})}setRoot(e){this._root!=e&&(this._root=e,this.observer.setWindow((e.nodeType==9?e:e.ownerDocument).defaultView||window),this.mountStyles())}destroy(){this.root.activeElement==this.contentDOM&&this.contentDOM.blur();for(let e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e,n={}){return Q2.of(new w0(typeof e=="number"?fe.cursor(e):e,n.y,n.x,n.yMargin,n.xMargin))}scrollSnapshot(){let{scrollTop:e,scrollLeft:n}=this.scrollDOM,r=this.viewState.scrollAnchorAt(e);return Q2.of(new w0(fe.cursor(r.from),"start","start",r.top-e,n,!0))}setTabFocusMode(e){e==null?this.inputState.tabFocusMode=this.inputState.tabFocusMode<0?0:-1:typeof e=="boolean"?this.inputState.tabFocusMode=e?0:-1:this.inputState.tabFocusMode!=0&&(this.inputState.tabFocusMode=Date.now()+e)}static domEventHandlers(e){return yr.define(()=>({}),{eventHandlers:e})}static domEventObservers(e){return yr.define(()=>({}),{eventObservers:e})}static theme(e,n){let r=Fc.newName(),i=[o4.of(r),sg.of(R9(`.${r}`,e))];return n&&n.dark&&i.push(_9.of(!0)),i}static baseTheme(e){return ih.lowest(sg.of(R9("."+I9,e,uY)))}static findFromDOM(e){var n;let r=e.querySelector(".cm-content"),i=r&&fn.get(r)||fn.get(e);return((n=i==null?void 0:i.rootView)===null||n===void 0?void 0:n.view)||null}};Ge.styleModule=sg;Ge.inputHandler=zG;Ge.clipboardInputFilter=zA;Ge.clipboardOutputFilter=FA;Ge.scrollHandler=HG;Ge.focusChangeEffect=FG;Ge.perLineTextDirection=$G;Ge.exceptionSink=BG;Ge.updateListener=E9;Ge.editable=$a;Ge.mouseSelectionStyle=LG;Ge.dragMovesSelection=NG;Ge.clickAddsSelectionRange=RG;Ge.decorations=wy;Ge.outerDecorations=UG;Ge.atomicRanges=i3;Ge.bidiIsolatedRanges=qG;Ge.scrollMargins=KG;Ge.darkTheme=_9;Ge.cspNonce=Ue.define({combine:t=>t.length?t[0]:""});Ge.contentAttributes=$A;Ge.editorAttributes=WG;Ge.lineWrapping=Ge.contentAttributes.of({class:"cm-lineWrapping"});Ge.announce=Tt.define();const Ixe=4096,CL={};class bx{constructor(e,n,r,i,o,s){this.from=e,this.to=n,this.dir=r,this.isolates=i,this.fresh=o,this.order=s}static update(e,n){if(n.empty&&!e.some(o=>o.fresh))return e;let r=[],i=e.length?e[e.length-1].dir:In.LTR;for(let o=Math.max(0,e.length-10);o<e.length;o++){let s=e[o];s.dir==i&&!n.touchesRange(s.from,s.to)&&r.push(new bx(n.mapPos(s.from,1),n.mapPos(s.to,-1),s.dir,s.isolates,!1,s.order))}return r}}function TL(t,e,n){for(let r=t.state.facet(e),i=r.length-1;i>=0;i--){let o=r[i],s=typeof o=="function"?o(t):o;s&&k9(s,n)}return n}const Rxe=We.mac?"mac":We.windows?"win":We.linux?"linux":"key";function Nxe(t,e){const n=t.split(/-(?!$)/);let r=n[n.length-1];r=="Space"&&(r=" ");let i,o,s,l;for(let a=0;a<n.length-1;++a){const u=n[a];if(/^(cmd|meta|m)$/i.test(u))l=!0;else if(/^a(lt)?$/i.test(u))i=!0;else if(/^(c|ctrl|control)$/i.test(u))o=!0;else if(/^s(hift)?$/i.test(u))s=!0;else if(/^mod$/i.test(u))e=="mac"?l=!0:o=!0;else throw new Error("Unrecognized modifier name: "+u)}return i&&(r="Alt-"+r),o&&(r="Ctrl-"+r),l&&(r="Meta-"+r),s&&(r="Shift-"+r),r}function s4(t,e,n){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n!==!1&&e.shiftKey&&(t="Shift-"+t),t}const Lxe=ih.default(Ge.domEventHandlers({keydown(t,e){return hY(cY(e.state),t,e,"editor")}})),em=Ue.define({enables:Lxe}),ML=new WeakMap;function cY(t){let e=t.facet(em),n=ML.get(e);return n||ML.set(e,n=Fxe(e.reduce((r,i)=>r.concat(i),[]))),n}function Bxe(t,e,n){return hY(cY(t.state),e,t,n)}let nc=null;const zxe=4e3;function Fxe(t,e=Rxe){let n=Object.create(null),r=Object.create(null),i=(s,l)=>{let a=r[s];if(a==null)r[s]=l;else if(a!=l)throw new Error("Key binding "+s+" is used both as a regular binding and as a multi-stroke prefix")},o=(s,l,a,u,c)=>{var h,f;let d=n[s]||(n[s]=Object.create(null)),p=l.split(/ (?!$)/).map(g=>Nxe(g,e));for(let g=1;g<p.length;g++){let v=p.slice(0,g).join(" ");i(v,!0),d[v]||(d[v]={preventDefault:!0,stopPropagation:!1,run:[w=>{let b=nc={view:w,prefix:v,scope:s};return setTimeout(()=>{nc==b&&(nc=null)},zxe),!0}]})}let m=p.join(" ");i(m,!1);let y=d[m]||(d[m]={preventDefault:!1,stopPropagation:!1,run:((f=(h=d._any)===null||h===void 0?void 0:h.run)===null||f===void 0?void 0:f.slice())||[]});a&&y.run.push(a),u&&(y.preventDefault=!0),c&&(y.stopPropagation=!0)};for(let s of t){let l=s.scope?s.scope.split(" "):["editor"];if(s.any)for(let u of l){let c=n[u]||(n[u]=Object.create(null));c._any||(c._any={preventDefault:!1,stopPropagation:!1,run:[]});let{any:h}=s;for(let f in c)c[f].run.push(d=>h(d,L9))}let a=s[e]||s.key;if(a)for(let u of l)o(u,a,s.run,s.preventDefault,s.stopPropagation),s.shift&&o(u,"Shift-"+a,s.shift,s.preventDefault,s.stopPropagation)}return n}let L9=null;function hY(t,e,n,r){L9=e;let i=fG(e),o=Ji(i,0),s=Nl(o)==i.length&&i!=" ",l="",a=!1,u=!1,c=!1;nc&&nc.view==n&&nc.scope==r&&(l=nc.prefix+" ",QG.indexOf(e.keyCode)<0&&(u=!0,nc=null));let h=new Set,f=y=>{if(y){for(let g of y.run)if(!h.has(g)&&(h.add(g),g(n)))return y.stopPropagation&&(c=!0),!0;y.preventDefault&&(y.stopPropagation&&(c=!0),u=!0)}return!1},d=t[r],p,m;return d&&(f(d[l+s4(i,e,!s)])?a=!0:s&&(e.altKey||e.metaKey||e.ctrlKey)&&!(We.windows&&e.ctrlKey&&e.altKey)&&!(We.mac&&e.altKey&&!(e.ctrlKey||e.metaKey))&&(p=hu[e.keyCode])&&p!=i?(f(d[l+s4(p,e,!0)])||e.shiftKey&&(m=gy[e.keyCode])!=i&&m!=p&&f(d[l+s4(m,e,!1)]))&&(a=!0):s&&e.shiftKey&&f(d[l+s4(i,e,!0)])&&(a=!0),!a&&f(d._any)&&(a=!0)),u&&(a=!0),a&&c&&e.stopPropagation(),L9=null,a}class jv{constructor(e,n,r,i,o){this.className=e,this.left=n,this.top=r,this.width=i,this.height=o}draw(){let e=document.createElement("div");return e.className=this.className,this.adjust(e),e}update(e,n){return n.className!=this.className?!1:(this.adjust(e),!0)}adjust(e){e.style.left=this.left+"px",e.style.top=this.top+"px",this.width!=null&&(e.style.width=this.width+"px"),e.style.height=this.height+"px"}eq(e){return this.left==e.left&&this.top==e.top&&this.width==e.width&&this.height==e.height&&this.className==e.className}static forRange(e,n,r){if(r.empty){let i=e.coordsAtPos(r.head,r.assoc||1);if(!i)return[];let o=fY(e);return[new jv(n,i.left-o.left,i.top-o.top,null,i.bottom-i.top)]}else return $xe(e,n,r)}}function fY(t){let e=t.scrollDOM.getBoundingClientRect();return{left:(t.textDirection==In.LTR?e.left:e.right-t.scrollDOM.clientWidth*t.scaleX)-t.scrollDOM.scrollLeft*t.scaleX,top:e.top-t.scrollDOM.scrollTop*t.scaleY}}function AL(t,e,n,r){let i=t.coordsAtPos(e,n*2);if(!i)return r;let o=t.dom.getBoundingClientRect(),s=(i.top+i.bottom)/2,l=t.posAtCoords({x:o.left+1,y:s}),a=t.posAtCoords({x:o.right-1,y:s});return l==null||a==null?r:{from:Math.max(r.from,Math.min(l,a)),to:Math.min(r.to,Math.max(l,a))}}function $xe(t,e,n){if(n.to<=t.viewport.from||n.from>=t.viewport.to)return[];let r=Math.max(n.from,t.viewport.from),i=Math.min(n.to,t.viewport.to),o=t.textDirection==In.LTR,s=t.contentDOM,l=s.getBoundingClientRect(),a=fY(t),u=s.querySelector(".cm-line"),c=u&&window.getComputedStyle(u),h=l.left+(c?parseInt(c.paddingLeft)+Math.min(0,parseInt(c.textIndent)):0),f=l.right-(c?parseInt(c.paddingRight):0),d=P9(t,r,1),p=P9(t,i,-1),m=d.type==Ri.Text?d:null,y=p.type==Ri.Text?p:null;if(m&&(t.lineWrapping||d.widgetLineBreaks)&&(m=AL(t,r,1,m)),y&&(t.lineWrapping||p.widgetLineBreaks)&&(y=AL(t,i,-1,y)),m&&y&&m.from==y.from&&m.to==y.to)return v(w(n.from,n.to,m));{let S=m?w(n.from,null,m):b(d,!1),k=y?w(null,n.to,y):b(p,!0),T=[];return(m||d).to<(y||p).from-(m&&y?1:0)||d.widgetLineBreaks>1&&S.bottom+t.defaultLineHeight/2<k.top?T.push(g(h,S.bottom,f,k.top)):S.bottom<k.top&&t.elementAtHeight((S.bottom+k.top)/2).type==Ri.Text&&(S.bottom=k.top=(S.bottom+k.top)/2),v(S).concat(T).concat(v(k))}function g(S,k,T,A){return new jv(e,S-a.left,k-a.top,T-S,A-k)}function v({top:S,bottom:k,horizontal:T}){let A=[];for(let z=0;z<T.length;z+=2)A.push(g(T[z],S,T[z+1],k));return A}function w(S,k,T){let A=1e9,z=-1e9,E=[];function B(G,q,K,Y,L){let X=t.coordsAtPos(G,G==T.to?-2:2),O=t.coordsAtPos(K,K==T.from?2:-2);!X||!O||(A=Math.min(X.top,O.top,A),z=Math.max(X.bottom,O.bottom,z),L==In.LTR?E.push(o&&q?h:X.left,o&&Y?f:O.right):E.push(!o&&Y?h:O.left,!o&&q?f:X.right))}let $=S??T.from,ae=k??T.to;for(let G of t.visibleRanges)if(G.to>$&&G.from<ae)for(let q=Math.max(G.from,$),K=Math.min(G.to,ae);;){let Y=t.state.doc.lineAt(q);for(let L of t.bidiSpans(Y)){let X=L.from+Y.from,O=L.to+Y.from;if(X>=K)break;O>q&&B(Math.max(X,q),S==null&&X<=$,Math.min(O,K),k==null&&O>=ae,L.dir)}if(q=Y.to+1,q>=K)break}return E.length==0&&B($,S==null,ae,k==null,t.textDirection),{top:A,bottom:z,horizontal:E}}function b(S,k){let T=l.top+(k?S.top:S.bottom);return{top:T,bottom:T,horizontal:[]}}}function Vxe(t,e){return t.constructor==e.constructor&&t.eq(e)}class Hxe{constructor(e,n){this.view=e,this.layer=n,this.drawn=[],this.scaleX=1,this.scaleY=1,this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=e.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),n.above&&this.dom.classList.add("cm-layer-above"),n.class&&this.dom.classList.add(n.class),this.scale(),this.dom.setAttribute("aria-hidden","true"),this.setOrder(e.state),e.requestMeasure(this.measureReq),n.mount&&n.mount(this.dom,e)}update(e){e.startState.facet(Sw)!=e.state.facet(Sw)&&this.setOrder(e.state),(this.layer.update(e,this.dom)||e.geometryChanged)&&(this.scale(),e.view.requestMeasure(this.measureReq))}docViewUpdate(e){this.layer.updateOnDocViewUpdate!==!1&&e.requestMeasure(this.measureReq)}setOrder(e){let n=0,r=e.facet(Sw);for(;n<r.length&&r[n]!=this.layer;)n++;this.dom.style.zIndex=String((this.layer.above?150:-1)-n)}measure(){return this.layer.markers(this.view)}scale(){let{scaleX:e,scaleY:n}=this.view;(e!=this.scaleX||n!=this.scaleY)&&(this.scaleX=e,this.scaleY=n,this.dom.style.transform=`scale(${1/e}, ${1/n})`)}draw(e){if(e.length!=this.drawn.length||e.some((n,r)=>!Vxe(n,this.drawn[r]))){let n=this.dom.firstChild,r=0;for(let i of e)i.update&&n&&i.constructor&&this.drawn[r].constructor&&i.update(n,this.drawn[r])?(n=n.nextSibling,r++):this.dom.insertBefore(i.draw(),n);for(;n;){let i=n.nextSibling;n.remove(),n=i}this.drawn=e}}destroy(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}}const Sw=Ue.define();function dY(t){return[yr.define(e=>new Hxe(e,t)),Sw.of(t)]}const xy=Ue.define({combine(t){return oa(t,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(e,n)=>Math.min(e,n),drawRangeCursor:(e,n)=>e||n})}});function pY(t={}){return[xy.of(t),jxe,Wxe,Uxe,VG.of(!0)]}function mY(t){return t.startState.facet(xy)!=t.state.facet(xy)}const jxe=dY({above:!0,markers(t){let{state:e}=t,n=e.facet(xy),r=[];for(let i of e.selection.ranges){let o=i==e.selection.main;if(i.empty||n.drawRangeCursor){let s=o?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",l=i.empty?i:fe.cursor(i.head,i.head>i.anchor?-1:1);for(let a of jv.forRange(t,s,l))r.push(a)}}return r},update(t,e){t.transactions.some(r=>r.selection)&&(e.style.animationName=e.style.animationName=="cm-blink"?"cm-blink2":"cm-blink");let n=mY(t);return n&&EL(t.state,e),t.docChanged||t.selectionSet||n},mount(t,e){EL(e.state,t)},class:"cm-cursorLayer"});function EL(t,e){e.style.animationDuration=t.facet(xy).cursorBlinkRate+"ms"}const Wxe=dY({above:!1,markers(t){return t.state.selection.ranges.map(e=>e.empty?[]:jv.forRange(t,"cm-selectionBackground",e)).reduce((e,n)=>e.concat(n))},update(t,e){return t.docChanged||t.selectionSet||t.viewportChanged||mY(t)},class:"cm-selectionLayer"}),Uxe=ih.highest(Ge.theme({".cm-line":{"& ::selection, &::selection":{backgroundColor:"transparent !important"},caretColor:"transparent !important"},".cm-content":{caretColor:"transparent !important","& :focus":{caretColor:"initial !important","&::selection, & ::selection":{backgroundColor:"Highlight !important"}}}})),gY=Tt.define({map(t,e){return t==null?null:e.mapPos(t)}}),ug=Rr.define({create(){return null},update(t,e){return t!=null&&(t=e.changes.mapPos(t)),e.effects.reduce((n,r)=>r.is(gY)?r.value:n,t)}}),qxe=yr.fromClass(class{constructor(t){this.view=t,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(t){var e;let n=t.state.field(ug);n==null?this.cursor!=null&&((e=this.cursor)===null||e===void 0||e.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(t.startState.field(ug)!=n||t.docChanged||t.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let{view:t}=this,e=t.state.field(ug),n=e!=null&&t.coordsAtPos(e);if(!n)return null;let r=t.scrollDOM.getBoundingClientRect();return{left:n.left-r.left+t.scrollDOM.scrollLeft*t.scaleX,top:n.top-r.top+t.scrollDOM.scrollTop*t.scaleY,height:n.bottom-n.top}}drawCursor(t){if(this.cursor){let{scaleX:e,scaleY:n}=this.view;t?(this.cursor.style.left=t.left/e+"px",this.cursor.style.top=t.top/n+"px",this.cursor.style.height=t.height/n+"px"):this.cursor.style.left="-100000px"}}destroy(){this.cursor&&this.cursor.remove()}setDropPos(t){this.view.state.field(ug)!=t&&this.view.dispatch({effects:gY.of(t)})}},{eventObservers:{dragover(t){this.setDropPos(this.view.posAtCoords({x:t.clientX,y:t.clientY}))},dragleave(t){(t.target==this.view.contentDOM||!this.view.contentDOM.contains(t.relatedTarget))&&this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function Kxe(){return[ug,qxe]}function OL(t,e,n,r,i){e.lastIndex=0;for(let o=t.iterRange(n,r),s=n,l;!o.next().done;s+=o.value.length)if(!o.lineBreak)for(;l=e.exec(o.value);)i(s+l.index,l)}function Gxe(t,e){let n=t.visibleRanges;if(n.length==1&&n[0].from==t.viewport.from&&n[0].to==t.viewport.to)return n;let r=[];for(let{from:i,to:o}of n)i=Math.max(t.state.doc.lineAt(i).from,i-e),o=Math.min(t.state.doc.lineAt(o).to,o+e),r.length&&r[r.length-1].to>=i?r[r.length-1].to=o:r.push({from:i,to:o});return r}class Yxe{constructor(e){const{regexp:n,decoration:r,decorate:i,boundary:o,maxLength:s=1e3}=e;if(!n.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=n,i)this.addMatch=(l,a,u,c)=>i(c,u,u+l[0].length,l,a);else if(typeof r=="function")this.addMatch=(l,a,u,c)=>{let h=r(l,a,u);h&&c(u,u+l[0].length,h)};else if(r)this.addMatch=(l,a,u,c)=>c(u,u+l[0].length,r);else throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.boundary=o,this.maxLength=s}createDeco(e){let n=new cu,r=n.add.bind(n);for(let{from:i,to:o}of Gxe(e,this.maxLength))OL(e.state.doc,this.regexp,i,o,(s,l)=>this.addMatch(l,e,s,r));return n.finish()}updateDeco(e,n){let r=1e9,i=-1;return e.docChanged&&e.changes.iterChanges((o,s,l,a)=>{a>=e.view.viewport.from&&l<=e.view.viewport.to&&(r=Math.min(l,r),i=Math.max(a,i))}),e.viewportMoved||i-r>1e3?this.createDeco(e.view):i>-1?this.updateRange(e.view,n.map(e.changes),r,i):n}updateRange(e,n,r,i){for(let o of e.visibleRanges){let s=Math.max(o.from,r),l=Math.min(o.to,i);if(l>=s){let a=e.state.doc.lineAt(s),u=a.to<l?e.state.doc.lineAt(l):a,c=Math.max(o.from,a.from),h=Math.min(o.to,u.to);if(this.boundary){for(;s>a.from;s--)if(this.boundary.test(a.text[s-1-a.from])){c=s;break}for(;l<u.to;l++)if(this.boundary.test(u.text[l-u.from])){h=l;break}}let f=[],d,p=(m,y,g)=>f.push(g.range(m,y));if(a==u)for(this.regexp.lastIndex=c-a.from;(d=this.regexp.exec(a.text))&&d.index<h-a.from;)this.addMatch(d,e,d.index+a.from,p);else OL(e.state.doc,this.regexp,c,h,(m,y)=>this.addMatch(y,e,m,p));n=n.update({filterFrom:c,filterTo:h,filter:(m,y)=>m<c||y>h,add:f})}}return n}}const B9=/x/.unicode!=null?"gu":"g",Xxe=new RegExp(`[\0-\b
--\u2028\u2029\uFEFF-]`,B9),Jxe={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let H7=null;function Zxe(){var t;if(H7==null&&typeof document<"u"&&document.body){let e=document.body.style;H7=((t=e.tabSize)!==null&&t!==void 0?t:e.MozTabSize)!=null}return H7||!1}const Cw=Ue.define({combine(t){let e=oa(t,{render:null,specialChars:Xxe,addSpecialChars:null});return(e.replaceTabs=!Zxe())&&(e.specialChars=new RegExp("	|"+e.specialChars.source,B9)),e.addSpecialChars&&(e.specialChars=new RegExp(e.specialChars.source+"|"+e.addSpecialChars.source,B9)),e}});function Qxe(t={}){return[Cw.of(t),ebe()]}let PL=null;function ebe(){return PL||(PL=yr.fromClass(class{constructor(t){this.view=t,this.decorations=st.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(t.state.facet(Cw)),this.decorations=this.decorator.createDeco(t)}makeDecorator(t){return new Yxe({regexp:t.specialChars,decoration:(e,n,r)=>{let{doc:i}=n.state,o=Ji(e[0],0);if(o==9){let s=i.lineAt(r),l=n.state.tabSize,a=Qp(s.text,l,r-s.from);return st.replace({widget:new ibe((l-a%l)*this.view.defaultCharacterWidth/this.view.scaleX)})}return this.decorationCache[o]||(this.decorationCache[o]=st.replace({widget:new rbe(t,o)}))},boundary:t.replaceTabs?void 0:/[^]/})}update(t){let e=t.state.facet(Cw);t.startState.facet(Cw)!=e?(this.decorator=this.makeDecorator(e),this.decorations=this.decorator.createDeco(t.view)):this.decorations=this.decorator.updateDeco(t,this.decorations)}},{decorations:t=>t.decorations}))}const tbe="";function nbe(t){return t>=32?tbe:t==10?"":String.fromCharCode(9216+t)}class rbe extends Su{constructor(e,n){super(),this.options=e,this.code=n}eq(e){return e.code==this.code}toDOM(e){let n=nbe(this.code),r=e.state.phrase("Control character")+" "+(Jxe[this.code]||"0x"+this.code.toString(16)),i=this.options.render&&this.options.render(this.code,r,n);if(i)return i;let o=document.createElement("span");return o.textContent=n,o.title=r,o.setAttribute("aria-label",r),o.className="cm-specialChar",o}ignoreEvent(){return!1}}class ibe extends Su{constructor(e){super(),this.width=e}eq(e){return e.width==this.width}toDOM(){let e=document.createElement("span");return e.textContent="	",e.className="cm-tab",e.style.width=this.width+"px",e}ignoreEvent(){return!1}}function obe(){return lbe}const sbe=st.line({class:"cm-activeLine"}),lbe=yr.fromClass(class{constructor(t){this.decorations=this.getDeco(t)}update(t){(t.docChanged||t.selectionSet)&&(this.decorations=this.getDeco(t.view))}getDeco(t){let e=-1,n=[];for(let r of t.state.selection.ranges){let i=t.lineBlockAt(r.head);i.from>e&&(n.push(sbe.range(i.from)),e=i.from)}return st.set(n)}},{decorations:t=>t.decorations}),z9=2e3;function abe(t,e,n){let r=Math.min(e.line,n.line),i=Math.max(e.line,n.line),o=[];if(e.off>z9||n.off>z9||e.col<0||n.col<0){let s=Math.min(e.off,n.off),l=Math.max(e.off,n.off);for(let a=r;a<=i;a++){let u=t.doc.line(a);u.length<=l&&o.push(fe.range(u.from+s,u.to+l))}}else{let s=Math.min(e.col,n.col),l=Math.max(e.col,n.col);for(let a=r;a<=i;a++){let u=t.doc.line(a),c=m9(u.text,s,t.tabSize,!0);if(c<0)o.push(fe.cursor(u.to));else{let h=m9(u.text,l,t.tabSize);o.push(fe.range(u.from+c,u.from+h))}}}return o}function ube(t,e){let n=t.coordsAtPos(t.viewport.from);return n?Math.round(Math.abs((n.left-e)/t.defaultCharacterWidth)):-1}function DL(t,e){let n=t.posAtCoords({x:e.clientX,y:e.clientY},!1),r=t.state.doc.lineAt(n),i=n-r.from,o=i>z9?-1:i==r.length?ube(t,e.clientX):Qp(r.text,t.state.tabSize,n-r.from);return{line:r.number,col:o,off:i}}function cbe(t,e){let n=DL(t,e),r=t.state.selection;return n?{update(i){if(i.docChanged){let o=i.changes.mapPos(i.startState.doc.line(n.line).from),s=i.state.doc.lineAt(o);n={line:s.number,col:n.col,off:Math.min(n.off,s.length)},r=r.map(i.changes)}},get(i,o,s){let l=DL(t,i);if(!l)return r;let a=abe(t.state,n,l);return a.length?s?fe.create(a.concat(r.ranges)):fe.create(a):r}}:null}function hbe(t){let e=n=>n.altKey&&n.button==0;return Ge.mouseSelectionStyle.of((n,r)=>e(r)?cbe(n,r):null)}const fbe={Alt:[18,t=>!!t.altKey],Control:[17,t=>!!t.ctrlKey],Shift:[16,t=>!!t.shiftKey],Meta:[91,t=>!!t.metaKey]},dbe={style:"cursor: crosshair"};function pbe(t={}){let[e,n]=fbe[t.key||"Alt"],r=yr.fromClass(class{constructor(i){this.view=i,this.isDown=!1}set(i){this.isDown!=i&&(this.isDown=i,this.view.update([]))}},{eventObservers:{keydown(i){this.set(i.keyCode==e||n(i))},keyup(i){(i.keyCode==e||!n(i))&&this.set(!1)},mousemove(i){this.set(n(i))}}});return[r,Ge.contentAttributes.of(i=>{var o;return!((o=i.plugin(r))===null||o===void 0)&&o.isDown?dbe:null})]}const Lm="-10000px";class yY{constructor(e,n,r,i){this.facet=n,this.createTooltipView=r,this.removeTooltipView=i,this.input=e.state.facet(n),this.tooltips=this.input.filter(s=>s);let o=null;this.tooltipViews=this.tooltips.map(s=>o=r(s,o))}update(e,n){var r;let i=e.state.facet(this.facet),o=i.filter(a=>a);if(i===this.input){for(let a of this.tooltipViews)a.update&&a.update(e);return!1}let s=[],l=n?[]:null;for(let a=0;a<o.length;a++){let u=o[a],c=-1;if(u){for(let h=0;h<this.tooltips.length;h++){let f=this.tooltips[h];f&&f.create==u.create&&(c=h)}if(c<0)s[a]=this.createTooltipView(u,a?s[a-1]:null),l&&(l[a]=!!u.above);else{let h=s[a]=this.tooltipViews[c];l&&(l[a]=n[c]),h.update&&h.update(e)}}}for(let a of this.tooltipViews)s.indexOf(a)<0&&(this.removeTooltipView(a),(r=a.destroy)===null||r===void 0||r.call(a));return n&&(l.forEach((a,u)=>n[u]=a),n.length=l.length),this.input=i,this.tooltips=o,this.tooltipViews=s,!0}}function mbe(t){let e=t.dom.ownerDocument.documentElement;return{top:0,left:0,bottom:e.clientHeight,right:e.clientWidth}}const j7=Ue.define({combine:t=>{var e,n,r;return{position:We.ios?"absolute":((e=t.find(i=>i.position))===null||e===void 0?void 0:e.position)||"fixed",parent:((n=t.find(i=>i.parent))===null||n===void 0?void 0:n.parent)||null,tooltipSpace:((r=t.find(i=>i.tooltipSpace))===null||r===void 0?void 0:r.tooltipSpace)||mbe}}}),_L=new WeakMap,UA=yr.fromClass(class{constructor(t){this.view=t,this.above=[],this.inView=!0,this.madeAbsolute=!1,this.lastTransaction=0,this.measureTimeout=-1;let e=t.state.facet(j7);this.position=e.position,this.parent=e.parent,this.classes=t.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.resizeObserver=typeof ResizeObserver=="function"?new ResizeObserver(()=>this.measureSoon()):null,this.manager=new yY(t,qA,(n,r)=>this.createTooltip(n,r),n=>{this.resizeObserver&&this.resizeObserver.unobserve(n.dom),n.dom.remove()}),this.above=this.manager.tooltips.map(n=>!!n.above),this.intersectionObserver=typeof IntersectionObserver=="function"?new IntersectionObserver(n=>{Date.now()>this.lastTransaction-50&&n.length>0&&n[n.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),t.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let t of this.manager.tooltipViews)this.intersectionObserver.observe(t.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(t){t.transactions.length&&(this.lastTransaction=Date.now());let e=this.manager.update(t,this.above);e&&this.observeIntersection();let n=e||t.geometryChanged,r=t.state.facet(j7);if(r.position!=this.position&&!this.madeAbsolute){this.position=r.position;for(let i of this.manager.tooltipViews)i.dom.style.position=this.position;n=!0}if(r.parent!=this.parent){this.parent&&this.container.remove(),this.parent=r.parent,this.createContainer();for(let i of this.manager.tooltipViews)this.container.appendChild(i.dom);n=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);n&&this.maybeMeasure()}createTooltip(t,e){let n=t.create(this.view),r=e?e.dom:null;if(n.dom.classList.add("cm-tooltip"),t.arrow&&!n.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let i=document.createElement("div");i.className="cm-tooltip-arrow",n.dom.appendChild(i)}return n.dom.style.position=this.position,n.dom.style.top=Lm,n.dom.style.left="0px",this.container.insertBefore(n.dom,r),n.mount&&n.mount(this.view),this.resizeObserver&&this.resizeObserver.observe(n.dom),n}destroy(){var t,e,n;this.view.win.removeEventListener("resize",this.measureSoon);for(let r of this.manager.tooltipViews)r.dom.remove(),(t=r.destroy)===null||t===void 0||t.call(r);this.parent&&this.container.remove(),(e=this.resizeObserver)===null||e===void 0||e.disconnect(),(n=this.intersectionObserver)===null||n===void 0||n.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let t=1,e=1,n=!1;if(this.position=="fixed"&&this.manager.tooltipViews.length){let{dom:o}=this.manager.tooltipViews[0];if(We.gecko)n=o.offsetParent!=this.container.ownerDocument.body;else if(o.style.top==Lm&&o.style.left=="0px"){let s=o.getBoundingClientRect();n=Math.abs(s.top+1e4)>1||Math.abs(s.left)>1}}if(n||this.position=="absolute")if(this.parent){let o=this.parent.getBoundingClientRect();o.width&&o.height&&(t=o.width/this.parent.offsetWidth,e=o.height/this.parent.offsetHeight)}else({scaleX:t,scaleY:e}=this.view.viewState);let r=this.view.scrollDOM.getBoundingClientRect(),i=VA(this.view);return{visible:{left:r.left+i.left,top:r.top+i.top,right:r.right-i.right,bottom:r.bottom-i.bottom},parent:this.parent?this.container.getBoundingClientRect():this.view.dom.getBoundingClientRect(),pos:this.manager.tooltips.map((o,s)=>{let l=this.manager.tooltipViews[s];return l.getCoords?l.getCoords(o.pos):this.view.coordsAtPos(o.pos)}),size:this.manager.tooltipViews.map(({dom:o})=>o.getBoundingClientRect()),space:this.view.state.facet(j7).tooltipSpace(this.view),scaleX:t,scaleY:e,makeAbsolute:n}}writeMeasure(t){var e;if(t.makeAbsolute){this.madeAbsolute=!0,this.position="absolute";for(let l of this.manager.tooltipViews)l.dom.style.position="absolute"}let{visible:n,space:r,scaleX:i,scaleY:o}=t,s=[];for(let l=0;l<this.manager.tooltips.length;l++){let a=this.manager.tooltips[l],u=this.manager.tooltipViews[l],{dom:c}=u,h=t.pos[l],f=t.size[l];if(!h||a.clip!==!1&&(h.bottom<=Math.max(n.top,r.top)||h.top>=Math.min(n.bottom,r.bottom)||h.right<Math.max(n.left,r.left)-.1||h.left>Math.min(n.right,r.right)+.1)){c.style.top=Lm;continue}let d=a.arrow?u.dom.querySelector(".cm-tooltip-arrow"):null,p=d?7:0,m=f.right-f.left,y=(e=_L.get(u))!==null&&e!==void 0?e:f.bottom-f.top,g=u.offset||ybe,v=this.view.textDirection==In.LTR,w=f.width>r.right-r.left?v?r.left:r.right-f.width:v?Math.max(r.left,Math.min(h.left-(d?14:0)+g.x,r.right-m)):Math.min(Math.max(r.left,h.left-m+(d?14:0)-g.x),r.right-m),b=this.above[l];!a.strictSide&&(b?h.top-y-p-g.y<r.top:h.bottom+y+p+g.y>r.bottom)&&b==r.bottom-h.bottom>h.top-r.top&&(b=this.above[l]=!b);let S=(b?h.top-r.top:r.bottom-h.bottom)-p;if(S<y&&u.resize!==!1){if(S<this.view.defaultLineHeight){c.style.top=Lm;continue}_L.set(u,y),c.style.height=(y=S)/o+"px"}else c.style.height&&(c.style.height="");let k=b?h.top-y-p-g.y:h.bottom+p+g.y,T=w+m;if(u.overlap!==!0)for(let A of s)A.left<T&&A.right>w&&A.top<k+y&&A.bottom>k&&(k=b?A.top-y-2-p:A.bottom+p+2);if(this.position=="absolute"?(c.style.top=(k-t.parent.top)/o+"px",IL(c,(w-t.parent.left)/i)):(c.style.top=k/o+"px",IL(c,w/i)),d){let A=h.left+(v?g.x:-g.x)-(w+14-7);d.style.left=A/i+"px"}u.overlap!==!0&&s.push({left:w,top:k,right:T,bottom:k+y}),c.classList.toggle("cm-tooltip-above",b),c.classList.toggle("cm-tooltip-below",!b),u.positioned&&u.positioned(t.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let t of this.manager.tooltipViews)t.dom.style.top=Lm}},{eventObservers:{scroll(){this.maybeMeasure()}}});function IL(t,e){let n=parseInt(t.style.left,10);(isNaN(n)||Math.abs(e-n)>1)&&(t.style.left=e+"px")}const gbe=Ge.baseTheme({".cm-tooltip":{zIndex:500,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:`${7*2}px`,position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),ybe={x:0,y:0},qA=Ue.define({enables:[UA,gbe]}),kx=Ue.define({combine:t=>t.reduce((e,n)=>e.concat(n),[])});class s3{static create(e){return new s3(e)}constructor(e){this.view=e,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new yY(e,kx,(n,r)=>this.createHostedView(n,r),n=>n.dom.remove())}createHostedView(e,n){let r=e.create(this.view);return r.dom.classList.add("cm-tooltip-section"),this.dom.insertBefore(r.dom,n?n.dom.nextSibling:this.dom.firstChild),this.mounted&&r.mount&&r.mount(this.view),r}mount(e){for(let n of this.manager.tooltipViews)n.mount&&n.mount(e);this.mounted=!0}positioned(e){for(let n of this.manager.tooltipViews)n.positioned&&n.positioned(e)}update(e){this.manager.update(e)}destroy(){var e;for(let n of this.manager.tooltipViews)(e=n.destroy)===null||e===void 0||e.call(n)}passProp(e){let n;for(let r of this.manager.tooltipViews){let i=r[e];if(i!==void 0){if(n===void 0)n=i;else if(n!==i)return}}return n}get offset(){return this.passProp("offset")}get getCoords(){return this.passProp("getCoords")}get overlap(){return this.passProp("overlap")}get resize(){return this.passProp("resize")}}const vbe=qA.compute([kx],t=>{let e=t.facet(kx);return e.length===0?null:{pos:Math.min(...e.map(n=>n.pos)),end:Math.max(...e.map(n=>{var r;return(r=n.end)!==null&&r!==void 0?r:n.pos})),create:s3.create,above:e[0].above,arrow:e.some(n=>n.arrow)}});class wbe{constructor(e,n,r,i,o){this.view=e,this.source=n,this.field=r,this.setHover=i,this.hoverTime=o,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:e.dom,time:0},this.checkHover=this.checkHover.bind(this),e.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),e.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout(()=>this.startHover(),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active.length)return;let e=Date.now()-this.lastMove.time;e<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-e):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{view:e,lastMove:n}=this,r=e.docView.nearest(n.target);if(!r)return;let i,o=1;if(r instanceof dc)i=r.posAtStart;else{if(i=e.posAtCoords(n),i==null)return;let l=e.coordsAtPos(i);if(!l||n.y<l.top||n.y>l.bottom||n.x<l.left-e.defaultCharacterWidth||n.x>l.right+e.defaultCharacterWidth)return;let a=e.bidiSpans(e.state.doc.lineAt(i)).find(c=>c.from<=i&&c.to>=i),u=a&&a.dir==In.RTL?-1:1;o=n.x<l.left?-u:u}let s=this.source(e,i,o);if(s!=null&&s.then){let l=this.pending={pos:i};s.then(a=>{this.pending==l&&(this.pending=null,a&&!(Array.isArray(a)&&!a.length)&&e.dispatch({effects:this.setHover.of(Array.isArray(a)?a:[a])}))},a=>no(e.state,a,"hover tooltip"))}else s&&!(Array.isArray(s)&&!s.length)&&e.dispatch({effects:this.setHover.of(Array.isArray(s)?s:[s])})}get tooltip(){let e=this.view.plugin(UA),n=e?e.manager.tooltips.findIndex(r=>r.create==s3.create):-1;return n>-1?e.manager.tooltipViews[n]:null}mousemove(e){var n,r;this.lastMove={x:e.clientX,y:e.clientY,target:e.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let{active:i,tooltip:o}=this;if(i.length&&o&&!xbe(o.dom,e)||this.pending){let{pos:s}=i[0]||this.pending,l=(r=(n=i[0])===null||n===void 0?void 0:n.end)!==null&&r!==void 0?r:s;(s==l?this.view.posAtCoords(this.lastMove)!=s:!bbe(this.view,s,l,e.clientX,e.clientY))&&(this.view.dispatch({effects:this.setHover.of([])}),this.pending=null)}}mouseleave(e){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1;let{active:n}=this;if(n.length){let{tooltip:r}=this;r&&r.dom.contains(e.relatedTarget)?this.watchTooltipLeave(r.dom):this.view.dispatch({effects:this.setHover.of([])})}}watchTooltipLeave(e){let n=r=>{e.removeEventListener("mouseleave",n),this.active.length&&!this.view.dom.contains(r.relatedTarget)&&this.view.dispatch({effects:this.setHover.of([])})};e.addEventListener("mouseleave",n)}destroy(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}const l4=4;function xbe(t,e){let{left:n,right:r,top:i,bottom:o}=t.getBoundingClientRect(),s;if(s=t.querySelector(".cm-tooltip-arrow")){let l=s.getBoundingClientRect();i=Math.min(l.top,i),o=Math.max(l.bottom,o)}return e.clientX>=n-l4&&e.clientX<=r+l4&&e.clientY>=i-l4&&e.clientY<=o+l4}function bbe(t,e,n,r,i,o){let s=t.scrollDOM.getBoundingClientRect(),l=t.documentTop+t.documentPadding.top+t.contentHeight;if(s.left>r||s.right<r||s.top>i||Math.min(s.bottom,l)<i)return!1;let a=t.posAtCoords({x:r,y:i},!1);return a>=e&&a<=n}function kbe(t,e={}){let n=Tt.define(),r=Rr.define({create(){return[]},update(i,o){if(i.length&&(e.hideOnChange&&(o.docChanged||o.selection)?i=[]:e.hideOn&&(i=i.filter(s=>!e.hideOn(o,s))),o.docChanged)){let s=[];for(let l of i){let a=o.changes.mapPos(l.pos,-1,Wr.TrackDel);if(a!=null){let u=Object.assign(Object.create(null),l);u.pos=a,u.end!=null&&(u.end=o.changes.mapPos(u.end)),s.push(u)}}i=s}for(let s of o.effects)s.is(n)&&(i=s.value),s.is(Sbe)&&(i=[]);return i},provide:i=>kx.from(i)});return{active:r,extension:[r,yr.define(i=>new wbe(i,t,r,n,e.hoverTime||300)),vbe]}}function vY(t,e){let n=t.plugin(UA);if(!n)return null;let r=n.manager.tooltips.indexOf(e);return r<0?null:n.manager.tooltipViews[r]}const Sbe=Tt.define(),RL=Ue.define({combine(t){let e,n;for(let r of t)e=e||r.topContainer,n=n||r.bottomContainer;return{topContainer:e,bottomContainer:n}}});function by(t,e){let n=t.plugin(wY),r=n?n.specs.indexOf(e):-1;return r>-1?n.panels[r]:null}const wY=yr.fromClass(class{constructor(t){this.input=t.state.facet(ky),this.specs=this.input.filter(n=>n),this.panels=this.specs.map(n=>n(t));let e=t.state.facet(RL);this.top=new a4(t,!0,e.topContainer),this.bottom=new a4(t,!1,e.bottomContainer),this.top.sync(this.panels.filter(n=>n.top)),this.bottom.sync(this.panels.filter(n=>!n.top));for(let n of this.panels)n.dom.classList.add("cm-panel"),n.mount&&n.mount()}update(t){let e=t.state.facet(RL);this.top.container!=e.topContainer&&(this.top.sync([]),this.top=new a4(t.view,!0,e.topContainer)),this.bottom.container!=e.bottomContainer&&(this.bottom.sync([]),this.bottom=new a4(t.view,!1,e.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let n=t.state.facet(ky);if(n!=this.input){let r=n.filter(a=>a),i=[],o=[],s=[],l=[];for(let a of r){let u=this.specs.indexOf(a),c;u<0?(c=a(t.view),l.push(c)):(c=this.panels[u],c.update&&c.update(t)),i.push(c),(c.top?o:s).push(c)}this.specs=r,this.panels=i,this.top.sync(o),this.bottom.sync(s);for(let a of l)a.dom.classList.add("cm-panel"),a.mount&&a.mount()}else for(let r of this.panels)r.update&&r.update(t)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:t=>Ge.scrollMargins.of(e=>{let n=e.plugin(t);return n&&{top:n.top.scrollMargin(),bottom:n.bottom.scrollMargin()}})});class a4{constructor(e,n,r){this.view=e,this.top=n,this.container=r,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(e){for(let n of this.panels)n.destroy&&e.indexOf(n)<0&&n.destroy();this.panels=e,this.syncDOM()}syncDOM(){if(this.panels.length==0){this.dom&&(this.dom.remove(),this.dom=void 0);return}if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let n=this.container||this.view.dom;n.insertBefore(this.dom,this.top?n.firstChild:null)}let e=this.dom.firstChild;for(let n of this.panels)if(n.dom.parentNode==this.dom){for(;e!=n.dom;)e=NL(e);e=e.nextSibling}else this.dom.insertBefore(n.dom,e);for(;e;)e=NL(e)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(!(!this.container||this.classes==this.view.themeClasses)){for(let e of this.classes.split(" "))e&&this.container.classList.remove(e);for(let e of(this.classes=this.view.themeClasses).split(" "))e&&this.container.classList.add(e)}}}function NL(t){let e=t.nextSibling;return t.remove(),e}const ky=Ue.define({enables:wY});class du extends Lf{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}}du.prototype.elementClass="";du.prototype.toDOM=void 0;du.prototype.mapMode=Wr.TrackBefore;du.prototype.startSide=du.prototype.endSide=-1;du.prototype.point=!0;const Tw=Ue.define(),Cbe=Ue.define(),Tbe={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>qt.empty,lineMarker:()=>null,widgetMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{},side:"before"},h1=Ue.define();function Mbe(t){return[xY(),h1.of({...Tbe,...t})]}const LL=Ue.define({combine:t=>t.some(e=>e)});function xY(t){return[Abe]}const Abe=yr.fromClass(class{constructor(t){this.view=t,this.domAfter=null,this.prevViewport=t.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters cm-gutters-before",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.gutters=t.state.facet(h1).map(e=>new zL(t,e)),this.fixed=!t.state.facet(LL);for(let e of this.gutters)e.config.side=="after"?this.getDOMAfter().appendChild(e.dom):this.dom.appendChild(e.dom);this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),t.scrollDOM.insertBefore(this.dom,t.contentDOM)}getDOMAfter(){return this.domAfter||(this.domAfter=document.createElement("div"),this.domAfter.className="cm-gutters cm-gutters-after",this.domAfter.setAttribute("aria-hidden","true"),this.domAfter.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.domAfter.style.position=this.fixed?"sticky":"",this.view.scrollDOM.appendChild(this.domAfter)),this.domAfter}update(t){if(this.updateGutters(t)){let e=this.prevViewport,n=t.view.viewport,r=Math.min(e.to,n.to)-Math.max(e.from,n.from);this.syncGutters(r<(n.to-n.from)*.8)}if(t.geometryChanged){let e=this.view.contentHeight/this.view.scaleY+"px";this.dom.style.minHeight=e,this.domAfter&&(this.domAfter.style.minHeight=e)}this.view.state.facet(LL)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":"",this.domAfter&&(this.domAfter.style.position=this.fixed?"sticky":"")),this.prevViewport=t.view.viewport}syncGutters(t){let e=this.dom.nextSibling;t&&(this.dom.remove(),this.domAfter&&this.domAfter.remove());let n=qt.iter(this.view.state.facet(Tw),this.view.viewport.from),r=[],i=this.gutters.map(o=>new Ebe(o,this.view.viewport,-this.view.documentPadding.top));for(let o of this.view.viewportLineBlocks)if(r.length&&(r=[]),Array.isArray(o.type)){let s=!0;for(let l of o.type)if(l.type==Ri.Text&&s){F9(n,r,l.from);for(let a of i)a.line(this.view,l,r);s=!1}else if(l.widget)for(let a of i)a.widget(this.view,l)}else if(o.type==Ri.Text){F9(n,r,o.from);for(let s of i)s.line(this.view,o,r)}else if(o.widget)for(let s of i)s.widget(this.view,o);for(let o of i)o.finish();t&&(this.view.scrollDOM.insertBefore(this.dom,e),this.domAfter&&this.view.scrollDOM.appendChild(this.domAfter))}updateGutters(t){let e=t.startState.facet(h1),n=t.state.facet(h1),r=t.docChanged||t.heightChanged||t.viewportChanged||!qt.eq(t.startState.facet(Tw),t.state.facet(Tw),t.view.viewport.from,t.view.viewport.to);if(e==n)for(let i of this.gutters)i.update(t)&&(r=!0);else{r=!0;let i=[];for(let o of n){let s=e.indexOf(o);s<0?i.push(new zL(this.view,o)):(this.gutters[s].update(t),i.push(this.gutters[s]))}for(let o of this.gutters)o.dom.remove(),i.indexOf(o)<0&&o.destroy();for(let o of i)o.config.side=="after"?this.getDOMAfter().appendChild(o.dom):this.dom.appendChild(o.dom);this.gutters=i}return r}destroy(){for(let t of this.gutters)t.destroy();this.dom.remove(),this.domAfter&&this.domAfter.remove()}},{provide:t=>Ge.scrollMargins.of(e=>{let n=e.plugin(t);if(!n||n.gutters.length==0||!n.fixed)return null;let r=n.dom.offsetWidth*e.scaleX,i=n.domAfter?n.domAfter.offsetWidth*e.scaleX:0;return e.textDirection==In.LTR?{left:r,right:i}:{right:r,left:i}})});function BL(t){return Array.isArray(t)?t:[t]}function F9(t,e,n){for(;t.value&&t.from<=n;)t.from==n&&e.push(t.value),t.next()}class Ebe{constructor(e,n,r){this.gutter=e,this.height=r,this.i=0,this.cursor=qt.iter(e.markers,n.from)}addElement(e,n,r){let{gutter:i}=this,o=(n.top-this.height)/e.scaleY,s=n.height/e.scaleY;if(this.i==i.elements.length){let l=new bY(e,s,o,r);i.elements.push(l),i.dom.appendChild(l.dom)}else i.elements[this.i].update(e,s,o,r);this.height=n.bottom,this.i++}line(e,n,r){let i=[];F9(this.cursor,i,n.from),r.length&&(i=i.concat(r));let o=this.gutter.config.lineMarker(e,n,i);o&&i.unshift(o);let s=this.gutter;i.length==0&&!s.config.renderEmptyElements||this.addElement(e,n,i)}widget(e,n){let r=this.gutter.config.widgetMarker(e,n.widget,n),i=r?[r]:null;for(let o of e.state.facet(Cbe)){let s=o(e,n.widget,n);s&&(i||(i=[])).push(s)}i&&this.addElement(e,n,i)}finish(){let e=this.gutter;for(;e.elements.length>this.i;){let n=e.elements.pop();e.dom.removeChild(n.dom),n.destroy()}}}class zL{constructor(e,n){this.view=e,this.config=n,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let r in n.domEventHandlers)this.dom.addEventListener(r,i=>{let o=i.target,s;if(o!=this.dom&&this.dom.contains(o)){for(;o.parentNode!=this.dom;)o=o.parentNode;let a=o.getBoundingClientRect();s=(a.top+a.bottom)/2}else s=i.clientY;let l=e.lineBlockAtHeight(s-e.documentTop);n.domEventHandlers[r](e,l,i)&&i.preventDefault()});this.markers=BL(n.markers(e)),n.initialSpacer&&(this.spacer=new bY(e,0,0,[n.initialSpacer(e)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(e){let n=this.markers;if(this.markers=BL(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){let i=this.config.updateSpacer(this.spacer.markers[0],e);i!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[i])}let r=e.view.viewport;return!qt.eq(this.markers,n,r.from,r.to)||(this.config.lineMarkerChange?this.config.lineMarkerChange(e):!1)}destroy(){for(let e of this.elements)e.destroy()}}class bY{constructor(e,n,r,i){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(e,n,r,i)}update(e,n,r,i){this.height!=n&&(this.height=n,this.dom.style.height=n+"px"),this.above!=r&&(this.dom.style.marginTop=(this.above=r)?r+"px":""),Obe(this.markers,i)||this.setMarkers(e,i)}setMarkers(e,n){let r="cm-gutterElement",i=this.dom.firstChild;for(let o=0,s=0;;){let l=s,a=o<n.length?n[o++]:null,u=!1;if(a){let c=a.elementClass;c&&(r+=" "+c);for(let h=s;h<this.markers.length;h++)if(this.markers[h].compare(a)){l=h,u=!0;break}}else l=this.markers.length;for(;s<l;){let c=this.markers[s++];if(c.toDOM){c.destroy(i);let h=i.nextSibling;i.remove(),i=h}}if(!a)break;a.toDOM&&(u?i=i.nextSibling:this.dom.insertBefore(a.toDOM(e),i)),u&&s++}this.dom.className=r,this.markers=n}destroy(){this.setMarkers(null,[])}}function Obe(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].compare(e[n]))return!1;return!0}const Pbe=Ue.define(),Dbe=Ue.define(),o0=Ue.define({combine(t){return oa(t,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(e,n){let r=Object.assign({},e);for(let i in n){let o=r[i],s=n[i];r[i]=o?(l,a,u)=>o(l,a,u)||s(l,a,u):s}return r}})}});class W7 extends du{constructor(e){super(),this.number=e}eq(e){return this.number==e.number}toDOM(){return document.createTextNode(this.number)}}function U7(t,e){return t.state.facet(o0).formatNumber(e,t.state)}const _be=h1.compute([o0],t=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers(e){return e.state.facet(Pbe)},lineMarker(e,n,r){return r.some(i=>i.toDOM)?null:new W7(U7(e,e.state.doc.lineAt(n.from).number))},widgetMarker:(e,n,r)=>{for(let i of e.state.facet(Dbe)){let o=i(e,n,r);if(o)return o}return null},lineMarkerChange:e=>e.startState.facet(o0)!=e.state.facet(o0),initialSpacer(e){return new W7(U7(e,FL(e.state.doc.lines)))},updateSpacer(e,n){let r=U7(n.view,FL(n.view.state.doc.lines));return r==e.number?e:new W7(r)},domEventHandlers:t.facet(o0).domEventHandlers,side:"before"}));function Ibe(t={}){return[o0.of(t),xY(),_be]}function FL(t){let e=9;for(;e<t;)e=e*10+9;return e}const Rbe=new class extends du{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},Nbe=Tw.compute(["selection"],t=>{let e=[],n=-1;for(let r of t.selection.ranges){let i=t.doc.lineAt(r.head).from;i>n&&(n=i,e.push(Rbe.range(i)))}return qt.of(e)});function Lbe(){return Nbe}let Bbe=0;class ls{constructor(e,n,r,i){this.name=e,this.set=n,this.base=r,this.modified=i,this.id=Bbe++}toString(){let{name:e}=this;for(let n of this.modified)n.name&&(e=`${n.name}(${e})`);return e}static define(e,n){let r=typeof e=="string"?e:"?";if(e instanceof ls&&(n=e),n!=null&&n.base)throw new Error("Can not derive from a modified tag");let i=new ls(r,[],null,[]);if(i.set.push(i),n)for(let o of n.set)i.set.push(o);return i}static defineModifier(e){let n=new Sx(e);return r=>r.modified.indexOf(n)>-1?r:Sx.get(r.base||r,r.modified.concat(n).sort((i,o)=>i.id-o.id))}}let zbe=0;class Sx{constructor(e){this.name=e,this.instances=[],this.id=zbe++}static get(e,n){if(!n.length)return e;let r=n[0].instances.find(l=>l.base==e&&Fbe(n,l.modified));if(r)return r;let i=[],o=new ls(e.name,i,e,n);for(let l of n)l.instances.push(o);let s=$be(n);for(let l of e.set)if(!l.modified.length)for(let a of s)i.push(Sx.get(l,a));return o}}function Fbe(t,e){return t.length==e.length&&t.every((n,r)=>n==e[r])}function $be(t){let e=[[]];for(let n=0;n<t.length;n++)for(let r=0,i=e.length;r<i;r++)e.push(e[r].concat(t[n]));return e.sort((n,r)=>r.length-n.length)}function Vbe(t){let e=Object.create(null);for(let n in t){let r=t[n];Array.isArray(r)||(r=[r]);for(let i of n.split(" "))if(i){let o=[],s=2,l=i;for(let h=0;;){if(l=="..."&&h>0&&h+3==i.length){s=1;break}let f=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(l);if(!f)throw new RangeError("Invalid path: "+i);if(o.push(f[0]=="*"?"":f[0][0]=='"'?JSON.parse(f[0]):f[0]),h+=f[0].length,h==i.length)break;let d=i[h++];if(h==i.length&&d=="!"){s=0;break}if(d!="/")throw new RangeError("Invalid path: "+i);l=i.slice(h)}let a=o.length-1,u=o[a];if(!u)throw new RangeError("Invalid path: "+i);let c=new Cx(r,s,a>0?o.slice(0,a):null);e[u]=c.sort(e[u])}}return kY.add(e)}const kY=new zt;class Cx{constructor(e,n,r,i){this.tags=e,this.mode=n,this.context=r,this.next=i}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}}Cx.empty=new Cx([],2,null);function SY(t,e){let n=Object.create(null);for(let o of t)if(!Array.isArray(o.tag))n[o.tag.id]=o.class;else for(let s of o.tag)n[s.id]=o.class;let{scope:r,all:i=null}=e||{};return{style:o=>{let s=i;for(let l of o)for(let a of l.set){let u=n[a.id];if(u){s=s?s+" "+u:u;break}}return s},scope:r}}function Hbe(t,e){let n=null;for(let r of t){let i=r.style(e);i&&(n=n?n+" "+i:i)}return n}function jbe(t,e,n,r=0,i=t.length){let o=new Wbe(r,Array.isArray(e)?e:[e],n);o.highlightRange(t.cursor(),r,i,"",o.highlighters),o.flush(i)}class Wbe{constructor(e,n,r){this.at=e,this.highlighters=n,this.span=r,this.class=""}startSpan(e,n){n!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=n)}flush(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}highlightRange(e,n,r,i,o){let{type:s,from:l,to:a}=e;if(l>=r||a<=n)return;s.isTop&&(o=this.highlighters.filter(d=>!d.scope||d.scope(s)));let u=i,c=Ube(e)||Cx.empty,h=Hbe(o,c.tags);if(h&&(u&&(u+=" "),u+=h,c.mode==1&&(i+=(i?" ":"")+h)),this.startSpan(Math.max(n,l),u),c.opaque)return;let f=e.tree&&e.tree.prop(zt.mounted);if(f&&f.overlay){let d=e.node.enter(f.overlay[0].from+l,1),p=this.highlighters.filter(y=>!y.scope||y.scope(f.tree.type)),m=e.firstChild();for(let y=0,g=l;;y++){let v=y<f.overlay.length?f.overlay[y]:null,w=v?v.from+l:a,b=Math.max(n,g),S=Math.min(r,w);if(b<S&&m)for(;e.from<S&&(this.highlightRange(e,b,S,i,o),this.startSpan(Math.min(S,e.to),u),!(e.to>=w||!e.nextSibling())););if(!v||w>r)break;g=v.to+l,g>n&&(this.highlightRange(d.cursor(),Math.max(n,v.from+l),Math.min(r,g),"",p),this.startSpan(Math.min(r,g),u))}m&&e.parent()}else if(e.firstChild()){f&&(i="");do if(!(e.to<=n)){if(e.from>=r)break;this.highlightRange(e,n,r,i,o),this.startSpan(Math.min(r,e.to),u)}while(e.nextSibling());e.parent()}}}function Ube(t){let e=t.type.prop(kY);for(;e&&e.context&&!t.matchContext(e.context);)e=e.next;return e||null}const Fe=ls.define,u4=Fe(),Ku=Fe(),$L=Fe(Ku),VL=Fe(Ku),Gu=Fe(),c4=Fe(Gu),q7=Fe(Gu),Sl=Fe(),ph=Fe(Sl),xl=Fe(),bl=Fe(),$9=Fe(),Bm=Fe($9),h4=Fe(),le={comment:u4,lineComment:Fe(u4),blockComment:Fe(u4),docComment:Fe(u4),name:Ku,variableName:Fe(Ku),typeName:$L,tagName:Fe($L),propertyName:VL,attributeName:Fe(VL),className:Fe(Ku),labelName:Fe(Ku),namespace:Fe(Ku),macroName:Fe(Ku),literal:Gu,string:c4,docString:Fe(c4),character:Fe(c4),attributeValue:Fe(c4),number:q7,integer:Fe(q7),float:Fe(q7),bool:Fe(Gu),regexp:Fe(Gu),escape:Fe(Gu),color:Fe(Gu),url:Fe(Gu),keyword:xl,self:Fe(xl),null:Fe(xl),atom:Fe(xl),unit:Fe(xl),modifier:Fe(xl),operatorKeyword:Fe(xl),controlKeyword:Fe(xl),definitionKeyword:Fe(xl),moduleKeyword:Fe(xl),operator:bl,derefOperator:Fe(bl),arithmeticOperator:Fe(bl),logicOperator:Fe(bl),bitwiseOperator:Fe(bl),compareOperator:Fe(bl),updateOperator:Fe(bl),definitionOperator:Fe(bl),typeOperator:Fe(bl),controlOperator:Fe(bl),punctuation:$9,separator:Fe($9),bracket:Bm,angleBracket:Fe(Bm),squareBracket:Fe(Bm),paren:Fe(Bm),brace:Fe(Bm),content:Sl,heading:ph,heading1:Fe(ph),heading2:Fe(ph),heading3:Fe(ph),heading4:Fe(ph),heading5:Fe(ph),heading6:Fe(ph),contentSeparator:Fe(Sl),list:Fe(Sl),quote:Fe(Sl),emphasis:Fe(Sl),strong:Fe(Sl),link:Fe(Sl),monospace:Fe(Sl),strikethrough:Fe(Sl),inserted:Fe(),deleted:Fe(),changed:Fe(),invalid:Fe(),meta:h4,documentMeta:Fe(h4),annotation:Fe(h4),processingInstruction:Fe(h4),definition:ls.defineModifier("definition"),constant:ls.defineModifier("constant"),function:ls.defineModifier("function"),standard:ls.defineModifier("standard"),local:ls.defineModifier("local"),special:ls.defineModifier("special")};for(let t in le){let e=le[t];e instanceof ls&&(e.name=t)}SY([{tag:le.link,class:"tok-link"},{tag:le.heading,class:"tok-heading"},{tag:le.emphasis,class:"tok-emphasis"},{tag:le.strong,class:"tok-strong"},{tag:le.keyword,class:"tok-keyword"},{tag:le.atom,class:"tok-atom"},{tag:le.bool,class:"tok-bool"},{tag:le.url,class:"tok-url"},{tag:le.labelName,class:"tok-labelName"},{tag:le.inserted,class:"tok-inserted"},{tag:le.deleted,class:"tok-deleted"},{tag:le.literal,class:"tok-literal"},{tag:le.string,class:"tok-string"},{tag:le.number,class:"tok-number"},{tag:[le.regexp,le.escape,le.special(le.string)],class:"tok-string2"},{tag:le.variableName,class:"tok-variableName"},{tag:le.local(le.variableName),class:"tok-variableName tok-local"},{tag:le.definition(le.variableName),class:"tok-variableName tok-definition"},{tag:le.special(le.variableName),class:"tok-variableName2"},{tag:le.definition(le.propertyName),class:"tok-propertyName tok-definition"},{tag:le.typeName,class:"tok-typeName"},{tag:le.namespace,class:"tok-namespace"},{tag:le.className,class:"tok-className"},{tag:le.macroName,class:"tok-macroName"},{tag:le.propertyName,class:"tok-propertyName"},{tag:le.operator,class:"tok-operator"},{tag:le.comment,class:"tok-comment"},{tag:le.meta,class:"tok-meta"},{tag:le.invalid,class:"tok-invalid"},{tag:le.punctuation,class:"tok-punctuation"}]);var K7;const Uh=new zt;function CY(t){return Ue.define({combine:t?e=>e.concat(t):void 0})}const qbe=new zt;class hs{constructor(e,n,r=[],i=""){this.data=e,this.name=i,Fn.prototype.hasOwnProperty("tree")||Object.defineProperty(Fn.prototype,"tree",{get(){return Gr(this)}}),this.parser=n,this.extension=[Vc.of(this),Fn.languageData.of((o,s,l)=>{let a=HL(o,s,l),u=a.type.prop(Uh);if(!u)return[];let c=o.facet(u),h=a.type.prop(qbe);if(h){let f=a.resolve(s-a.from,l);for(let d of h)if(d.test(f,o)){let p=o.facet(d.facet);return d.type=="replace"?p:p.concat(c)}}return c})].concat(r)}isActiveAt(e,n,r=-1){return HL(e,n,r).type.prop(Uh)==this.data}findRegions(e){let n=e.facet(Vc);if((n==null?void 0:n.data)==this.data)return[{from:0,to:e.doc.length}];if(!n||!n.allowsNesting)return[];let r=[],i=(o,s)=>{if(o.prop(Uh)==this.data){r.push({from:s,to:s+o.length});return}let l=o.prop(zt.mounted);if(l){if(l.tree.prop(Uh)==this.data){if(l.overlay)for(let a of l.overlay)r.push({from:a.from+s,to:a.to+s});else r.push({from:s,to:s+o.length});return}else if(l.overlay){let a=r.length;if(i(l.tree,l.overlay[0].from+s),r.length>a)return}}for(let a=0;a<o.children.length;a++){let u=o.children[a];u instanceof kn&&i(u,o.positions[a]+s)}};return i(Gr(e),0),r}get allowsNesting(){return!0}}hs.setState=Tt.define();function HL(t,e,n){let r=t.facet(Vc),i=Gr(t).topNode;if(!r||r.allowsNesting)for(let o=i;o;o=o.enter(e,n,Un.ExcludeBuffers))o.type.isTop&&(i=o);return i}class V9 extends hs{constructor(e,n,r){super(e,n,[],r),this.parser=n}static define(e){let n=CY(e.languageData);return new V9(n,e.parser.configure({props:[Uh.add(r=>r.isTop?n:void 0)]}),e.name)}configure(e,n){return new V9(this.data,this.parser.configure(e),n||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function Gr(t){let e=t.field(hs.state,!1);return e?e.tree:kn.empty}class Kbe{constructor(e){this.doc=e,this.cursorPos=0,this.string="",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,n){let r=this.cursorPos-this.string.length;return e<r||n>=this.cursorPos?this.doc.sliceString(e,n):this.string.slice(e-r,n-r)}}let zm=null,H9=class j9{constructor(e,n,r=[],i,o,s,l,a){this.parser=e,this.state=n,this.fragments=r,this.tree=i,this.treeLen=o,this.viewport=s,this.skipped=l,this.scheduleOn=a,this.parse=null,this.tempSkipped=[]}static create(e,n,r){return new j9(e,n,[],kn.empty,0,r,[],null)}startParse(){return this.parser.startParse(new Kbe(this.state.doc),this.fragments)}work(e,n){return n!=null&&n>=this.state.doc.length&&(n=void 0),this.tree!=kn.empty&&this.isDone(n??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var r;if(typeof e=="number"){let i=Date.now()+e;e=()=>Date.now()>i}for(this.parse||(this.parse=this.startParse()),n!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>n)&&n<this.state.doc.length&&this.parse.stopAt(n);;){let i=this.parse.advance();if(i)if(this.fragments=this.withoutTempSkipped(eu.addTree(i,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(r=this.parse.stoppedAt)!==null&&r!==void 0?r:this.state.doc.length,this.tree=i,this.parse=null,this.treeLen<(n??this.state.doc.length))this.parse=this.startParse();else return!0;if(e())return!1}})}takeTree(){let e,n;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(n=this.parse.advance()););}),this.treeLen=e,this.tree=n,this.fragments=this.withoutTempSkipped(eu.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let n=zm;zm=this;try{return e()}finally{zm=n}}withoutTempSkipped(e){for(let n;n=this.tempSkipped.pop();)e=jL(e,n.from,n.to);return e}changes(e,n){let{fragments:r,tree:i,treeLen:o,viewport:s,skipped:l}=this;if(this.takeTree(),!e.empty){let a=[];if(e.iterChangedRanges((u,c,h,f)=>a.push({fromA:u,toA:c,fromB:h,toB:f})),r=eu.applyChanges(r,a),i=kn.empty,o=0,s={from:e.mapPos(s.from,-1),to:e.mapPos(s.to,1)},this.skipped.length){l=[];for(let u of this.skipped){let c=e.mapPos(u.from,1),h=e.mapPos(u.to,-1);c<h&&l.push({from:c,to:h})}}}return new j9(this.parser,n,r,i,o,s,l,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let n=this.skipped.length;for(let r=0;r<this.skipped.length;r++){let{from:i,to:o}=this.skipped[r];i<e.to&&o>e.from&&(this.fragments=jL(this.fragments,i,o),this.skipped.splice(r--,1))}return this.skipped.length>=n?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,n){this.skipped.push({from:e,to:n})}static getSkippingParser(e){return new class extends UK{createParse(n,r,i){let o=i[0].from,s=i[i.length-1].to;return{parsedPos:o,advance(){let a=zm;if(a){for(let u of i)a.tempSkipped.push(u);e&&(a.scheduleOn=a.scheduleOn?Promise.all([a.scheduleOn,e]):e)}return this.parsedPos=s,new kn($o.none,[],[],s-o)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let n=this.fragments;return this.treeLen>=e&&n.length&&n[0].from==0&&n[0].to>=e}static get(){return zm}};function jL(t,e,n){return eu.applyChanges(t,[{fromA:e,toA:n,fromB:e,toB:n}])}class Mp{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let n=this.context.changes(e.changes,e.state),r=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),n.viewport.to);return n.work(20,r)||n.takeTree(),new Mp(n)}static init(e){let n=Math.min(3e3,e.doc.length),r=H9.create(e.facet(Vc).parser,e,{from:0,to:n});return r.work(20,n)||r.takeTree(),new Mp(r)}}hs.state=Rr.define({create:Mp.init,update(t,e){for(let n of e.effects)if(n.is(hs.setState))return n.value;return e.startState.facet(Vc)!=e.state.facet(Vc)?Mp.init(e.state):t.apply(e)}});let TY=t=>{let e=setTimeout(()=>t(),500);return()=>clearTimeout(e)};typeof requestIdleCallback<"u"&&(TY=t=>{let e=-1,n=setTimeout(()=>{e=requestIdleCallback(t,{timeout:400})},100);return()=>e<0?clearTimeout(n):cancelIdleCallback(e)});const G7=typeof navigator<"u"&&(!((K7=navigator.scheduling)===null||K7===void 0)&&K7.isInputPending)?()=>navigator.scheduling.isInputPending():null,Gbe=yr.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let n=this.view.state.field(hs.state).context;(n.updateViewport(e.view.viewport)||this.view.viewport.to>n.treeLen)&&this.scheduleWork(),(e.docChanged||e.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(n)}scheduleWork(){if(this.working)return;let{state:e}=this.view,n=e.field(hs.state);(n.tree!=n.context.tree||!n.context.isDone(e.doc.length))&&(this.working=TY(this.work))}work(e){this.working=null;let n=Date.now();if(this.chunkEnd<n&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=n+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:r,viewport:{to:i}}=this.view,o=r.field(hs.state);if(o.tree==o.context.tree&&o.context.isDone(i+1e5))return;let s=Date.now()+Math.min(this.chunkBudget,100,e&&!G7?Math.max(25,e.timeRemaining()-5):1e9),l=o.context.treeLen<i&&r.doc.length>i+1e3,a=o.context.work(()=>G7&&G7()||Date.now()>s,i+(l?0:1e5));this.chunkBudget-=Date.now()-n,(a||this.chunkBudget<=0)&&(o.context.takeTree(),this.view.dispatch({effects:hs.setState.of(new Mp(o.context))})),this.chunkBudget>0&&!(a&&!l)&&this.scheduleWork(),this.checkAsyncSchedule(o.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(()=>this.scheduleWork()).catch(n=>no(this.view.state,n)).then(()=>this.workScheduled--),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),Vc=Ue.define({combine(t){return t.length?t[0]:null},enables:t=>[hs.state,Gbe,Ge.contentAttributes.compute([t],e=>{let n=e.facet(t);return n&&n.name?{"data-language":n.name}:{}})]});class Ybe{constructor(e,n=[]){this.language=e,this.support=n,this.extension=[e,n]}}class ee{constructor(e,n,r,i,o,s=void 0){this.name=e,this.alias=n,this.extensions=r,this.filename=i,this.loadFunc=o,this.support=s,this.loading=null}load(){return this.loading||(this.loading=this.loadFunc().then(e=>this.support=e,e=>{throw this.loading=null,e}))}static of(e){let{load:n,support:r}=e;if(!n){if(!r)throw new RangeError("Must pass either 'load' or 'support' to LanguageDescription.of");n=()=>Promise.resolve(r)}return new ee(e.name,(e.alias||[]).concat(e.name).map(i=>i.toLowerCase()),e.extensions||[],e.filename,n,r)}static matchFilename(e,n){for(let i of e)if(i.filename&&i.filename.test(n))return i;let r=/\.([^.]+)$/.exec(n);if(r){for(let i of e)if(i.extensions.indexOf(r[1])>-1)return i}return null}static matchLanguageName(e,n,r=!0){n=n.toLowerCase();for(let i of e)if(i.alias.some(o=>o==n))return i;if(r)for(let i of e)for(let o of i.alias){let s=n.indexOf(o);if(s>-1&&(o.length>2||!/\w/.test(n[s-1])&&!/\w/.test(n[s+o.length])))return i}return null}}const Xbe=Ue.define(),l3=Ue.define({combine:t=>{if(!t.length)return"  ";let e=t[0];if(!e||/\S/.test(e)||Array.from(e).some(n=>n!=e[0]))throw new Error("Invalid indent unit: "+JSON.stringify(t[0]));return e}});function $f(t){let e=t.facet(l3);return e.charCodeAt(0)==9?t.tabSize*e.length:e.length}function Sy(t,e){let n="",r=t.tabSize,i=t.facet(l3)[0];if(i=="	"){for(;e>=r;)n+="	",e-=r;i=" "}for(let o=0;o<e;o++)n+=i;return n}function KA(t,e){t instanceof Fn&&(t=new a3(t));for(let r of t.state.facet(Xbe)){let i=r(t,e);if(i!==void 0)return i}let n=Gr(t.state);return n.length>=e?Jbe(t,n,e):null}class a3{constructor(e,n={}){this.state=e,this.options=n,this.unit=$f(e)}lineAt(e,n=1){let r=this.state.doc.lineAt(e),{simulateBreak:i,simulateDoubleBreak:o}=this.options;return i!=null&&i>=r.from&&i<=r.to?o&&i==e?{text:"",from:e}:(n<0?i<e:i<=e)?{text:r.text.slice(i-r.from),from:i}:{text:r.text.slice(0,i-r.from),from:r.from}:r}textAfterPos(e,n=1){if(this.options.simulateDoubleBreak&&e==this.options.simulateBreak)return"";let{text:r,from:i}=this.lineAt(e,n);return r.slice(e-i,Math.min(r.length,e+100-i))}column(e,n=1){let{text:r,from:i}=this.lineAt(e,n),o=this.countColumn(r,e-i),s=this.options.overrideIndentation?this.options.overrideIndentation(i):-1;return s>-1&&(o+=s-this.countColumn(r,r.search(/\S|$/))),o}countColumn(e,n=e.length){return Qp(e,this.state.tabSize,n)}lineIndent(e,n=1){let{text:r,from:i}=this.lineAt(e,n),o=this.options.overrideIndentation;if(o){let s=o(i);if(s>-1)return s}return this.countColumn(r,r.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const MY=new zt;function Jbe(t,e,n){let r=e.resolveStack(n),i=e.resolveInner(n,-1).resolve(n,0).enterUnfinishedNodesBefore(n);if(i!=r.node){let o=[];for(let s=i;s&&!(s.from<r.node.from||s.to>r.node.to||s.from==r.node.from&&s.type==r.node.type);s=s.parent)o.push(s);for(let s=o.length-1;s>=0;s--)r={node:o[s],next:r}}return AY(r,t,n)}function AY(t,e,n){for(let r=t;r;r=r.next){let i=Qbe(r.node);if(i)return i(GA.create(e,n,r))}return 0}function Zbe(t){return t.pos==t.options.simulateBreak&&t.options.simulateDoubleBreak}function Qbe(t){let e=t.type.prop(MY);if(e)return e;let n=t.firstChild,r;if(n&&(r=n.type.prop(zt.closedBy))){let i=t.lastChild,o=i&&r.indexOf(i.name)>-1;return s=>EY(s,!0,1,void 0,o&&!Zbe(s)?i.from:void 0)}return t.parent==null?e3e:null}function e3e(){return 0}class GA extends a3{constructor(e,n,r){super(e.state,e.options),this.base=e,this.pos=n,this.context=r}get node(){return this.context.node}static create(e,n,r){return new GA(e,n,r)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(e){let n=this.state.doc.lineAt(e.from);for(;;){let r=e.resolve(n.from);for(;r.parent&&r.parent.from==r.from;)r=r.parent;if(t3e(r,e))break;n=this.state.doc.lineAt(r.from)}return this.lineIndent(n.from)}continue(){return AY(this.context.next,this.base,this.pos)}}function t3e(t,e){for(let n=e;n;n=n.parent)if(t==n)return!0;return!1}function n3e(t){let e=t.node,n=e.childAfter(e.from),r=e.lastChild;if(!n)return null;let i=t.options.simulateBreak,o=t.state.doc.lineAt(n.from),s=i==null||i<=o.from?o.to:Math.min(o.to,i);for(let l=n.to;;){let a=e.childAfter(l);if(!a||a==r)return null;if(!a.type.isSkipped){if(a.from>=s)return null;let u=/^ */.exec(o.text.slice(n.to-o.from))[0].length;return{from:n.from,to:n.to+u}}l=a.to}}function LFe({closing:t,align:e=!0,units:n=1}){return r=>EY(r,e,n,t)}function EY(t,e,n,r,i){let o=t.textAfter,s=o.match(/^\s*/)[0].length,l=r&&o.slice(s,s+r.length)==r||i==t.pos+s,a=e?n3e(t):null;return a?l?t.column(a.from):t.column(a.to):t.baseIndent+(l?0:t.unit*n)}const BFe=t=>t.baseIndent;function zFe({except:t,units:e=1}={}){return n=>{let r=t&&t.test(n.textAfter);return n.baseIndent+(r?0:e*n.unit)}}const r3e=200;function i3e(){return Fn.transactionFilter.of(t=>{if(!t.docChanged||!t.isUserEvent("input.type")&&!t.isUserEvent("input.complete"))return t;let e=t.startState.languageDataAt("indentOnInput",t.startState.selection.main.head);if(!e.length)return t;let n=t.newDoc,{head:r}=t.newSelection.main,i=n.lineAt(r);if(r>i.from+r3e)return t;let o=n.sliceString(i.from,r);if(!e.some(u=>u.test(o)))return t;let{state:s}=t,l=-1,a=[];for(let{head:u}of s.selection.ranges){let c=s.doc.lineAt(u);if(c.from==l)continue;l=c.from;let h=KA(s,c.from);if(h==null)continue;let f=/^\s*/.exec(c.text)[0],d=Sy(s,h);f!=d&&a.push({from:c.from,to:c.from+f.length,insert:d})}return a.length?[t,{changes:a,sequential:!0}]:t})}const o3e=Ue.define(),s3e=new zt;function FFe(t){let e=t.firstChild,n=t.lastChild;return e&&e.to<n.from?{from:e.to,to:n.type.isError?t.to:n.from}:null}function l3e(t,e,n){let r=Gr(t);if(r.length<n)return null;let i=r.resolveStack(n,1),o=null;for(let s=i;s;s=s.next){let l=s.node;if(l.to<=n||l.from>n)continue;if(o&&l.from<e)break;let a=l.type.prop(s3e);if(a&&(l.to<r.length-50||r.length==t.doc.length||!a3e(l))){let u=a(l,t);u&&u.from<=n&&u.from>=e&&u.to>n&&(o=u)}}return o}function a3e(t){let e=t.lastChild;return e&&e.to==t.to&&e.type.isError}function Tx(t,e,n){for(let r of t.facet(o3e)){let i=r(t,e,n);if(i)return i}return l3e(t,e,n)}function OY(t,e){let n=e.mapPos(t.from,1),r=e.mapPos(t.to,-1);return n>=r?void 0:{from:n,to:r}}const u3=Tt.define({map:OY}),Wv=Tt.define({map:OY});function PY(t){let e=[];for(let{head:n}of t.state.selection.ranges)e.some(r=>r.from<=n&&r.to>=n)||e.push(t.lineBlockAt(n));return e}const Vf=Rr.define({create(){return st.none},update(t,e){e.isUserEvent("delete")&&e.changes.iterChangedRanges((n,r)=>t=WL(t,n,r)),t=t.map(e.changes);for(let n of e.effects)if(n.is(u3)&&!u3e(t,n.value.from,n.value.to)){let{preparePlaceholder:r}=e.state.facet(IY),i=r?st.replace({widget:new g3e(r(e.state,n.value))}):UL;t=t.update({add:[i.range(n.value.from,n.value.to)]})}else n.is(Wv)&&(t=t.update({filter:(r,i)=>n.value.from!=r||n.value.to!=i,filterFrom:n.value.from,filterTo:n.value.to}));return e.selection&&(t=WL(t,e.selection.main.head)),t},provide:t=>Ge.decorations.from(t),toJSON(t,e){let n=[];return t.between(0,e.doc.length,(r,i)=>{n.push(r,i)}),n},fromJSON(t){if(!Array.isArray(t)||t.length%2)throw new RangeError("Invalid JSON for fold state");let e=[];for(let n=0;n<t.length;){let r=t[n++],i=t[n++];if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid JSON for fold state");e.push(UL.range(r,i))}return st.set(e,!0)}});function WL(t,e,n=e){let r=!1;return t.between(e,n,(i,o)=>{i<n&&o>e&&(r=!0)}),r?t.update({filterFrom:e,filterTo:n,filter:(i,o)=>i>=n||o<=e}):t}function Mx(t,e,n){var r;let i=null;return(r=t.field(Vf,!1))===null||r===void 0||r.between(e,n,(o,s)=>{(!i||i.from>o)&&(i={from:o,to:s})}),i}function u3e(t,e,n){let r=!1;return t.between(e,e,(i,o)=>{i==e&&o==n&&(r=!0)}),r}function DY(t,e){return t.field(Vf,!1)?e:e.concat(Tt.appendConfig.of(RY()))}const c3e=t=>{for(let e of PY(t)){let n=Tx(t.state,e.from,e.to);if(n)return t.dispatch({effects:DY(t.state,[u3.of(n),_Y(t,n)])}),!0}return!1},h3e=t=>{if(!t.state.field(Vf,!1))return!1;let e=[];for(let n of PY(t)){let r=Mx(t.state,n.from,n.to);r&&e.push(Wv.of(r),_Y(t,r,!1))}return e.length&&t.dispatch({effects:e}),e.length>0};function _Y(t,e,n=!0){let r=t.state.doc.lineAt(e.from).number,i=t.state.doc.lineAt(e.to).number;return Ge.announce.of(`${t.state.phrase(n?"Folded lines":"Unfolded lines")} ${r} ${t.state.phrase("to")} ${i}.`)}const f3e=t=>{let{state:e}=t,n=[];for(let r=0;r<e.doc.length;){let i=t.lineBlockAt(r),o=Tx(e,i.from,i.to);o&&n.push(u3.of(o)),r=(o?t.lineBlockAt(o.to):i).to+1}return n.length&&t.dispatch({effects:DY(t.state,n)}),!!n.length},d3e=t=>{let e=t.state.field(Vf,!1);if(!e||!e.size)return!1;let n=[];return e.between(0,t.state.doc.length,(r,i)=>{n.push(Wv.of({from:r,to:i}))}),t.dispatch({effects:n}),!0},p3e=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:c3e},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:h3e},{key:"Ctrl-Alt-[",run:f3e},{key:"Ctrl-Alt-]",run:d3e}],m3e={placeholderDOM:null,preparePlaceholder:null,placeholderText:""},IY=Ue.define({combine(t){return oa(t,m3e)}});function RY(t){return[Vf,w3e]}function NY(t,e){let{state:n}=t,r=n.facet(IY),i=s=>{let l=t.lineBlockAt(t.posAtDOM(s.target)),a=Mx(t.state,l.from,l.to);a&&t.dispatch({effects:Wv.of(a)}),s.preventDefault()};if(r.placeholderDOM)return r.placeholderDOM(t,i,e);let o=document.createElement("span");return o.textContent=r.placeholderText,o.setAttribute("aria-label",n.phrase("folded code")),o.title=n.phrase("unfold"),o.className="cm-foldPlaceholder",o.onclick=i,o}const UL=st.replace({widget:new class extends Su{toDOM(t){return NY(t,null)}}});class g3e extends Su{constructor(e){super(),this.value=e}eq(e){return this.value==e.value}toDOM(e){return NY(e,this.value)}}const y3e={openText:"",closedText:"",markerDOM:null,domEventHandlers:{},foldingChanged:()=>!1};class Y7 extends du{constructor(e,n){super(),this.config=e,this.open=n}eq(e){return this.config==e.config&&this.open==e.open}toDOM(e){if(this.config.markerDOM)return this.config.markerDOM(this.open);let n=document.createElement("span");return n.textContent=this.open?this.config.openText:this.config.closedText,n.title=e.state.phrase(this.open?"Fold line":"Unfold line"),n}}function v3e(t={}){let e={...y3e,...t},n=new Y7(e,!0),r=new Y7(e,!1),i=yr.fromClass(class{constructor(s){this.from=s.viewport.from,this.markers=this.buildMarkers(s)}update(s){(s.docChanged||s.viewportChanged||s.startState.facet(Vc)!=s.state.facet(Vc)||s.startState.field(Vf,!1)!=s.state.field(Vf,!1)||Gr(s.startState)!=Gr(s.state)||e.foldingChanged(s))&&(this.markers=this.buildMarkers(s.view))}buildMarkers(s){let l=new cu;for(let a of s.viewportLineBlocks){let u=Mx(s.state,a.from,a.to)?r:Tx(s.state,a.from,a.to)?n:null;u&&l.add(a.from,a.from,u)}return l.finish()}}),{domEventHandlers:o}=e;return[i,Mbe({class:"cm-foldGutter",markers(s){var l;return((l=s.plugin(i))===null||l===void 0?void 0:l.markers)||qt.empty},initialSpacer(){return new Y7(e,!1)},domEventHandlers:{...o,click:(s,l,a)=>{if(o.click&&o.click(s,l,a))return!0;let u=Mx(s.state,l.from,l.to);if(u)return s.dispatch({effects:Wv.of(u)}),!0;let c=Tx(s.state,l.from,l.to);return c?(s.dispatch({effects:u3.of(c)}),!0):!1}}}),RY()]}const w3e=Ge.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});class Uv{constructor(e,n){this.specs=e;let r;function i(l){let a=Fc.newName();return(r||(r=Object.create(null)))["."+a]=l,a}const o=typeof n.all=="string"?n.all:n.all?i(n.all):void 0,s=n.scope;this.scope=s instanceof hs?l=>l.prop(Uh)==s.data:s?l=>l==s:void 0,this.style=SY(e.map(l=>({tag:l.tag,class:l.class||i(Object.assign({},l,{tag:null}))})),{all:o}).style,this.module=r?new Fc(r):null,this.themeType=n.themeType}static define(e,n){return new Uv(e,n||{})}}const W9=Ue.define(),LY=Ue.define({combine(t){return t.length?[t[0]]:null}});function X7(t){let e=t.facet(W9);return e.length?e:t.facet(LY)}function BY(t,e){let n=[b3e],r;return t instanceof Uv&&(t.module&&n.push(Ge.styleModule.of(t.module)),r=t.themeType),e!=null&&e.fallback?n.push(LY.of(t)):r?n.push(W9.computeN([Ge.darkTheme],i=>i.facet(Ge.darkTheme)==(r=="dark")?[t]:[])):n.push(W9.of(t)),n}class x3e{constructor(e){this.markCache=Object.create(null),this.tree=Gr(e.state),this.decorations=this.buildDeco(e,X7(e.state)),this.decoratedTo=e.viewport.to}update(e){let n=Gr(e.state),r=X7(e.state),i=r!=X7(e.startState),{viewport:o}=e.view,s=e.changes.mapPos(this.decoratedTo,1);n.length<o.to&&!i&&n.type==this.tree.type&&s>=o.to?(this.decorations=this.decorations.map(e.changes),this.decoratedTo=s):(n!=this.tree||e.viewportChanged||i)&&(this.tree=n,this.decorations=this.buildDeco(e.view,r),this.decoratedTo=o.to)}buildDeco(e,n){if(!n||!this.tree.length)return st.none;let r=new cu;for(let{from:i,to:o}of e.visibleRanges)jbe(this.tree,n,(s,l,a)=>{r.add(s,l,this.markCache[a]||(this.markCache[a]=st.mark({class:a})))},i,o);return r.finish()}}const b3e=ih.high(yr.fromClass(x3e,{decorations:t=>t.decorations})),k3e=Uv.define([{tag:le.meta,color:"#404740"},{tag:le.link,textDecoration:"underline"},{tag:le.heading,textDecoration:"underline",fontWeight:"bold"},{tag:le.emphasis,fontStyle:"italic"},{tag:le.strong,fontWeight:"bold"},{tag:le.strikethrough,textDecoration:"line-through"},{tag:le.keyword,color:"#708"},{tag:[le.atom,le.bool,le.url,le.contentSeparator,le.labelName],color:"#219"},{tag:[le.literal,le.inserted],color:"#164"},{tag:[le.string,le.deleted],color:"#a11"},{tag:[le.regexp,le.escape,le.special(le.string)],color:"#e40"},{tag:le.definition(le.variableName),color:"#00f"},{tag:le.local(le.variableName),color:"#30a"},{tag:[le.typeName,le.namespace],color:"#085"},{tag:le.className,color:"#167"},{tag:[le.special(le.variableName),le.macroName],color:"#256"},{tag:le.definition(le.propertyName),color:"#00c"},{tag:le.comment,color:"#940"},{tag:le.invalid,color:"#f00"}]),S3e=Ge.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),zY=1e4,FY="()[]{}",$Y=Ue.define({combine(t){return oa(t,{afterCursor:!0,brackets:FY,maxScanDistance:zY,renderMatch:M3e})}}),C3e=st.mark({class:"cm-matchingBracket"}),T3e=st.mark({class:"cm-nonmatchingBracket"});function M3e(t){let e=[],n=t.matched?C3e:T3e;return e.push(n.range(t.start.from,t.start.to)),t.end&&e.push(n.range(t.end.from,t.end.to)),e}const A3e=Rr.define({create(){return st.none},update(t,e){if(!e.docChanged&&!e.selection)return t;let n=[],r=e.state.facet($Y);for(let i of e.state.selection.ranges){if(!i.empty)continue;let o=zl(e.state,i.head,-1,r)||i.head>0&&zl(e.state,i.head-1,1,r)||r.afterCursor&&(zl(e.state,i.head,1,r)||i.head<e.state.doc.length&&zl(e.state,i.head+1,-1,r));o&&(n=n.concat(r.renderMatch(o,e.state)))}return st.set(n,!0)},provide:t=>Ge.decorations.from(t)}),E3e=[A3e,S3e];function O3e(t={}){return[$Y.of(t),E3e]}const P3e=new zt;function U9(t,e,n){let r=t.prop(e<0?zt.openedBy:zt.closedBy);if(r)return r;if(t.name.length==1){let i=n.indexOf(t.name);if(i>-1&&i%2==(e<0?1:0))return[n[i+e]]}return null}function q9(t){let e=t.type.prop(P3e);return e?e(t.node):t}function zl(t,e,n,r={}){let i=r.maxScanDistance||zY,o=r.brackets||FY,s=Gr(t),l=s.resolveInner(e,n);for(let a=l;a;a=a.parent){let u=U9(a.type,n,o);if(u&&a.from<a.to){let c=q9(a);if(c&&(n>0?e>=c.from&&e<c.to:e>c.from&&e<=c.to))return D3e(t,e,n,a,c,u,o)}}return _3e(t,e,n,s,l.type,i,o)}function D3e(t,e,n,r,i,o,s){let l=r.parent,a={from:i.from,to:i.to},u=0,c=l==null?void 0:l.cursor();if(c&&(n<0?c.childBefore(r.from):c.childAfter(r.to)))do if(n<0?c.to<=r.from:c.from>=r.to){if(u==0&&o.indexOf(c.type.name)>-1&&c.from<c.to){let h=q9(c);return{start:a,end:h?{from:h.from,to:h.to}:void 0,matched:!0}}else if(U9(c.type,n,s))u++;else if(U9(c.type,-n,s)){if(u==0){let h=q9(c);return{start:a,end:h&&h.from<h.to?{from:h.from,to:h.to}:void 0,matched:!1}}u--}}while(n<0?c.prevSibling():c.nextSibling());return{start:a,matched:!1}}function _3e(t,e,n,r,i,o,s){let l=n<0?t.sliceDoc(e-1,e):t.sliceDoc(e,e+1),a=s.indexOf(l);if(a<0||a%2==0!=n>0)return null;let u={from:n<0?e-1:e,to:n>0?e+1:e},c=t.doc.iterRange(e,n>0?t.doc.length:0),h=0;for(let f=0;!c.next().done&&f<=o;){let d=c.value;n<0&&(f+=d.length);let p=e+f*n;for(let m=n>0?0:d.length-1,y=n>0?d.length:-1;m!=y;m+=n){let g=s.indexOf(d[m]);if(!(g<0||r.resolveInner(p+m,1).type!=i))if(g%2==0==n>0)h++;else{if(h==1)return{start:u,end:{from:p+m,to:p+m+1},matched:g>>1==a>>1};h--}}n>0&&(f+=d.length)}return c.done?{start:u,matched:!1}:null}function qL(t,e,n,r=0,i=0){e==null&&(e=t.search(/[^\s\u00a0]/),e==-1&&(e=t.length));let o=i;for(let s=r;s<e;s++)t.charCodeAt(s)==9?o+=n-o%n:o++;return o}class VY{constructor(e,n,r,i){this.string=e,this.tabSize=n,this.indentUnit=r,this.overrideIndent=i,this.pos=0,this.start=0,this.lastColumnPos=0,this.lastColumnValue=0}eol(){return this.pos>=this.string.length}sol(){return this.pos==0}peek(){return this.string.charAt(this.pos)||void 0}next(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)}eat(e){let n=this.string.charAt(this.pos),r;if(typeof e=="string"?r=n==e:r=n&&(e instanceof RegExp?e.test(n):e(n)),r)return++this.pos,n}eatWhile(e){let n=this.pos;for(;this.eat(e););return this.pos>n}eatSpace(){let e=this.pos;for(;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>e}skipToEnd(){this.pos=this.string.length}skipTo(e){let n=this.string.indexOf(e,this.pos);if(n>-1)return this.pos=n,!0}backUp(e){this.pos-=e}column(){return this.lastColumnPos<this.start&&(this.lastColumnValue=qL(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue}indentation(){var e;return(e=this.overrideIndent)!==null&&e!==void 0?e:qL(this.string,null,this.tabSize)}match(e,n,r){if(typeof e=="string"){let i=s=>r?s.toLowerCase():s,o=this.string.substr(this.pos,e.length);return i(o)==i(e)?(n!==!1&&(this.pos+=e.length),!0):null}else{let i=this.string.slice(this.pos).match(e);return i&&i.index>0?null:(i&&n!==!1&&(this.pos+=i[0].length),i)}}current(){return this.string.slice(this.start,this.pos)}}function I3e(t){return{name:t.name||"",token:t.token,blankLine:t.blankLine||(()=>{}),startState:t.startState||(()=>!0),copyState:t.copyState||R3e,indent:t.indent||(()=>null),languageData:t.languageData||{},tokenTable:t.tokenTable||JA,mergeTokens:t.mergeTokens!==!1}}function R3e(t){if(typeof t!="object")return t;let e={};for(let n in t){let r=t[n];e[n]=r instanceof Array?r.slice():r}return e}const KL=new WeakMap;class YA extends hs{constructor(e){let n=CY(e.languageData),r=I3e(e),i,o=new class extends UK{createParse(s,l,a){return new L3e(i,s,l,a)}};super(n,o,[],e.name),this.topNode=F3e(n,this),i=this,this.streamParser=r,this.stateAfter=new zt({perNode:!0}),this.tokenTable=e.tokenTable?new UY(r.tokenTable):z3e}static define(e){return new YA(e)}getIndent(e){let n,{overrideIndentation:r}=e.options;r&&(n=KL.get(e.state),n!=null&&n<e.pos-1e4&&(n=void 0));let i=XA(this,e.node.tree,e.node.from,e.node.from,n??e.pos),o,s;if(i?(s=i.state,o=i.pos+1):(s=this.streamParser.startState(e.unit),o=e.node.from),e.pos-o>1e4)return null;for(;o<e.pos;){let a=e.state.doc.lineAt(o),u=Math.min(e.pos,a.to);if(a.length){let c=r?r(a.from):-1,h=new VY(a.text,e.state.tabSize,e.unit,c<0?void 0:c);for(;h.pos<u-a.from;)jY(this.streamParser.token,h,s)}else this.streamParser.blankLine(s,e.unit);if(u==e.pos)break;o=a.to+1}let l=e.lineAt(e.pos);return r&&n==null&&KL.set(e.state,l.from),this.streamParser.indent(s,/^\s*(.*)/.exec(l.text)[1],e)}get allowsNesting(){return!1}}function XA(t,e,n,r,i){let o=n>=r&&n+e.length<=i&&e.prop(t.stateAfter);if(o)return{state:t.streamParser.copyState(o),pos:n+e.length};for(let s=e.children.length-1;s>=0;s--){let l=e.children[s],a=n+e.positions[s],u=l instanceof kn&&a<i&&XA(t,l,a,r,i);if(u)return u}return null}function HY(t,e,n,r,i){if(i&&n<=0&&r>=e.length)return e;!i&&n==0&&e.type==t.topNode&&(i=!0);for(let o=e.children.length-1;o>=0;o--){let s=e.positions[o],l=e.children[o],a;if(s<r&&l instanceof kn){if(!(a=HY(t,l,n-s,r-s,i)))break;return i?new kn(e.type,e.children.slice(0,o).concat(a),e.positions.slice(0,o+1),s+a.length):a}}return null}function N3e(t,e,n,r,i){for(let o of e){let s=o.from+(o.openStart?25:0),l=o.to-(o.openEnd?25:0),a=s<=n&&l>n&&XA(t,o.tree,0-o.offset,n,l),u;if(a&&a.pos<=r&&(u=HY(t,o.tree,n+o.offset,a.pos+o.offset,!1)))return{state:a.state,tree:u}}return{state:t.streamParser.startState(i?$f(i):4),tree:kn.empty}}class L3e{constructor(e,n,r,i){this.lang=e,this.input=n,this.fragments=r,this.ranges=i,this.stoppedAt=null,this.chunks=[],this.chunkPos=[],this.chunk=[],this.chunkReused=void 0,this.rangeIndex=0,this.to=i[i.length-1].to;let o=H9.get(),s=i[0].from,{state:l,tree:a}=N3e(e,r,s,this.to,o==null?void 0:o.state);this.state=l,this.parsedPos=this.chunkStart=s+a.length;for(let u=0;u<a.children.length;u++)this.chunks.push(a.children[u]),this.chunkPos.push(a.positions[u]);o&&this.parsedPos<o.viewport.from-1e5&&i.some(u=>u.from<=o.viewport.from&&u.to>=o.viewport.from)&&(this.state=this.lang.streamParser.startState($f(o.state)),o.skipUntilInView(this.parsedPos,o.viewport.from),this.parsedPos=o.viewport.from),this.moveRangeIndex()}advance(){let e=H9.get(),n=this.stoppedAt==null?this.to:Math.min(this.to,this.stoppedAt),r=Math.min(n,this.chunkStart+512);for(e&&(r=Math.min(r,e.viewport.to));this.parsedPos<r;)this.parseLine(e);return this.chunkStart<this.parsedPos&&this.finishChunk(),this.parsedPos>=n?this.finish():e&&this.parsedPos>=e.viewport.to?(e.skipUntilInView(this.parsedPos,n),this.finish()):null}stopAt(e){this.stoppedAt=e}lineAfter(e){let n=this.input.chunk(e);if(this.input.lineChunks)n==`
`&&(n="");else{let r=n.indexOf(`
`);r>-1&&(n=n.slice(0,r))}return e+n.length<=this.to?n:n.slice(0,this.to-e)}nextLine(){let e=this.parsedPos,n=this.lineAfter(e),r=e+n.length;for(let i=this.rangeIndex;;){let o=this.ranges[i].to;if(o>=r||(n=n.slice(0,o-(r-n.length)),i++,i==this.ranges.length))break;let s=this.ranges[i].from,l=this.lineAfter(s);n+=l,r=s+l.length}return{line:n,end:r}}skipGapsTo(e,n,r){for(;;){let i=this.ranges[this.rangeIndex].to,o=e+n;if(r>0?i>o:i>=o)break;let s=this.ranges[++this.rangeIndex].from;n+=s-i}return n}moveRangeIndex(){for(;this.ranges[this.rangeIndex].to<this.parsedPos;)this.rangeIndex++}emitToken(e,n,r,i){let o=4;if(this.ranges.length>1){i=this.skipGapsTo(n,i,1),n+=i;let l=this.chunk.length;i=this.skipGapsTo(r,i,-1),r+=i,o+=this.chunk.length-l}let s=this.chunk.length-4;return this.lang.streamParser.mergeTokens&&o==4&&s>=0&&this.chunk[s]==e&&this.chunk[s+2]==n?this.chunk[s+2]=r:this.chunk.push(e,n,r,o),i}parseLine(e){let{line:n,end:r}=this.nextLine(),i=0,{streamParser:o}=this.lang,s=new VY(n,e?e.state.tabSize:4,e?$f(e.state):2);if(s.eol())o.blankLine(this.state,s.indentUnit);else for(;!s.eol();){let l=jY(o.token,s,this.state);if(l&&(i=this.emitToken(this.lang.tokenTable.resolve(l),this.parsedPos+s.start,this.parsedPos+s.pos,i)),s.start>1e4)break}this.parsedPos=r,this.moveRangeIndex(),this.parsedPos<this.to&&this.parsedPos++}finishChunk(){let e=kn.build({buffer:this.chunk,start:this.chunkStart,length:this.parsedPos-this.chunkStart,nodeSet:B3e,topID:0,maxBufferLength:512,reused:this.chunkReused});e=new kn(e.type,e.children,e.positions,e.length,[[this.lang.stateAfter,this.lang.streamParser.copyState(this.state)]]),this.chunks.push(e),this.chunkPos.push(this.chunkStart-this.ranges[0].from),this.chunk=[],this.chunkReused=void 0,this.chunkStart=this.parsedPos}finish(){return new kn(this.lang.topNode,this.chunks,this.chunkPos,this.parsedPos-this.ranges[0].from).balance()}}function jY(t,e,n){e.start=e.pos;for(let r=0;r<10;r++){let i=t(e,n);if(e.pos>e.start)return i}throw new Error("Stream parser failed to advance stream.")}const JA=Object.create(null),Cy=[$o.none],B3e=new EA(Cy),GL=[],YL=Object.create(null),WY=Object.create(null);for(let[t,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])WY[t]=qY(JA,e);class UY{constructor(e){this.extra=e,this.table=Object.assign(Object.create(null),WY)}resolve(e){return e?this.table[e]||(this.table[e]=qY(this.extra,e)):0}}const z3e=new UY(JA);function J7(t,e){GL.indexOf(t)>-1||(GL.push(t),console.warn(e))}function qY(t,e){let n=[];for(let l of e.split(" ")){let a=[];for(let u of l.split(".")){let c=t[u]||le[u];c?typeof c=="function"?a.length?a=a.map(c):J7(u,`Modifier ${u} used at start of tag`):a.length?J7(u,`Tag ${u} used as modifier`):a=Array.isArray(c)?c:[c]:J7(u,`Unknown highlighting tag ${u}`)}for(let u of a)n.push(u)}if(!n.length)return 0;let r=e.replace(/ /g,"_"),i=r+" "+n.map(l=>l.id),o=YL[i];if(o)return o.id;let s=YL[i]=$o.define({id:Cy.length,name:r,props:[Vbe({[r]:n})]});return Cy.push(s),s.id}function F3e(t,e){let n=$o.define({id:Cy.length,name:"Document",props:[Uh.add(()=>t),MY.add(()=>r=>e.getIndent(r))],top:!0});return Cy.push(n),n}In.RTL,In.LTR;function pe(t){return new Ybe(YA.define(t))}function Nu(t){return ne(()=>import("./index-CUcLaoBv.js"),__vite__mapDeps([0,1])).then(e=>e.sql({dialect:e[t]}))}const $3e=[ee.of({name:"C",extensions:["c","h","ino"],load(){return ne(()=>import("./index-Dw3V2eGM.js"),__vite__mapDeps([2,1])).then(t=>t.cpp())}}),ee.of({name:"C++",alias:["cpp"],extensions:["cpp","c++","cc","cxx","hpp","h++","hh","hxx"],load(){return ne(()=>import("./index-Dw3V2eGM.js"),__vite__mapDeps([2,1])).then(t=>t.cpp())}}),ee.of({name:"CQL",alias:["cassandra"],extensions:["cql"],load(){return Nu("Cassandra")}}),ee.of({name:"CSS",extensions:["css"],load(){return ne(()=>import("./index-CKqa4NW-.js"),__vite__mapDeps([3,1])).then(t=>t.css())}}),ee.of({name:"Go",extensions:["go"],load(){return ne(()=>import("./index-Dz_HFLFc.js"),__vite__mapDeps([4,1])).then(t=>t.go())}}),ee.of({name:"HTML",alias:["xhtml"],extensions:["html","htm","handlebars","hbs"],load(){return ne(()=>import("./index--_9a5VLo.js"),__vite__mapDeps([5,1,3,6])).then(t=>t.html())}}),ee.of({name:"Java",extensions:["java"],load(){return ne(()=>import("./index-Cp_F7LZF.js"),__vite__mapDeps([7,1])).then(t=>t.java())}}),ee.of({name:"JavaScript",alias:["ecmascript","js","node"],extensions:["js","mjs","cjs"],load(){return ne(()=>import("./index-CGXS2Sv1.js"),__vite__mapDeps([6,1])).then(t=>t.javascript())}}),ee.of({name:"JSON",alias:["json5"],extensions:["json","map"],load(){return ne(()=>import("./index-C8M4YYyw.js"),__vite__mapDeps([8,1])).then(t=>t.json())}}),ee.of({name:"JSX",extensions:["jsx"],load(){return ne(()=>import("./index-CGXS2Sv1.js"),__vite__mapDeps([6,1])).then(t=>t.javascript({jsx:!0}))}}),ee.of({name:"LESS",extensions:["less"],load(){return ne(()=>import("./index-DkBciIlg.js"),__vite__mapDeps([9,3,1])).then(t=>t.less())}}),ee.of({name:"Liquid",extensions:["liquid"],load(){return ne(()=>import("./index-DkGjZIl_.js"),__vite__mapDeps([10,5,1,3,6])).then(t=>t.liquid())}}),ee.of({name:"MariaDB SQL",load(){return Nu("MariaSQL")}}),ee.of({name:"Markdown",extensions:["md","markdown","mkd"],load(){return ne(()=>import("./index-BEFUybw9.js"),__vite__mapDeps([11,5,1,3,6])).then(t=>t.markdown())}}),ee.of({name:"MS SQL",load(){return Nu("MSSQL")}}),ee.of({name:"MySQL",load(){return Nu("MySQL")}}),ee.of({name:"PHP",extensions:["php","php3","php4","php5","php7","phtml"],load(){return ne(()=>import("./index-BGTGaIeo.js"),__vite__mapDeps([12,1,5,3,6])).then(t=>t.php())}}),ee.of({name:"PLSQL",extensions:["pls"],load(){return Nu("PLSQL")}}),ee.of({name:"PostgreSQL",load(){return Nu("PostgreSQL")}}),ee.of({name:"Python",extensions:["BUILD","bzl","py","pyw"],filename:/^(BUCK|BUILD)$/,load(){return ne(()=>import("./index-CAMVfht1.js"),__vite__mapDeps([13,1])).then(t=>t.python())}}),ee.of({name:"Rust",extensions:["rs"],load(){return ne(()=>import("./index-BVzxRBym.js"),__vite__mapDeps([14,1])).then(t=>t.rust())}}),ee.of({name:"Sass",extensions:["sass"],load(){return ne(()=>import("./index-2goevfgz.js"),__vite__mapDeps([15,1,3])).then(t=>t.sass({indented:!0}))}}),ee.of({name:"SCSS",extensions:["scss"],load(){return ne(()=>import("./index-2goevfgz.js"),__vite__mapDeps([15,1,3])).then(t=>t.sass())}}),ee.of({name:"SQL",extensions:["sql"],load(){return Nu("StandardSQL")}}),ee.of({name:"SQLite",load(){return Nu("SQLite")}}),ee.of({name:"TSX",extensions:["tsx"],load(){return ne(()=>import("./index-CGXS2Sv1.js"),__vite__mapDeps([6,1])).then(t=>t.javascript({jsx:!0,typescript:!0}))}}),ee.of({name:"TypeScript",alias:["ts"],extensions:["ts","mts","cts"],load(){return ne(()=>import("./index-CGXS2Sv1.js"),__vite__mapDeps([6,1])).then(t=>t.javascript({typescript:!0}))}}),ee.of({name:"WebAssembly",extensions:["wat","wast"],load(){return ne(()=>import("./index-DW6ulewK.js"),__vite__mapDeps([16,1])).then(t=>t.wast())}}),ee.of({name:"XML",alias:["rss","wsdl","xsd"],extensions:["xml","xsl","xsd","svg"],load(){return ne(()=>import("./index-DOm8Nev3.js"),__vite__mapDeps([17,1])).then(t=>t.xml())}}),ee.of({name:"YAML",alias:["yml"],extensions:["yaml","yml"],load(){return ne(()=>import("./index-BVknq9q0.js"),__vite__mapDeps([18,1])).then(t=>t.yaml())}}),ee.of({name:"APL",extensions:["dyalog","apl"],load(){return ne(()=>import("./apl-B4CMkyY2.js"),[]).then(t=>pe(t.apl))}}),ee.of({name:"PGP",alias:["asciiarmor"],extensions:["asc","pgp","sig"],load(){return ne(()=>import("./asciiarmor-Df11BRmG.js"),[]).then(t=>pe(t.asciiArmor))}}),ee.of({name:"ASN.1",extensions:["asn","asn1"],load(){return ne(()=>import("./asn1-CGOzndHr.js"),[]).then(t=>pe(t.asn1({})))}}),ee.of({name:"Asterisk",filename:/^extensions\.conf$/i,load(){return ne(()=>import("./asterisk-B-8jnY81.js"),[]).then(t=>pe(t.asterisk))}}),ee.of({name:"Brainfuck",extensions:["b","bf"],load(){return ne(()=>import("./brainfuck-C4LP7Hcl.js"),[]).then(t=>pe(t.brainfuck))}}),ee.of({name:"Cobol",extensions:["cob","cpy"],load(){return ne(()=>import("./cobol-XrqhtCFE.js"),[]).then(t=>pe(t.cobol))}}),ee.of({name:"C#",alias:["csharp","cs"],extensions:["cs"],load(){return ne(()=>import("./clike-wD8xDpL-.js"),[]).then(t=>pe(t.csharp))}}),ee.of({name:"Clojure",extensions:["clj","cljc","cljx"],load(){return ne(()=>import("./clojure-BMjYHr_A.js"),[]).then(t=>pe(t.clojure))}}),ee.of({name:"ClojureScript",extensions:["cljs"],load(){return ne(()=>import("./clojure-BMjYHr_A.js"),[]).then(t=>pe(t.clojure))}}),ee.of({name:"Closure Stylesheets (GSS)",extensions:["gss"],load(){return ne(()=>import("./css-BnMrqG3P.js"),[]).then(t=>pe(t.gss))}}),ee.of({name:"CMake",extensions:["cmake","cmake.in"],filename:/^CMakeLists\.txt$/,load(){return ne(()=>import("./cmake-BQqOBYOt.js"),[]).then(t=>pe(t.cmake))}}),ee.of({name:"CoffeeScript",alias:["coffee","coffee-script"],extensions:["coffee"],load(){return ne(()=>import("./coffeescript-S37ZYGWr.js"),[]).then(t=>pe(t.coffeeScript))}}),ee.of({name:"Common Lisp",alias:["lisp"],extensions:["cl","lisp","el"],load(){return ne(()=>import("./commonlisp-DBKNyK5s.js"),[]).then(t=>pe(t.commonLisp))}}),ee.of({name:"Cypher",extensions:["cyp","cypher"],load(){return ne(()=>import("./cypher-C_CwsFkJ.js"),[]).then(t=>pe(t.cypher))}}),ee.of({name:"Cython",extensions:["pyx","pxd","pxi"],load(){return ne(()=>import("./python-BuPzkPfP.js"),[]).then(t=>pe(t.cython))}}),ee.of({name:"Crystal",extensions:["cr"],load(){return ne(()=>import("./crystal-SjHAIU92.js"),[]).then(t=>pe(t.crystal))}}),ee.of({name:"D",extensions:["d"],load(){return ne(()=>import("./d-pRatUO7H.js"),[]).then(t=>pe(t.d))}}),ee.of({name:"Dart",extensions:["dart"],load(){return ne(()=>import("./clike-wD8xDpL-.js"),[]).then(t=>pe(t.dart))}}),ee.of({name:"diff",extensions:["diff","patch"],load(){return ne(()=>import("./diff-DbItnlRl.js"),[]).then(t=>pe(t.diff))}}),ee.of({name:"Dockerfile",filename:/^Dockerfile$/,load(){return ne(()=>import("./dockerfile-BU1Ap__c.js"),__vite__mapDeps([19,20])).then(t=>pe(t.dockerFile))}}),ee.of({name:"DTD",extensions:["dtd"],load(){return ne(()=>import("./dtd-DF_7sFjM.js"),[]).then(t=>pe(t.dtd))}}),ee.of({name:"Dylan",extensions:["dylan","dyl","intr"],load(){return ne(()=>import("./dylan-DwRh75JA.js"),[]).then(t=>pe(t.dylan))}}),ee.of({name:"EBNF",load(){return ne(()=>import("./ebnf-CDyGwa7X.js"),[]).then(t=>pe(t.ebnf))}}),ee.of({name:"ECL",extensions:["ecl"],load(){return ne(()=>import("./ecl-Cabwm37j.js"),[]).then(t=>pe(t.ecl))}}),ee.of({name:"edn",extensions:["edn"],load(){return ne(()=>import("./clojure-BMjYHr_A.js"),[]).then(t=>pe(t.clojure))}}),ee.of({name:"Eiffel",extensions:["e"],load(){return ne(()=>import("./eiffel-CnydiIhH.js"),[]).then(t=>pe(t.eiffel))}}),ee.of({name:"Elm",extensions:["elm"],load(){return ne(()=>import("./elm-vLlmbW-K.js"),[]).then(t=>pe(t.elm))}}),ee.of({name:"Erlang",extensions:["erl"],load(){return ne(()=>import("./erlang-BNw1qcRV.js"),[]).then(t=>pe(t.erlang))}}),ee.of({name:"Esper",load(){return ne(()=>import("./sql-C4g8LzGK.js"),[]).then(t=>pe(t.esper))}}),ee.of({name:"Factor",extensions:["factor"],load(){return ne(()=>import("./factor-BPndPnYX.js"),__vite__mapDeps([21,20])).then(t=>pe(t.factor))}}),ee.of({name:"FCL",load(){return ne(()=>import("./fcl-Kvtd6kyn.js"),[]).then(t=>pe(t.fcl))}}),ee.of({name:"Forth",extensions:["forth","fth","4th"],load(){return ne(()=>import("./forth-Ffai-XNe.js"),[]).then(t=>pe(t.forth))}}),ee.of({name:"Fortran",extensions:["f","for","f77","f90","f95"],load(){return ne(()=>import("./fortran-DYz_wnZ1.js"),[]).then(t=>pe(t.fortran))}}),ee.of({name:"F#",alias:["fsharp"],extensions:["fs"],load(){return ne(()=>import("./mllike-C_8OmSiT.js"),[]).then(t=>pe(t.fSharp))}}),ee.of({name:"Gas",extensions:["s"],load(){return ne(()=>import("./gas-Bneqetm1.js"),[]).then(t=>pe(t.gas))}}),ee.of({name:"Gherkin",extensions:["feature"],load(){return ne(()=>import("./gherkin-heZmZLOM.js"),[]).then(t=>pe(t.gherkin))}}),ee.of({name:"Groovy",extensions:["groovy","gradle"],filename:/^Jenkinsfile$/,load(){return ne(()=>import("./groovy-D9Dt4D0W.js"),[]).then(t=>pe(t.groovy))}}),ee.of({name:"Haskell",extensions:["hs"],load(){return ne(()=>import("./haskell-BWDZoCOh.js"),[]).then(t=>pe(t.haskell))}}),ee.of({name:"Haxe",extensions:["hx"],load(){return ne(()=>import("./haxe-pv4rovob.js"),[]).then(t=>pe(t.haxe))}}),ee.of({name:"HXML",extensions:["hxml"],load(){return ne(()=>import("./haxe-pv4rovob.js"),[]).then(t=>pe(t.hxml))}}),ee.of({name:"HTTP",load(){return ne(()=>import("./http-DBlCnlav.js"),[]).then(t=>pe(t.http))}}),ee.of({name:"IDL",extensions:["pro"],load(){return ne(()=>import("./idl-BEugSyMb.js"),[]).then(t=>pe(t.idl))}}),ee.of({name:"JSON-LD",alias:["jsonld"],extensions:["jsonld"],load(){return ne(()=>import("./javascript-iSgyE4tI.js"),[]).then(t=>pe(t.jsonld))}}),ee.of({name:"Jinja2",extensions:["j2","jinja","jinja2"],load(){return ne(()=>import("./jinja2-C4DGRd-O.js"),[]).then(t=>pe(t.jinja2))}}),ee.of({name:"Julia",extensions:["jl"],load(){return ne(()=>import("./julia-DuME0IfC.js"),[]).then(t=>pe(t.julia))}}),ee.of({name:"Kotlin",extensions:["kt","kts"],load(){return ne(()=>import("./clike-wD8xDpL-.js"),[]).then(t=>pe(t.kotlin))}}),ee.of({name:"LiveScript",alias:["ls"],extensions:["ls"],load(){return ne(()=>import("./livescript-k3uCVVjK.js"),[]).then(t=>pe(t.liveScript))}}),ee.of({name:"Lua",extensions:["lua"],load(){return ne(()=>import("./lua-BgMRiT3U.js"),[]).then(t=>pe(t.lua))}}),ee.of({name:"mIRC",extensions:["mrc"],load(){return ne(()=>import("./mirc-CjQqDB4T.js"),[]).then(t=>pe(t.mirc))}}),ee.of({name:"Mathematica",extensions:["m","nb","wl","wls"],load(){return ne(()=>import("./mathematica-DTrFuWx2.js"),[]).then(t=>pe(t.mathematica))}}),ee.of({name:"Modelica",extensions:["mo"],load(){return ne(()=>import("./modelica-Dc1JOy9r.js"),[]).then(t=>pe(t.modelica))}}),ee.of({name:"MUMPS",extensions:["mps"],load(){return ne(()=>import("./mumps-BT43cFF4.js"),[]).then(t=>pe(t.mumps))}}),ee.of({name:"Mbox",extensions:["mbox"],load(){return ne(()=>import("./mbox-CNhZ1qSd.js"),[]).then(t=>pe(t.mbox))}}),ee.of({name:"Nginx",filename:/nginx.*\.conf$/i,load(){return ne(()=>import("./nginx-DdIZxoE0.js"),[]).then(t=>pe(t.nginx))}}),ee.of({name:"NSIS",extensions:["nsh","nsi"],load(){return ne(()=>import("./nsis-ClDXqMnM.js"),__vite__mapDeps([22,20])).then(t=>pe(t.nsis))}}),ee.of({name:"NTriples",extensions:["nt","nq"],load(){return ne(()=>import("./ntriples-BfvgReVJ.js"),[]).then(t=>pe(t.ntriples))}}),ee.of({name:"Objective-C",alias:["objective-c","objc"],extensions:["m"],load(){return ne(()=>import("./clike-wD8xDpL-.js"),[]).then(t=>pe(t.objectiveC))}}),ee.of({name:"Objective-C++",alias:["objective-c++","objc++"],extensions:["mm"],load(){return ne(()=>import("./clike-wD8xDpL-.js"),[]).then(t=>pe(t.objectiveCpp))}}),ee.of({name:"OCaml",extensions:["ml","mli","mll","mly"],load(){return ne(()=>import("./mllike-C_8OmSiT.js"),[]).then(t=>pe(t.oCaml))}}),ee.of({name:"Octave",extensions:["m"],load(){return ne(()=>import("./octave-Ck1zUtKM.js"),[]).then(t=>pe(t.octave))}}),ee.of({name:"Oz",extensions:["oz"],load(){return ne(()=>import("./oz-BzwKVEFT.js"),[]).then(t=>pe(t.oz))}}),ee.of({name:"Pascal",extensions:["p","pas"],load(){return ne(()=>import("./pascal--L3eBynH.js"),[]).then(t=>pe(t.pascal))}}),ee.of({name:"Perl",extensions:["pl","pm"],load(){return ne(()=>import("./perl-CdXCOZ3F.js"),[]).then(t=>pe(t.perl))}}),ee.of({name:"Pig",extensions:["pig"],load(){return ne(()=>import("./pig-CevX1Tat.js"),[]).then(t=>pe(t.pig))}}),ee.of({name:"PowerShell",extensions:["ps1","psd1","psm1"],load(){return ne(()=>import("./powershell-CFHJl5sT.js"),[]).then(t=>pe(t.powerShell))}}),ee.of({name:"Properties files",alias:["ini","properties"],extensions:["properties","ini","in"],load(){return ne(()=>import("./properties-C78fOPTZ.js"),[]).then(t=>pe(t.properties))}}),ee.of({name:"ProtoBuf",extensions:["proto"],load(){return ne(()=>import("./protobuf-ChK-085T.js"),[]).then(t=>pe(t.protobuf))}}),ee.of({name:"Pug",alias:["jade"],extensions:["pug","jade"],load(){return ne(()=>import("./pug-BmUsPMDj.js"),__vite__mapDeps([23,24])).then(t=>pe(t.pug))}}),ee.of({name:"Puppet",extensions:["pp"],load(){return ne(()=>import("./puppet-DMA9R1ak.js"),[]).then(t=>pe(t.puppet))}}),ee.of({name:"Q",extensions:["q"],load(){return ne(()=>import("./q-ZnEupP5q.js"),[]).then(t=>pe(t.q))}}),ee.of({name:"R",alias:["rscript"],extensions:["r","R"],load(){return ne(()=>import("./r-DUYO_cvP.js"),[]).then(t=>pe(t.r))}}),ee.of({name:"RPM Changes",load(){return ne(()=>import("./rpm-CTu-6PCP.js"),[]).then(t=>pe(t.rpmChanges))}}),ee.of({name:"RPM Spec",extensions:["spec"],load(){return ne(()=>import("./rpm-CTu-6PCP.js"),[]).then(t=>pe(t.rpmSpec))}}),ee.of({name:"Ruby",alias:["jruby","macruby","rake","rb","rbx"],extensions:["rb"],filename:/^(Gemfile|Rakefile)$/,load(){return ne(()=>import("./ruby-B2Rjki9n.js"),[]).then(t=>pe(t.ruby))}}),ee.of({name:"SAS",extensions:["sas"],load(){return ne(()=>import("./sas-B4kiWyti.js"),[]).then(t=>pe(t.sas))}}),ee.of({name:"Scala",extensions:["scala"],load(){return ne(()=>import("./clike-wD8xDpL-.js"),[]).then(t=>pe(t.scala))}}),ee.of({name:"Scheme",extensions:["scm","ss"],load(){return ne(()=>import("./scheme-C41bIUwD.js"),[]).then(t=>pe(t.scheme))}}),ee.of({name:"Shell",alias:["bash","sh","zsh"],extensions:["sh","ksh","bash"],filename:/^PKGBUILD$/,load(){return ne(()=>import("./shell-CjFT_Tl9.js"),[]).then(t=>pe(t.shell))}}),ee.of({name:"Sieve",extensions:["siv","sieve"],load(){return ne(()=>import("./sieve-C3Gn_uJK.js"),[]).then(t=>pe(t.sieve))}}),ee.of({name:"Smalltalk",extensions:["st"],load(){return ne(()=>import("./smalltalk-CnHTOXQT.js"),[]).then(t=>pe(t.smalltalk))}}),ee.of({name:"Solr",load(){return ne(()=>import("./solr-DehyRSwq.js"),[]).then(t=>pe(t.solr))}}),ee.of({name:"SML",extensions:["sml","sig","fun","smackspec"],load(){return ne(()=>import("./mllike-C_8OmSiT.js"),[]).then(t=>pe(t.sml))}}),ee.of({name:"SPARQL",alias:["sparul"],extensions:["rq","sparql"],load(){return ne(()=>import("./sparql-DkYu6x3z.js"),[]).then(t=>pe(t.sparql))}}),ee.of({name:"Spreadsheet",alias:["excel","formula"],load(){return ne(()=>import("./spreadsheet-BCZA_wO0.js"),[]).then(t=>pe(t.spreadsheet))}}),ee.of({name:"Squirrel",extensions:["nut"],load(){return ne(()=>import("./clike-wD8xDpL-.js"),[]).then(t=>pe(t.squirrel))}}),ee.of({name:"Stylus",extensions:["styl"],load(){return ne(()=>import("./stylus-B533Al4x.js"),[]).then(t=>pe(t.stylus))}}),ee.of({name:"Swift",extensions:["swift"],load(){return ne(()=>import("./swift-BzpIVaGY.js"),[]).then(t=>pe(t.swift))}}),ee.of({name:"sTeX",load(){return ne(()=>import("./stex-C3f8Ysf7.js"),[]).then(t=>pe(t.stex))}}),ee.of({name:"LaTeX",alias:["tex"],extensions:["text","ltx","tex"],load(){return ne(()=>import("./stex-C3f8Ysf7.js"),[]).then(t=>pe(t.stex))}}),ee.of({name:"SystemVerilog",extensions:["v","sv","svh"],load(){return ne(()=>import("./verilog-C6RDOZhf.js"),[]).then(t=>pe(t.verilog))}}),ee.of({name:"Tcl",extensions:["tcl"],load(){return ne(()=>import("./tcl-DVfN8rqt.js"),[]).then(t=>pe(t.tcl))}}),ee.of({name:"Textile",extensions:["textile"],load(){return ne(()=>import("./textile-CnDTJFAw.js"),[]).then(t=>pe(t.textile))}}),ee.of({name:"TiddlyWiki",load(){return ne(()=>import("./tiddlywiki-DO-Gjzrf.js"),[]).then(t=>pe(t.tiddlyWiki))}}),ee.of({name:"Tiki wiki",load(){return ne(()=>import("./tiki-DGYXhP31.js"),[]).then(t=>pe(t.tiki))}}),ee.of({name:"TOML",extensions:["toml"],load(){return ne(()=>import("./toml-BXUEaScT.js"),[]).then(t=>pe(t.toml))}}),ee.of({name:"Troff",extensions:["1","2","3","4","5","6","7","8","9"],load(){return ne(()=>import("./troff-wAsdV37c.js"),[]).then(t=>pe(t.troff))}}),ee.of({name:"TTCN",extensions:["ttcn","ttcn3","ttcnpp"],load(){return ne(()=>import("./ttcn-CiGrtVSZ.js"),[]).then(t=>pe(t.ttcn))}}),ee.of({name:"TTCN_CFG",extensions:["cfg"],load(){return ne(()=>import("./ttcn-cfg-BIkV9KBc.js"),[]).then(t=>pe(t.ttcnCfg))}}),ee.of({name:"Turtle",extensions:["ttl"],load(){return ne(()=>import("./turtle-B1tBg_DP.js"),[]).then(t=>pe(t.turtle))}}),ee.of({name:"Web IDL",extensions:["webidl"],load(){return ne(()=>import("./webidl-ZXfAyPTL.js"),[]).then(t=>pe(t.webIDL))}}),ee.of({name:"VB.NET",extensions:["vb"],load(){return ne(()=>import("./vb-CmGdzxic.js"),[]).then(t=>pe(t.vb))}}),ee.of({name:"VBScript",extensions:["vbs"],load(){return ne(()=>import("./vbscript-BuJXcnF6.js"),[]).then(t=>pe(t.vbScript))}}),ee.of({name:"Velocity",extensions:["vtl"],load(){return ne(()=>import("./velocity-D8B20fx6.js"),[]).then(t=>pe(t.velocity))}}),ee.of({name:"Verilog",extensions:["v"],load(){return ne(()=>import("./verilog-C6RDOZhf.js"),[]).then(t=>pe(t.verilog))}}),ee.of({name:"VHDL",extensions:["vhd","vhdl"],load(){return ne(()=>import("./vhdl-lSbBsy5d.js"),[]).then(t=>pe(t.vhdl))}}),ee.of({name:"XQuery",extensions:["xy","xquery"],load(){return ne(()=>import("./xquery-CQfU5ijd.js"),[]).then(t=>pe(t.xQuery))}}),ee.of({name:"Yacas",extensions:["ys"],load(){return ne(()=>import("./yacas-BJ4BC0dw.js"),[]).then(t=>pe(t.yacas))}}),ee.of({name:"Z80",extensions:["z80"],load(){return ne(()=>import("./z80-Hz9HOZM7.js"),[]).then(t=>pe(t.z80))}}),ee.of({name:"MscGen",extensions:["mscgen","mscin","msc"],load(){return ne(()=>import("./mscgen-BA5vi2Kp.js"),[]).then(t=>pe(t.mscgen))}}),ee.of({name:"X",extensions:["xu"],load(){return ne(()=>import("./mscgen-BA5vi2Kp.js"),[]).then(t=>pe(t.xu))}}),ee.of({name:"MsGenny",extensions:["msgenny"],load(){return ne(()=>import("./mscgen-BA5vi2Kp.js"),[]).then(t=>pe(t.msgenny))}}),ee.of({name:"Vue",extensions:["vue"],load(){return ne(()=>import("./index-SS9IpgpF.js"),__vite__mapDeps([25,5,1,3,6])).then(t=>t.vue())}}),ee.of({name:"Angular Template",load(){return ne(()=>import("./index-D1CASr-m.js"),__vite__mapDeps([26,5,1,3,6])).then(t=>t.angular())}})],V3e="#e5c07b",XL="#e06c75",H3e="#56b6c2",j3e="#ffffff",Mw="#abb2bf",K9="#7d8799",W3e="#61afef",U3e="#98c379",JL="#d19a66",q3e="#c678dd",K3e="#21252b",ZL="#2c313a",QL="#282c34",Z7="#353a42",G3e="#3E4451",eB="#528bff",Y3e=Ge.theme({"&":{color:Mw,backgroundColor:QL},".cm-content":{caretColor:eB},".cm-cursor, .cm-dropCursor":{borderLeftColor:eB},"&.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:G3e},".cm-panels":{backgroundColor:K3e,color:Mw},".cm-panels.cm-panels-top":{borderBottom:"2px solid black"},".cm-panels.cm-panels-bottom":{borderTop:"2px solid black"},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:"1px solid #457dff"},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:"#6199ff2f"},".cm-activeLine":{backgroundColor:"#6699ff0b"},".cm-selectionMatch":{backgroundColor:"#aafe661a"},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bad0f847"},".cm-gutters":{backgroundColor:QL,color:K9,border:"none"},".cm-activeLineGutter":{backgroundColor:ZL},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"none",backgroundColor:Z7},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:Z7,borderBottomColor:Z7},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{backgroundColor:ZL,color:Mw}}},{dark:!0}),X3e=Uv.define([{tag:le.keyword,color:q3e},{tag:[le.name,le.deleted,le.character,le.propertyName,le.macroName],color:XL},{tag:[le.function(le.variableName),le.labelName],color:W3e},{tag:[le.color,le.constant(le.name),le.standard(le.name)],color:JL},{tag:[le.definition(le.name),le.separator],color:Mw},{tag:[le.typeName,le.className,le.number,le.changed,le.annotation,le.modifier,le.self,le.namespace],color:V3e},{tag:[le.operator,le.operatorKeyword,le.url,le.escape,le.regexp,le.link,le.special(le.string)],color:H3e},{tag:[le.meta,le.comment],color:K9},{tag:le.strong,fontWeight:"bold"},{tag:le.emphasis,fontStyle:"italic"},{tag:le.strikethrough,textDecoration:"line-through"},{tag:le.link,color:K9,textDecoration:"underline"},{tag:le.heading,fontWeight:"bold",color:XL},{tag:[le.atom,le.bool,le.special(le.variableName)],color:JL},{tag:[le.processingInstruction,le.string,le.inserted],color:U3e},{tag:le.invalid,color:j3e}]),J3e=[Y3e,BY(X3e)];function Fr(t){this.content=t}Fr.prototype={constructor:Fr,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,n){var r=n&&n!=t?this.remove(n):this,i=r.find(t),o=r.content.slice();return i==-1?o.push(n||t,e):(o[i+1]=e,n&&(o[i]=n)),new Fr(o)},remove:function(t){var e=this.find(t);if(e==-1)return this;var n=this.content.slice();return n.splice(e,2),new Fr(n)},addToStart:function(t,e){return new Fr([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new Fr(n)},addBefore:function(t,e,n){var r=this.remove(e),i=r.content.slice(),o=r.find(t);return i.splice(o==-1?i.length:o,0,e,n),new Fr(i)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=Fr.from(t),t.size?new Fr(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=Fr.from(t),t.size?new Fr(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=Fr.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},toObject:function(){var t={};return this.forEach(function(e,n){t[e]=n}),t},get size(){return this.content.length>>1}};Fr.from=function(t){if(t instanceof Fr)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new Fr(e)};function KY(t,e,n){for(let r=0;;r++){if(r==t.childCount||r==e.childCount)return t.childCount==e.childCount?null:n;let i=t.child(r),o=e.child(r);if(i==o){n+=i.nodeSize;continue}if(!i.sameMarkup(o))return n;if(i.isText&&i.text!=o.text){for(let s=0;i.text[s]==o.text[s];s++)n++;return n}if(i.content.size||o.content.size){let s=KY(i.content,o.content,n+1);if(s!=null)return s}n+=i.nodeSize}}function GY(t,e,n,r){for(let i=t.childCount,o=e.childCount;;){if(i==0||o==0)return i==o?null:{a:n,b:r};let s=t.child(--i),l=e.child(--o),a=s.nodeSize;if(s==l){n-=a,r-=a;continue}if(!s.sameMarkup(l))return{a:n,b:r};if(s.isText&&s.text!=l.text){let u=0,c=Math.min(s.text.length,l.text.length);for(;u<c&&s.text[s.text.length-u-1]==l.text[l.text.length-u-1];)u++,n--,r--;return{a:n,b:r}}if(s.content.size||l.content.size){let u=GY(s.content,l.content,n-1,r-1);if(u)return u}n-=a,r-=a}}let _e=class Ci{constructor(e,n){if(this.content=e,this.size=n||0,n==null)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,n,r,i=0,o){for(let s=0,l=0;l<n;s++){let a=this.content[s],u=l+a.nodeSize;if(u>e&&r(a,i+l,o||null,s)!==!1&&a.content.size){let c=l+1;a.nodesBetween(Math.max(0,e-c),Math.min(a.content.size,n-c),r,i+c)}l=u}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,n,r,i){let o="",s=!0;return this.nodesBetween(e,n,(l,a)=>{let u=l.isText?l.text.slice(Math.max(e,a)-a,n-a):l.isLeaf?i?typeof i=="function"?i(l):i:l.type.spec.leafText?l.type.spec.leafText(l):"":"";l.isBlock&&(l.isLeaf&&u||l.isTextblock)&&r&&(s?s=!1:o+=r),o+=u},0),o}append(e){if(!e.size)return this;if(!this.size)return e;let n=this.lastChild,r=e.firstChild,i=this.content.slice(),o=0;for(n.isText&&n.sameMarkup(r)&&(i[i.length-1]=n.withText(n.text+r.text),o=1);o<e.content.length;o++)i.push(e.content[o]);return new Ci(i,this.size+e.size)}cut(e,n=this.size){if(e==0&&n==this.size)return this;let r=[],i=0;if(n>e)for(let o=0,s=0;s<n;o++){let l=this.content[o],a=s+l.nodeSize;a>e&&((s<e||a>n)&&(l.isText?l=l.cut(Math.max(0,e-s),Math.min(l.text.length,n-s)):l=l.cut(Math.max(0,e-s-1),Math.min(l.content.size,n-s-1))),r.push(l),i+=l.nodeSize),s=a}return new Ci(r,i)}cutByIndex(e,n){return e==n?Ci.empty:e==0&&n==this.content.length?this:new Ci(this.content.slice(e,n))}replaceChild(e,n){let r=this.content[e];if(r==n)return this;let i=this.content.slice(),o=this.size+n.nodeSize-r.nodeSize;return i[e]=n,new Ci(i,o)}addToStart(e){return new Ci([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new Ci(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(e.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let n=this.content[e];if(!n)throw new RangeError("Index "+e+" out of range for "+this);return n}maybeChild(e){return this.content[e]||null}forEach(e){for(let n=0,r=0;n<this.content.length;n++){let i=this.content[n];e(i,r,n),r+=i.nodeSize}}findDiffStart(e,n=0){return KY(this,e,n)}findDiffEnd(e,n=this.size,r=e.size){return GY(this,e,n,r)}findIndex(e){if(e==0)return f4(0,e);if(e==this.size)return f4(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let n=0,r=0;;n++){let i=this.child(n),o=r+i.nodeSize;if(o>=e)return o==e?f4(n+1,o):f4(n,r);r=o}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,n){if(!n)return Ci.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new Ci(n.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return Ci.empty;let n,r=0;for(let i=0;i<e.length;i++){let o=e[i];r+=o.nodeSize,i&&o.isText&&e[i-1].sameMarkup(o)?(n||(n=e.slice(0,i)),n[n.length-1]=o.withText(n[n.length-1].text+o.text)):n&&n.push(o)}return new Ci(n||e,r)}static from(e){if(!e)return Ci.empty;if(e instanceof Ci)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new Ci([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}};_e.empty=new _e([],0);const Q7={index:0,offset:0};function f4(t,e){return Q7.index=t,Q7.offset=e,Q7}function Ax(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!Ax(t[r],e[r]))return!1}else{for(let r in t)if(!(r in e)||!Ax(t[r],e[r]))return!1;for(let r in e)if(!(r in t))return!1}return!0}class It{constructor(e,n){this.type=e,this.attrs=n}addToSet(e){let n,r=!1;for(let i=0;i<e.length;i++){let o=e[i];if(this.eq(o))return e;if(this.type.excludes(o.type))n||(n=e.slice(0,i));else{if(o.type.excludes(this.type))return e;!r&&o.type.rank>this.type.rank&&(n||(n=e.slice(0,i)),n.push(this),r=!0),n&&n.push(o)}}return n||(n=e.slice()),r||n.push(this),n}removeFromSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return e.slice(0,n).concat(e.slice(n+1));return e}isInSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return!0;return!1}eq(e){return this==e||this.type==e.type&&Ax(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[n.type];if(!r)throw new RangeError(`There is no mark type ${n.type} in this schema`);let i=r.create(n.attrs);return r.checkAttrs(i.attrs),i}static sameSet(e,n){if(e==n)return!0;if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(n[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return It.none;if(e instanceof It)return[e];let n=e.slice();return n.sort((r,i)=>r.type.rank-i.type.rank),n}}It.none=[];class Ex extends Error{}let He=class Md{constructor(e,n,r){this.content=e,this.openStart=n,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,n){let r=XY(this.content,e+this.openStart,n);return r&&new Md(r,this.openStart,this.openEnd)}removeBetween(e,n){return new Md(YY(this.content,e+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,n){if(!n)return Md.empty;let r=n.openStart||0,i=n.openEnd||0;if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new Md(_e.fromJSON(e,n.content),r,i)}static maxOpen(e,n=!0){let r=0,i=0;for(let o=e.firstChild;o&&!o.isLeaf&&(n||!o.type.spec.isolating);o=o.firstChild)r++;for(let o=e.lastChild;o&&!o.isLeaf&&(n||!o.type.spec.isolating);o=o.lastChild)i++;return new Md(e,r,i)}};He.empty=new He(_e.empty,0,0);function YY(t,e,n){let{index:r,offset:i}=t.findIndex(e),o=t.maybeChild(r),{index:s,offset:l}=t.findIndex(n);if(i==e||o.isText){if(l!=n&&!t.child(s).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(r!=s)throw new RangeError("Removing non-flat range");return t.replaceChild(r,o.copy(YY(o.content,e-i-1,n-i-1)))}function XY(t,e,n,r){let{index:i,offset:o}=t.findIndex(e),s=t.maybeChild(i);if(o==e||s.isText)return r&&!r.canReplace(i,i,n)?null:t.cut(0,e).append(n).append(t.cut(e));let l=XY(s.content,e-o-1,n,s);return l&&t.replaceChild(i,s.copy(l))}function Z3e(t,e,n){if(n.openStart>t.depth)throw new Ex("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new Ex("Inconsistent open depths");return JY(t,e,n,0)}function JY(t,e,n,r){let i=t.index(r),o=t.node(r);if(i==e.index(r)&&r<t.depth-n.openStart){let s=JY(t,e,n,r+1);return o.copy(o.content.replaceChild(i,s))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&t.depth==r&&e.depth==r){let s=t.parent,l=s.content;return xf(s,l.cut(0,t.parentOffset).append(n.content).append(l.cut(e.parentOffset)))}else{let{start:s,end:l}=Q3e(n,t);return xf(o,QY(t,s,l,e,r))}else return xf(o,Ox(t,e,r))}function ZY(t,e){if(!e.type.compatibleContent(t.type))throw new Ex("Cannot join "+e.type.name+" onto "+t.type.name)}function G9(t,e,n){let r=t.node(n);return ZY(r,e.node(n)),r}function wf(t,e){let n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function f1(t,e,n,r){let i=(e||t).node(n),o=0,s=e?e.index(n):i.childCount;t&&(o=t.index(n),t.depth>n?o++:t.textOffset&&(wf(t.nodeAfter,r),o++));for(let l=o;l<s;l++)wf(i.child(l),r);e&&e.depth==n&&e.textOffset&&wf(e.nodeBefore,r)}function xf(t,e){return t.type.checkContent(e),t.copy(e)}function QY(t,e,n,r,i){let o=t.depth>i&&G9(t,e,i+1),s=r.depth>i&&G9(n,r,i+1),l=[];return f1(null,t,i,l),o&&s&&e.index(i)==n.index(i)?(ZY(o,s),wf(xf(o,QY(t,e,n,r,i+1)),l)):(o&&wf(xf(o,Ox(t,e,i+1)),l),f1(e,n,i,l),s&&wf(xf(s,Ox(n,r,i+1)),l)),f1(r,null,i,l),new _e(l)}function Ox(t,e,n){let r=[];if(f1(null,t,n,r),t.depth>n){let i=G9(t,e,n+1);wf(xf(i,Ox(t,e,n+1)),r)}return f1(e,null,n,r),new _e(r)}function Q3e(t,e){let n=e.depth-t.openStart,i=e.node(n).copy(t.content);for(let o=n-1;o>=0;o--)i=e.node(o).copy(_e.from(i));return{start:i.resolveNoCache(t.openStart+n),end:i.resolveNoCache(i.content.size-t.openEnd-n)}}class Ty{constructor(e,n,r){this.pos=e,this.path=n,this.parentOffset=r,this.depth=n.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,n=this.index(this.depth);if(n==e.childCount)return null;let r=this.pos-this.path[this.path.length-1],i=e.child(n);return r?e.child(n).cut(r):i}get nodeBefore(){let e=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(e).cut(0,n):e==0?null:this.parent.child(e-1)}posAtIndex(e,n){n=this.resolveDepth(n);let r=this.path[n*3],i=n==0?0:this.path[n*3-1]+1;for(let o=0;o<e;o++)i+=r.child(o).nodeSize;return i}marks(){let e=this.parent,n=this.index();if(e.content.size==0)return It.none;if(this.textOffset)return e.child(n).marks;let r=e.maybeChild(n-1),i=e.maybeChild(n);if(!r){let l=r;r=i,i=l}let o=r.marks;for(var s=0;s<o.length;s++)o[s].type.spec.inclusive===!1&&(!i||!o[s].isInSet(i.marks))&&(o=o[s--].removeFromSet(o));return o}marksAcross(e){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let r=n.marks,i=e.parent.maybeChild(e.index());for(var o=0;o<r.length;o++)r[o].type.spec.inclusive===!1&&(!i||!r[o].isInSet(i.marks))&&(r=r[o--].removeFromSet(r));return r}sharedDepth(e){for(let n=this.depth;n>0;n--)if(this.start(n)<=e&&this.end(n)>=e)return n;return 0}blockRange(e=this,n){if(e.pos<this.pos)return e.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!n||n(this.node(r))))return new eX(this,e,r);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let n=1;n<=this.depth;n++)e+=(e?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return e+":"+this.parentOffset}static resolve(e,n){if(!(n>=0&&n<=e.content.size))throw new RangeError("Position "+n+" out of range");let r=[],i=0,o=n;for(let s=e;;){let{index:l,offset:a}=s.content.findIndex(o),u=o-a;if(r.push(s,l,i+a),!u||(s=s.child(l),s.isText))break;o=u-1,i+=a+1}return new Ty(n,r,o)}static resolveCached(e,n){let r=tB.get(e);if(r)for(let o=0;o<r.elts.length;o++){let s=r.elts[o];if(s.pos==n)return s}else tB.set(e,r=new e6e);let i=r.elts[r.i]=Ty.resolve(e,n);return r.i=(r.i+1)%t6e,i}}class e6e{constructor(){this.elts=[],this.i=0}}const t6e=12,tB=new WeakMap;class eX{constructor(e,n,r){this.$from=e,this.$to=n,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const n6e=Object.create(null);let nu=class Y9{constructor(e,n,r,i=It.none){this.type=e,this.attrs=n,this.marks=i,this.content=r||_e.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,n,r,i=0){this.content.nodesBetween(e,n,r,i,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,n,r,i){return this.content.textBetween(e,n,r,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,n,r){return this.type==e&&Ax(this.attrs,n||e.defaultAttrs||n6e)&&It.sameSet(this.marks,r||It.none)}copy(e=null){return e==this.content?this:new Y9(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new Y9(this.type,this.attrs,this.content,e)}cut(e,n=this.content.size){return e==0&&n==this.content.size?this:this.copy(this.content.cut(e,n))}slice(e,n=this.content.size,r=!1){if(e==n)return He.empty;let i=this.resolve(e),o=this.resolve(n),s=r?0:i.sharedDepth(n),l=i.start(s),u=i.node(s).content.cut(i.pos-l,o.pos-l);return new He(u,i.depth-s,o.depth-s)}replace(e,n,r){return Z3e(this.resolve(e),this.resolve(n),r)}nodeAt(e){for(let n=this;;){let{index:r,offset:i}=n.content.findIndex(e);if(n=n.maybeChild(r),!n)return null;if(i==e||n.isText)return n;e-=i+1}}childAfter(e){let{index:n,offset:r}=this.content.findIndex(e);return{node:this.content.maybeChild(n),index:n,offset:r}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:n,offset:r}=this.content.findIndex(e);if(r<e)return{node:this.content.child(n),index:n,offset:r};let i=this.content.child(n-1);return{node:i,index:n-1,offset:r-i.nodeSize}}resolve(e){return Ty.resolveCached(this,e)}resolveNoCache(e){return Ty.resolve(this,e)}rangeHasMark(e,n,r){let i=!1;return n>e&&this.nodesBetween(e,n,o=>(r.isInSet(o.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),tX(this.marks,e)}contentMatchAt(e){let n=this.type.contentMatch.matchFragment(this.content,0,e);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(e,n,r=_e.empty,i=0,o=r.childCount){let s=this.contentMatchAt(e).matchFragment(r,i,o),l=s&&s.matchFragment(this.content,n);if(!l||!l.validEnd)return!1;for(let a=i;a<o;a++)if(!this.type.allowsMarks(r.child(a).marks))return!1;return!0}canReplaceWith(e,n,r,i){if(i&&!this.type.allowsMarks(i))return!1;let o=this.contentMatchAt(e).matchType(r),s=o&&o.matchFragment(this.content,n);return s?s.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=It.none;for(let n=0;n<this.marks.length;n++){let r=this.marks[n];r.type.checkAttrs(r.attrs),e=r.addToSet(e)}if(!It.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(n=>n.toJSON())),e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let r;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=n.marks.map(e.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(n.text,r)}let i=_e.fromJSON(e,n.content),o=e.nodeType(n.type).create(n.attrs,i,r);return o.type.checkAttrs(o.attrs),o}};nu.prototype.text=void 0;let r6e=class X9 extends nu{constructor(e,n,r,i){if(super(e,n,null,i),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):tX(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,n){return this.text.slice(e,n)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new X9(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new X9(this.type,this.attrs,e,this.marks)}cut(e=0,n=this.text.length){return e==0&&n==this.text.length?this:this.withText(this.text.slice(e,n))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}};function tX(t,e){for(let n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}class Hf{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,n){let r=new i6e(e,n);if(r.next==null)return Hf.empty;let i=nX(r);r.next&&r.err("Unexpected trailing text");let o=h6e(c6e(i));return f6e(o,r),o}matchType(e){for(let n=0;n<this.next.length;n++)if(this.next[n].type==e)return this.next[n].next;return null}matchFragment(e,n=0,r=e.childCount){let i=this;for(let o=n;i&&o<r;o++)i=i.matchType(e.child(o).type);return i}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:n}=this.next[e];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(e){for(let n=0;n<this.next.length;n++)for(let r=0;r<e.next.length;r++)if(this.next[n].type==e.next[r].type)return!0;return!1}fillBefore(e,n=!1,r=0){let i=[this];function o(s,l){let a=s.matchFragment(e,r);if(a&&(!n||a.validEnd))return _e.from(l.map(u=>u.createAndFill()));for(let u=0;u<s.next.length;u++){let{type:c,next:h}=s.next[u];if(!(c.isText||c.hasRequiredAttrs())&&i.indexOf(h)==-1){i.push(h);let f=o(h,l.concat(c));if(f)return f}}return null}return o(this,[])}findWrapping(e){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==e)return this.wrapCache[r+1];let n=this.computeWrapping(e);return this.wrapCache.push(e,n),n}computeWrapping(e){let n=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let i=r.shift(),o=i.match;if(o.matchType(e)){let s=[];for(let l=i;l.type;l=l.via)s.push(l.type);return s.reverse()}for(let s=0;s<o.next.length;s++){let{type:l,next:a}=o.next[s];!l.isLeaf&&!l.hasRequiredAttrs()&&!(l.name in n)&&(!i.type||a.validEnd)&&(r.push({match:l.contentMatch,type:l,via:i}),n[l.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function n(r){e.push(r);for(let i=0;i<r.next.length;i++)e.indexOf(r.next[i].next)==-1&&n(r.next[i].next)}return n(this),e.map((r,i)=>{let o=i+(r.validEnd?"*":" ")+" ";for(let s=0;s<r.next.length;s++)o+=(s?", ":"")+r.next[s].type.name+"->"+e.indexOf(r.next[s].next);return o}).join(`
`)}}Hf.empty=new Hf(!0);class i6e{constructor(e,n){this.string=e,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function nX(t){let e=[];do e.push(o6e(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function o6e(t){let e=[];do e.push(s6e(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function s6e(t){let e=u6e(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=l6e(t,e);else break;return e}function nB(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function l6e(t,e){let n=nB(t),r=n;return t.eat(",")&&(t.next!="}"?r=nB(t):r=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:e}}function a6e(t,e){let n=t.nodeTypes,r=n[e];if(r)return[r];let i=[];for(let o in n){let s=n[o];s.isInGroup(e)&&i.push(s)}return i.length==0&&t.err("No node type or group '"+e+"' found"),i}function u6e(t){if(t.eat("(")){let e=nX(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=a6e(t,t.next).map(n=>(t.inline==null?t.inline=n.isInline:t.inline!=n.isInline&&t.err("Mixing inline and block content"),{type:"name",value:n}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function c6e(t){let e=[[]];return i(o(t,0),n()),e;function n(){return e.push([])-1}function r(s,l,a){let u={term:a,to:l};return e[s].push(u),u}function i(s,l){s.forEach(a=>a.to=l)}function o(s,l){if(s.type=="choice")return s.exprs.reduce((a,u)=>a.concat(o(u,l)),[]);if(s.type=="seq")for(let a=0;;a++){let u=o(s.exprs[a],l);if(a==s.exprs.length-1)return u;i(u,l=n())}else if(s.type=="star"){let a=n();return r(l,a),i(o(s.expr,a),a),[r(a)]}else if(s.type=="plus"){let a=n();return i(o(s.expr,l),a),i(o(s.expr,a),a),[r(a)]}else{if(s.type=="opt")return[r(l)].concat(o(s.expr,l));if(s.type=="range"){let a=l;for(let u=0;u<s.min;u++){let c=n();i(o(s.expr,a),c),a=c}if(s.max==-1)i(o(s.expr,a),a);else for(let u=s.min;u<s.max;u++){let c=n();r(a,c),i(o(s.expr,a),c),a=c}return[r(a)]}else{if(s.type=="name")return[r(l,void 0,s.value)];throw new Error("Unknown expr type")}}}}function rX(t,e){return e-t}function rB(t,e){let n=[];return r(e),n.sort(rX);function r(i){let o=t[i];if(o.length==1&&!o[0].term)return r(o[0].to);n.push(i);for(let s=0;s<o.length;s++){let{term:l,to:a}=o[s];!l&&n.indexOf(a)==-1&&r(a)}}}function h6e(t){let e=Object.create(null);return n(rB(t,0));function n(r){let i=[];r.forEach(s=>{t[s].forEach(({term:l,to:a})=>{if(!l)return;let u;for(let c=0;c<i.length;c++)i[c][0]==l&&(u=i[c][1]);rB(t,a).forEach(c=>{u||i.push([l,u=[]]),u.indexOf(c)==-1&&u.push(c)})})});let o=e[r.join(",")]=new Hf(r.indexOf(t.length-1)>-1);for(let s=0;s<i.length;s++){let l=i[s][1].sort(rX);o.next.push({type:i[s][0],next:e[l.join(",")]||n(l)})}return o}}function f6e(t,e){for(let n=0,r=[t];n<r.length;n++){let i=r[n],o=!i.validEnd,s=[];for(let l=0;l<i.next.length;l++){let{type:a,next:u}=i.next[l];s.push(a.name),o&&!(a.isText||a.hasRequiredAttrs())&&(o=!1),r.indexOf(u)==-1&&r.push(u)}o&&e.err("Only non-generatable nodes ("+s.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function iX(t){let e=Object.create(null);for(let n in t){let r=t[n];if(!r.hasDefault)return null;e[n]=r.default}return e}function oX(t,e){let n=Object.create(null);for(let r in t){let i=e&&e[r];if(i===void 0){let o=t[r];if(o.hasDefault)i=o.default;else throw new RangeError("No value supplied for attribute "+r)}n[r]=i}return n}function sX(t,e,n,r){for(let i in e)if(!(i in t))throw new RangeError(`Unsupported attribute ${i} for ${n} of type ${i}`);for(let i in t){let o=t[i];o.validate&&o.validate(e[i])}}function lX(t,e){let n=Object.create(null);if(e)for(let r in e)n[r]=new p6e(t,r,e[r]);return n}let Px=class aX{constructor(e,n,r){this.name=e,this.schema=n,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=lX(e,r.attrs),this.defaultAttrs=iX(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==Hf.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:oX(this.attrs,e)}create(e=null,n,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new nu(this,this.computeAttrs(e),_e.from(n),It.setFrom(r))}createChecked(e=null,n,r){return n=_e.from(n),this.checkContent(n),new nu(this,this.computeAttrs(e),n,It.setFrom(r))}createAndFill(e=null,n,r){if(e=this.computeAttrs(e),n=_e.from(n),n.size){let s=this.contentMatch.fillBefore(n);if(!s)return null;n=s.append(n)}let i=this.contentMatch.matchFragment(n),o=i&&i.fillBefore(_e.empty,!0);return o?new nu(this,e,n.append(o),It.setFrom(r)):null}validContent(e){let n=this.contentMatch.matchFragment(e);if(!n||!n.validEnd)return!1;for(let r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){sX(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let n=0;n<e.length;n++)if(!this.allowsMarkType(e[n].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let n;for(let r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?n&&n.push(e[r]):n||(n=e.slice(0,r));return n?n.length?n:It.none:e}static compile(e,n){let r=Object.create(null);e.forEach((o,s)=>r[o]=new aX(o,n,s));let i=n.spec.topNode||"doc";if(!r[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let o in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};function d6e(t,e,n){let r=n.split("|");return i=>{let o=i===null?"null":typeof i;if(r.indexOf(o)<0)throw new RangeError(`Expected value of type ${r} for attribute ${e} on type ${t}, got ${o}`)}}class p6e{constructor(e,n,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate=typeof r.validate=="string"?d6e(e,n,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class c3{constructor(e,n,r,i){this.name=e,this.rank=n,this.schema=r,this.spec=i,this.attrs=lX(e,i.attrs),this.excluded=null;let o=iX(this.attrs);this.instance=o?new It(this,o):null}create(e=null){return!e&&this.instance?this.instance:new It(this,oX(this.attrs,e))}static compile(e,n){let r=Object.create(null),i=0;return e.forEach((o,s)=>r[o]=new c3(o,i++,n,s)),r}removeFromSet(e){for(var n=0;n<e.length;n++)e[n].type==this&&(e=e.slice(0,n).concat(e.slice(n+1)),n--);return e}isInSet(e){for(let n=0;n<e.length;n++)if(e[n].type==this)return e[n]}checkAttrs(e){sX(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class uX{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let n=this.spec={};for(let i in e)n[i]=e[i];n.nodes=Fr.from(e.nodes),n.marks=Fr.from(e.marks||{}),this.nodes=Px.compile(this.spec.nodes,this),this.marks=c3.compile(this.spec.marks,this);let r=Object.create(null);for(let i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");let o=this.nodes[i],s=o.spec.content||"",l=o.spec.marks;if(o.contentMatch=r[s]||(r[s]=Hf.parse(s,this.nodes)),o.inlineContent=o.contentMatch.inlineContent,o.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!o.isInline||!o.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=o}o.markSet=l=="_"?null:l?iB(this,l.split(" ")):l==""||!o.inlineContent?[]:null}for(let i in this.marks){let o=this.marks[i],s=o.spec.excludes;o.excluded=s==null?[o]:s==""?[]:iB(this,s.split(" "))}this.nodeFromJSON=i=>nu.fromJSON(this,i),this.markFromJSON=i=>It.fromJSON(this,i),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,n=null,r,i){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof Px){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(n,r,i)}text(e,n){let r=this.nodes.text;return new r6e(r,r.defaultAttrs,e,It.setFrom(n))}mark(e,n){return typeof e=="string"&&(e=this.marks[e]),e.create(n)}nodeType(e){let n=this.nodes[e];if(!n)throw new RangeError("Unknown node type: "+e);return n}}function iB(t,e){let n=[];for(let r=0;r<e.length;r++){let i=e[r],o=t.marks[i],s=o;if(o)n.push(o);else for(let l in t.marks){let a=t.marks[l];(i=="_"||a.spec.group&&a.spec.group.split(" ").indexOf(i)>-1)&&n.push(s=a)}if(!s)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return n}function m6e(t){return t.tag!=null}function g6e(t){return t.style!=null}class jf{constructor(e,n){this.schema=e,this.rules=n,this.tags=[],this.styles=[];let r=this.matchedStyles=[];n.forEach(i=>{if(m6e(i))this.tags.push(i);else if(g6e(i)){let o=/[^=]*/.exec(i.style)[0];r.indexOf(o)<0&&r.push(o),this.styles.push(i)}}),this.normalizeLists=!this.tags.some(i=>{if(!/^(ul|ol)\b/.test(i.tag)||!i.node)return!1;let o=e.nodes[i.node];return o.contentMatch.matchType(o)})}parse(e,n={}){let r=new sB(this,n,!1);return r.addAll(e,It.none,n.from,n.to),r.finish()}parseSlice(e,n={}){let r=new sB(this,n,!0);return r.addAll(e,It.none,n.from,n.to),He.maxOpen(r.finish())}matchTag(e,n,r){for(let i=r?this.tags.indexOf(r)+1:0;i<this.tags.length;i++){let o=this.tags[i];if(w6e(e,o.tag)&&(o.namespace===void 0||e.namespaceURI==o.namespace)&&(!o.context||n.matchesContext(o.context))){if(o.getAttrs){let s=o.getAttrs(e);if(s===!1)continue;o.attrs=s||void 0}return o}}}matchStyle(e,n,r,i){for(let o=i?this.styles.indexOf(i)+1:0;o<this.styles.length;o++){let s=this.styles[o],l=s.style;if(!(l.indexOf(e)!=0||s.context&&!r.matchesContext(s.context)||l.length>e.length&&(l.charCodeAt(e.length)!=61||l.slice(e.length+1)!=n))){if(s.getAttrs){let a=s.getAttrs(n);if(a===!1)continue;s.attrs=a||void 0}return s}}}static schemaRules(e){let n=[];function r(i){let o=i.priority==null?50:i.priority,s=0;for(;s<n.length;s++){let l=n[s];if((l.priority==null?50:l.priority)<o)break}n.splice(s,0,i)}for(let i in e.marks){let o=e.marks[i].spec.parseDOM;o&&o.forEach(s=>{r(s=lB(s)),s.mark||s.ignore||s.clearMark||(s.mark=i)})}for(let i in e.nodes){let o=e.nodes[i].spec.parseDOM;o&&o.forEach(s=>{r(s=lB(s)),s.node||s.ignore||s.mark||(s.node=i)})}return n}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new jf(e,jf.schemaRules(e)))}}const cX={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},y6e={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},hX={ol:!0,ul:!0},My=1,J9=2,d1=4;function oB(t,e,n){return e!=null?(e?My:0)|(e==="full"?J9:0):t&&t.whitespace=="pre"?My|J9:n&~d1}class d4{constructor(e,n,r,i,o,s){this.type=e,this.attrs=n,this.marks=r,this.solid=i,this.options=s,this.content=[],this.activeMarks=It.none,this.match=o||(s&d1?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(_e.from(e));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let r=this.type.contentMatch,i;return(i=r.findWrapping(e.type))?(this.match=r,i):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&My)){let r=this.content[this.content.length-1],i;if(r&&r.isText&&(i=/[ \t\r\n\u000c]+$/.exec(r.text))){let o=r;r.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=o.withText(o.text.slice(0,o.text.length-i[0].length))}}let n=_e.from(this.content);return!e&&this.match&&(n=n.append(this.match.fillBefore(_e.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!cX.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class sB{constructor(e,n,r){this.parser=e,this.options=n,this.isOpen=r,this.open=0,this.localPreserveWS=!1;let i=n.topNode,o,s=oB(null,n.preserveWhitespace,0)|(r?d1:0);i?o=new d4(i.type,i.attrs,It.none,!0,n.topMatch||i.type.contentMatch,s):r?o=new d4(null,null,It.none,!0,null,s):o=new d4(e.schema.topNodeType,null,It.none,!0,null,s),this.nodes=[o],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,n){e.nodeType==3?this.addTextNode(e,n):e.nodeType==1&&this.addElement(e,n)}addTextNode(e,n){let r=e.nodeValue,i=this.top,o=i.options&J9?"full":this.localPreserveWS||(i.options&My)>0;if(o==="full"||i.inlineContext(e)||/[^ \t\r\n\u000c]/.test(r)){if(o)o!=="full"?r=r.replace(/\r?\n|\r/g," "):r=r.replace(/\r\n?/g,`
`);else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let s=i.content[i.content.length-1],l=e.previousSibling;(!s||l&&l.nodeName=="BR"||s.isText&&/[ \t\r\n\u000c]$/.test(s.text))&&(r=r.slice(1))}r&&this.insertNode(this.parser.schema.text(r),n,!/\S/.test(r)),this.findInText(e)}else this.findInside(e)}addElement(e,n,r){let i=this.localPreserveWS,o=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let s=e.nodeName.toLowerCase(),l;hX.hasOwnProperty(s)&&this.parser.normalizeLists&&v6e(e);let a=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(l=this.parser.matchTag(e,this,r));e:if(a?a.ignore:y6e.hasOwnProperty(s))this.findInside(e),this.ignoreFallback(e,n);else if(!a||a.skip||a.closeParent){a&&a.closeParent?this.open=Math.max(0,this.open-1):a&&a.skip.nodeType&&(e=a.skip);let u,c=this.needsBlock;if(cX.hasOwnProperty(s))o.content.length&&o.content[0].isInline&&this.open&&(this.open--,o=this.top),u=!0,o.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,n);break e}let h=a&&a.skip?n:this.readStyles(e,n);h&&this.addAll(e,h),u&&this.sync(o),this.needsBlock=c}else{let u=this.readStyles(e,n);u&&this.addElementByRule(e,a,u,a.consuming===!1?l:void 0)}this.localPreserveWS=i}leafFallback(e,n){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),n)}ignoreFallback(e,n){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),n,!0)}readStyles(e,n){let r=e.style;if(r&&r.length)for(let i=0;i<this.parser.matchedStyles.length;i++){let o=this.parser.matchedStyles[i],s=r.getPropertyValue(o);if(s)for(let l=void 0;;){let a=this.parser.matchStyle(o,s,this,l);if(!a)break;if(a.ignore)return null;if(a.clearMark?n=n.filter(u=>!a.clearMark(u)):n=n.concat(this.parser.schema.marks[a.mark].create(a.attrs)),a.consuming===!1)l=a;else break}}return n}addElementByRule(e,n,r,i){let o,s;if(n.node)if(s=this.parser.schema.nodes[n.node],s.isLeaf)this.insertNode(s.create(n.attrs),r,e.nodeName=="BR")||this.leafFallback(e,r);else{let a=this.enter(s,n.attrs||null,r,n.preserveWhitespace);a&&(o=!0,r=a)}else{let a=this.parser.schema.marks[n.mark];r=r.concat(a.create(n.attrs))}let l=this.top;if(s&&s.isLeaf)this.findInside(e);else if(i)this.addElement(e,r,i);else if(n.getContent)this.findInside(e),n.getContent(e,this.parser.schema).forEach(a=>this.insertNode(a,r,!1));else{let a=e;typeof n.contentElement=="string"?a=e.querySelector(n.contentElement):typeof n.contentElement=="function"?a=n.contentElement(e):n.contentElement&&(a=n.contentElement),this.findAround(e,a,!0),this.addAll(a,r),this.findAround(e,a,!1)}o&&this.sync(l)&&this.open--}addAll(e,n,r,i){let o=r||0;for(let s=r?e.childNodes[r]:e.firstChild,l=i==null?null:e.childNodes[i];s!=l;s=s.nextSibling,++o)this.findAtPoint(e,o),this.addDOM(s,n);this.findAtPoint(e,o)}findPlace(e,n,r){let i,o;for(let s=this.open,l=0;s>=0;s--){let a=this.nodes[s],u=a.findWrapping(e);if(u&&(!i||i.length>u.length+l)&&(i=u,o=a,!u.length))break;if(a.solid){if(r)break;l+=2}}if(!i)return null;this.sync(o);for(let s=0;s<i.length;s++)n=this.enterInner(i[s],null,n,!1);return n}insertNode(e,n,r){if(e.isInline&&this.needsBlock&&!this.top.type){let o=this.textblockFromContext();o&&(n=this.enterInner(o,null,n))}let i=this.findPlace(e,n,r);if(i){this.closeExtra();let o=this.top;o.match&&(o.match=o.match.matchType(e.type));let s=It.none;for(let l of i.concat(e.marks))(o.type?o.type.allowsMarkType(l.type):aB(l.type,e.type))&&(s=l.addToSet(s));return o.content.push(e.mark(s)),!0}return!1}enter(e,n,r,i){let o=this.findPlace(e.create(n),r,!1);return o&&(o=this.enterInner(e,n,r,!0,i)),o}enterInner(e,n,r,i=!1,o){this.closeExtra();let s=this.top;s.match=s.match&&s.match.matchType(e);let l=oB(e,o,s.options);s.options&d1&&s.content.length==0&&(l|=d1);let a=It.none;return r=r.filter(u=>(s.type?s.type.allowsMarkType(u.type):aB(u.type,e))?(a=u.addToSet(a),!1):!0),this.nodes.push(new d4(e,n,a,i,null,l)),this.open++,r}closeExtra(e=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let n=this.open;n>=0;n--){if(this.nodes[n]==e)return this.open=n,!0;this.localPreserveWS&&(this.nodes[n].options|=My)}return!1}get currentPos(){this.closeExtra();let e=0;for(let n=this.open;n>=0;n--){let r=this.nodes[n].content;for(let i=r.length-1;i>=0;i--)e+=r[i].nodeSize;n&&e++}return e}findAtPoint(e,n){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==n&&(this.find[r].pos=this.currentPos)}findInside(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&e.nodeType==1&&e.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(e,n,r){if(e!=n&&this.find)for(let i=0;i<this.find.length;i++)this.find[i].pos==null&&e.nodeType==1&&e.contains(this.find[i].node)&&n.compareDocumentPosition(this.find[i].node)&(r?2:4)&&(this.find[i].pos=this.currentPos)}findInText(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&(this.find[n].pos=this.currentPos-(e.nodeValue.length-this.find[n].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let n=e.split("/"),r=this.options.context,i=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),o=-(r?r.depth+1:0)+(i?0:1),s=(l,a)=>{for(;l>=0;l--){let u=n[l];if(u==""){if(l==n.length-1||l==0)continue;for(;a>=o;a--)if(s(l-1,a))return!0;return!1}else{let c=a>0||a==0&&i?this.nodes[a].type:r&&a>=o?r.node(a-o).type:null;if(!c||c.name!=u&&!c.isInGroup(u))return!1;a--}}return!0};return s(n.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let n=e.depth;n>=0;n--){let r=e.node(n).contentMatchAt(e.indexAfter(n)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let n in this.parser.schema.nodes){let r=this.parser.schema.nodes[n];if(r.isTextblock&&r.defaultAttrs)return r}}}function v6e(t){for(let e=t.firstChild,n=null;e;e=e.nextSibling){let r=e.nodeType==1?e.nodeName.toLowerCase():null;r&&hX.hasOwnProperty(r)&&n?(n.appendChild(e),e=n):r=="li"?n=e:r&&(n=null)}}function w6e(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function lB(t){let e={};for(let n in t)e[n]=t[n];return e}function aB(t,e){let n=e.schema.nodes;for(let r in n){let i=n[r];if(!i.allowsMarkType(t))continue;let o=[],s=l=>{o.push(l);for(let a=0;a<l.edgeCount;a++){let{type:u,next:c}=l.edge(a);if(u==e||o.indexOf(c)<0&&s(c))return!0}};if(s(i.contentMatch))return!0}}class nd{constructor(e,n){this.nodes=e,this.marks=n}serializeFragment(e,n={},r){r||(r=ek(n).createDocumentFragment());let i=r,o=[];return e.forEach(s=>{if(o.length||s.marks.length){let l=0,a=0;for(;l<o.length&&a<s.marks.length;){let u=s.marks[a];if(!this.marks[u.type.name]){a++;continue}if(!u.eq(o[l][0])||u.type.spec.spanning===!1)break;l++,a++}for(;l<o.length;)i=o.pop()[1];for(;a<s.marks.length;){let u=s.marks[a++],c=this.serializeMark(u,s.isInline,n);c&&(o.push([u,i]),i.appendChild(c.dom),i=c.contentDOM||c.dom)}}i.appendChild(this.serializeNodeInner(s,n))}),r}serializeNodeInner(e,n){let{dom:r,contentDOM:i}=Aw(ek(n),this.nodes[e.type.name](e),null,e.attrs);if(i){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,n,i)}return r}serializeNode(e,n={}){let r=this.serializeNodeInner(e,n);for(let i=e.marks.length-1;i>=0;i--){let o=this.serializeMark(e.marks[i],e.isInline,n);o&&((o.contentDOM||o.dom).appendChild(r),r=o.dom)}return r}serializeMark(e,n,r={}){let i=this.marks[e.type.name];return i&&Aw(ek(r),i(e,n),null,e.attrs)}static renderSpec(e,n,r=null,i){return Aw(e,n,r,i)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new nd(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let n=uB(e.nodes);return n.text||(n.text=r=>r.text),n}static marksFromSchema(e){return uB(e.marks)}}function uB(t){let e={};for(let n in t){let r=t[n].spec.toDOM;r&&(e[n]=r)}return e}function ek(t){return t.document||window.document}const cB=new WeakMap;function x6e(t){let e=cB.get(t);return e===void 0&&cB.set(t,e=b6e(t)),e}function b6e(t){let e=null;function n(r){if(r&&typeof r=="object")if(Array.isArray(r))if(typeof r[0]=="string")e||(e=[]),e.push(r);else for(let i=0;i<r.length;i++)n(r[i]);else for(let i in r)n(r[i])}return n(t),e}function Aw(t,e,n,r){if(typeof e=="string")return{dom:t.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let i=e[0],o;if(typeof i!="string")throw new RangeError("Invalid array passed to renderSpec");if(r&&(o=x6e(r))&&o.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let s=i.indexOf(" ");s>0&&(n=i.slice(0,s),i=i.slice(s+1));let l,a=n?t.createElementNS(n,i):t.createElement(i),u=e[1],c=1;if(u&&typeof u=="object"&&u.nodeType==null&&!Array.isArray(u)){c=2;for(let h in u)if(u[h]!=null){let f=h.indexOf(" ");f>0?a.setAttributeNS(h.slice(0,f),h.slice(f+1),u[h]):h=="style"&&a.style?a.style.cssText=u[h]:a.setAttribute(h,u[h])}}for(let h=c;h<e.length;h++){let f=e[h];if(f===0){if(h<e.length-1||h>c)throw new RangeError("Content hole must be the only child of its parent node");return{dom:a,contentDOM:a}}else{let{dom:d,contentDOM:p}=Aw(t,f,n,r);if(a.appendChild(d),p){if(l)throw new RangeError("Multiple content holes");l=p}}}return{dom:a,contentDOM:l}}const fX=65535,dX=Math.pow(2,16);function k6e(t,e){return t+e*dX}function hB(t){return t&fX}function S6e(t){return(t-(t&fX))/dX}const pX=1,mX=2,Ew=4,gX=8;class Z9{constructor(e,n,r){this.pos=e,this.delInfo=n,this.recover=r}get deleted(){return(this.delInfo&gX)>0}get deletedBefore(){return(this.delInfo&(pX|Ew))>0}get deletedAfter(){return(this.delInfo&(mX|Ew))>0}get deletedAcross(){return(this.delInfo&Ew)>0}}class Oo{constructor(e,n=!1){if(this.ranges=e,this.inverted=n,!e.length&&Oo.empty)return Oo.empty}recover(e){let n=0,r=hB(e);if(!this.inverted)for(let i=0;i<r;i++)n+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[r*3]+n+S6e(e)}mapResult(e,n=1){return this._map(e,n,!1)}map(e,n=1){return this._map(e,n,!0)}_map(e,n,r){let i=0,o=this.inverted?2:1,s=this.inverted?1:2;for(let l=0;l<this.ranges.length;l+=3){let a=this.ranges[l]-(this.inverted?i:0);if(a>e)break;let u=this.ranges[l+o],c=this.ranges[l+s],h=a+u;if(e<=h){let f=u?e==a?-1:e==h?1:n:n,d=a+i+(f<0?0:c);if(r)return d;let p=e==(n<0?a:h)?null:k6e(l/3,e-a),m=e==a?mX:e==h?pX:Ew;return(n<0?e!=a:e!=h)&&(m|=gX),new Z9(d,m,p)}i+=c-u}return r?e+i:new Z9(e+i,0,null)}touches(e,n){let r=0,i=hB(n),o=this.inverted?2:1,s=this.inverted?1:2;for(let l=0;l<this.ranges.length;l+=3){let a=this.ranges[l]-(this.inverted?r:0);if(a>e)break;let u=this.ranges[l+o],c=a+u;if(e<=c&&l==i*3)return!0;r+=this.ranges[l+s]-u}return!1}forEach(e){let n=this.inverted?2:1,r=this.inverted?1:2;for(let i=0,o=0;i<this.ranges.length;i+=3){let s=this.ranges[i],l=s-(this.inverted?o:0),a=s+(this.inverted?0:o),u=this.ranges[i+n],c=this.ranges[i+r];e(l,l+u,a,a+c),o+=c-u}}invert(){return new Oo(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?Oo.empty:new Oo(e<0?[0,-e,0]:[0,0,e])}}Oo.empty=new Oo([]);class Ay{constructor(e,n,r=0,i=e?e.length:0){this.mirror=n,this.from=r,this.to=i,this._maps=e||[],this.ownData=!(e||n)}get maps(){return this._maps}slice(e=0,n=this.maps.length){return new Ay(this._maps,this.mirror,e,n)}appendMap(e,n){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),n!=null&&this.setMirror(this._maps.length-1,n)}appendMapping(e){for(let n=0,r=this._maps.length;n<e._maps.length;n++){let i=e.getMirror(n);this.appendMap(e._maps[n],i!=null&&i<n?r+i:void 0)}}getMirror(e){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==e)return this.mirror[n+(n%2?-1:1)]}}setMirror(e,n){this.mirror||(this.mirror=[]),this.mirror.push(e,n)}appendMappingInverted(e){for(let n=e.maps.length-1,r=this._maps.length+e._maps.length;n>=0;n--){let i=e.getMirror(n);this.appendMap(e._maps[n].invert(),i!=null&&i>n?r-i-1:void 0)}}invert(){let e=new Ay;return e.appendMappingInverted(this),e}map(e,n=1){if(this.mirror)return this._map(e,n,!0);for(let r=this.from;r<this.to;r++)e=this._maps[r].map(e,n);return e}mapResult(e,n=1){return this._map(e,n,!1)}_map(e,n,r){let i=0;for(let o=this.from;o<this.to;o++){let s=this._maps[o],l=s.mapResult(e,n);if(l.recover!=null){let a=this.getMirror(o);if(a!=null&&a>o&&a<this.to){o=a,e=this._maps[a].recover(l.recover);continue}}i|=l.delInfo,e=l.pos}return r?e:new Z9(e,i,null)}}const tk=Object.create(null);class wi{getMap(){return Oo.empty}merge(e){return null}static fromJSON(e,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=tk[n.stepType];if(!r)throw new RangeError(`No step type ${n.stepType} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in tk)throw new RangeError("Duplicate use of step JSON ID "+e);return tk[e]=n,n.prototype.jsonID=e,n}}class mr{constructor(e,n){this.doc=e,this.failed=n}static ok(e){return new mr(e,null)}static fail(e){return new mr(null,e)}static fromReplace(e,n,r,i){try{return mr.ok(e.replace(n,r,i))}catch(o){if(o instanceof Ex)return mr.fail(o.message);throw o}}}function ZA(t,e,n){let r=[];for(let i=0;i<t.childCount;i++){let o=t.child(i);o.content.size&&(o=o.copy(ZA(o.content,e,o))),o.isInline&&(o=e(o,n,i)),r.push(o)}return _e.fromArray(r)}class Ua extends wi{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=e.resolve(this.from),i=r.node(r.sharedDepth(this.to)),o=new He(ZA(n.content,(s,l)=>!s.isAtom||!l.type.allowsMarkType(this.mark.type)?s:s.mark(this.mark.addToSet(s.marks)),i),n.openStart,n.openEnd);return mr.fromReplace(e,this.from,this.to,o)}invert(){return new Fl(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new Ua(n.pos,r.pos,this.mark)}merge(e){return e instanceof Ua&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Ua(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Ua(n.from,n.to,e.markFromJSON(n.mark))}}wi.jsonID("addMark",Ua);class Fl extends wi{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=new He(ZA(n.content,i=>i.mark(this.mark.removeFromSet(i.marks)),e),n.openStart,n.openEnd);return mr.fromReplace(e,this.from,this.to,r)}invert(){return new Ua(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new Fl(n.pos,r.pos,this.mark)}merge(e){return e instanceof Fl&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Fl(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Fl(n.from,n.to,e.markFromJSON(n.mark))}}wi.jsonID("removeMark",Fl);class mc extends wi{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return mr.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return mr.fromReplace(e,this.pos,this.pos+1,new He(_e.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);if(n){let r=this.mark.addToSet(n.marks);if(r.length==n.marks.length){for(let i=0;i<n.marks.length;i++)if(!n.marks[i].isInSet(r))return new mc(this.pos,n.marks[i]);return new mc(this.pos,this.mark)}}return new Wf(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new mc(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new mc(n.pos,e.markFromJSON(n.mark))}}wi.jsonID("addNodeMark",mc);class Wf extends wi{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return mr.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return mr.fromReplace(e,this.pos,this.pos+1,new He(_e.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new mc(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Wf(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new Wf(n.pos,e.markFromJSON(n.mark))}}wi.jsonID("removeNodeMark",Wf);class Er extends wi{constructor(e,n,r,i=!1){super(),this.from=e,this.to=n,this.slice=r,this.structure=i}apply(e){return this.structure&&Q9(e,this.from,this.to)?mr.fail("Structure replace would overwrite content"):mr.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new Oo([this.from,this.to-this.from,this.slice.size])}invert(e){return new Er(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deletedAcross&&r.deletedAcross?null:new Er(n.pos,Math.max(n.pos,r.pos),this.slice,this.structure)}merge(e){if(!(e instanceof Er)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let n=this.slice.size+e.slice.size==0?He.empty:new He(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new Er(this.from,this.to+(e.to-e.from),n,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let n=this.slice.size+e.slice.size==0?He.empty:new He(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new Er(e.from,this.to,n,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new Er(n.from,n.to,He.fromJSON(e,n.slice),!!n.structure)}}wi.jsonID("replace",Er);class di extends wi{constructor(e,n,r,i,o,s,l=!1){super(),this.from=e,this.to=n,this.gapFrom=r,this.gapTo=i,this.slice=o,this.insert=s,this.structure=l}apply(e){if(this.structure&&(Q9(e,this.from,this.gapFrom)||Q9(e,this.gapTo,this.to)))return mr.fail("Structure gap-replace would overwrite content");let n=e.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return mr.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,n.content);return r?mr.fromReplace(e,this.from,this.to,r):mr.fail("Content does not fit in gap")}getMap(){return new Oo([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let n=this.gapTo-this.gapFrom;return new di(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),i=this.from==this.gapFrom?n.pos:e.map(this.gapFrom,-1),o=this.to==this.gapTo?r.pos:e.map(this.gapTo,1);return n.deletedAcross&&r.deletedAcross||i<n.pos||o>r.pos?null:new di(n.pos,r.pos,i,o,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new di(n.from,n.to,n.gapFrom,n.gapTo,He.fromJSON(e,n.slice),n.insert,!!n.structure)}}wi.jsonID("replaceAround",di);function Q9(t,e,n){let r=t.resolve(e),i=n-e,o=r.depth;for(;i>0&&o>0&&r.indexAfter(o)==r.node(o).childCount;)o--,i--;if(i>0){let s=r.node(o).maybeChild(r.indexAfter(o));for(;i>0;){if(!s||s.isLeaf)return!0;s=s.firstChild,i--}}return!1}function C6e(t,e,n,r){let i=[],o=[],s,l;t.doc.nodesBetween(e,n,(a,u,c)=>{if(!a.isInline)return;let h=a.marks;if(!r.isInSet(h)&&c.type.allowsMarkType(r.type)){let f=Math.max(u,e),d=Math.min(u+a.nodeSize,n),p=r.addToSet(h);for(let m=0;m<h.length;m++)h[m].isInSet(p)||(s&&s.to==f&&s.mark.eq(h[m])?s.to=d:i.push(s=new Fl(f,d,h[m])));l&&l.to==f?l.to=d:o.push(l=new Ua(f,d,r))}}),i.forEach(a=>t.step(a)),o.forEach(a=>t.step(a))}function T6e(t,e,n,r){let i=[],o=0;t.doc.nodesBetween(e,n,(s,l)=>{if(!s.isInline)return;o++;let a=null;if(r instanceof c3){let u=s.marks,c;for(;c=r.isInSet(u);)(a||(a=[])).push(c),u=c.removeFromSet(u)}else r?r.isInSet(s.marks)&&(a=[r]):a=s.marks;if(a&&a.length){let u=Math.min(l+s.nodeSize,n);for(let c=0;c<a.length;c++){let h=a[c],f;for(let d=0;d<i.length;d++){let p=i[d];p.step==o-1&&h.eq(i[d].style)&&(f=p)}f?(f.to=u,f.step=o):i.push({style:h,from:Math.max(l,e),to:u,step:o})}}}),i.forEach(s=>t.step(new Fl(s.from,s.to,s.style)))}function QA(t,e,n,r=n.contentMatch,i=!0){let o=t.doc.nodeAt(e),s=[],l=e+1;for(let a=0;a<o.childCount;a++){let u=o.child(a),c=l+u.nodeSize,h=r.matchType(u.type);if(!h)s.push(new Er(l,c,He.empty));else{r=h;for(let f=0;f<u.marks.length;f++)n.allowsMarkType(u.marks[f].type)||t.step(new Fl(l,c,u.marks[f]));if(i&&u.isText&&n.whitespace!="pre"){let f,d=/\r?\n|\r/g,p;for(;f=d.exec(u.text);)p||(p=new He(_e.from(n.schema.text(" ",n.allowedMarks(u.marks))),0,0)),s.push(new Er(l+f.index,l+f.index+f[0].length,p))}}l=c}if(!r.validEnd){let a=r.fillBefore(_e.empty,!0);t.replace(l,l,new He(a,0,0))}for(let a=s.length-1;a>=0;a--)t.step(s[a])}function M6e(t,e,n){return(e==0||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function h3(t){let n=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let r=t.depth;;--r){let i=t.$from.node(r),o=t.$from.index(r),s=t.$to.indexAfter(r);if(r<t.depth&&i.canReplace(o,s,n))return r;if(r==0||i.type.spec.isolating||!M6e(i,o,s))break}return null}function A6e(t,e,n){let{$from:r,$to:i,depth:o}=e,s=r.before(o+1),l=i.after(o+1),a=s,u=l,c=_e.empty,h=0;for(let p=o,m=!1;p>n;p--)m||r.index(p)>0?(m=!0,c=_e.from(r.node(p).copy(c)),h++):a--;let f=_e.empty,d=0;for(let p=o,m=!1;p>n;p--)m||i.after(p+1)<i.end(p)?(m=!0,f=_e.from(i.node(p).copy(f)),d++):u++;t.step(new di(a,u,s,l,new He(c.append(f),h,d),c.size-h,!0))}function eE(t,e,n=null,r=t){let i=E6e(t,e),o=i&&O6e(r,e);return o?i.map(fB).concat({type:e,attrs:n}).concat(o.map(fB)):null}function fB(t){return{type:t,attrs:null}}function E6e(t,e){let{parent:n,startIndex:r,endIndex:i}=t,o=n.contentMatchAt(r).findWrapping(e);if(!o)return null;let s=o.length?o[0]:e;return n.canReplaceWith(r,i,s)?o:null}function O6e(t,e){let{parent:n,startIndex:r,endIndex:i}=t,o=n.child(r),s=e.contentMatch.findWrapping(o.type);if(!s)return null;let a=(s.length?s[s.length-1]:e).contentMatch;for(let u=r;a&&u<i;u++)a=a.matchType(n.child(u).type);return!a||!a.validEnd?null:s}function P6e(t,e,n){let r=_e.empty;for(let s=n.length-1;s>=0;s--){if(r.size){let l=n[s].type.contentMatch.matchFragment(r);if(!l||!l.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=_e.from(n[s].type.create(n[s].attrs,r))}let i=e.start,o=e.end;t.step(new di(i,o,i,o,new He(r,0,0),n.length,!0))}function D6e(t,e,n,r,i){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let o=t.steps.length;t.doc.nodesBetween(e,n,(s,l)=>{let a=typeof i=="function"?i(s):i;if(s.isTextblock&&!s.hasMarkup(r,a)&&_6e(t.doc,t.mapping.slice(o).map(l),r)){let u=null;if(r.schema.linebreakReplacement){let d=r.whitespace=="pre",p=!!r.contentMatch.matchType(r.schema.linebreakReplacement);d&&!p?u=!1:!d&&p&&(u=!0)}u===!1&&vX(t,s,l,o),QA(t,t.mapping.slice(o).map(l,1),r,void 0,u===null);let c=t.mapping.slice(o),h=c.map(l,1),f=c.map(l+s.nodeSize,1);return t.step(new di(h,f,h+1,f-1,new He(_e.from(r.create(a,null,s.marks)),0,0),1,!0)),u===!0&&yX(t,s,l,o),!1}})}function yX(t,e,n,r){e.forEach((i,o)=>{if(i.isText){let s,l=/\r?\n|\r/g;for(;s=l.exec(i.text);){let a=t.mapping.slice(r).map(n+1+o+s.index);t.replaceWith(a,a+1,e.type.schema.linebreakReplacement.create())}}})}function vX(t,e,n,r){e.forEach((i,o)=>{if(i.type==i.type.schema.linebreakReplacement){let s=t.mapping.slice(r).map(n+1+o);t.replaceWith(s,s+1,e.type.schema.text(`
`))}})}function _6e(t,e,n){let r=t.resolve(e),i=r.index();return r.parent.canReplaceWith(i,i+1,n)}function I6e(t,e,n,r,i){let o=t.doc.nodeAt(e);if(!o)throw new RangeError("No node at given position");n||(n=o.type);let s=n.create(r,null,i||o.marks);if(o.isLeaf)return t.replaceWith(e,e+o.nodeSize,s);if(!n.validContent(o.content))throw new RangeError("Invalid content for node type "+n.name);t.step(new di(e,e+o.nodeSize,e+1,e+o.nodeSize-1,new He(_e.from(s),0,0),1,!0))}function p1(t,e,n=1,r){let i=t.resolve(e),o=i.depth-n,s=r&&r[r.length-1]||i.parent;if(o<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!s.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let u=i.depth-1,c=n-2;u>o;u--,c--){let h=i.node(u),f=i.index(u);if(h.type.spec.isolating)return!1;let d=h.content.cutByIndex(f,h.childCount),p=r&&r[c+1];p&&(d=d.replaceChild(0,p.type.create(p.attrs)));let m=r&&r[c]||h;if(!h.canReplace(f+1,h.childCount)||!m.type.validContent(d))return!1}let l=i.indexAfter(o),a=r&&r[0];return i.node(o).canReplaceWith(l,l,a?a.type:i.node(o+1).type)}function R6e(t,e,n=1,r){let i=t.doc.resolve(e),o=_e.empty,s=_e.empty;for(let l=i.depth,a=i.depth-n,u=n-1;l>a;l--,u--){o=_e.from(i.node(l).copy(o));let c=r&&r[u];s=_e.from(c?c.type.create(c.attrs,s):i.node(l).copy(s))}t.step(new Er(e,e,new He(o.append(s),n,n),!0))}function f3(t,e){let n=t.resolve(e),r=n.index();return L6e(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function N6e(t,e){e.content.size||t.type.compatibleContent(e.type);let n=t.contentMatchAt(t.childCount),{linebreakReplacement:r}=t.type.schema;for(let i=0;i<e.childCount;i++){let o=e.child(i),s=o.type==r?t.type.schema.nodes.text:o.type;if(n=n.matchType(s),!n||!t.type.allowsMarks(o.marks))return!1}return n.validEnd}function L6e(t,e){return!!(t&&e&&!t.isLeaf&&N6e(t,e))}function B6e(t,e,n){let r=null,{linebreakReplacement:i}=t.doc.type.schema,o=t.doc.resolve(e-n),s=o.node().type;if(i&&s.inlineContent){let c=s.whitespace=="pre",h=!!s.contentMatch.matchType(i);c&&!h?r=!1:!c&&h&&(r=!0)}let l=t.steps.length;if(r===!1){let c=t.doc.resolve(e+n);vX(t,c.node(),c.before(),l)}s.inlineContent&&QA(t,e+n-1,s,o.node().contentMatchAt(o.index()),r==null);let a=t.mapping.slice(l),u=a.map(e-n);if(t.step(new Er(u,a.map(e+n,-1),He.empty,!0)),r===!0){let c=t.doc.resolve(u);yX(t,c.node(),c.before(),t.steps.length)}return t}function z6e(t,e,n){let r=t.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),n))return e;if(r.parentOffset==0)for(let i=r.depth-1;i>=0;i--){let o=r.index(i);if(r.node(i).canReplaceWith(o,o,n))return r.before(i+1);if(o>0)return null}if(r.parentOffset==r.parent.content.size)for(let i=r.depth-1;i>=0;i--){let o=r.indexAfter(i);if(r.node(i).canReplaceWith(o,o,n))return r.after(i+1);if(o<r.node(i).childCount)return null}return null}function wX(t,e,n){let r=t.resolve(e);if(!n.content.size)return e;let i=n.content;for(let o=0;o<n.openStart;o++)i=i.firstChild.content;for(let o=1;o<=(n.openStart==0&&n.size?2:1);o++)for(let s=r.depth;s>=0;s--){let l=s==r.depth?0:r.pos<=(r.start(s+1)+r.end(s+1))/2?-1:1,a=r.index(s)+(l>0?1:0),u=r.node(s),c=!1;if(o==1)c=u.canReplace(a,a,i);else{let h=u.contentMatchAt(a).findWrapping(i.firstChild.type);c=h&&u.canReplaceWith(a,a,h[0])}if(c)return l==0?r.pos:l<0?r.before(s+1):r.after(s+1)}return null}function d3(t,e,n=e,r=He.empty){if(e==n&&!r.size)return null;let i=t.resolve(e),o=t.resolve(n);return xX(i,o,r)?new Er(e,n,r):new F6e(i,o,r).fit()}function xX(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}class F6e{constructor(e,n,r){this.$from=e,this.$to=n,this.unplaced=r,this.frontier=[],this.placed=_e.empty;for(let i=0;i<=e.depth;i++){let o=e.node(i);this.frontier.push({type:o.type,match:o.contentMatchAt(e.indexAfter(i))})}for(let i=e.depth;i>0;i--)this.placed=_e.from(e.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let u=this.findFittable();u?this.placeNodes(u):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,i=this.close(e<0?this.$to:r.doc.resolve(e));if(!i)return null;let o=this.placed,s=r.depth,l=i.depth;for(;s&&l&&o.childCount==1;)o=o.firstChild.content,s--,l--;let a=new He(o,s,l);return e>-1?new di(r.pos,e,this.$to.pos,this.$to.end(),a,n):a.size||r.pos!=this.$to.pos?new Er(r.pos,i.pos,a):null}findFittable(){let e=this.unplaced.openStart;for(let n=this.unplaced.content,r=0,i=this.unplaced.openEnd;r<e;r++){let o=n.firstChild;if(n.childCount>1&&(i=0),o.type.spec.isolating&&i<=r){e=r;break}n=o.content}for(let n=1;n<=2;n++)for(let r=n==1?e:this.unplaced.openStart;r>=0;r--){let i,o=null;r?(o=nk(this.unplaced.content,r-1).firstChild,i=o.content):i=this.unplaced.content;let s=i.firstChild;for(let l=this.depth;l>=0;l--){let{type:a,match:u}=this.frontier[l],c,h=null;if(n==1&&(s?u.matchType(s.type)||(h=u.fillBefore(_e.from(s),!1)):o&&a.compatibleContent(o.type)))return{sliceDepth:r,frontierDepth:l,parent:o,inject:h};if(n==2&&s&&(c=u.findWrapping(s.type)))return{sliceDepth:r,frontierDepth:l,parent:o,wrap:c};if(o&&u.matchType(o.type))break}}}openMore(){let{content:e,openStart:n,openEnd:r}=this.unplaced,i=nk(e,n);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new He(e,n+1,Math.max(r,i.size+n>=e.size-r?n+1:0)),!0)}dropNode(){let{content:e,openStart:n,openEnd:r}=this.unplaced,i=nk(e,n);if(i.childCount<=1&&n>0){let o=e.size-n<=n+i.size;this.unplaced=new He(cg(e,n-1,1),n-1,o?n-1:r)}else this.unplaced=new He(cg(e,n,1),n,r)}placeNodes({sliceDepth:e,frontierDepth:n,parent:r,inject:i,wrap:o}){for(;this.depth>n;)this.closeFrontierNode();if(o)for(let m=0;m<o.length;m++)this.openFrontierNode(o[m]);let s=this.unplaced,l=r?r.content:s.content,a=s.openStart-e,u=0,c=[],{match:h,type:f}=this.frontier[n];if(i){for(let m=0;m<i.childCount;m++)c.push(i.child(m));h=h.matchFragment(i)}let d=l.size+e-(s.content.size-s.openEnd);for(;u<l.childCount;){let m=l.child(u),y=h.matchType(m.type);if(!y)break;u++,(u>1||a==0||m.content.size)&&(h=y,c.push(bX(m.mark(f.allowedMarks(m.marks)),u==1?a:0,u==l.childCount?d:-1)))}let p=u==l.childCount;p||(d=-1),this.placed=hg(this.placed,n,_e.from(c)),this.frontier[n].match=h,p&&d<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let m=0,y=l;m<d;m++){let g=y.lastChild;this.frontier.push({type:g.type,match:g.contentMatchAt(g.childCount)}),y=g.content}this.unplaced=p?e==0?He.empty:new He(cg(s.content,e-1,1),e-1,d<0?s.openEnd:e-1):new He(cg(s.content,e,u),s.openStart,s.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],n;if(!e.type.isTextblock||!rk(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:r}=this.$to,i=this.$to.after(r);for(;r>1&&i==this.$to.end(--r);)++i;return i}findCloseLevel(e){e:for(let n=Math.min(this.depth,e.depth);n>=0;n--){let{match:r,type:i}=this.frontier[n],o=n<e.depth&&e.end(n+1)==e.pos+(e.depth-(n+1)),s=rk(e,n,i,r,o);if(s){for(let l=n-1;l>=0;l--){let{match:a,type:u}=this.frontier[l],c=rk(e,l,u,a,!0);if(!c||c.childCount)continue e}return{depth:n,fit:s,move:o?e.doc.resolve(e.after(n+1)):e}}}}close(e){let n=this.findCloseLevel(e);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=hg(this.placed,n.depth,n.fit)),e=n.move;for(let r=n.depth+1;r<=e.depth;r++){let i=e.node(r),o=i.type.contentMatch.fillBefore(i.content,!0,e.index(r));this.openFrontierNode(i.type,i.attrs,o)}return e}openFrontierNode(e,n=null,r){let i=this.frontier[this.depth];i.match=i.match.matchType(e),this.placed=hg(this.placed,this.depth,_e.from(e.create(n,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(_e.empty,!0);n.childCount&&(this.placed=hg(this.placed,this.frontier.length,n))}}function cg(t,e,n){return e==0?t.cutByIndex(n,t.childCount):t.replaceChild(0,t.firstChild.copy(cg(t.firstChild.content,e-1,n)))}function hg(t,e,n){return e==0?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(hg(t.lastChild.content,e-1,n)))}function nk(t,e){for(let n=0;n<e;n++)t=t.firstChild.content;return t}function bX(t,e,n){if(e<=0)return t;let r=t.content;return e>1&&(r=r.replaceChild(0,bX(r.firstChild,e-1,r.childCount==1?n-1:0))),e>0&&(r=t.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(t.type.contentMatch.matchFragment(r).fillBefore(_e.empty,!0)))),t.copy(r)}function rk(t,e,n,r,i){let o=t.node(e),s=i?t.indexAfter(e):t.index(e);if(s==o.childCount&&!n.compatibleContent(o.type))return null;let l=r.fillBefore(o.content,!0,s);return l&&!$6e(n,o.content,s)?l:null}function $6e(t,e,n){for(let r=n;r<e.childCount;r++)if(!t.allowsMarks(e.child(r).marks))return!0;return!1}function V6e(t){return t.spec.defining||t.spec.definingForContent}function H6e(t,e,n,r){if(!r.size)return t.deleteRange(e,n);let i=t.doc.resolve(e),o=t.doc.resolve(n);if(xX(i,o,r))return t.step(new Er(e,n,r));let s=SX(i,t.doc.resolve(n));s[s.length-1]==0&&s.pop();let l=-(i.depth+1);s.unshift(l);for(let f=i.depth,d=i.pos-1;f>0;f--,d--){let p=i.node(f).type.spec;if(p.defining||p.definingAsContext||p.isolating)break;s.indexOf(f)>-1?l=f:i.before(f)==d&&s.splice(1,0,-f)}let a=s.indexOf(l),u=[],c=r.openStart;for(let f=r.content,d=0;;d++){let p=f.firstChild;if(u.push(p),d==r.openStart)break;f=p.content}for(let f=c-1;f>=0;f--){let d=u[f],p=V6e(d.type);if(p&&!d.sameMarkup(i.node(Math.abs(l)-1)))c=f;else if(p||!d.type.isTextblock)break}for(let f=r.openStart;f>=0;f--){let d=(f+c+1)%(r.openStart+1),p=u[d];if(p)for(let m=0;m<s.length;m++){let y=s[(m+a)%s.length],g=!0;y<0&&(g=!1,y=-y);let v=i.node(y-1),w=i.index(y-1);if(v.canReplaceWith(w,w,p.type,p.marks))return t.replace(i.before(y),g?o.after(y):n,new He(kX(r.content,0,r.openStart,d),d,r.openEnd))}}let h=t.steps.length;for(let f=s.length-1;f>=0&&(t.replace(e,n,r),!(t.steps.length>h));f--){let d=s[f];d<0||(e=i.before(d),n=o.after(d))}}function kX(t,e,n,r,i){if(e<n){let o=t.firstChild;t=t.replaceChild(0,o.copy(kX(o.content,e+1,n,r,o)))}if(e>r){let o=i.contentMatchAt(0),s=o.fillBefore(t).append(t);t=s.append(o.matchFragment(s).fillBefore(_e.empty,!0))}return t}function j6e(t,e,n,r){if(!r.isInline&&e==n&&t.doc.resolve(e).parent.content.size){let i=z6e(t.doc,e,r.type);i!=null&&(e=n=i)}t.replaceRange(e,n,new He(_e.from(r),0,0))}function W6e(t,e,n){let r=t.doc.resolve(e),i=t.doc.resolve(n),o=SX(r,i);for(let s=0;s<o.length;s++){let l=o[s],a=s==o.length-1;if(a&&l==0||r.node(l).type.contentMatch.validEnd)return t.delete(r.start(l),i.end(l));if(l>0&&(a||r.node(l-1).canReplace(r.index(l-1),i.indexAfter(l-1))))return t.delete(r.before(l),i.after(l))}for(let s=1;s<=r.depth&&s<=i.depth;s++)if(e-r.start(s)==r.depth-s&&n>r.end(s)&&i.end(s)-n!=i.depth-s&&r.start(s-1)==i.start(s-1)&&r.node(s-1).canReplace(r.index(s-1),i.index(s-1)))return t.delete(r.before(s),n);t.delete(e,n)}function SX(t,e){let n=[],r=Math.min(t.depth,e.depth);for(let i=r;i>=0;i--){let o=t.start(i);if(o<t.pos-(t.depth-i)||e.end(i)>e.pos+(e.depth-i)||t.node(i).type.spec.isolating||e.node(i).type.spec.isolating)break;(o==e.start(i)||i==t.depth&&i==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&i&&e.start(i-1)==o-1)&&n.push(i)}return n}class x0 extends wi{constructor(e,n,r){super(),this.pos=e,this.attr=n,this.value=r}apply(e){let n=e.nodeAt(this.pos);if(!n)return mr.fail("No node at attribute step's position");let r=Object.create(null);for(let o in n.attrs)r[o]=n.attrs[o];r[this.attr]=this.value;let i=n.type.create(r,null,n.marks);return mr.fromReplace(e,this.pos,this.pos+1,new He(_e.from(i),0,n.isLeaf?0:1))}getMap(){return Oo.empty}invert(e){return new x0(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new x0(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new x0(n.pos,n.attr,n.value)}}wi.jsonID("attr",x0);class Ey extends wi{constructor(e,n){super(),this.attr=e,this.value=n}apply(e){let n=Object.create(null);for(let i in e.attrs)n[i]=e.attrs[i];n[this.attr]=this.value;let r=e.type.create(n,e.content,e.marks);return mr.ok(r)}getMap(){return Oo.empty}invert(e){return new Ey(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new Ey(n.attr,n.value)}}wi.jsonID("docAttr",Ey);let Ap=class extends Error{};Ap=function t(e){let n=Error.call(this,e);return n.__proto__=t.prototype,n};Ap.prototype=Object.create(Error.prototype);Ap.prototype.constructor=Ap;Ap.prototype.name="TransformError";class CX{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new Ay}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let n=this.maybeStep(e);if(n.failed)throw new Ap(n.failed);return this}maybeStep(e){let n=e.apply(this.doc);return n.failed||this.addStep(e,n.doc),n}get docChanged(){return this.steps.length>0}addStep(e,n){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=n}replace(e,n=e,r=He.empty){let i=d3(this.doc,e,n,r);return i&&this.step(i),this}replaceWith(e,n,r){return this.replace(e,n,new He(_e.from(r),0,0))}delete(e,n){return this.replace(e,n,He.empty)}insert(e,n){return this.replaceWith(e,e,n)}replaceRange(e,n,r){return H6e(this,e,n,r),this}replaceRangeWith(e,n,r){return j6e(this,e,n,r),this}deleteRange(e,n){return W6e(this,e,n),this}lift(e,n){return A6e(this,e,n),this}join(e,n=1){return B6e(this,e,n),this}wrap(e,n){return P6e(this,e,n),this}setBlockType(e,n=e,r,i=null){return D6e(this,e,n,r,i),this}setNodeMarkup(e,n,r=null,i){return I6e(this,e,n,r,i),this}setNodeAttribute(e,n,r){return this.step(new x0(e,n,r)),this}setDocAttribute(e,n){return this.step(new Ey(e,n)),this}addNodeMark(e,n){return this.step(new mc(e,n)),this}removeNodeMark(e,n){let r=this.doc.nodeAt(e);if(!r)throw new RangeError("No node at position "+e);if(n instanceof It)n.isInSet(r.marks)&&this.step(new Wf(e,n));else{let i=r.marks,o,s=[];for(;o=n.isInSet(i);)s.push(new Wf(e,o)),i=o.removeFromSet(i);for(let l=s.length-1;l>=0;l--)this.step(s[l])}return this}split(e,n=1,r){return R6e(this,e,n,r),this}addMark(e,n,r){return C6e(this,e,n,r),this}removeMark(e,n,r){return T6e(this,e,n,r),this}clearIncompatible(e,n,r){return QA(this,e,n,r),this}}const ik=Object.create(null);class yt{constructor(e,n,r){this.$anchor=e,this.$head=n,this.ranges=r||[new TX(e.min(n),e.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let n=0;n<e.length;n++)if(e[n].$from.pos!=e[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,n=He.empty){let r=n.content.lastChild,i=null;for(let l=0;l<n.openEnd;l++)i=r,r=r.lastChild;let o=e.steps.length,s=this.ranges;for(let l=0;l<s.length;l++){let{$from:a,$to:u}=s[l],c=e.mapping.slice(o);e.replaceRange(c.map(a.pos),c.map(u.pos),l?He.empty:n),l==0&&mB(e,o,(r?r.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(e,n){let r=e.steps.length,i=this.ranges;for(let o=0;o<i.length;o++){let{$from:s,$to:l}=i[o],a=e.mapping.slice(r),u=a.map(s.pos),c=a.map(l.pos);o?e.deleteRange(u,c):(e.replaceRangeWith(u,c,n),mB(e,r,n.isInline?-1:1))}}static findFrom(e,n,r=!1){let i=e.parent.inlineContent?new nt(e):Ad(e.node(0),e.parent,e.pos,e.index(),n,r);if(i)return i;for(let o=e.depth-1;o>=0;o--){let s=n<0?Ad(e.node(0),e.node(o),e.before(o+1),e.index(o),n,r):Ad(e.node(0),e.node(o),e.after(o+1),e.index(o)+1,n,r);if(s)return s}return null}static near(e,n=1){return this.findFrom(e,n)||this.findFrom(e,-n)||new lo(e.node(0))}static atStart(e){return Ad(e,e,0,0,1)||new lo(e)}static atEnd(e){return Ad(e,e,e.content.size,e.childCount,-1)||new lo(e)}static fromJSON(e,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=ik[n.type];if(!r)throw new RangeError(`No selection type ${n.type} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in ik)throw new RangeError("Duplicate use of selection JSON ID "+e);return ik[e]=n,n.prototype.jsonID=e,n}getBookmark(){return nt.between(this.$anchor,this.$head).getBookmark()}}yt.prototype.visible=!0;class TX{constructor(e,n){this.$from=e,this.$to=n}}let dB=!1;function pB(t){!dB&&!t.parent.inlineContent&&(dB=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class nt extends yt{constructor(e,n=e){pB(e),pB(n),super(e,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,n){let r=e.resolve(n.map(this.head));if(!r.parent.inlineContent)return yt.near(r);let i=e.resolve(n.map(this.anchor));return new nt(i.parent.inlineContent?i:r,r)}replace(e,n=He.empty){if(super.replace(e,n),n==He.empty){let r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}}eq(e){return e instanceof nt&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new p3(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new nt(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,r=n){let i=e.resolve(n);return new this(i,r==n?i:e.resolve(r))}static between(e,n,r){let i=e.pos-n.pos;if((!r||i)&&(r=i>=0?1:-1),!n.parent.inlineContent){let o=yt.findFrom(n,r,!0)||yt.findFrom(n,-r,!0);if(o)n=o.$head;else return yt.near(n,r)}return e.parent.inlineContent||(i==0?e=n:(e=(yt.findFrom(e,-r,!0)||yt.findFrom(e,r,!0)).$anchor,e.pos<n.pos!=i<0&&(e=n))),new nt(e,n)}}yt.jsonID("text",nt);class p3{constructor(e,n){this.anchor=e,this.head=n}map(e){return new p3(e.map(this.anchor),e.map(this.head))}resolve(e){return nt.between(e.resolve(this.anchor),e.resolve(this.head))}}class ut extends yt{constructor(e){let n=e.nodeAfter,r=e.node(0).resolve(e.pos+n.nodeSize);super(e,r),this.node=n}map(e,n){let{deleted:r,pos:i}=n.mapResult(this.anchor),o=e.resolve(i);return r?yt.near(o):new ut(o)}content(){return new He(_e.from(this.node),0,0)}eq(e){return e instanceof ut&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new tE(this.anchor)}static fromJSON(e,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new ut(e.resolve(n.anchor))}static create(e,n){return new ut(e.resolve(n))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}ut.prototype.visible=!1;yt.jsonID("node",ut);class tE{constructor(e){this.anchor=e}map(e){let{deleted:n,pos:r}=e.mapResult(this.anchor);return n?new p3(r,r):new tE(r)}resolve(e){let n=e.resolve(this.anchor),r=n.nodeAfter;return r&&ut.isSelectable(r)?new ut(n):yt.near(n)}}class lo extends yt{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,n=He.empty){if(n==He.empty){e.delete(0,e.doc.content.size);let r=yt.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else super.replace(e,n)}toJSON(){return{type:"all"}}static fromJSON(e){return new lo(e)}map(e){return new lo(e)}eq(e){return e instanceof lo}getBookmark(){return U6e}}yt.jsonID("all",lo);const U6e={map(){return this},resolve(t){return new lo(t)}};function Ad(t,e,n,r,i,o=!1){if(e.inlineContent)return nt.create(t,n);for(let s=r-(i>0?0:1);i>0?s<e.childCount:s>=0;s+=i){let l=e.child(s);if(l.isAtom){if(!o&&ut.isSelectable(l))return ut.create(t,n-(i<0?l.nodeSize:0))}else{let a=Ad(t,l,n+i,i<0?l.childCount:0,i,o);if(a)return a}n+=l.nodeSize*i}return null}function mB(t,e,n){let r=t.steps.length-1;if(r<e)return;let i=t.steps[r];if(!(i instanceof Er||i instanceof di))return;let o=t.mapping.maps[r],s;o.forEach((l,a,u,c)=>{s==null&&(s=c)}),t.setSelection(yt.near(t.doc.resolve(s),n))}const gB=1,p4=2,yB=4;class q6e extends CX{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|gB)&~p4,this.storedMarks=null,this}get selectionSet(){return(this.updated&gB)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=p4,this}ensureMarks(e){return It.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&p4)>0}addStep(e,n){super.addStep(e,n),this.updated=this.updated&~p4,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,n=!0){let r=this.selection;return n&&(e=e.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||It.none))),r.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,n,r){let i=this.doc.type.schema;if(n==null)return e?this.replaceSelectionWith(i.text(e),!0):this.deleteSelection();{if(r==null&&(r=n),r=r??n,!e)return this.deleteRange(n,r);let o=this.storedMarks;if(!o){let s=this.doc.resolve(n);o=r==n?s.marks():s.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(n,r,i.text(e,o)),this.selection.empty||this.setSelection(yt.near(this.selection.$to)),this}}setMeta(e,n){return this.meta[typeof e=="string"?e:e.key]=n,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=yB,this}get scrolledIntoView(){return(this.updated&yB)>0}}function vB(t,e){return!e||!t?t:t.bind(e)}class fg{constructor(e,n,r){this.name=e,this.init=vB(n.init,r),this.apply=vB(n.apply,r)}}const K6e=[new fg("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new fg("selection",{init(t,e){return t.selection||yt.atStart(e.doc)},apply(t){return t.selection}}),new fg("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,n,r){return r.selection.$cursor?t.storedMarks:null}}),new fg("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}})];class ok{constructor(e,n){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=K6e.slice(),n&&n.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new fg(r.key,r.spec.state,r))})}}class qh{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,n=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=n){let i=this.config.plugins[r];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let n=[e],r=this.applyInner(e),i=null;for(;;){let o=!1;for(let s=0;s<this.config.plugins.length;s++){let l=this.config.plugins[s];if(l.spec.appendTransaction){let a=i?i[s].n:0,u=i?i[s].state:this,c=a<n.length&&l.spec.appendTransaction.call(l,a?n.slice(a):n,u,r);if(c&&r.filterTransaction(c,s)){if(c.setMeta("appendedTransaction",e),!i){i=[];for(let h=0;h<this.config.plugins.length;h++)i.push(h<s?{state:r,n:n.length}:{state:this,n:0})}n.push(c),r=r.applyInner(c),o=!0}i&&(i[s]={state:r,n:n.length})}}if(!o)return{state:r,transactions:n}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new qh(this.config),r=this.config.fields;for(let i=0;i<r.length;i++){let o=r[i];n[o.name]=o.apply(e,this[o.name],this,n)}return n}get tr(){return new q6e(this)}static create(e){let n=new ok(e.doc?e.doc.type.schema:e.schema,e.plugins),r=new qh(n);for(let i=0;i<n.fields.length;i++)r[n.fields[i].name]=n.fields[i].init(e,r);return r}reconfigure(e){let n=new ok(this.schema,e.plugins),r=n.fields,i=new qh(n);for(let o=0;o<r.length;o++){let s=r[o].name;i[s]=this.hasOwnProperty(s)?this[s]:r[o].init(e,i)}return i}toJSON(e){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(r=>r.toJSON())),e&&typeof e=="object")for(let r in e){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let i=e[r],o=i.spec.state;o&&o.toJSON&&(n[r]=o.toJSON.call(i,this[i.key]))}return n}static fromJSON(e,n,r){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let i=new ok(e.schema,e.plugins),o=new qh(i);return i.fields.forEach(s=>{if(s.name=="doc")o.doc=nu.fromJSON(e.schema,n.doc);else if(s.name=="selection")o.selection=yt.fromJSON(o.doc,n.selection);else if(s.name=="storedMarks")n.storedMarks&&(o.storedMarks=n.storedMarks.map(e.schema.markFromJSON));else{if(r)for(let l in r){let a=r[l],u=a.spec.state;if(a.key==s.name&&u&&u.fromJSON&&Object.prototype.hasOwnProperty.call(n,l)){o[s.name]=u.fromJSON.call(a,e,n[l],o);return}}o[s.name]=s.init(e,o)}}),o}}function MX(t,e,n){for(let r in t){let i=t[r];i instanceof Function?i=i.bind(e):r=="handleDOMEvents"&&(i=MX(i,e,{})),n[r]=i}return n}class $n{constructor(e){this.spec=e,this.props={},e.props&&MX(e.props,this,this.props),this.key=e.key?e.key.key:AX("plugin")}getState(e){return e[this.key]}}const sk=Object.create(null);function AX(t){return t in sk?t+"$"+ ++sk[t]:(sk[t]=0,t+"$")}class Xn{constructor(e="key"){this.key=AX(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}class co{constructor(e,n,r={}){this.match=e,this.match=e,this.handler=typeof n=="string"?G6e(n):n,this.undoable=r.undoable!==!1,this.inCode=r.inCode||!1,this.inCodeMark=r.inCodeMark!==!1}}function G6e(t){return function(e,n,r,i){let o=t;if(n[1]){let s=n[0].lastIndexOf(n[1]);o+=n[0].slice(s+n[1].length),r+=s;let l=r-i;l>0&&(o=n[0].slice(s-l,s)+o,r=i)}return e.tr.insertText(o,r,i)}}const Y6e=(t,e)=>{let n=t.plugins;for(let r=0;r<n.length;r++){let i=n[r],o;if(i.spec.isInputRules&&(o=i.getState(t))){if(e){let s=t.tr,l=o.transform;for(let a=l.steps.length-1;a>=0;a--)s.step(l.steps[a].invert(l.docs[a]));if(o.text){let a=s.doc.resolve(o.from).marks();s.replaceWith(o.from,o.to,t.schema.text(o.text,a))}else s.delete(o.from,o.to);e(s)}return!0}}return!1};new co(/--$/,"",{inCodeMark:!1});new co(/\.\.\.$/,"",{inCodeMark:!1});new co(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(")$/,"",{inCodeMark:!1});new co(/"$/,"",{inCodeMark:!1});new co(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(')$/,"",{inCodeMark:!1});new co(/'$/,"",{inCodeMark:!1});function nE(t,e,n=null,r){return new co(t,(i,o,s,l)=>{let a=n instanceof Function?n(o):n,u=i.tr.delete(s,l),c=u.doc.resolve(s),h=c.blockRange(),f=h&&eE(h,e,a);if(!f)return null;u.wrap(h,f);let d=u.doc.resolve(s-1).nodeBefore;return d&&d.type==e&&f3(u.doc,s-1)&&(!r||r(o,d))&&u.join(s-1),u})}function rE(t,e,n=null){return new co(t,(r,i,o,s)=>{let l=r.doc.resolve(o),a=n instanceof Function?n(i):n;return l.node(-1).canReplaceWith(l.index(-1),l.indexAfter(-1),e)?r.tr.delete(o,s).setBlockType(o,o,e,a):null})}var ho=(t=>(t.docTypeError="docTypeError",t.contextNotFound="contextNotFound",t.timerNotFound="timerNotFound",t.ctxCallOutOfScope="ctxCallOutOfScope",t.createNodeInParserFail="createNodeInParserFail",t.stackOverFlow="stackOverFlow",t.parserMatchError="parserMatchError",t.serializerMatchError="serializerMatchError",t.getAtomFromSchemaFail="getAtomFromSchemaFail",t.expectDomTypeError="expectDomTypeError",t.callCommandBeforeEditorView="callCommandBeforeEditorView",t.missingRootElement="missingRootElement",t.missingNodeInSchema="missingNodeInSchema",t.missingMarkInSchema="missingMarkInSchema",t.ctxNotBind="ctxNotBind",t.missingYjsDoc="missingYjsDoc",t))(ho||{});class Wo extends Error{constructor(e,n){super(n),this.name="MilkdownError",this.code=e}}const X6e=(t,e)=>typeof e=="function"?"[Function]":e,m3=t=>JSON.stringify(t,X6e);function J6e(t){return new Wo(ho.docTypeError,`Doc type error, unsupported type: ${m3(t)}`)}function Z6e(t){return new Wo(ho.contextNotFound,`Context "${t}" not found, do you forget to inject it?`)}function Q6e(t){return new Wo(ho.timerNotFound,`Timer "${t}" not found, do you forget to record it?`)}function g3(){return new Wo(ho.ctxCallOutOfScope,"Should not call a context out of the plugin.")}function e7e(t,e,n){const i=`Cannot create node for ${"name"in t?t.name:t}`,o=c=>{if(c==null)return"null";if(Array.isArray(c))return`[${c.map(o).join(", ")}]`;if(typeof c=="object")return"toJSON"in c&&typeof c.toJSON=="function"?JSON.stringify(c.toJSON()):"spec"in c?JSON.stringify(c.spec):JSON.stringify(c);if(typeof c=="string"||typeof c=="number"||typeof c=="boolean")return JSON.stringify(c);if(typeof c=="function")return`[Function: ${c.name||"anonymous"}]`;try{return String(c)}catch{return"[Unserializable]"}},s=["[Description]",i],l=["[Attributes]",e],a=["[Content]",(n??[]).map(c=>c?typeof c=="object"&&"type"in c?`${c}`:o(c):"null")],u=[s,l,a].reduce((c,[h,f])=>{const d=`${h}: ${o(f)}.`;return c.concat(d)},[]);return new Wo(ho.createNodeInParserFail,u.join(`
`))}function EX(){return new Wo(ho.stackOverFlow,"Stack over flow, cannot pop on an empty stack.")}function t7e(t){return new Wo(ho.parserMatchError,`Cannot match target parser for node: ${m3(t)}.`)}function n7e(t){return new Wo(ho.serializerMatchError,`Cannot match target serializer for node: ${m3(t)}.`)}function r7e(t,e){return new Wo(ho.getAtomFromSchemaFail,`Cannot get ${t}: ${e} from schema.`)}function ul(t){return new Wo(ho.expectDomTypeError,`Expect to be a dom, but get: ${m3(t)}.`)}function lk(){return new Wo(ho.callCommandBeforeEditorView,"You're trying to call a command before editor view initialized, make sure to get commandManager from ctx after editor view has been initialized")}function i7e(t){return new Wo(ho.missingNodeInSchema,`Missing node in schema, milkdown cannot find "${t}" in schema.`)}function o7e(t){return new Wo(ho.missingMarkInSchema,`Missing mark in schema, milkdown cannot find "${t}" in schema.`)}const Hc=typeof navigator<"u"?navigator:null,wB=typeof document<"u"?document:null,oh=Hc&&Hc.userAgent||"",eC=/Edge\/(\d+)/.exec(oh),OX=/MSIE \d/.exec(oh),tC=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(oh),y3=!!(OX||tC||eC),s7e=OX?document.documentMode:tC?+tC[1]:eC?+eC[1]:0,PX=!y3&&/gecko\/(\d+)/i.test(oh),l7e=PX&&+(/Firefox\/(\d+)/.exec(oh)||[0,0])[1],nC=!y3&&/Chrome\/(\d+)/.exec(oh),a7e=!!nC,u7e=nC?+nC[1]:0,DX=!y3&&!!Hc&&/Apple Computer/.test(Hc.vendor),_X=DX&&(/Mobile\/\w+/.test(oh)||!!Hc&&Hc.maxTouchPoints>2),c7e=_X||(Hc?/Mac/.test(Hc.platform):!1),h7e=/Android \d/.test(oh),IX=!!wB&&"webkitFontSmoothing"in wB.documentElement.style,f7e=IX?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;var m4=Object.freeze({__proto__:null,android:h7e,chrome:a7e,chrome_version:u7e,gecko:PX,gecko_version:l7e,ie:y3,ie_version:s7e,ios:_X,mac:c7e,safari:DX,webkit:IX,webkit_version:f7e});function ak(t,e,n,r,i,o){if(t.composing)return!1;const s=t.state,l=s.doc.resolve(e);if(l.parent.type.spec.code)return!1;const a=l.parent.textBetween(Math.max(0,l.parentOffset-500),l.parentOffset,void 0,"")+r;for(let u of i){const c=u,h=c.match.exec(a),f=h&&h[0]&&c.handler(s,h,e-(h[0].length-r.length),n);if(f)return c.undoable!==!1&&f.setMeta(o,{transform:f,from:e,to:n,text:r}),t.dispatch(f),!0}return!1}const d7e=new Xn("MILKDOWN_CUSTOM_INPUTRULES");function p7e({rules:t}){const e=new $n({key:d7e,isInputRules:!0,state:{init(){return null},apply(n,r){const i=n.getMeta(this);return i||(n.selectionSet||n.docChanged?null:r)}},props:{handleTextInput(n,r,i,o){return ak(n,r,i,o,t,e)},handleDOMEvents:{compositionend:n=>(setTimeout(()=>{const{$cursor:r}=n.state.selection;r&&ak(n,r.pos,r.pos,"",t,e)}),!1)},handleKeyDown(n,r){if(r.key!=="Enter")return!1;const{$cursor:i}=n.state.selection;return i?ak(n,i.pos,i.pos,`
`,t,e):!1}}});return e}function qv(t,e,n={}){return new co(t,(r,i,o,s)=>{var l,a,u,c;const{tr:h}=r,f=i.length;let d=i[f-1],p=i[0],m=[],y=s;const g={group:d,fullMatch:p,start:o,end:s},v=(l=n.updateCaptured)==null?void 0:l.call(n,g);if(Object.assign(g,v),{group:d,fullMatch:p,start:o,end:s}=g,p===null||(d==null?void 0:d.trim())==="")return null;if(d){const w=p.search(/\S/),b=o+p.indexOf(d),S=b+d.length;m=(a=h.storedMarks)!=null?a:[],S<s&&h.delete(S,s),b>o&&h.delete(o+w,b),y=o+w+d.length;const k=(u=n.getAttr)==null?void 0:u.call(n,i);h.addMark(o,y,e.create(k)),h.setStoredMarks(m),(c=n.beforeDispatch)==null||c.call(n,{match:i,start:o,end:s,tr:h})}return h})}function m7e(t,e,n={}){return new co(t,(r,i,o,s)=>{var l,a,u;const{tr:c}=r;let h=i[1],f=i[0];const d={group:h,fullMatch:f,start:o,end:s},p=(l=n.updateCaptured)==null?void 0:l.call(n,d);if(Object.assign(d,p),{group:h,fullMatch:f,start:o,end:s}=d,f===null||!h||h.trim()==="")return null;const m=(a=n.getAttr)==null?void 0:a.call(n,i),y=e.createAndFill(m);return y&&(c.replaceRangeWith(e.isBlock?c.doc.resolve(o).before():o,s,y),(u=n.beforeDispatch)==null||u.call(n,{match:[f,h??""],start:o,end:s,tr:c})),c})}var g7e=Object.defineProperty,y7e=Object.defineProperties,v7e=Object.getOwnPropertyDescriptors,xB=Object.getOwnPropertySymbols,w7e=Object.prototype.hasOwnProperty,x7e=Object.prototype.propertyIsEnumerable,bB=(t,e,n)=>e in t?g7e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,b7e=(t,e)=>{for(var n in e||(e={}))w7e.call(e,n)&&bB(t,n,e[n]);if(xB)for(var n of xB(e))x7e.call(e,n)&&bB(t,n,e[n]);return t},k7e=(t,e)=>y7e(t,v7e(e));function kB(t=0,e=0,n=0){return Math.min(Math.max(t,e),n)}function v3(t,e,n){const i=t.state.doc.content.size,o=kB(e,0,i),s=kB(n,0,i),l=t.coordsAtPos(o),a=t.coordsAtPos(s,-1),u=Math.min(l.top,a.top),c=Math.max(l.bottom,a.bottom),h=Math.min(l.left,a.left),f=Math.max(l.right,a.right),d=f-h,p=c-u,g={top:u,bottom:c,left:h,right:f,width:d,height:p,x:h,y:u};return k7e(b7e({},g),{toJSON:()=>g})}function RX(t){return Object.assign(Object.create(t),t).setTime(Date.now())}function S7e(t,e){return Array.isArray(t)&&t.includes(e.type)||e.type===t}function C7e(t){if(t.content.childCount===1){const e=t.content.firstChild;if((e==null?void 0:e.type.name)==="text"&&e.marks.length===0)return e;if((e==null?void 0:e.type.name)==="paragraph"&&e.childCount===1){const n=e.firstChild;if((n==null?void 0:n.type.name)==="text"&&n.marks.length===0)return n}}return!1}function Gl(t){return e=>{for(let n=e.depth;n>0;n-=1){const r=e.node(n);if(t(r)){const i=e.before(n),o=e.after(n);return{from:i,to:o,node:r}}}}}function T7e(t,e){return Gl(n=>n.type===e)(t)}function M7e(t,e){const n=e.nodes[t];if(!n)throw r7e("node",t);return n}function iE(t){return e=>{for(let n=e.depth;n>0;n--){const r=e.node(n);if(t(r))return{pos:n>0?e.before(n):0,start:e.start(n),depth:n,node:r}}}}function A7e(t){return e=>iE(t)(e.$from)}function E7e(t,e){if(!(t instanceof ut))return;const{node:n,$from:r}=t;if(S7e(e,n))return{node:n,pos:r.pos,start:r.start(r.depth),depth:r.depth}}const NX=(t,e)=>{const{selection:n,doc:r}=t;if(n instanceof ut)return{hasNode:n.node.type===e,pos:n.from,target:n.node};const{from:i,to:o}=n;let s=!1,l=-1,a=null;return r.nodesBetween(i,o,(u,c)=>a?!1:u.type===e?(s=!0,l=c,a=u,!1):!0),{hasNode:s,pos:l,target:a}};class LX{constructor(){this.sliceMap=new Map,this.get=e=>{const n=typeof e=="string"?[...this.sliceMap.values()].find(r=>r.type.name===e):this.sliceMap.get(e.id);if(!n){const r=typeof e=="string"?e:e.name;throw Z6e(r)}return n},this.remove=e=>{const n=typeof e=="string"?[...this.sliceMap.values()].find(r=>r.type.name===e):this.sliceMap.get(e.id);n&&this.sliceMap.delete(n.type.id)},this.has=e=>typeof e=="string"?[...this.sliceMap.values()].some(n=>n.type.name===e):this.sliceMap.has(e.id)}}var Vs,Ia,_0;class O7e{constructor(e,n,r){Pe(this,Vs);Pe(this,Ia);Pe(this,_0);ie(this,Vs,[]),ie(this,_0,()=>{V(this,Vs).forEach(i=>i(V(this,Ia)))}),this.set=i=>{ie(this,Ia,i),V(this,_0).call(this)},this.get=()=>V(this,Ia),this.update=i=>{ie(this,Ia,i(V(this,Ia))),V(this,_0).call(this)},this.type=r,ie(this,Ia,n),e.set(r.id,this)}on(e){return V(this,Vs).push(e),()=>{ie(this,Vs,V(this,Vs).filter(n=>n!==e))}}once(e){const n=this.on(r=>{e(r),n()});return n}off(e){ie(this,Vs,V(this,Vs).filter(n=>n!==e))}offAll(){ie(this,Vs,[])}}Vs=new WeakMap,Ia=new WeakMap,_0=new WeakMap;class P7e{constructor(e,n){this.id=Symbol(`Context-${n}`),this.name=n,this._defaultValue=e,this._typeInfo=()=>{throw g3()}}create(e,n=this._defaultValue){return new O7e(e,n,this)}}const jt=(t,e)=>new P7e(t,e);var Jy,Zy,Qy,Zh,I0,sc,R0,N0,L0;class D7e{constructor(e,n,r){Pe(this,Jy);Pe(this,Zy);Pe(this,Qy);Pe(this,Zh);Pe(this,I0);Pe(this,sc);Pe(this,R0);Pe(this,N0);Pe(this,L0);ie(this,Zh,new Set),ie(this,I0,new Set),ie(this,sc,new Map),ie(this,R0,new Map),this.read=()=>({metadata:V(this,Jy),injectedSlices:[...V(this,Zh)].map(i=>({name:typeof i=="string"?i:i.name,value:V(this,N0).call(this,i)})),consumedSlices:[...V(this,I0)].map(i=>({name:typeof i=="string"?i:i.name,value:V(this,N0).call(this,i)})),recordedTimers:[...V(this,sc)].map(([i,{duration:o}])=>({name:i.name,duration:o,status:V(this,L0).call(this,i)})),waitTimers:[...V(this,R0)].map(([i,{duration:o}])=>({name:i.name,duration:o,status:V(this,L0).call(this,i)}))}),this.onRecord=i=>{V(this,sc).set(i,{start:Date.now(),duration:0})},this.onClear=i=>{V(this,sc).delete(i)},this.onDone=i=>{const o=V(this,sc).get(i);o&&(o.duration=Date.now()-o.start)},this.onWait=(i,o)=>{const s=Date.now();o.finally(()=>{V(this,R0).set(i,{duration:Date.now()-s})}).catch(console.error)},this.onInject=i=>{V(this,Zh).add(i)},this.onRemove=i=>{V(this,Zh).delete(i)},this.onUse=i=>{V(this,I0).add(i)},ie(this,N0,i=>V(this,Zy).get(i).get()),ie(this,L0,i=>V(this,Qy).get(i).status),ie(this,Zy,e),ie(this,Qy,n),ie(this,Jy,r)}}Jy=new WeakMap,Zy=new WeakMap,Qy=new WeakMap,Zh=new WeakMap,I0=new WeakMap,sc=new WeakMap,R0=new WeakMap,N0=new WeakMap,L0=new WeakMap;var Ra,Na,ev,es;const aD=class aD{constructor(e,n,r){Pe(this,Ra);Pe(this,Na);Pe(this,ev);Pe(this,es);this.produce=i=>i&&Object.keys(i).length?new aD(V(this,Ra),V(this,Na),{...i}):this,this.inject=(i,o)=>{var l;const s=i.create(V(this,Ra).sliceMap);return o!=null&&s.set(o),(l=V(this,es))==null||l.onInject(i),this},this.remove=i=>{var o;return V(this,Ra).remove(i),(o=V(this,es))==null||o.onRemove(i),this},this.record=i=>{var o;return i.create(V(this,Na).store),(o=V(this,es))==null||o.onRecord(i),this},this.clearTimer=i=>{var o;return V(this,Na).remove(i),(o=V(this,es))==null||o.onClear(i),this},this.isInjected=i=>V(this,Ra).has(i),this.isRecorded=i=>V(this,Na).has(i),this.use=i=>{var o;return(o=V(this,es))==null||o.onUse(i),V(this,Ra).get(i)},this.get=i=>this.use(i).get(),this.set=(i,o)=>this.use(i).set(o),this.update=(i,o)=>this.use(i).update(o),this.timer=i=>V(this,Na).get(i),this.done=i=>{var o;this.timer(i).done(),(o=V(this,es))==null||o.onDone(i)},this.wait=i=>{var s;const o=this.timer(i).start();return(s=V(this,es))==null||s.onWait(i,o),o},this.waitTimers=async i=>{await Promise.all(this.get(i).map(o=>this.wait(o)))},ie(this,Ra,e),ie(this,Na,n),ie(this,ev,r),r&&ie(this,es,new D7e(e,n,r))}get meta(){return V(this,ev)}get inspector(){return V(this,es)}};Ra=new WeakMap,Na=new WeakMap,ev=new WeakMap,es=new WeakMap;let rC=aD;class _7e{constructor(){this.store=new Map,this.get=e=>{const n=this.store.get(e.id);if(!n)throw Q6e(e.name);return n},this.remove=e=>{this.store.delete(e.id)},this.has=e=>this.store.has(e.id)}}var B0,lc,z0,La,F0,tv;class I7e{constructor(e,n){Pe(this,B0);Pe(this,lc);Pe(this,z0);Pe(this,La);Pe(this,F0);Pe(this,tv);ie(this,B0,null),ie(this,lc,null),ie(this,La,"pending"),this.start=()=>(V(this,B0)??ie(this,B0,new Promise((r,i)=>{ie(this,lc,o=>{o instanceof CustomEvent&&o.detail.id===V(this,z0)&&(ie(this,La,"resolved"),V(this,F0).call(this),o.stopImmediatePropagation(),r())}),V(this,tv).call(this,()=>{V(this,La)==="pending"&&ie(this,La,"rejected"),V(this,F0).call(this),i(new Error(`Timing ${this.type.name} timeout.`))}),ie(this,La,"pending"),addEventListener(this.type.name,V(this,lc))})),V(this,B0)),this.done=()=>{const r=new CustomEvent(this.type.name,{detail:{id:V(this,z0)}});dispatchEvent(r)},ie(this,F0,()=>{V(this,lc)&&removeEventListener(this.type.name,V(this,lc))}),ie(this,tv,r=>{setTimeout(()=>{r()},this.type.timeout)}),ie(this,z0,Symbol(n.name)),this.type=n,e.set(n.id,this)}get status(){return V(this,La)}}B0=new WeakMap,lc=new WeakMap,z0=new WeakMap,La=new WeakMap,F0=new WeakMap,tv=new WeakMap;class R7e{constructor(e,n=3e3){this.create=r=>new I7e(r,this),this.id=Symbol(`Timer-${e}`),this.name=e,this.timeout=n}}const Cu=(t,e=3e3)=>new R7e(t,e),SB={}.hasOwnProperty;function N7e(t,e){const n=e||{};function r(i,...o){let s=r.invalid;const l=r.handlers;if(i&&SB.call(i,t)){const a=String(i[t]);s=SB.call(l,a)?l[a]:r.unknown}if(s)return s.call(this,i,...o)}return r.handlers=n.handlers||{},r.invalid=n.invalid,r.unknown=n.unknown,r}const L7e={}.hasOwnProperty;function BX(t,e){let n=-1,r;if(e.extensions)for(;++n<e.extensions.length;)BX(t,e.extensions[n]);for(r in e)if(L7e.call(e,r))switch(r){case"extensions":break;case"unsafe":{CB(t[r],e[r]);break}case"join":{CB(t[r],e[r]);break}case"handlers":{B7e(t[r],e[r]);break}default:t.options[r]=e[r]}return t}function CB(t,e){e&&t.push(...e)}function B7e(t,e){e&&Object.assign(t,e)}function z7e(t,e,n,r){const i=n.enter("blockquote"),o=n.createTracker(r);o.move("> "),o.shift(2);const s=n.indentLines(n.containerFlow(t,o.current()),F7e);return i(),s}function F7e(t,e,n){return">"+(n?"":" ")+t}function zX(t,e){return TB(t,e.inConstruct,!0)&&!TB(t,e.notInConstruct,!1)}function TB(t,e,n){if(typeof e=="string"&&(e=[e]),!e||e.length===0)return n;let r=-1;for(;++r<e.length;)if(t.includes(e[r]))return!0;return!1}function MB(t,e,n,r){let i=-1;for(;++i<n.unsafe.length;)if(n.unsafe[i].character===`
`&&zX(n.stack,n.unsafe[i]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function FX(t,e){const n=String(t);let r=n.indexOf(e),i=r,o=0,s=0;if(typeof e!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===i?++o>s&&(s=o):o=1,i=r+e.length,r=n.indexOf(e,i);return s}function iC(t,e){return!!(e.options.fences===!1&&t.value&&!t.lang&&/[^ \r\n]/.test(t.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(t.value))}function $7e(t){const e=t.options.fence||"`";if(e!=="`"&&e!=="~")throw new Error("Cannot serialize code with `"+e+"` for `options.fence`, expected `` ` `` or `~`");return e}function V7e(t,e,n,r){const i=$7e(n),o=t.value||"",s=i==="`"?"GraveAccent":"Tilde";if(iC(t,n)){const h=n.enter("codeIndented"),f=n.indentLines(o,H7e);return h(),f}const l=n.createTracker(r),a=i.repeat(Math.max(FX(o,i)+1,3)),u=n.enter("codeFenced");let c=l.move(a);if(t.lang){const h=n.enter(`codeFencedLang${s}`);c+=l.move(n.safe(t.lang,{before:c,after:" ",encode:["`"],...l.current()})),h()}if(t.lang&&t.meta){const h=n.enter(`codeFencedMeta${s}`);c+=l.move(" "),c+=l.move(n.safe(t.meta,{before:c,after:`
`,encode:["`"],...l.current()})),h()}return c+=l.move(`
`),o&&(c+=l.move(o+`
`)),c+=l.move(a),u(),c}function H7e(t,e,n){return(n?"":"    ")+t}function oE(t){const e=t.options.quote||'"';if(e!=='"'&&e!=="'")throw new Error("Cannot serialize title with `"+e+"` for `options.quote`, expected `\"`, or `'`");return e}function j7e(t,e,n,r){const i=oE(n),o=i==='"'?"Quote":"Apostrophe",s=n.enter("definition");let l=n.enter("label");const a=n.createTracker(r);let u=a.move("[");return u+=a.move(n.safe(n.associationId(t),{before:u,after:"]",...a.current()})),u+=a.move("]: "),l(),!t.url||/[\0- \u007F]/.test(t.url)?(l=n.enter("destinationLiteral"),u+=a.move("<"),u+=a.move(n.safe(t.url,{before:u,after:">",...a.current()})),u+=a.move(">")):(l=n.enter("destinationRaw"),u+=a.move(n.safe(t.url,{before:u,after:t.title?" ":`
`,...a.current()}))),l(),t.title&&(l=n.enter(`title${o}`),u+=a.move(" "+i),u+=a.move(n.safe(t.title,{before:u,after:i,...a.current()})),u+=a.move(i),l()),s(),u}function W7e(t){const e=t.options.emphasis||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize emphasis with `"+e+"` for `options.emphasis`, expected `*`, or `_`");return e}$X.peek=U7e;function $X(t,e,n,r){const i=W7e(n),o=n.enter("emphasis"),s=n.createTracker(r);let l=s.move(i);return l+=s.move(n.containerPhrasing(t,{before:l,after:i,...s.current()})),l+=s.move(i),o(),l}function U7e(t,e,n){return n.options.emphasis||"*"}function VX(t,e){let n=!1;return ia(t,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,PS}),!!((!t.depth||t.depth<3)&&LM(t)&&(e.options.setext||n))}function q7e(t,e,n,r){const i=Math.max(Math.min(6,t.depth||1),1),o=n.createTracker(r);if(VX(t,n)){const c=n.enter("headingSetext"),h=n.enter("phrasing"),f=n.containerPhrasing(t,{...o.current(),before:`
`,after:`
`});return h(),c(),f+`
`+(i===1?"=":"-").repeat(f.length-(Math.max(f.lastIndexOf("\r"),f.lastIndexOf(`
`))+1))}const s="#".repeat(i),l=n.enter("headingAtx"),a=n.enter("phrasing");o.move(s+" ");let u=n.containerPhrasing(t,{before:"# ",after:`
`,...o.current()});return/^[\t ]/.test(u)&&(u="&#x"+u.charCodeAt(0).toString(16).toUpperCase()+";"+u.slice(1)),u=u?s+" "+u:s,n.options.closeAtx&&(u+=" "+s),a(),l(),u}HX.peek=K7e;function HX(t){return t.value||""}function K7e(){return"<"}jX.peek=G7e;function jX(t,e,n,r){const i=oE(n),o=i==='"'?"Quote":"Apostrophe",s=n.enter("image");let l=n.enter("label");const a=n.createTracker(r);let u=a.move("![");return u+=a.move(n.safe(t.alt,{before:u,after:"]",...a.current()})),u+=a.move("]("),l(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(l=n.enter("destinationLiteral"),u+=a.move("<"),u+=a.move(n.safe(t.url,{before:u,after:">",...a.current()})),u+=a.move(">")):(l=n.enter("destinationRaw"),u+=a.move(n.safe(t.url,{before:u,after:t.title?" ":")",...a.current()}))),l(),t.title&&(l=n.enter(`title${o}`),u+=a.move(" "+i),u+=a.move(n.safe(t.title,{before:u,after:i,...a.current()})),u+=a.move(i),l()),u+=a.move(")"),s(),u}function G7e(){return"!"}WX.peek=Y7e;function WX(t,e,n,r){const i=t.referenceType,o=n.enter("imageReference");let s=n.enter("label");const l=n.createTracker(r);let a=l.move("![");const u=n.safe(t.alt,{before:a,after:"]",...l.current()});a+=l.move(u+"]["),s();const c=n.stack;n.stack=[],s=n.enter("reference");const h=n.safe(n.associationId(t),{before:a,after:"]",...l.current()});return s(),n.stack=c,o(),i==="full"||!u||u!==h?a+=l.move(h+"]"):i==="shortcut"?a=a.slice(0,-1):a+=l.move("]"),a}function Y7e(){return"!"}UX.peek=X7e;function UX(t,e,n){let r=t.value||"",i="`",o=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++o<n.unsafe.length;){const s=n.unsafe[o],l=n.compilePattern(s);let a;if(s.atBreak)for(;a=l.exec(r);){let u=a.index;r.charCodeAt(u)===10&&r.charCodeAt(u-1)===13&&u--,r=r.slice(0,u)+" "+r.slice(a.index+1)}}return i+r+i}function X7e(){return"`"}function qX(t,e){const n=LM(t);return!!(!e.options.resourceLink&&t.url&&!t.title&&t.children&&t.children.length===1&&t.children[0].type==="text"&&(n===t.url||"mailto:"+n===t.url)&&/^[a-z][a-z+.-]+:/i.test(t.url)&&!/[\0- <>\u007F]/.test(t.url))}KX.peek=J7e;function KX(t,e,n,r){const i=oE(n),o=i==='"'?"Quote":"Apostrophe",s=n.createTracker(r);let l,a;if(qX(t,n)){const c=n.stack;n.stack=[],l=n.enter("autolink");let h=s.move("<");return h+=s.move(n.containerPhrasing(t,{before:h,after:">",...s.current()})),h+=s.move(">"),l(),n.stack=c,h}l=n.enter("link"),a=n.enter("label");let u=s.move("[");return u+=s.move(n.containerPhrasing(t,{before:u,after:"](",...s.current()})),u+=s.move("]("),a(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(a=n.enter("destinationLiteral"),u+=s.move("<"),u+=s.move(n.safe(t.url,{before:u,after:">",...s.current()})),u+=s.move(">")):(a=n.enter("destinationRaw"),u+=s.move(n.safe(t.url,{before:u,after:t.title?" ":")",...s.current()}))),a(),t.title&&(a=n.enter(`title${o}`),u+=s.move(" "+i),u+=s.move(n.safe(t.title,{before:u,after:i,...s.current()})),u+=s.move(i),a()),u+=s.move(")"),l(),u}function J7e(t,e,n){return qX(t,n)?"<":"["}GX.peek=Z7e;function GX(t,e,n,r){const i=t.referenceType,o=n.enter("linkReference");let s=n.enter("label");const l=n.createTracker(r);let a=l.move("[");const u=n.containerPhrasing(t,{before:a,after:"]",...l.current()});a+=l.move(u+"]["),s();const c=n.stack;n.stack=[],s=n.enter("reference");const h=n.safe(n.associationId(t),{before:a,after:"]",...l.current()});return s(),n.stack=c,o(),i==="full"||!u||u!==h?a+=l.move(h+"]"):i==="shortcut"?a=a.slice(0,-1):a+=l.move("]"),a}function Z7e(){return"["}function sE(t){const e=t.options.bullet||"*";if(e!=="*"&&e!=="+"&&e!=="-")throw new Error("Cannot serialize items with `"+e+"` for `options.bullet`, expected `*`, `+`, or `-`");return e}function Q7e(t){const e=sE(t),n=t.options.bulletOther;if(!n)return e==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===e)throw new Error("Expected `bullet` (`"+e+"`) and `bulletOther` (`"+n+"`) to be different");return n}function eke(t){const e=t.options.bulletOrdered||".";if(e!=="."&&e!==")")throw new Error("Cannot serialize items with `"+e+"` for `options.bulletOrdered`, expected `.` or `)`");return e}function YX(t){const e=t.options.rule||"*";if(e!=="*"&&e!=="-"&&e!=="_")throw new Error("Cannot serialize rules with `"+e+"` for `options.rule`, expected `*`, `-`, or `_`");return e}function tke(t,e,n,r){const i=n.enter("list"),o=n.bulletCurrent;let s=t.ordered?eke(n):sE(n);const l=t.ordered?s==="."?")":".":Q7e(n);let a=e&&n.bulletLastUsed?s===n.bulletLastUsed:!1;if(!t.ordered){const c=t.children?t.children[0]:void 0;if((s==="*"||s==="-")&&c&&(!c.children||!c.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(a=!0),YX(n)===s&&c){let h=-1;for(;++h<t.children.length;){const f=t.children[h];if(f&&f.type==="listItem"&&f.children&&f.children[0]&&f.children[0].type==="thematicBreak"){a=!0;break}}}}a&&(s=l),n.bulletCurrent=s;const u=n.containerFlow(t,r);return n.bulletLastUsed=s,n.bulletCurrent=o,i(),u}function nke(t){const e=t.options.listItemIndent||"one";if(e!=="tab"&&e!=="one"&&e!=="mixed")throw new Error("Cannot serialize items with `"+e+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return e}function rke(t,e,n,r){const i=nke(n);let o=n.bulletCurrent||sE(n);e&&e.type==="list"&&e.ordered&&(o=(typeof e.start=="number"&&e.start>-1?e.start:1)+(n.options.incrementListMarker===!1?0:e.children.indexOf(t))+o);let s=o.length+1;(i==="tab"||i==="mixed"&&(e&&e.type==="list"&&e.spread||t.spread))&&(s=Math.ceil(s/4)*4);const l=n.createTracker(r);l.move(o+" ".repeat(s-o.length)),l.shift(s);const a=n.enter("listItem"),u=n.indentLines(n.containerFlow(t,l.current()),c);return a(),u;function c(h,f,d){return f?(d?"":" ".repeat(s))+h:(d?o:o+" ".repeat(s-o.length))+h}}function ike(t,e,n,r){const i=n.enter("paragraph"),o=n.enter("phrasing"),s=n.containerPhrasing(t,r);return o(),i(),s}const oke=jb(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function ske(t,e,n,r){return(t.children.some(function(s){return oke(s)})?n.containerPhrasing:n.containerFlow).call(n,t,r)}function lke(t){const e=t.options.strong||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize strong with `"+e+"` for `options.strong`, expected `*`, or `_`");return e}XX.peek=ake;function XX(t,e,n,r){const i=lke(n),o=n.enter("strong"),s=n.createTracker(r);let l=s.move(i+i);return l+=s.move(n.containerPhrasing(t,{before:l,after:i,...s.current()})),l+=s.move(i+i),o(),l}function ake(t,e,n){return n.options.strong||"*"}function uke(t,e,n,r){return n.safe(t.value,r)}function cke(t){const e=t.options.ruleRepetition||3;if(e<3)throw new Error("Cannot serialize rules with repetition `"+e+"` for `options.ruleRepetition`, expected `3` or more");return e}function hke(t,e,n){const r=(YX(n)+(n.options.ruleSpaces?" ":"")).repeat(cke(n));return n.options.ruleSpaces?r.slice(0,-1):r}const lE={blockquote:z7e,break:MB,code:V7e,definition:j7e,emphasis:$X,hardBreak:MB,heading:q7e,html:HX,image:jX,imageReference:WX,inlineCode:UX,link:KX,linkReference:GX,list:tke,listItem:rke,paragraph:ike,root:ske,strong:XX,text:uke,thematicBreak:hke},fke=[dke];function dke(t,e,n,r){if(e.type==="code"&&iC(e,r)&&(t.type==="list"||t.type===e.type&&iC(t,r)))return!1;if("spread"in n&&typeof n.spread=="boolean")return t.type==="paragraph"&&(t.type===e.type||e.type==="definition"||e.type==="heading"&&VX(e,r))?void 0:n.spread?1:0}const mh=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"],pke=[{character:"	",after:"[\\r\\n]",inConstruct:"phrasing"},{character:"	",before:"[\\r\\n]",inConstruct:"phrasing"},{character:"	",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde"]},{character:"\r",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde","codeFencedMetaGraveAccent","codeFencedMetaTilde","destinationLiteral","headingAtx"]},{character:`
`,inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde","codeFencedMetaGraveAccent","codeFencedMetaTilde","destinationLiteral","headingAtx"]},{character:" ",after:"[\\r\\n]",inConstruct:"phrasing"},{character:" ",before:"[\\r\\n]",inConstruct:"phrasing"},{character:" ",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde"]},{character:"!",after:"\\[",inConstruct:"phrasing",notInConstruct:mh},{character:'"',inConstruct:"titleQuote"},{atBreak:!0,character:"#"},{character:"#",inConstruct:"headingAtx",after:`(?:[\r
]|$)`},{character:"&",after:"[#A-Za-z]",inConstruct:"phrasing"},{character:"'",inConstruct:"titleApostrophe"},{character:"(",inConstruct:"destinationRaw"},{before:"\\]",character:"(",inConstruct:"phrasing",notInConstruct:mh},{atBreak:!0,before:"\\d+",character:")"},{character:")",inConstruct:"destinationRaw"},{atBreak:!0,character:"*",after:`(?:[ 	\r
*])`},{character:"*",inConstruct:"phrasing",notInConstruct:mh},{atBreak:!0,character:"+",after:`(?:[ 	\r
])`},{atBreak:!0,character:"-",after:`(?:[ 	\r
-])`},{atBreak:!0,before:"\\d+",character:".",after:`(?:[ 	\r
]|$)`},{atBreak:!0,character:"<",after:"[!/?A-Za-z]"},{character:"<",after:"[!/?A-Za-z]",inConstruct:"phrasing",notInConstruct:mh},{character:"<",inConstruct:"destinationLiteral"},{atBreak:!0,character:"="},{atBreak:!0,character:">"},{character:">",inConstruct:"destinationLiteral"},{atBreak:!0,character:"["},{character:"[",inConstruct:"phrasing",notInConstruct:mh},{character:"[",inConstruct:["label","reference"]},{character:"\\",after:"[\\r\\n]",inConstruct:"phrasing"},{character:"]",inConstruct:["label","reference"]},{atBreak:!0,character:"_"},{character:"_",inConstruct:"phrasing",notInConstruct:mh},{atBreak:!0,character:"`"},{character:"`",inConstruct:["codeFencedLangGraveAccent","codeFencedMetaGraveAccent"]},{character:"`",inConstruct:"phrasing",notInConstruct:mh},{atBreak:!0,character:"~"}];function mke(t){return t.label||!t.identifier?t.label||"":_U(t.identifier)}function gke(t){if(!t._compiled){const e=(t.atBreak?"[\\r\\n][\\t ]*":"")+(t.before?"(?:"+t.before+")":"");t._compiled=new RegExp((e?"("+e+")":"")+(/[|\\{}()[\]^$+*?.-]/.test(t.character)?"\\":"")+t.character+(t.after?"(?:"+t.after+")":""),"g")}return t._compiled}function yke(t,e,n){const r=e.indexStack,i=t.children||[],o=[];let s=-1,l=n.before;r.push(-1);let a=e.createTracker(n);for(;++s<i.length;){const u=i[s];let c;if(r[r.length-1]=s,s+1<i.length){let h=e.handle.handlers[i[s+1].type];h&&h.peek&&(h=h.peek),c=h?h(i[s+1],t,e,{before:"",after:"",...a.current()}).charAt(0):""}else c=n.after;o.length>0&&(l==="\r"||l===`
`)&&u.type==="html"&&(o[o.length-1]=o[o.length-1].replace(/(\r?\n|\r)$/," "),l=" ",a=e.createTracker(n),a.move(o.join(""))),o.push(a.move(e.handle(u,t,e,{...a.current(),before:l,after:c}))),l=o[o.length-1].slice(-1)}return r.pop(),o.join("")}function vke(t,e,n){const r=e.indexStack,i=t.children||[],o=e.createTracker(n),s=[];let l=-1;for(r.push(-1);++l<i.length;){const a=i[l];r[r.length-1]=l,s.push(o.move(e.handle(a,t,e,{before:`
`,after:`
`,...o.current()}))),a.type!=="list"&&(e.bulletLastUsed=void 0),l<i.length-1&&s.push(o.move(wke(a,i[l+1],t,e)))}return r.pop(),s.join("")}function wke(t,e,n,r){let i=r.join.length;for(;i--;){const o=r.join[i](t,e,n,r);if(o===!0||o===1)break;if(typeof o=="number")return`
`.repeat(1+o);if(o===!1)return`

<!---->

`}return`

`}const xke=/\r?\n|\r/g;function bke(t,e){const n=[];let r=0,i=0,o;for(;o=xke.exec(t);)s(t.slice(r,o.index)),n.push(o[0]),r=o.index+o[0].length,i++;return s(t.slice(r)),n.join("");function s(l){n.push(e(l,i,!l))}}function kke(t,e,n){const r=(n.before||"")+(e||"")+(n.after||""),i=[],o=[],s={};let l=-1;for(;++l<t.unsafe.length;){const c=t.unsafe[l];if(!zX(t.stack,c))continue;const h=t.compilePattern(c);let f;for(;f=h.exec(r);){const d="before"in c||!!c.atBreak,p="after"in c,m=f.index+(d?f[1].length:0);i.includes(m)?(s[m].before&&!d&&(s[m].before=!1),s[m].after&&!p&&(s[m].after=!1)):(i.push(m),s[m]={before:d,after:p})}}i.sort(Ske);let a=n.before?n.before.length:0;const u=r.length-(n.after?n.after.length:0);for(l=-1;++l<i.length;){const c=i[l];c<a||c>=u||c+1<u&&i[l+1]===c+1&&s[c].after&&!s[c+1].before&&!s[c+1].after||i[l-1]===c-1&&s[c].before&&!s[c-1].before&&!s[c-1].after||(a!==c&&o.push(AB(r.slice(a,c),"\\")),a=c,/[!-/:-@[-`{-~]/.test(r.charAt(c))&&(!n.encode||!n.encode.includes(r.charAt(c)))?o.push("\\"):(o.push("&#x"+r.charCodeAt(c).toString(16).toUpperCase()+";"),a++))}return o.push(AB(r.slice(a,u),n.after)),o.join("")}function Ske(t,e){return t-e}function AB(t,e){const n=/\\(?=[!-/:-@[-`{-~])/g,r=[],i=[],o=t+e;let s=-1,l=0,a;for(;a=n.exec(o);)r.push(a.index);for(;++s<r.length;)l!==r[s]&&i.push(t.slice(l,r[s])),i.push("\\"),l=r[s];return i.push(t.slice(l)),i.join("")}function Cke(t){const e=t||{},n=e.now||{};let r=e.lineShift||0,i=n.line||1,o=n.column||1;return{move:a,current:s,shift:l};function s(){return{now:{line:i,column:o},lineShift:r}}function l(u){r+=u}function a(u){const c=u||"",h=c.split(/\r?\n|\r/g),f=h[h.length-1];return i+=h.length-1,o=h.length===1?o+f.length:1+f.length+r,c}}function Tke(t,e={}){const n={enter:i,indentLines:bke,associationId:mke,containerPhrasing:Oke,containerFlow:Pke,createTracker:Cke,compilePattern:gke,safe:Dke,stack:[],unsafe:[...pke],join:[...fke],handlers:{...lE},options:{},indexStack:[],handle:void 0};BX(n,e),n.options.tightDefinitions&&n.join.push(Eke),n.handle=N7e("type",{invalid:Mke,unknown:Ake,handlers:n.handlers});let r=n.handle(t,void 0,n,{before:`
`,after:`
`,now:{line:1,column:1},lineShift:0});return r&&r.charCodeAt(r.length-1)!==10&&r.charCodeAt(r.length-1)!==13&&(r+=`
`),r;function i(o){return n.stack.push(o),s;function s(){n.stack.pop()}}}function Mke(t){throw new Error("Cannot handle value `"+t+"`, expected node")}function Ake(t){const e=t;throw new Error("Cannot handle unknown node `"+e.type+"`")}function Eke(t,e){if(t.type==="definition"&&t.type===e.type)return 0}function Oke(t,e){return yke(t,this,e)}function Pke(t,e){return vke(t,this,e)}function Dke(t,e){return kke(this,t,e)}function oC(t){const e=this;e.compiler=n;function n(r){return Tke(r,{...e.data("settings"),...t,extensions:e.data("toMarkdownExtensions")||[]})}}var JX=t=>{throw TypeError(t)},ZX=(t,e,n)=>e.has(t)||JX("Cannot "+n),Lt=(t,e,n)=>(ZX(t,e,"read from private field"),n?n.call(t):e.get(t)),hr=(t,e,n)=>e.has(t)?JX("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),Pn=(t,e,n,r)=>(ZX(t,e,"write to private field"),e.set(t,n),n),Cl,dg,Ow,Pw,Dw,pg,mg,ba,gg,_w,Iw,yg,Rw,vg,Nw,Lw,Ed,Oh,Bw,wg;class QX{}class eJ{constructor(){this.elements=[],this.size=()=>this.elements.length,this.top=()=>this.elements.at(-1),this.push=e=>{var n;(n=this.top())==null||n.push(e)},this.open=e=>{this.elements.push(e)},this.close=()=>{const e=this.elements.pop();if(!e)throw EX();return e}}}class aE extends QX{constructor(e,n,r){super(),this.type=e,this.content=n,this.attrs=r}push(e,...n){this.content.push(e,...n)}pop(){return this.content.pop()}static create(e,n,r){return new aE(e,n,r)}}const sC=class extends eJ{constructor(e){super(),hr(this,Cl),hr(this,dg),hr(this,Ow),hr(this,Pw),hr(this,Dw),hr(this,pg),hr(this,mg),Pn(this,Cl,It.none),Pn(this,dg,n=>n.isText),Pn(this,Ow,(n,r)=>{if(Lt(this,dg).call(this,n)&&Lt(this,dg).call(this,r)&&It.sameSet(n.marks,r.marks))return this.schema.text(n.text+r.text,n.marks)}),Pn(this,Pw,n=>{const r=Object.values({...this.schema.nodes,...this.schema.marks}).find(i=>i.spec.parseMarkdown.match(n));if(!r)throw t7e(n);return r}),Pn(this,Dw,n=>{const r=Lt(this,Pw).call(this,n);r.spec.parseMarkdown.runner(this,n,r)}),this.injectRoot=(n,r,i)=>(this.openNode(r,i),this.next(n.children),this),this.openNode=(n,r)=>(this.open(aE.create(n,[],r)),this),Pn(this,pg,()=>{Pn(this,Cl,It.none);const n=this.close();return Lt(this,mg).call(this,n.type,n.attrs,n.content)}),this.closeNode=()=>{try{Lt(this,pg).call(this)}catch(n){console.error(n)}return this},Pn(this,mg,(n,r,i)=>{const o=n.createAndFill(r,i,Lt(this,Cl));if(!o)throw e7e(n,r,i);return this.push(o),o}),this.addNode=(n,r,i)=>{try{Lt(this,mg).call(this,n,r,i)}catch(o){console.error(o)}return this},this.openMark=(n,r)=>{const i=n.create(r);return Pn(this,Cl,i.addToSet(Lt(this,Cl))),this},this.closeMark=n=>(Pn(this,Cl,n.removeFromSet(Lt(this,Cl))),this),this.addText=n=>{try{const r=this.top();if(!r)throw EX();const i=r.pop(),o=this.schema.text(n,Lt(this,Cl));if(!i)return r.push(o),this;const s=Lt(this,Ow).call(this,i,o);return s?(r.push(s),this):(r.push(i,o),this)}catch(r){return console.error(r),this}},this.build=()=>{let n;do n=Lt(this,pg).call(this);while(this.size());return n},this.next=(n=[])=>([n].flat().forEach(r=>Lt(this,Dw).call(this,r)),this),this.toDoc=()=>this.build(),this.run=(n,r)=>{const i=n.runSync(n.parse(r),r);return this.next(i),this},this.schema=e}};Cl=new WeakMap;dg=new WeakMap;Ow=new WeakMap;Pw=new WeakMap;Dw=new WeakMap;pg=new WeakMap;mg=new WeakMap;sC.create=(t,e)=>{const n=new sC(t);return r=>(n.run(e,r),n.toDoc())};let _ke=sC;const lC=class extends QX{constructor(e,n,r,i={}){super(),this.type=e,this.children=n,this.value=r,this.props=i,this.push=(o,...s)=>{this.children||(this.children=[]),this.children.push(o,...s)},this.pop=()=>{var o;return(o=this.children)==null?void 0:o.pop()}}};lC.create=(t,e,n,r={})=>new lC(t,e,n,r);let EB=lC;const Ike=t=>Object.prototype.hasOwnProperty.call(t,"size"),aC=class extends eJ{constructor(e){super(),hr(this,ba),hr(this,gg),hr(this,_w),hr(this,Iw),hr(this,yg),hr(this,Rw),hr(this,vg),hr(this,Nw),hr(this,Lw),hr(this,Ed),hr(this,Oh),hr(this,Bw),hr(this,wg),Pn(this,ba,It.none),Pn(this,gg,n=>{const r=Object.values({...this.schema.nodes,...this.schema.marks}).find(i=>i.spec.toMarkdown.match(n));if(!r)throw n7e(n.type);return r}),Pn(this,_w,n=>Lt(this,gg).call(this,n).spec.toMarkdown.runner(this,n)),Pn(this,Iw,(n,r)=>Lt(this,gg).call(this,n).spec.toMarkdown.runner(this,n,r)),Pn(this,yg,n=>{const{marks:r}=n,i=l=>l.type.spec.priority??50;[...r].sort((l,a)=>i(l)-i(a)).every(l=>!Lt(this,Iw).call(this,l,n))&&Lt(this,_w).call(this,n),r.forEach(l=>Lt(this,wg).call(this,l))}),Pn(this,Rw,(n,r)=>{var a;if(n.type===r||((a=n.children)==null?void 0:a.length)!==1)return n;const i=u=>{var h;if(u.type===r)return u;if(((h=u.children)==null?void 0:h.length)!==1)return null;const[c]=u.children;return c?i(c):null},o=i(n);if(!o)return n;const s=o.children?[...o.children]:void 0,l={...n,children:s};return l.children=s,o.children=[l],o}),Pn(this,vg,n=>{const{children:r}=n;return r&&(n.children=r.reduce((i,o,s)=>{if(s===0)return[o];const l=i.at(-1);if(l&&l.isMark&&o.isMark){o=Lt(this,Rw).call(this,o,l.type);const{children:a,...u}=o,{children:c,...h}=l;if(o.type===l.type&&a&&c&&JSON.stringify(u)===JSON.stringify(h)){const f={...h,children:[...c,...a]};return i.slice(0,-1).concat(Lt(this,vg).call(this,f))}}return i.concat(o)},[])),n}),Pn(this,Nw,n=>{const r={...n.props,type:n.type};return n.children&&(r.children=n.children),n.value&&(r.value=n.value),r}),this.openNode=(n,r,i)=>(this.open(EB.create(n,void 0,r,i)),this),Pn(this,Lw,(n,r)=>{let i="",o="";const s=n.children;let l=-1,a=-1;const u=h=>{h&&h.forEach((f,d)=>{f.type==="text"&&f.value&&(l<0&&(l=d),a=d)})};if(s){u(s);const h=s==null?void 0:s[a],f=s==null?void 0:s[l];if(h&&h.value.endsWith(" ")){const d=h.value,p=d.trimEnd();o=d.slice(p.length),h.value=p}if(f&&f.value.startsWith(" ")){const d=f.value,p=d.trimStart();i=d.slice(0,d.length-p.length),f.value=p}}i.length&&Lt(this,Oh).call(this,"text",void 0,i);const c=r();return o.length&&Lt(this,Oh).call(this,"text",void 0,o),c}),Pn(this,Ed,(n=!1)=>{const r=this.close(),i=()=>Lt(this,Oh).call(this,r.type,r.children,r.value,r.props);return n?Lt(this,Lw).call(this,r,i):i()}),this.closeNode=()=>(Lt(this,Ed).call(this),this),Pn(this,Oh,(n,r,i,o)=>{const s=EB.create(n,r,i,o),l=Lt(this,vg).call(this,Lt(this,Nw).call(this,s));return this.push(l),l}),this.addNode=(n,r,i,o)=>(Lt(this,Oh).call(this,n,r,i,o),this),Pn(this,Bw,(n,r,i,o)=>n.isInSet(Lt(this,ba))?this:(Pn(this,ba,n.addToSet(Lt(this,ba))),this.openNode(r,i,{...o,isMark:!0}))),Pn(this,wg,n=>{n.isInSet(Lt(this,ba))&&(Pn(this,ba,n.type.removeFromSet(Lt(this,ba))),Lt(this,Ed).call(this,!0))}),this.withMark=(n,r,i,o)=>(Lt(this,Bw).call(this,n,r,i,o),this),this.closeMark=n=>(Lt(this,wg).call(this,n),this),this.build=()=>{let n=null;do n=Lt(this,Ed).call(this);while(this.size());return n},this.next=n=>Ike(n)?(n.forEach(r=>{Lt(this,yg).call(this,r)}),this):(Lt(this,yg).call(this,n),this),this.toString=n=>n.stringify(this.build()),this.run=n=>(this.next(n),this),this.schema=e}};ba=new WeakMap;gg=new WeakMap;_w=new WeakMap;Iw=new WeakMap;yg=new WeakMap;Rw=new WeakMap;vg=new WeakMap;Nw=new WeakMap;Lw=new WeakMap;Ed=new WeakMap;Oh=new WeakMap;Bw=new WeakMap;wg=new WeakMap;aC.create=(t,e)=>{const n=new aC(t);return r=>(n.run(r),n.toString(e))};let Rke=aC;const uE=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function tJ(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("backward",t):n.parentOffset>0)?null:n}const nJ=(t,e,n)=>{let r=tJ(t,n);if(!r)return!1;let i=cE(r);if(!i){let s=r.blockRange(),l=s&&h3(s);return l==null?!1:(e&&e(t.tr.lift(s,l).scrollIntoView()),!0)}let o=i.nodeBefore;if(sJ(t,i,e,-1))return!0;if(r.parent.content.size==0&&(Ep(o,"end")||ut.isSelectable(o)))for(let s=r.depth;;s--){let l=d3(t.doc,r.before(s),r.after(s),He.empty);if(l&&l.slice.size<l.to-l.from){if(e){let a=t.tr.step(l);a.setSelection(Ep(o,"end")?yt.findFrom(a.doc.resolve(a.mapping.map(i.pos,-1)),-1):ut.create(a.doc,i.pos-o.nodeSize)),e(a.scrollIntoView())}return!0}if(s==1||r.node(s-1).childCount>1)break}return o.isAtom&&i.depth==r.depth-1?(e&&e(t.tr.delete(i.pos-o.nodeSize,i.pos).scrollIntoView()),!0):!1},Nke=(t,e,n)=>{let r=tJ(t,n);if(!r)return!1;let i=cE(r);return i?Lke(t,i,e):!1};function Lke(t,e,n){let r=e.nodeBefore,i=r,o=e.pos-1;for(;!i.isTextblock;o--){if(i.type.spec.isolating)return!1;let c=i.lastChild;if(!c)return!1;i=c}let s=e.nodeAfter,l=s,a=e.pos+1;for(;!l.isTextblock;a++){if(l.type.spec.isolating)return!1;let c=l.firstChild;if(!c)return!1;l=c}let u=d3(t.doc,o,a,He.empty);if(!u||u.from!=o||u instanceof Er&&u.slice.size>=a-o)return!1;if(n){let c=t.tr.step(u);c.setSelection(nt.create(c.doc,o)),n(c.scrollIntoView())}return!0}function Ep(t,e,n=!1){for(let r=t;r;r=e=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&r.childCount!=1)return!1}return!1}const rJ=(t,e,n)=>{let{$head:r,empty:i}=t.selection,o=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",t):r.parentOffset>0)return!1;o=cE(r)}let s=o&&o.nodeBefore;return!s||!ut.isSelectable(s)?!1:(e&&e(t.tr.setSelection(ut.create(t.doc,o.pos-s.nodeSize)).scrollIntoView()),!0)};function cE(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function Bke(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)?null:n}const zke=(t,e,n)=>{let r=Bke(t,n);if(!r)return!1;let i=iJ(r);if(!i)return!1;let o=i.nodeAfter;if(sJ(t,i,e,1))return!0;if(r.parent.content.size==0&&(Ep(o,"start")||ut.isSelectable(o))){let s=d3(t.doc,r.before(),r.after(),He.empty);if(s&&s.slice.size<s.to-s.from){if(e){let l=t.tr.step(s);l.setSelection(Ep(o,"start")?yt.findFrom(l.doc.resolve(l.mapping.map(i.pos)),1):ut.create(l.doc,l.mapping.map(i.pos))),e(l.scrollIntoView())}return!0}}return o.isAtom&&i.depth==r.depth-1?(e&&e(t.tr.delete(i.pos,i.pos+o.nodeSize).scrollIntoView()),!0):!1},Fke=(t,e,n)=>{let{$head:r,empty:i}=t.selection,o=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size)return!1;o=iJ(r)}let s=o&&o.nodeAfter;return!s||!ut.isSelectable(s)?!1:(e&&e(t.tr.setSelection(ut.create(t.doc,o.pos)).scrollIntoView()),!0)};function iJ(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}const $ke=(t,e)=>{let{$head:n,$anchor:r}=t.selection;return!n.parent.type.spec.code||!n.sameParent(r)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)};function hE(t){for(let e=0;e<t.edgeCount;e++){let{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const oJ=(t,e)=>{let{$head:n,$anchor:r}=t.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let i=n.node(-1),o=n.indexAfter(-1),s=hE(i.contentMatchAt(o));if(!s||!i.canReplaceWith(o,o,s))return!1;if(e){let l=n.after(),a=t.tr.replaceWith(l,l,s.createAndFill());a.setSelection(yt.near(a.doc.resolve(l),1)),e(a.scrollIntoView())}return!0},Vke=(t,e)=>{let n=t.selection,{$from:r,$to:i}=n;if(n instanceof lo||r.parent.inlineContent||i.parent.inlineContent)return!1;let o=hE(i.parent.contentMatchAt(i.indexAfter()));if(!o||!o.isTextblock)return!1;if(e){let s=(!r.parentOffset&&i.index()<i.parent.childCount?r:i).pos,l=t.tr.insert(s,o.createAndFill());l.setSelection(nt.create(l.doc,s+1)),e(l.scrollIntoView())}return!0},Hke=(t,e)=>{let{$cursor:n}=t.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let o=n.before();if(p1(t.doc,o))return e&&e(t.tr.split(o).scrollIntoView()),!0}let r=n.blockRange(),i=r&&h3(r);return i==null?!1:(e&&e(t.tr.lift(r,i).scrollIntoView()),!0)};function jke(t){return(e,n)=>{let{$from:r,$to:i}=e.selection;if(e.selection instanceof ut&&e.selection.node.isBlock)return!r.parentOffset||!p1(e.doc,r.pos)?!1:(n&&n(e.tr.split(r.pos).scrollIntoView()),!0);if(!r.depth)return!1;let o=[],s,l,a=!1,u=!1;for(let d=r.depth;;d--)if(r.node(d).isBlock){a=r.end(d)==r.pos+(r.depth-d),u=r.start(d)==r.pos-(r.depth-d),l=hE(r.node(d-1).contentMatchAt(r.indexAfter(d-1))),o.unshift(a&&l?{type:l}:null),s=d;break}else{if(d==1)return!1;o.unshift(null)}let c=e.tr;(e.selection instanceof nt||e.selection instanceof lo)&&c.deleteSelection();let h=c.mapping.map(r.pos),f=p1(c.doc,h,o.length,o);if(f||(o[0]=l?{type:l}:null,f=p1(c.doc,h,o.length,o)),!f)return!1;if(c.split(h,o.length,o),!a&&u&&r.node(s).type!=l){let d=c.mapping.map(r.before(s)),p=c.doc.resolve(d);l&&r.node(s-1).canReplaceWith(p.index(),p.index()+1,l)&&c.setNodeMarkup(c.mapping.map(r.before(s)),l)}return n&&n(c.scrollIntoView()),!0}}const Wke=jke(),Uke=(t,e)=>(e&&e(t.tr.setSelection(new lo(t.doc))),!0);function qke(t,e,n){let r=e.nodeBefore,i=e.nodeAfter,o=e.index();return!r||!i||!r.type.compatibleContent(i.type)?!1:!r.content.size&&e.parent.canReplace(o-1,o)?(n&&n(t.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(o,o+1)||!(i.isTextblock||f3(t.doc,e.pos))?!1:(n&&n(t.tr.join(e.pos).scrollIntoView()),!0)}function sJ(t,e,n,r){let i=e.nodeBefore,o=e.nodeAfter,s,l,a=i.type.spec.isolating||o.type.spec.isolating;if(!a&&qke(t,e,n))return!0;let u=!a&&e.parent.canReplace(e.index(),e.index()+1);if(u&&(s=(l=i.contentMatchAt(i.childCount)).findWrapping(o.type))&&l.matchType(s[0]||o.type).validEnd){if(n){let d=e.pos+o.nodeSize,p=_e.empty;for(let g=s.length-1;g>=0;g--)p=_e.from(s[g].create(null,p));p=_e.from(i.copy(p));let m=t.tr.step(new di(e.pos-1,d,e.pos,d,new He(p,1,0),s.length,!0)),y=m.doc.resolve(d+2*s.length);y.nodeAfter&&y.nodeAfter.type==i.type&&f3(m.doc,y.pos)&&m.join(y.pos),n(m.scrollIntoView())}return!0}let c=o.type.spec.isolating||r>0&&a?null:yt.findFrom(e,1),h=c&&c.$from.blockRange(c.$to),f=h&&h3(h);if(f!=null&&f>=e.depth)return n&&n(t.tr.lift(h,f).scrollIntoView()),!0;if(u&&Ep(o,"start",!0)&&Ep(i,"end")){let d=i,p=[];for(;p.push(d),!d.isTextblock;)d=d.lastChild;let m=o,y=1;for(;!m.isTextblock;m=m.firstChild)y++;if(d.canReplace(d.childCount,d.childCount,m.content)){if(n){let g=_e.empty;for(let w=p.length-1;w>=0;w--)g=_e.from(p[w].copy(g));let v=t.tr.step(new di(e.pos-p.length,e.pos+o.nodeSize,e.pos+y,e.pos+o.nodeSize-y,new He(g,p.length,0),0,!0));n(v.scrollIntoView())}return!0}}return!1}function lJ(t){return function(e,n){let r=e.selection,i=t<0?r.$from:r.$to,o=i.depth;for(;i.node(o).isInline;){if(!o)return!1;o--}return i.node(o).isTextblock?(n&&n(e.tr.setSelection(nt.create(e.doc,t<0?i.start(o):i.end(o)))),!0):!1}}const Kke=lJ(-1),Gke=lJ(1);function fE(t,e=null){return function(n,r){let{$from:i,$to:o}=n.selection,s=i.blockRange(o),l=s&&eE(s,t,e);return l?(r&&r(n.tr.wrap(s,l).scrollIntoView()),!0):!1}}function Oy(t,e=null){return function(n,r){let i=!1;for(let o=0;o<n.selection.ranges.length&&!i;o++){let{$from:{pos:s},$to:{pos:l}}=n.selection.ranges[o];n.doc.nodesBetween(s,l,(a,u)=>{if(i)return!1;if(!(!a.isTextblock||a.hasMarkup(t,e)))if(a.type==t)i=!0;else{let c=n.doc.resolve(u),h=c.index();i=c.parent.canReplaceWith(h,h+1,t)}})}if(!i)return!1;if(r){let o=n.tr;for(let s=0;s<n.selection.ranges.length;s++){let{$from:{pos:l},$to:{pos:a}}=n.selection.ranges[s];o.setBlockType(l,a,t,e)}r(o.scrollIntoView())}return!0}}function Yke(t,e,n,r){for(let i=0;i<e.length;i++){let{$from:o,$to:s}=e[i],l=o.depth==0?t.inlineContent&&t.type.allowsMarkType(n):!1;if(t.nodesBetween(o.pos,s.pos,(a,u)=>{if(l||!r)return!1;l=a.inlineContent&&a.type.allowsMarkType(n)}),l)return!0}return!1}function w3(t,e=null,n){let r=n!==!1;return function(i,o){let{empty:s,$cursor:l,ranges:a}=i.selection;if(s&&!l||!Yke(i.doc,a,t,r))return!1;if(o)if(l)t.isInSet(i.storedMarks||l.marks())?o(i.tr.removeStoredMark(t)):o(i.tr.addStoredMark(t.create(e)));else{let u,c=i.tr;u=!a.some(h=>i.doc.rangeHasMark(h.$from.pos,h.$to.pos,t));for(let h=0;h<a.length;h++){let{$from:f,$to:d}=a[h];if(!u)c.removeMark(f.pos,d.pos,t);else{let p=f.pos,m=d.pos,y=f.nodeAfter,g=d.nodeBefore,v=y&&y.isText?/^\s*/.exec(y.text)[0].length:0,w=g&&g.isText?/\s*$/.exec(g.text)[0].length:0;p+v<m&&(p+=v,m-=w),c.addMark(p,m,t.create(e))}}o(c.scrollIntoView())}return!0}}function tm(...t){return function(e,n,r){for(let i=0;i<t.length;i++)if(t[i](e,n,r))return!0;return!1}}let uk=tm(uE,nJ,rJ),OB=tm(uE,zke,Fke);const Da={Enter:tm($ke,Vke,Hke,Wke),"Mod-Enter":oJ,Backspace:uk,"Mod-Backspace":uk,"Shift-Backspace":uk,Delete:OB,"Mod-Delete":OB,"Mod-a":Uke},aJ={"Ctrl-h":Da.Backspace,"Alt-Backspace":Da["Mod-Backspace"],"Ctrl-d":Da.Delete,"Ctrl-Alt-Backspace":Da["Mod-Delete"],"Alt-Delete":Da["Mod-Delete"],"Alt-d":Da["Mod-Delete"],"Ctrl-a":Kke,"Ctrl-e":Gke};for(let t in Da)aJ[t]=Da[t];const Xke=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform?os.platform()=="darwin":!1,Jke=Xke?aJ:Da,Zke=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),Qke=typeof navigator<"u"&&/Win/.test(navigator.platform);function e8e(t){let e=t.split(/-(?!$)/),n=e[e.length-1];n=="Space"&&(n=" ");let r,i,o,s;for(let l=0;l<e.length-1;l++){let a=e[l];if(/^(cmd|meta|m)$/i.test(a))s=!0;else if(/^a(lt)?$/i.test(a))r=!0;else if(/^(c|ctrl|control)$/i.test(a))i=!0;else if(/^s(hift)?$/i.test(a))o=!0;else if(/^mod$/i.test(a))Zke?s=!0:i=!0;else throw new Error("Unrecognized modifier name: "+a)}return r&&(n="Alt-"+n),i&&(n="Ctrl-"+n),s&&(n="Meta-"+n),o&&(n="Shift-"+n),n}function t8e(t){let e=Object.create(null);for(let n in t)e[e8e(n)]=t[n];return e}function ck(t,e,n=!0){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n&&e.shiftKey&&(t="Shift-"+t),t}function uJ(t){return new $n({props:{handleKeyDown:dE(t)}})}function dE(t){let e=t8e(t);return function(n,r){let i=fG(r),o,s=e[ck(i,r)];if(s&&s(n.state,n.dispatch,n))return!0;if(i.length==1&&i!=" "){if(r.shiftKey){let l=e[ck(i,r,!1)];if(l&&l(n.state,n.dispatch,n))return!0}if((r.altKey||r.metaKey||r.ctrlKey)&&!(Qke&&r.ctrlKey&&r.altKey)&&(o=hu[r.keyCode])&&o!=i){let l=e[ck(o,r)];if(l&&l(n.state,n.dispatch,n))return!0}}return!1}}const jr=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},Op=function(t){let e=t.assignedSlot||t.parentNode;return e&&e.nodeType==11?e.host:e};let uC=null;const Ea=function(t,e,n){let r=uC||(uC=document.createRange());return r.setEnd(t,n??t.nodeValue.length),r.setStart(t,e||0),r},n8e=function(){uC=null},Uf=function(t,e,n,r){return n&&(PB(t,e,n,r,-1)||PB(t,e,n,r,1))},r8e=/^(img|br|input|textarea|hr)$/i;function PB(t,e,n,r,i){for(var o;;){if(t==n&&e==r)return!0;if(e==(i<0?0:as(t))){let s=t.parentNode;if(!s||s.nodeType!=1||Kv(t)||r8e.test(t.nodeName)||t.contentEditable=="false")return!1;e=jr(t)+(i<0?0:1),t=s}else if(t.nodeType==1){let s=t.childNodes[e+(i<0?-1:0)];if(s.nodeType==1&&s.contentEditable=="false")if(!((o=s.pmViewDesc)===null||o===void 0)&&o.ignoreForSelection)e+=i;else return!1;else t=s,e=i<0?as(t):0}else return!1}}function as(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function i8e(t,e){for(;;){if(t.nodeType==3&&e)return t;if(t.nodeType==1&&e>0){if(t.contentEditable=="false")return null;t=t.childNodes[e-1],e=as(t)}else if(t.parentNode&&!Kv(t))e=jr(t),t=t.parentNode;else return null}}function o8e(t,e){for(;;){if(t.nodeType==3&&e<t.nodeValue.length)return t;if(t.nodeType==1&&e<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[e],e=0}else if(t.parentNode&&!Kv(t))e=jr(t)+1,t=t.parentNode;else return null}}function s8e(t,e,n){for(let r=e==0,i=e==as(t);r||i;){if(t==n)return!0;let o=jr(t);if(t=t.parentNode,!t)return!1;r=r&&o==0,i=i&&o==as(t)}}function Kv(t){let e;for(let n=t;n&&!(e=n.pmViewDesc);n=n.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const x3=function(t){return t.focusNode&&Uf(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function Bh(t,e){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}function l8e(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function a8e(t,e,n){if(t.caretPositionFromPoint)try{let r=t.caretPositionFromPoint(e,n);if(r)return{node:r.offsetNode,offset:Math.min(as(r.offsetNode),r.offset)}}catch{}if(t.caretRangeFromPoint){let r=t.caretRangeFromPoint(e,n);if(r)return{node:r.startContainer,offset:Math.min(as(r.startContainer),r.startOffset)}}}const Ql=typeof navigator<"u"?navigator:null,DB=typeof document<"u"?document:null,sh=Ql&&Ql.userAgent||"",cC=/Edge\/(\d+)/.exec(sh),cJ=/MSIE \d/.exec(sh),hC=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(sh),ao=!!(cJ||hC||cC),Ec=cJ?document.documentMode:hC?+hC[1]:cC?+cC[1]:0,ol=!ao&&/gecko\/(\d+)/i.test(sh);ol&&+(/Firefox\/(\d+)/.exec(sh)||[0,0])[1];const fC=!ao&&/Chrome\/(\d+)/.exec(sh),ai=!!fC,hJ=fC?+fC[1]:0,Li=!ao&&!!Ql&&/Apple Computer/.test(Ql.vendor),Pp=Li&&(/Mobile\/\w+/.test(sh)||!!Ql&&Ql.maxTouchPoints>2),ns=Pp||(Ql?/Mac/.test(Ql.platform):!1),u8e=Ql?/Win/.test(Ql.platform):!1,qa=/Android \d/.test(sh),Gv=!!DB&&"webkitFontSmoothing"in DB.documentElement.style,c8e=Gv?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function h8e(t){let e=t.defaultView&&t.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function ya(t,e){return typeof t=="number"?t:t[e]}function f8e(t){let e=t.getBoundingClientRect(),n=e.width/t.offsetWidth||1,r=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*n,top:e.top,bottom:e.top+t.clientHeight*r}}function _B(t,e,n){let r=t.someProp("scrollThreshold")||0,i=t.someProp("scrollMargin")||5,o=t.dom.ownerDocument;for(let s=n||t.dom;s;){if(s.nodeType!=1){s=Op(s);continue}let l=s,a=l==o.body,u=a?h8e(o):f8e(l),c=0,h=0;if(e.top<u.top+ya(r,"top")?h=-(u.top-e.top+ya(i,"top")):e.bottom>u.bottom-ya(r,"bottom")&&(h=e.bottom-e.top>u.bottom-u.top?e.top+ya(i,"top")-u.top:e.bottom-u.bottom+ya(i,"bottom")),e.left<u.left+ya(r,"left")?c=-(u.left-e.left+ya(i,"left")):e.right>u.right-ya(r,"right")&&(c=e.right-u.right+ya(i,"right")),c||h)if(a)o.defaultView.scrollBy(c,h);else{let d=l.scrollLeft,p=l.scrollTop;h&&(l.scrollTop+=h),c&&(l.scrollLeft+=c);let m=l.scrollLeft-d,y=l.scrollTop-p;e={left:e.left-m,top:e.top-y,right:e.right-m,bottom:e.bottom-y}}let f=a?"fixed":getComputedStyle(s).position;if(/^(fixed|sticky)$/.test(f))break;s=f=="absolute"?s.offsetParent:Op(s)}}function d8e(t){let e=t.dom.getBoundingClientRect(),n=Math.max(0,e.top),r,i;for(let o=(e.left+e.right)/2,s=n+1;s<Math.min(innerHeight,e.bottom);s+=5){let l=t.root.elementFromPoint(o,s);if(!l||l==t.dom||!t.dom.contains(l))continue;let a=l.getBoundingClientRect();if(a.top>=n-20){r=l,i=a.top;break}}return{refDOM:r,refTop:i,stack:fJ(t.dom)}}function fJ(t){let e=[],n=t.ownerDocument;for(let r=t;r&&(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),t!=n);r=Op(r));return e}function p8e({refDOM:t,refTop:e,stack:n}){let r=t?t.getBoundingClientRect().top:0;dJ(n,r==0?0:r-e)}function dJ(t,e){for(let n=0;n<t.length;n++){let{dom:r,top:i,left:o}=t[n];r.scrollTop!=i+e&&(r.scrollTop=i+e),r.scrollLeft!=o&&(r.scrollLeft=o)}}let xd=null;function m8e(t){if(t.setActive)return t.setActive();if(xd)return t.focus(xd);let e=fJ(t);t.focus(xd==null?{get preventScroll(){return xd={preventScroll:!0},!0}}:void 0),xd||(xd=!1,dJ(e,0))}function pJ(t,e){let n,r=2e8,i,o=0,s=e.top,l=e.top,a,u;for(let c=t.firstChild,h=0;c;c=c.nextSibling,h++){let f;if(c.nodeType==1)f=c.getClientRects();else if(c.nodeType==3)f=Ea(c).getClientRects();else continue;for(let d=0;d<f.length;d++){let p=f[d];if(p.top<=s&&p.bottom>=l){s=Math.max(p.bottom,s),l=Math.min(p.top,l);let m=p.left>e.left?p.left-e.left:p.right<e.left?e.left-p.right:0;if(m<r){n=c,r=m,i=m&&n.nodeType==3?{left:p.right<e.left?p.right:p.left,top:e.top}:e,c.nodeType==1&&m&&(o=h+(e.left>=(p.left+p.right)/2?1:0));continue}}else p.top>e.top&&!a&&p.left<=e.left&&p.right>=e.left&&(a=c,u={left:Math.max(p.left,Math.min(p.right,e.left)),top:p.top});!n&&(e.left>=p.right&&e.top>=p.top||e.left>=p.left&&e.top>=p.bottom)&&(o=h+1)}}return!n&&a&&(n=a,i=u,r=0),n&&n.nodeType==3?g8e(n,i):!n||r&&n.nodeType==1?{node:t,offset:o}:pJ(n,i)}function g8e(t,e){let n=t.nodeValue.length,r=document.createRange();for(let i=0;i<n;i++){r.setEnd(t,i+1),r.setStart(t,i);let o=Vu(r,1);if(o.top!=o.bottom&&pE(e,o))return{node:t,offset:i+(e.left>=(o.left+o.right)/2?1:0)}}return{node:t,offset:0}}function pE(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function y8e(t,e){let n=t.parentNode;return n&&/^li$/i.test(n.nodeName)&&e.left<t.getBoundingClientRect().left?n:t}function v8e(t,e,n){let{node:r,offset:i}=pJ(e,n),o=-1;if(r.nodeType==1&&!r.firstChild){let s=r.getBoundingClientRect();o=s.left!=s.right&&n.left>(s.left+s.right)/2?1:-1}return t.docView.posFromDOM(r,i,o)}function w8e(t,e,n,r){let i=-1;for(let o=e,s=!1;o!=t.dom;){let l=t.docView.nearestDesc(o,!0),a;if(!l)return null;if(l.dom.nodeType==1&&(l.node.isBlock&&l.parent||!l.contentDOM)&&((a=l.dom.getBoundingClientRect()).width||a.height)&&(l.node.isBlock&&l.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(l.dom.nodeName)&&(!s&&a.left>r.left||a.top>r.top?i=l.posBefore:(!s&&a.right<r.left||a.bottom<r.top)&&(i=l.posAfter),s=!0),!l.contentDOM&&i<0&&!l.node.isText))return(l.node.isBlock?r.top<(a.top+a.bottom)/2:r.left<(a.left+a.right)/2)?l.posBefore:l.posAfter;o=l.dom.parentNode}return i>-1?i:t.docView.posFromDOM(e,n,-1)}function mJ(t,e,n){let r=t.childNodes.length;if(r&&n.top<n.bottom)for(let i=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-n.top)/(n.bottom-n.top))-2)),o=i;;){let s=t.childNodes[o];if(s.nodeType==1){let l=s.getClientRects();for(let a=0;a<l.length;a++){let u=l[a];if(pE(e,u))return mJ(s,e,u)}}if((o=(o+1)%r)==i)break}return t}function x8e(t,e){let n=t.dom.ownerDocument,r,i=0,o=a8e(n,e.left,e.top);o&&({node:r,offset:i}=o);let s=(t.root.elementFromPoint?t.root:n).elementFromPoint(e.left,e.top),l;if(!s||!t.dom.contains(s.nodeType!=1?s.parentNode:s)){let u=t.dom.getBoundingClientRect();if(!pE(e,u)||(s=mJ(t.dom,e,u),!s))return null}if(Li)for(let u=s;r&&u;u=Op(u))u.draggable&&(r=void 0);if(s=y8e(s,e),r){if(ol&&r.nodeType==1&&(i=Math.min(i,r.childNodes.length),i<r.childNodes.length)){let c=r.childNodes[i],h;c.nodeName=="IMG"&&(h=c.getBoundingClientRect()).right<=e.left&&h.bottom>e.top&&i++}let u;Gv&&i&&r.nodeType==1&&(u=r.childNodes[i-1]).nodeType==1&&u.contentEditable=="false"&&u.getBoundingClientRect().top>=e.top&&i--,r==t.dom&&i==r.childNodes.length-1&&r.lastChild.nodeType==1&&e.top>r.lastChild.getBoundingClientRect().bottom?l=t.state.doc.content.size:(i==0||r.nodeType!=1||r.childNodes[i-1].nodeName!="BR")&&(l=w8e(t,r,i,e))}l==null&&(l=v8e(t,s,e));let a=t.docView.nearestDesc(s,!0);return{pos:l,inside:a?a.posAtStart-a.border:-1}}function IB(t){return t.top<t.bottom||t.left<t.right}function Vu(t,e){let n=t.getClientRects();if(n.length){let r=n[e<0?0:n.length-1];if(IB(r))return r}return Array.prototype.find.call(n,IB)||t.getBoundingClientRect()}const b8e=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function gJ(t,e,n){let{node:r,offset:i,atom:o}=t.docView.domFromPos(e,n<0?-1:1),s=Gv||ol;if(r.nodeType==3)if(s&&(b8e.test(r.nodeValue)||(n<0?!i:i==r.nodeValue.length))){let a=Vu(Ea(r,i,i),n);if(ol&&i&&/\s/.test(r.nodeValue[i-1])&&i<r.nodeValue.length){let u=Vu(Ea(r,i-1,i-1),-1);if(u.top==a.top){let c=Vu(Ea(r,i,i+1),-1);if(c.top!=a.top)return Fm(c,c.left<u.left)}}return a}else{let a=i,u=i,c=n<0?1:-1;return n<0&&!i?(u++,c=-1):n>=0&&i==r.nodeValue.length?(a--,c=1):n<0?a--:u++,Fm(Vu(Ea(r,a,u),c),c<0)}if(!t.state.doc.resolve(e-(o||0)).parent.inlineContent){if(o==null&&i&&(n<0||i==as(r))){let a=r.childNodes[i-1];if(a.nodeType==1)return hk(a.getBoundingClientRect(),!1)}if(o==null&&i<as(r)){let a=r.childNodes[i];if(a.nodeType==1)return hk(a.getBoundingClientRect(),!0)}return hk(r.getBoundingClientRect(),n>=0)}if(o==null&&i&&(n<0||i==as(r))){let a=r.childNodes[i-1],u=a.nodeType==3?Ea(a,as(a)-(s?0:1)):a.nodeType==1&&(a.nodeName!="BR"||!a.nextSibling)?a:null;if(u)return Fm(Vu(u,1),!1)}if(o==null&&i<as(r)){let a=r.childNodes[i];for(;a.pmViewDesc&&a.pmViewDesc.ignoreForCoords;)a=a.nextSibling;let u=a?a.nodeType==3?Ea(a,0,s?0:1):a.nodeType==1?a:null:null;if(u)return Fm(Vu(u,-1),!0)}return Fm(Vu(r.nodeType==3?Ea(r):r,-n),n>=0)}function Fm(t,e){if(t.width==0)return t;let n=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:n,right:n}}function hk(t,e){if(t.height==0)return t;let n=e?t.top:t.bottom;return{top:n,bottom:n,left:t.left,right:t.right}}function yJ(t,e,n){let r=t.state,i=t.root.activeElement;r!=e&&t.updateState(e),i!=t.dom&&t.focus();try{return n()}finally{r!=e&&t.updateState(r),i!=t.dom&&i&&i.focus()}}function k8e(t,e,n){let r=e.selection,i=n=="up"?r.$from:r.$to;return yJ(t,e,()=>{let{node:o}=t.docView.domFromPos(i.pos,n=="up"?-1:1);for(;;){let l=t.docView.nearestDesc(o,!0);if(!l)break;if(l.node.isBlock){o=l.contentDOM||l.dom;break}o=l.dom.parentNode}let s=gJ(t,i.pos,1);for(let l=o.firstChild;l;l=l.nextSibling){let a;if(l.nodeType==1)a=l.getClientRects();else if(l.nodeType==3)a=Ea(l,0,l.nodeValue.length).getClientRects();else continue;for(let u=0;u<a.length;u++){let c=a[u];if(c.bottom>c.top+1&&(n=="up"?s.top-c.top>(c.bottom-s.top)*2:c.bottom-s.bottom>(s.bottom-c.top)*2))return!1}}return!0})}const S8e=/[\u0590-\u08ac]/;function C8e(t,e,n){let{$head:r}=e.selection;if(!r.parent.isTextblock)return!1;let i=r.parentOffset,o=!i,s=i==r.parent.content.size,l=t.domSelection();return l?!S8e.test(r.parent.textContent)||!l.modify?n=="left"||n=="backward"?o:s:yJ(t,e,()=>{let{focusNode:a,focusOffset:u,anchorNode:c,anchorOffset:h}=t.domSelectionRange(),f=l.caretBidiLevel;l.modify("move",n,"character");let d=r.depth?t.docView.domAfterPos(r.before()):t.dom,{focusNode:p,focusOffset:m}=t.domSelectionRange(),y=p&&!d.contains(p.nodeType==1?p:p.parentNode)||a==p&&u==m;try{l.collapse(c,h),a&&(a!=c||u!=h)&&l.extend&&l.extend(a,u)}catch{}return f!=null&&(l.caretBidiLevel=f),y}):r.pos==r.start()||r.pos==r.end()}let RB=null,NB=null,LB=!1;function T8e(t,e,n){return RB==e&&NB==n?LB:(RB=e,NB=n,LB=n=="up"||n=="down"?k8e(t,e,n):C8e(t,e,n))}const vs=0,BB=1,Kh=2,ea=3;class Yv{constructor(e,n,r,i){this.parent=e,this.children=n,this.dom=r,this.contentDOM=i,this.dirty=vs,r.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,n,r){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let n=0;n<this.children.length;n++)e+=this.children[n].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let n=0,r=this.posAtStart;;n++){let i=this.children[n];if(i==e)return r;r+=i.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,n,r){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(r<0){let o,s;if(e==this.contentDOM)o=e.childNodes[n-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;o=e.previousSibling}for(;o&&!((s=o.pmViewDesc)&&s.parent==this);)o=o.previousSibling;return o?this.posBeforeChild(s)+s.size:this.posAtStart}else{let o,s;if(e==this.contentDOM)o=e.childNodes[n];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;o=e.nextSibling}for(;o&&!((s=o.pmViewDesc)&&s.parent==this);)o=o.nextSibling;return o?this.posBeforeChild(s):this.posAtEnd}let i;if(e==this.dom&&this.contentDOM)i=n>jr(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))i=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let o=e;;o=o.parentNode){if(o==this.dom){i=!1;break}if(o.previousSibling)break}if(i==null&&n==e.childNodes.length)for(let o=e;;o=o.parentNode){if(o==this.dom){i=!0;break}if(o.nextSibling)break}}return i??r>0?this.posAtEnd:this.posAtStart}nearestDesc(e,n=!1){for(let r=!0,i=e;i;i=i.parentNode){let o=this.getDesc(i),s;if(o&&(!n||o.node))if(r&&(s=o.nodeDOM)&&!(s.nodeType==1?s.contains(e.nodeType==1?e:e.parentNode):s==e))r=!1;else return o}}getDesc(e){let n=e.pmViewDesc;for(let r=n;r;r=r.parent)if(r==this)return n}posFromDOM(e,n,r){for(let i=e;i;i=i.parentNode){let o=this.getDesc(i);if(o)return o.localPosFromDOM(e,n,r)}return-1}descAt(e){for(let n=0,r=0;n<this.children.length;n++){let i=this.children[n],o=r+i.size;if(r==e&&o!=r){for(;!i.border&&i.children.length;)for(let s=0;s<i.children.length;s++){let l=i.children[s];if(l.size){i=l;break}}return i}if(e<o)return i.descAt(e-r-i.border);r=o}}domFromPos(e,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let r=0,i=0;for(let o=0;r<this.children.length;r++){let s=this.children[r],l=o+s.size;if(l>e||s instanceof wJ){i=e-o;break}o=l}if(i)return this.children[r].domFromPos(i-this.children[r].border,n);for(let o;r&&!(o=this.children[r-1]).size&&o instanceof vJ&&o.side>=0;r--);if(n<=0){let o,s=!0;for(;o=r?this.children[r-1]:null,!(!o||o.dom.parentNode==this.contentDOM);r--,s=!1);return o&&n&&s&&!o.border&&!o.domAtom?o.domFromPos(o.size,n):{node:this.contentDOM,offset:o?jr(o.dom)+1:0}}else{let o,s=!0;for(;o=r<this.children.length?this.children[r]:null,!(!o||o.dom.parentNode==this.contentDOM);r++,s=!1);return o&&s&&!o.border&&!o.domAtom?o.domFromPos(0,n):{node:this.contentDOM,offset:o?jr(o.dom):this.contentDOM.childNodes.length}}}parseRange(e,n,r=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,o=-1;for(let s=r,l=0;;l++){let a=this.children[l],u=s+a.size;if(i==-1&&e<=u){let c=s+a.border;if(e>=c&&n<=u-a.border&&a.node&&a.contentDOM&&this.contentDOM.contains(a.contentDOM))return a.parseRange(e,n,c);e=s;for(let h=l;h>0;h--){let f=this.children[h-1];if(f.size&&f.dom.parentNode==this.contentDOM&&!f.emptyChildAt(1)){i=jr(f.dom)+1;break}e-=f.size}i==-1&&(i=0)}if(i>-1&&(u>n||l==this.children.length-1)){n=u;for(let c=l+1;c<this.children.length;c++){let h=this.children[c];if(h.size&&h.dom.parentNode==this.contentDOM&&!h.emptyChildAt(-1)){o=jr(h.dom);break}n+=h.size}o==-1&&(o=this.contentDOM.childNodes.length);break}s=u}return{node:this.contentDOM,from:e,to:n,fromOffset:i,toOffset:o}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[e<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(e)}domAfterPos(e){let{node:n,offset:r}=this.domFromPos(e,0);if(n.nodeType!=1||r==n.childNodes.length)throw new RangeError("No node after pos "+e);return n.childNodes[r]}setSelection(e,n,r,i=!1){let o=Math.min(e,n),s=Math.max(e,n);for(let d=0,p=0;d<this.children.length;d++){let m=this.children[d],y=p+m.size;if(o>p&&s<y)return m.setSelection(e-p-m.border,n-p-m.border,r,i);p=y}let l=this.domFromPos(e,e?-1:1),a=n==e?l:this.domFromPos(n,n?-1:1),u=r.root.getSelection(),c=r.domSelectionRange(),h=!1;if((ol||Li)&&e==n){let{node:d,offset:p}=l;if(d.nodeType==3){if(h=!!(p&&d.nodeValue[p-1]==`
`),h&&p==d.nodeValue.length)for(let m=d,y;m;m=m.parentNode){if(y=m.nextSibling){y.nodeName=="BR"&&(l=a={node:y.parentNode,offset:jr(y)+1});break}let g=m.pmViewDesc;if(g&&g.node&&g.node.isBlock)break}}else{let m=d.childNodes[p-1];h=m&&(m.nodeName=="BR"||m.contentEditable=="false")}}if(ol&&c.focusNode&&c.focusNode!=a.node&&c.focusNode.nodeType==1){let d=c.focusNode.childNodes[c.focusOffset];d&&d.contentEditable=="false"&&(i=!0)}if(!(i||h&&Li)&&Uf(l.node,l.offset,c.anchorNode,c.anchorOffset)&&Uf(a.node,a.offset,c.focusNode,c.focusOffset))return;let f=!1;if((u.extend||e==n)&&!h){u.collapse(l.node,l.offset);try{e!=n&&u.extend(a.node,a.offset),f=!0}catch{}}if(!f){if(e>n){let p=l;l=a,a=p}let d=document.createRange();d.setEnd(a.node,a.offset),d.setStart(l.node,l.offset),u.removeAllRanges(),u.addRange(d)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,n){for(let r=0,i=0;i<this.children.length;i++){let o=this.children[i],s=r+o.size;if(r==s?e<=s&&n>=r:e<s&&n>r){let l=r+o.border,a=s-o.border;if(e>=l&&n<=a){this.dirty=e==r||n==s?Kh:BB,e==l&&n==a&&(o.contentLost||o.dom.parentNode!=this.contentDOM)?o.dirty=ea:o.markDirty(e-l,n-l);return}else o.dirty=o.dom==o.contentDOM&&o.dom.parentNode==this.contentDOM&&!o.children.length?Kh:ea}r=s}this.dirty=Kh}markParentsDirty(){let e=1;for(let n=this.parent;n;n=n.parent,e++){let r=e==1?Kh:BB;n.dirty<r&&(n.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(e){return!1}}class vJ extends Yv{constructor(e,n,r,i){let o,s=n.type.toDOM;if(typeof s=="function"&&(s=s(r,()=>{if(!o)return i;if(o.parent)return o.parent.posBeforeChild(o)})),!n.type.spec.raw){if(s.nodeType!=1){let l=document.createElement("span");l.appendChild(s),s=l}s.contentEditable="false",s.classList.add("ProseMirror-widget")}super(e,[],s,null),this.widget=n,this.widget=n,o=this}matchesWidget(e){return this.dirty==vs&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let n=this.widget.spec.stopEvent;return n?n(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class M8e extends Yv{constructor(e,n,r,i){super(e,[],n,null),this.textDOM=r,this.text=i}get size(){return this.text.length}localPosFromDOM(e,n){return e!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class qf extends Yv{constructor(e,n,r,i,o){super(e,[],r,i),this.mark=n,this.spec=o}static create(e,n,r,i){let o=i.nodeViews[n.type.name],s=o&&o(n,i,r);return(!s||!s.dom)&&(s=nd.renderSpec(document,n.type.spec.toDOM(n,r),null,n.attrs)),new qf(e,n,s.dom,s.contentDOM||s.dom,s)}parseRule(){return this.dirty&ea||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=ea&&this.mark.eq(e)}markDirty(e,n){if(super.markDirty(e,n),this.dirty!=vs){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=vs}}slice(e,n,r){let i=qf.create(this.parent,this.mark,!0,r),o=this.children,s=this.size;n<s&&(o=pC(o,n,s,r)),e>0&&(o=pC(o,0,e,r));for(let l=0;l<o.length;l++)o[l].parent=i;return i.children=o,i}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class Oc extends Yv{constructor(e,n,r,i,o,s,l,a,u){super(e,[],o,s),this.node=n,this.outerDeco=r,this.innerDeco=i,this.nodeDOM=l}static create(e,n,r,i,o,s){let l=o.nodeViews[n.type.name],a,u=l&&l(n,o,()=>{if(!a)return s;if(a.parent)return a.parent.posBeforeChild(a)},r,i),c=u&&u.dom,h=u&&u.contentDOM;if(n.isText){if(!c)c=document.createTextNode(n.text);else if(c.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else c||({dom:c,contentDOM:h}=nd.renderSpec(document,n.type.spec.toDOM(n),null,n.attrs));!h&&!n.isText&&c.nodeName!="BR"&&(c.hasAttribute("contenteditable")||(c.contentEditable="false"),n.type.spec.draggable&&(c.draggable=!0));let f=c;return c=kJ(c,r,n),u?a=new A8e(e,n,r,i,c,h||null,f,u,o,s+1):n.isText?new b3(e,n,r,i,c,f,o):new Oc(e,n,r,i,c,h||null,f,o,s+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let r=this.children[n];if(this.dom.contains(r.dom.parentNode)){e.contentElement=r.dom.parentNode;break}}e.contentElement||(e.getContent=()=>_e.empty)}return e}matchesNode(e,n,r){return this.dirty==vs&&e.eq(this.node)&&Dx(n,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,n){let r=this.node.inlineContent,i=n,o=e.composing?this.localCompositionInfo(e,n):null,s=o&&o.pos>-1?o:null,l=o&&o.pos<0,a=new O8e(this,s&&s.node,e);_8e(this.node,this.innerDeco,(u,c,h)=>{u.spec.marks?a.syncToMarks(u.spec.marks,r,e):u.type.side>=0&&!h&&a.syncToMarks(c==this.node.childCount?It.none:this.node.child(c).marks,r,e),a.placeWidget(u,e,i)},(u,c,h,f)=>{a.syncToMarks(u.marks,r,e);let d;a.findNodeMatch(u,c,h,f)||l&&e.state.selection.from>i&&e.state.selection.to<i+u.nodeSize&&(d=a.findIndexWithChild(o.node))>-1&&a.updateNodeAt(u,c,h,d,e)||a.updateNextNode(u,c,h,e,f,i)||a.addNode(u,c,h,e,i),i+=u.nodeSize}),a.syncToMarks([],r,e),this.node.isTextblock&&a.addTextblockHacks(),a.destroyRest(),(a.changed||this.dirty==Kh)&&(s&&this.protectLocalComposition(e,s),xJ(this.contentDOM,this.children,e),Pp&&I8e(this.dom))}localCompositionInfo(e,n){let{from:r,to:i}=e.state.selection;if(!(e.state.selection instanceof nt)||r<n||i>n+this.node.content.size)return null;let o=e.input.compositionNode;if(!o||!this.dom.contains(o.parentNode))return null;if(this.node.inlineContent){let s=o.nodeValue,l=R8e(this.node.content,s,r-n,i-n);return l<0?null:{node:o,pos:l,text:s}}else return{node:o,pos:-1,text:""}}protectLocalComposition(e,{node:n,pos:r,text:i}){if(this.getDesc(n))return;let o=n;for(;o.parentNode!=this.contentDOM;o=o.parentNode){for(;o.previousSibling;)o.parentNode.removeChild(o.previousSibling);for(;o.nextSibling;)o.parentNode.removeChild(o.nextSibling);o.pmViewDesc&&(o.pmViewDesc=void 0)}let s=new M8e(this,o,n,i);e.input.compositionNodes.push(s),this.children=pC(this.children,r,r+i.length,e,s)}update(e,n,r,i){return this.dirty==ea||!e.sameMarkup(this.node)?!1:(this.updateInner(e,n,r,i),!0)}updateInner(e,n,r,i){this.updateOuterDeco(n),this.node=e,this.innerDeco=r,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=vs}updateOuterDeco(e){if(Dx(e,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=bJ(this.dom,this.nodeDOM,dC(this.outerDeco,this.node,n),dC(e,this.node,n)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function zB(t,e,n,r,i){kJ(r,e,t);let o=new Oc(void 0,t,e,n,r,r,r,i,0);return o.contentDOM&&o.updateChildren(i,0),o}class b3 extends Oc{constructor(e,n,r,i,o,s,l){super(e,n,r,i,o,null,s,l,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,n,r,i){return this.dirty==ea||this.dirty!=vs&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=vs||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=e,this.dirty=vs,!0)}inParent(){let e=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,n,r){return e==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(e,n,r)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,n,r){let i=this.node.cut(e,n),o=document.createTextNode(i.text);return new b3(this.parent,i,this.outerDeco,this.innerDeco,o,o,r)}markDirty(e,n){super.markDirty(e,n),this.dom!=this.nodeDOM&&(e==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=ea)}get domAtom(){return!1}isText(e){return this.node.text==e}}class wJ extends Yv{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==vs&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class A8e extends Oc{constructor(e,n,r,i,o,s,l,a,u,c){super(e,n,r,i,o,s,l,u,c),this.spec=a}update(e,n,r,i){if(this.dirty==ea)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let o=this.spec.update(e,n,r);return o&&this.updateInner(e,n,r,i),o}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,n,r,i)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,n,r,i){this.spec.setSelection?this.spec.setSelection(e,n,r.root):super.setSelection(e,n,r,i)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function xJ(t,e,n){let r=t.firstChild,i=!1;for(let o=0;o<e.length;o++){let s=e[o],l=s.dom;if(l.parentNode==t){for(;l!=r;)r=FB(r),i=!0;r=r.nextSibling}else i=!0,t.insertBefore(l,r);if(s instanceof qf){let a=r?r.previousSibling:t.lastChild;xJ(s.contentDOM,s.children,n),r=a?a.nextSibling:t.firstChild}}for(;r;)r=FB(r),i=!0;i&&n.trackWrites==t&&(n.trackWrites=null)}const m1=function(t){t&&(this.nodeName=t)};m1.prototype=Object.create(null);const Gh=[new m1];function dC(t,e,n){if(t.length==0)return Gh;let r=n?Gh[0]:new m1,i=[r];for(let o=0;o<t.length;o++){let s=t[o].type.attrs;if(s){s.nodeName&&i.push(r=new m1(s.nodeName));for(let l in s){let a=s[l];a!=null&&(n&&i.length==1&&i.push(r=new m1(e.isInline?"span":"div")),l=="class"?r.class=(r.class?r.class+" ":"")+a:l=="style"?r.style=(r.style?r.style+";":"")+a:l!="nodeName"&&(r[l]=a))}}}return i}function bJ(t,e,n,r){if(n==Gh&&r==Gh)return e;let i=e;for(let o=0;o<r.length;o++){let s=r[o],l=n[o];if(o){let a;l&&l.nodeName==s.nodeName&&i!=t&&(a=i.parentNode)&&a.nodeName.toLowerCase()==s.nodeName||(a=document.createElement(s.nodeName),a.pmIsDeco=!0,a.appendChild(i),l=Gh[0]),i=a}E8e(i,l||Gh[0],s)}return i}function E8e(t,e,n){for(let r in e)r!="class"&&r!="style"&&r!="nodeName"&&!(r in n)&&t.removeAttribute(r);for(let r in n)r!="class"&&r!="style"&&r!="nodeName"&&n[r]!=e[r]&&t.setAttribute(r,n[r]);if(e.class!=n.class){let r=e.class?e.class.split(" ").filter(Boolean):[],i=n.class?n.class.split(" ").filter(Boolean):[];for(let o=0;o<r.length;o++)i.indexOf(r[o])==-1&&t.classList.remove(r[o]);for(let o=0;o<i.length;o++)r.indexOf(i[o])==-1&&t.classList.add(i[o]);t.classList.length==0&&t.removeAttribute("class")}if(e.style!=n.style){if(e.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,i;for(;i=r.exec(e.style);)t.style.removeProperty(i[1])}n.style&&(t.style.cssText+=n.style)}}function kJ(t,e,n){return bJ(t,t,Gh,dC(e,n,t.nodeType!=1))}function Dx(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].type.eq(e[n].type))return!1;return!0}function FB(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class O8e{constructor(e,n,r){this.lock=n,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=P8e(e.node.content,e)}destroyBetween(e,n){if(e!=n){for(let r=e;r<n;r++)this.top.children[r].destroy();this.top.children.splice(e,n-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,n,r){let i=0,o=this.stack.length>>1,s=Math.min(o,e.length);for(;i<s&&(i==o-1?this.top:this.stack[i+1<<1]).matchesMark(e[i])&&e[i].type.spec.spanning!==!1;)i++;for(;i<o;)this.destroyRest(),this.top.dirty=vs,this.index=this.stack.pop(),this.top=this.stack.pop(),o--;for(;o<e.length;){this.stack.push(this.top,this.index+1);let l=-1;for(let a=this.index;a<Math.min(this.index+3,this.top.children.length);a++){let u=this.top.children[a];if(u.matchesMark(e[o])&&!this.isLocked(u.dom)){l=a;break}}if(l>-1)l>this.index&&(this.changed=!0,this.destroyBetween(this.index,l)),this.top=this.top.children[this.index];else{let a=qf.create(this.top,e[o],n,r);this.top.children.splice(this.index,0,a),this.top=a,this.changed=!0}this.index=0,o++}}findNodeMatch(e,n,r,i){let o=-1,s;if(i>=this.preMatch.index&&(s=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&s.matchesNode(e,n,r))o=this.top.children.indexOf(s,this.index);else for(let l=this.index,a=Math.min(this.top.children.length,l+5);l<a;l++){let u=this.top.children[l];if(u.matchesNode(e,n,r)&&!this.preMatch.matched.has(u)){o=l;break}}return o<0?!1:(this.destroyBetween(this.index,o),this.index++,!0)}updateNodeAt(e,n,r,i,o){let s=this.top.children[i];return s.dirty==ea&&s.dom==s.contentDOM&&(s.dirty=Kh),s.update(e,n,r,o)?(this.destroyBetween(this.index,i),this.index++,!0):!1}findIndexWithChild(e){for(;;){let n=e.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let r=e.pmViewDesc;if(r){for(let i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==r)return i}return-1}e=n}}updateNextNode(e,n,r,i,o,s){for(let l=this.index;l<this.top.children.length;l++){let a=this.top.children[l];if(a instanceof Oc){let u=this.preMatch.matched.get(a);if(u!=null&&u!=o)return!1;let c=a.dom,h,f=this.isLocked(c)&&!(e.isText&&a.node&&a.node.isText&&a.nodeDOM.nodeValue==e.text&&a.dirty!=ea&&Dx(n,a.outerDeco));if(!f&&a.update(e,n,r,i))return this.destroyBetween(this.index,l),a.dom!=c&&(this.changed=!0),this.index++,!0;if(!f&&(h=this.recreateWrapper(a,e,n,r,i,s)))return this.destroyBetween(this.index,l),this.top.children[this.index]=h,h.contentDOM&&(h.dirty=Kh,h.updateChildren(i,s+1),h.dirty=vs),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,n,r,i,o,s){if(e.dirty||n.isAtom||!e.children.length||!e.node.content.eq(n.content)||!Dx(r,e.outerDeco)||!i.eq(e.innerDeco))return null;let l=Oc.create(this.top,n,r,i,o,s);if(l.contentDOM){l.children=e.children,e.children=[];for(let a of l.children)a.parent=l}return e.destroy(),l}addNode(e,n,r,i,o){let s=Oc.create(this.top,e,n,r,i,o);s.contentDOM&&s.updateChildren(i,o+1),this.top.children.splice(this.index++,0,s),this.changed=!0}placeWidget(e,n,r){let i=this.index<this.top.children.length?this.top.children[this.index]:null;if(i&&i.matchesWidget(e)&&(e==i.widget||!i.widget.type.toDOM.parentNode))this.index++;else{let o=new vJ(this.top,e,n,r);this.top.children.splice(this.index++,0,o),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],n=this.top;for(;e instanceof qf;)n=e,e=n.children[n.children.length-1];(!e||!(e instanceof b3)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((Li||ai)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(e,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(e))this.index++;else{let r=document.createElement(e);e=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),e=="BR"&&(r.className="ProseMirror-trailingBreak");let i=new wJ(this.top,[],r,null);n!=this.top?n.children.push(i):n.children.splice(this.index++,0,i),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function P8e(t,e){let n=e,r=n.children.length,i=t.childCount,o=new Map,s=[];e:for(;i>0;){let l;for(;;)if(r){let u=n.children[r-1];if(u instanceof qf)n=u,r=u.children.length;else{l=u,r--;break}}else{if(n==e)break e;r=n.parent.children.indexOf(n),n=n.parent}let a=l.node;if(a){if(a!=t.child(i-1))break;--i,o.set(l,i),s.push(l)}}return{index:i,matched:o,matches:s.reverse()}}function D8e(t,e){return t.type.side-e.type.side}function _8e(t,e,n,r){let i=e.locals(t),o=0;if(i.length==0){for(let u=0;u<t.childCount;u++){let c=t.child(u);r(c,i,e.forChild(o,c),u),o+=c.nodeSize}return}let s=0,l=[],a=null;for(let u=0;;){let c,h;for(;s<i.length&&i[s].to==o;){let y=i[s++];y.widget&&(c?(h||(h=[c])).push(y):c=y)}if(c)if(h){h.sort(D8e);for(let y=0;y<h.length;y++)n(h[y],u,!!a)}else n(c,u,!!a);let f,d;if(a)d=-1,f=a,a=null;else if(u<t.childCount)d=u,f=t.child(u++);else break;for(let y=0;y<l.length;y++)l[y].to<=o&&l.splice(y--,1);for(;s<i.length&&i[s].from<=o&&i[s].to>o;)l.push(i[s++]);let p=o+f.nodeSize;if(f.isText){let y=p;s<i.length&&i[s].from<y&&(y=i[s].from);for(let g=0;g<l.length;g++)l[g].to<y&&(y=l[g].to);y<p&&(a=f.cut(y-o),f=f.cut(0,y-o),p=y,d=-1)}else for(;s<i.length&&i[s].to<p;)s++;let m=f.isInline&&!f.isLeaf?l.filter(y=>!y.inline):l.slice();r(f,m,e.forChild(o,f),d),o=p}}function I8e(t){if(t.nodeName=="UL"||t.nodeName=="OL"){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function R8e(t,e,n,r){for(let i=0,o=0;i<t.childCount&&o<=r;){let s=t.child(i++),l=o;if(o+=s.nodeSize,!s.isText)continue;let a=s.text;for(;i<t.childCount;){let u=t.child(i++);if(o+=u.nodeSize,!u.isText)break;a+=u.text}if(o>=n){if(o>=r&&a.slice(r-e.length-l,r-l)==e)return r-e.length;let u=l<r?a.lastIndexOf(e,r-l-1):-1;if(u>=0&&u+e.length+l>=n)return l+u;if(n==r&&a.length>=r+e.length-l&&a.slice(r-l,r-l+e.length)==e)return r}}return-1}function pC(t,e,n,r,i){let o=[];for(let s=0,l=0;s<t.length;s++){let a=t[s],u=l,c=l+=a.size;u>=n||c<=e?o.push(a):(u<e&&o.push(a.slice(0,e-u,r)),i&&(o.push(i),i=void 0),c>n&&o.push(a.slice(n-u,a.size,r)))}return o}function mE(t,e=null){let n=t.domSelectionRange(),r=t.state.doc;if(!n.focusNode)return null;let i=t.docView.nearestDesc(n.focusNode),o=i&&i.size==0,s=t.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(s<0)return null;let l=r.resolve(s),a,u;if(x3(n)){for(a=s;i&&!i.node;)i=i.parent;let h=i.node;if(i&&h.isAtom&&ut.isSelectable(h)&&i.parent&&!(h.isInline&&s8e(n.focusNode,n.focusOffset,i.dom))){let f=i.posBefore;u=new ut(s==f?l:r.resolve(f))}}else{if(n instanceof t.dom.ownerDocument.defaultView.Selection&&n.rangeCount>1){let h=s,f=s;for(let d=0;d<n.rangeCount;d++){let p=n.getRangeAt(d);h=Math.min(h,t.docView.posFromDOM(p.startContainer,p.startOffset,1)),f=Math.max(f,t.docView.posFromDOM(p.endContainer,p.endOffset,-1))}if(h<0)return null;[a,s]=f==t.state.selection.anchor?[f,h]:[h,f],l=r.resolve(s)}else a=t.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(a<0)return null}let c=r.resolve(a);if(!u){let h=e=="pointer"||t.state.selection.head<l.pos&&!o?1:-1;u=gE(t,c,l,h)}return u}function SJ(t){return t.editable?t.hasFocus():TJ(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function ru(t,e=!1){let n=t.state.selection;if(CJ(t,n),!!SJ(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&ai){let r=t.domSelectionRange(),i=t.domObserver.currentSelection;if(r.anchorNode&&i.anchorNode&&Uf(r.anchorNode,r.anchorOffset,i.anchorNode,i.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)L8e(t);else{let{anchor:r,head:i}=n,o,s;$B&&!(n instanceof nt)&&(n.$from.parent.inlineContent||(o=VB(t,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(s=VB(t,n.to))),t.docView.setSelection(r,i,t,e),$B&&(o&&HB(o),s&&HB(s)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&N8e(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const $B=Li||ai&&hJ<63;function VB(t,e){let{node:n,offset:r}=t.docView.domFromPos(e,0),i=r<n.childNodes.length?n.childNodes[r]:null,o=r?n.childNodes[r-1]:null;if(Li&&i&&i.contentEditable=="false")return fk(i);if((!i||i.contentEditable=="false")&&(!o||o.contentEditable=="false")){if(i)return fk(i);if(o)return fk(o)}}function fk(t){return t.contentEditable="true",Li&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function HB(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function N8e(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let n=t.domSelectionRange(),r=n.anchorNode,i=n.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(n.anchorNode!=r||n.anchorOffset!=i)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!SJ(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function L8e(t){let e=t.domSelection(),n=document.createRange();if(!e)return;let r=t.cursorWrapper.dom,i=r.nodeName=="IMG";i?n.setStart(r.parentNode,jr(r)+1):n.setStart(r,0),n.collapse(!0),e.removeAllRanges(),e.addRange(n),!i&&!t.state.selection.visible&&ao&&Ec<=11&&(r.disabled=!0,r.disabled=!1)}function CJ(t,e){if(e instanceof ut){let n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(jB(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else jB(t)}function jB(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function gE(t,e,n,r){return t.someProp("createSelectionBetween",i=>i(t,e,n))||nt.between(e,n,r)}function WB(t){return t.editable&&!t.hasFocus()?!1:TJ(t)}function TJ(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function B8e(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),n=t.domSelectionRange();return Uf(e.node,e.offset,n.anchorNode,n.anchorOffset)}function mC(t,e){let{$anchor:n,$head:r}=t.selection,i=e>0?n.max(r):n.min(r),o=i.parent.inlineContent?i.depth?t.doc.resolve(e>0?i.after():i.before()):null:i;return o&&yt.findFrom(o,e)}function Yu(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function UB(t,e,n){let r=t.state.selection;if(r instanceof nt)if(n.indexOf("s")>-1){let{$head:i}=r,o=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter;if(!o||o.isText||!o.isLeaf)return!1;let s=t.state.doc.resolve(i.pos+o.nodeSize*(e<0?-1:1));return Yu(t,new nt(r.$anchor,s))}else if(r.empty){if(t.endOfTextblock(e>0?"forward":"backward")){let i=mC(t.state,e);return i&&i instanceof ut?Yu(t,i):!1}else if(!(ns&&n.indexOf("m")>-1)){let i=r.$head,o=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter,s;if(!o||o.isText)return!1;let l=e<0?i.pos-o.nodeSize:i.pos;return o.isAtom||(s=t.docView.descAt(l))&&!s.contentDOM?ut.isSelectable(o)?Yu(t,new ut(e<0?t.state.doc.resolve(i.pos-o.nodeSize):i)):Gv?Yu(t,new nt(t.state.doc.resolve(e<0?l:l+o.nodeSize))):!1:!1}}else return!1;else{if(r instanceof ut&&r.node.isInline)return Yu(t,new nt(e>0?r.$to:r.$from));{let i=mC(t.state,e);return i?Yu(t,i):!1}}}function _x(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function g1(t,e){let n=t.pmViewDesc;return n&&n.size==0&&(e<0||t.nextSibling||t.nodeName!="BR")}function bd(t,e){return e<0?z8e(t):F8e(t)}function z8e(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i,o,s=!1;for(ol&&n.nodeType==1&&r<_x(n)&&g1(n.childNodes[r],-1)&&(s=!0);;)if(r>0){if(n.nodeType!=1)break;{let l=n.childNodes[r-1];if(g1(l,-1))i=n,o=--r;else if(l.nodeType==3)n=l,r=n.nodeValue.length;else break}}else{if(MJ(n))break;{let l=n.previousSibling;for(;l&&g1(l,-1);)i=n.parentNode,o=jr(l),l=l.previousSibling;if(l)n=l,r=_x(n);else{if(n=n.parentNode,n==t.dom)break;r=0}}}s?gC(t,n,r):i&&gC(t,i,o)}function F8e(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i=_x(n),o,s;for(;;)if(r<i){if(n.nodeType!=1)break;let l=n.childNodes[r];if(g1(l,1))o=n,s=++r;else break}else{if(MJ(n))break;{let l=n.nextSibling;for(;l&&g1(l,1);)o=l.parentNode,s=jr(l)+1,l=l.nextSibling;if(l)n=l,r=0,i=_x(n);else{if(n=n.parentNode,n==t.dom)break;r=i=0}}}o&&gC(t,o,s)}function MJ(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function $8e(t,e){for(;t&&e==t.childNodes.length&&!Kv(t);)e=jr(t)+1,t=t.parentNode;for(;t&&e<t.childNodes.length;){let n=t.childNodes[e];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=0}}function V8e(t,e){for(;t&&!e&&!Kv(t);)e=jr(t),t=t.parentNode;for(;t&&e;){let n=t.childNodes[e-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=t.childNodes.length}}function gC(t,e,n){if(e.nodeType!=3){let o,s;(s=$8e(e,n))?(e=s,n=0):(o=V8e(e,n))&&(e=o,n=o.nodeValue.length)}let r=t.domSelection();if(!r)return;if(x3(r)){let o=document.createRange();o.setEnd(e,n),o.setStart(e,n),r.removeAllRanges(),r.addRange(o)}else r.extend&&r.extend(e,n);t.domObserver.setCurSelection();let{state:i}=t;setTimeout(()=>{t.state==i&&ru(t)},50)}function qB(t,e){let n=t.state.doc.resolve(e);if(!(ai||u8e)&&n.parent.inlineContent){let i=t.coordsAtPos(e);if(e>n.start()){let o=t.coordsAtPos(e-1),s=(o.top+o.bottom)/2;if(s>i.top&&s<i.bottom&&Math.abs(o.left-i.left)>1)return o.left<i.left?"ltr":"rtl"}if(e<n.end()){let o=t.coordsAtPos(e+1),s=(o.top+o.bottom)/2;if(s>i.top&&s<i.bottom&&Math.abs(o.left-i.left)>1)return o.left>i.left?"ltr":"rtl"}}return getComputedStyle(t.dom).direction=="rtl"?"rtl":"ltr"}function KB(t,e,n){let r=t.state.selection;if(r instanceof nt&&!r.empty||n.indexOf("s")>-1||ns&&n.indexOf("m")>-1)return!1;let{$from:i,$to:o}=r;if(!i.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let s=mC(t.state,e);if(s&&s instanceof ut)return Yu(t,s)}if(!i.parent.inlineContent){let s=e<0?i:o,l=r instanceof lo?yt.near(s,e):yt.findFrom(s,e);return l?Yu(t,l):!1}return!1}function GB(t,e){if(!(t.state.selection instanceof nt))return!0;let{$head:n,$anchor:r,empty:i}=t.state.selection;if(!n.sameParent(r))return!0;if(!i)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let o=!n.textOffset&&(e<0?n.nodeBefore:n.nodeAfter);if(o&&!o.isText){let s=t.state.tr;return e<0?s.delete(n.pos-o.nodeSize,n.pos):s.delete(n.pos,n.pos+o.nodeSize),t.dispatch(s),!0}return!1}function YB(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function H8e(t){if(!Li||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(e&&e.nodeType==1&&n==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let r=e.firstChild;YB(t,r,"true"),setTimeout(()=>YB(t,r,"false"),20)}return!1}function j8e(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function W8e(t,e){let n=e.keyCode,r=j8e(e);if(n==8||ns&&n==72&&r=="c")return GB(t,-1)||bd(t,-1);if(n==46&&!e.shiftKey||ns&&n==68&&r=="c")return GB(t,1)||bd(t,1);if(n==13||n==27)return!0;if(n==37||ns&&n==66&&r=="c"){let i=n==37?qB(t,t.state.selection.from)=="ltr"?-1:1:-1;return UB(t,i,r)||bd(t,i)}else if(n==39||ns&&n==70&&r=="c"){let i=n==39?qB(t,t.state.selection.from)=="ltr"?1:-1:1;return UB(t,i,r)||bd(t,i)}else{if(n==38||ns&&n==80&&r=="c")return KB(t,-1,r)||bd(t,-1);if(n==40||ns&&n==78&&r=="c")return H8e(t)||KB(t,1,r)||bd(t,1);if(r==(ns?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function yE(t,e){t.someProp("transformCopied",d=>{e=d(e,t)});let n=[],{content:r,openStart:i,openEnd:o}=e;for(;i>1&&o>1&&r.childCount==1&&r.firstChild.childCount==1;){i--,o--;let d=r.firstChild;n.push(d.type.name,d.attrs!=d.type.defaultAttrs?d.attrs:null),r=d.content}let s=t.someProp("clipboardSerializer")||nd.fromSchema(t.state.schema),l=_J(),a=l.createElement("div");a.appendChild(s.serializeFragment(r,{document:l}));let u=a.firstChild,c,h=0;for(;u&&u.nodeType==1&&(c=DJ[u.nodeName.toLowerCase()]);){for(let d=c.length-1;d>=0;d--){let p=l.createElement(c[d]);for(;a.firstChild;)p.appendChild(a.firstChild);a.appendChild(p),h++}u=a.firstChild}u&&u.nodeType==1&&u.setAttribute("data-pm-slice",`${i} ${o}${h?` -${h}`:""} ${JSON.stringify(n)}`);let f=t.someProp("clipboardTextSerializer",d=>d(e,t))||e.content.textBetween(0,e.content.size,`

`);return{dom:a,text:f,slice:e}}function AJ(t,e,n,r,i){let o=i.parent.type.spec.code,s,l;if(!n&&!e)return null;let a=e&&(r||o||!n);if(a){if(t.someProp("transformPastedText",f=>{e=f(e,o||r,t)}),o)return e?new He(_e.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0):He.empty;let h=t.someProp("clipboardTextParser",f=>f(e,i,r,t));if(h)l=h;else{let f=i.marks(),{schema:d}=t.state,p=nd.fromSchema(d);s=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(m=>{let y=s.appendChild(document.createElement("p"));m&&y.appendChild(p.serializeNode(d.text(m,f)))})}}else t.someProp("transformPastedHTML",h=>{n=h(n,t)}),s=G8e(n),Gv&&Y8e(s);let u=s&&s.querySelector("[data-pm-slice]"),c=u&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(u.getAttribute("data-pm-slice")||"");if(c&&c[3])for(let h=+c[3];h>0;h--){let f=s.firstChild;for(;f&&f.nodeType!=1;)f=f.nextSibling;if(!f)break;s=f}if(l||(l=(t.someProp("clipboardParser")||t.someProp("domParser")||jf.fromSchema(t.state.schema)).parseSlice(s,{preserveWhitespace:!!(a||c),context:i,ruleFromNode(f){return f.nodeName=="BR"&&!f.nextSibling&&f.parentNode&&!U8e.test(f.parentNode.nodeName)?{ignore:!0}:null}})),c)l=X8e(XB(l,+c[1],+c[2]),c[4]);else if(l=He.maxOpen(q8e(l.content,i),!0),l.openStart||l.openEnd){let h=0,f=0;for(let d=l.content.firstChild;h<l.openStart&&!d.type.spec.isolating;h++,d=d.firstChild);for(let d=l.content.lastChild;f<l.openEnd&&!d.type.spec.isolating;f++,d=d.lastChild);l=XB(l,h,f)}return t.someProp("transformPasted",h=>{l=h(l,t)}),l}const U8e=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function q8e(t,e){if(t.childCount<2)return t;for(let n=e.depth;n>=0;n--){let i=e.node(n).contentMatchAt(e.index(n)),o,s=[];if(t.forEach(l=>{if(!s)return;let a=i.findWrapping(l.type),u;if(!a)return s=null;if(u=s.length&&o.length&&OJ(a,o,l,s[s.length-1],0))s[s.length-1]=u;else{s.length&&(s[s.length-1]=PJ(s[s.length-1],o.length));let c=EJ(l,a);s.push(c),i=i.matchType(c.type),o=a}}),s)return _e.from(s)}return t}function EJ(t,e,n=0){for(let r=e.length-1;r>=n;r--)t=e[r].create(null,_e.from(t));return t}function OJ(t,e,n,r,i){if(i<t.length&&i<e.length&&t[i]==e[i]){let o=OJ(t,e,n,r.lastChild,i+1);if(o)return r.copy(r.content.replaceChild(r.childCount-1,o));if(r.contentMatchAt(r.childCount).matchType(i==t.length-1?n.type:t[i+1]))return r.copy(r.content.append(_e.from(EJ(n,t,i+1))))}}function PJ(t,e){if(e==0)return t;let n=t.content.replaceChild(t.childCount-1,PJ(t.lastChild,e-1)),r=t.contentMatchAt(t.childCount).fillBefore(_e.empty,!0);return t.copy(n.append(r))}function yC(t,e,n,r,i,o){let s=e<0?t.firstChild:t.lastChild,l=s.content;return t.childCount>1&&(o=0),i<r-1&&(l=yC(l,e,n,r,i+1,o)),i>=n&&(l=e<0?s.contentMatchAt(0).fillBefore(l,o<=i).append(l):l.append(s.contentMatchAt(s.childCount).fillBefore(_e.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,s.copy(l))}function XB(t,e,n){return e<t.openStart&&(t=new He(yC(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),n<t.openEnd&&(t=new He(yC(t.content,1,n,t.openEnd,0,0),t.openStart,n)),t}const DJ={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let JB=null;function _J(){return JB||(JB=document.implementation.createHTMLDocument("title"))}let dk=null;function K8e(t){let e=window.trustedTypes;return e?(dk||(dk=e.defaultPolicy||e.createPolicy("ProseMirrorClipboard",{createHTML:n=>n})),dk.createHTML(t)):t}function G8e(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let n=_J().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(t),i;if((i=r&&DJ[r[1].toLowerCase()])&&(t=i.map(o=>"<"+o+">").join("")+t+i.map(o=>"</"+o+">").reverse().join("")),n.innerHTML=K8e(t),i)for(let o=0;o<i.length;o++)n=n.querySelector(i[o])||n;return n}function Y8e(t){let e=t.querySelectorAll(ai?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<e.length;n++){let r=e[n];r.childNodes.length==1&&r.textContent==""&&r.parentNode&&r.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),r)}}function X8e(t,e){if(!t.size)return t;let n=t.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch{return t}let{content:i,openStart:o,openEnd:s}=t;for(let l=r.length-2;l>=0;l-=2){let a=n.nodes[r[l]];if(!a||a.hasRequiredAttrs())break;i=_e.from(a.create(r[l+1],i)),o++,s++}return new He(i,o,s)}const Bi={},zi={},J8e={touchstart:!0,touchmove:!0};class Z8e{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function Q8e(t){for(let e in Bi){let n=Bi[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=r=>{tSe(t,r)&&!vE(t,r)&&(t.editable||!(r.type in zi))&&n(t,r)},J8e[e]?{passive:!0}:void 0)}Li&&t.dom.addEventListener("input",()=>null),vC(t)}function gc(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function eSe(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function vC(t){t.someProp("handleDOMEvents",e=>{for(let n in e)t.input.eventHandlers[n]||t.dom.addEventListener(n,t.input.eventHandlers[n]=r=>vE(t,r))})}function vE(t,e){return t.someProp("handleDOMEvents",n=>{let r=n[e.type];return r?r(t,e)||e.defaultPrevented:!1})}function tSe(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target;n!=t.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(e))return!1;return!0}function nSe(t,e){!vE(t,e)&&Bi[e.type]&&(t.editable||!(e.type in zi))&&Bi[e.type](t,e)}zi.keydown=(t,e)=>{let n=e;if(t.input.shiftKey=n.keyCode==16||n.shiftKey,!RJ(t,n)&&(t.input.lastKeyCode=n.keyCode,t.input.lastKeyCodeTime=Date.now(),!(qa&&ai&&n.keyCode==13)))if(n.keyCode!=229&&t.domObserver.forceFlush(),Pp&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let r=Date.now();t.input.lastIOSEnter=r,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==r&&(t.someProp("handleKeyDown",i=>i(t,Bh(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",r=>r(t,n))||W8e(t,n)?n.preventDefault():gc(t,"key")};zi.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)};zi.keypress=(t,e)=>{let n=e;if(RJ(t,n)||!n.charCode||n.ctrlKey&&!n.altKey||ns&&n.metaKey)return;if(t.someProp("handleKeyPress",i=>i(t,n))){n.preventDefault();return}let r=t.state.selection;if(!(r instanceof nt)||!r.$from.sameParent(r.$to)){let i=String.fromCharCode(n.charCode),o=()=>t.state.tr.insertText(i).scrollIntoView();!/[\r\n]/.test(i)&&!t.someProp("handleTextInput",s=>s(t,r.$from.pos,r.$to.pos,i,o))&&t.dispatch(o()),n.preventDefault()}};function k3(t){return{left:t.clientX,top:t.clientY}}function rSe(t,e){let n=e.x-t.clientX,r=e.y-t.clientY;return n*n+r*r<100}function wE(t,e,n,r,i){if(r==-1)return!1;let o=t.state.doc.resolve(r);for(let s=o.depth+1;s>0;s--)if(t.someProp(e,l=>s>o.depth?l(t,n,o.nodeAfter,o.before(s),i,!0):l(t,n,o.node(s),o.before(s),i,!1)))return!0;return!1}function b0(t,e,n){if(t.focused||t.focus(),t.state.selection.eq(e))return;let r=t.state.tr.setSelection(e);r.setMeta("pointer",!0),t.dispatch(r)}function iSe(t,e){if(e==-1)return!1;let n=t.state.doc.resolve(e),r=n.nodeAfter;return r&&r.isAtom&&ut.isSelectable(r)?(b0(t,new ut(n)),!0):!1}function oSe(t,e){if(e==-1)return!1;let n=t.state.selection,r,i;n instanceof ut&&(r=n.node);let o=t.state.doc.resolve(e);for(let s=o.depth+1;s>0;s--){let l=s>o.depth?o.nodeAfter:o.node(s);if(ut.isSelectable(l)){r&&n.$from.depth>0&&s>=n.$from.depth&&o.before(n.$from.depth+1)==n.$from.pos?i=o.before(n.$from.depth):i=o.before(s);break}}return i!=null?(b0(t,ut.create(t.state.doc,i)),!0):!1}function sSe(t,e,n,r,i){return wE(t,"handleClickOn",e,n,r)||t.someProp("handleClick",o=>o(t,e,r))||(i?oSe(t,n):iSe(t,n))}function lSe(t,e,n,r){return wE(t,"handleDoubleClickOn",e,n,r)||t.someProp("handleDoubleClick",i=>i(t,e,r))}function aSe(t,e,n,r){return wE(t,"handleTripleClickOn",e,n,r)||t.someProp("handleTripleClick",i=>i(t,e,r))||uSe(t,n,r)}function uSe(t,e,n){if(n.button!=0)return!1;let r=t.state.doc;if(e==-1)return r.inlineContent?(b0(t,nt.create(r,0,r.content.size)),!0):!1;let i=r.resolve(e);for(let o=i.depth+1;o>0;o--){let s=o>i.depth?i.nodeAfter:i.node(o),l=i.before(o);if(s.inlineContent)b0(t,nt.create(r,l+1,l+1+s.content.size));else if(ut.isSelectable(s))b0(t,ut.create(r,l));else continue;return!0}}function xE(t){return Ix(t)}const IJ=ns?"metaKey":"ctrlKey";Bi.mousedown=(t,e)=>{let n=e;t.input.shiftKey=n.shiftKey;let r=xE(t),i=Date.now(),o="singleClick";i-t.input.lastClick.time<500&&rSe(n,t.input.lastClick)&&!n[IJ]&&t.input.lastClick.button==n.button&&(t.input.lastClick.type=="singleClick"?o="doubleClick":t.input.lastClick.type=="doubleClick"&&(o="tripleClick")),t.input.lastClick={time:i,x:n.clientX,y:n.clientY,type:o,button:n.button};let s=t.posAtCoords(k3(n));s&&(o=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new cSe(t,s,n,!!r)):(o=="doubleClick"?lSe:aSe)(t,s.pos,s.inside,n)?n.preventDefault():gc(t,"pointer"))};class cSe{constructor(e,n,r,i){this.view=e,this.pos=n,this.event=r,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[IJ],this.allowDefault=r.shiftKey;let o,s;if(n.inside>-1)o=e.state.doc.nodeAt(n.inside),s=n.inside;else{let c=e.state.doc.resolve(n.pos);o=c.parent,s=c.depth?c.before():0}const l=i?null:r.target,a=l?e.docView.nearestDesc(l,!0):null;this.target=a&&a.dom.nodeType==1?a.dom:null;let{selection:u}=e.state;(r.button==0&&o.type.spec.draggable&&o.type.spec.selectable!==!1||u instanceof ut&&u.from<=s&&u.to>s)&&(this.mightDrag={node:o,pos:s,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&ol&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),gc(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>ru(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(k3(e))),this.updateAllowDefault(e),this.allowDefault||!n?gc(this.view,"pointer"):sSe(this.view,n.pos,n.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||Li&&this.mightDrag&&!this.mightDrag.node.isAtom||ai&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(b0(this.view,yt.near(this.view.state.doc.resolve(n.pos))),e.preventDefault()):gc(this.view,"pointer")}move(e){this.updateAllowDefault(e),gc(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}Bi.touchstart=t=>{t.input.lastTouch=Date.now(),xE(t),gc(t,"pointer")};Bi.touchmove=t=>{t.input.lastTouch=Date.now(),gc(t,"pointer")};Bi.contextmenu=t=>xE(t);function RJ(t,e){return t.composing?!0:Li&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}const hSe=qa?5e3:-1;zi.compositionstart=zi.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,n=e.selection.$to;if(e.selection instanceof nt&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))t.markCursor=t.state.storedMarks||n.marks(),Ix(t,!0),t.markCursor=null;else if(Ix(t,!e.selection.empty),ol&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let r=t.domSelectionRange();for(let i=r.focusNode,o=r.focusOffset;i&&i.nodeType==1&&o!=0;){let s=o<0?i.lastChild:i.childNodes[o-1];if(!s)break;if(s.nodeType==3){let l=t.domSelection();l&&l.collapse(s,s.nodeValue.length);break}else i=s,o=-1}}t.input.composing=!0}NJ(t,hSe)};zi.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,t.input.compositionPendingChanges=t.domObserver.pendingRecords().length?t.input.compositionID:0,t.input.compositionNode=null,t.input.compositionPendingChanges&&Promise.resolve().then(()=>t.domObserver.flush()),t.input.compositionID++,NJ(t,20))};function NJ(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>Ix(t),e))}function LJ(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=dSe());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function fSe(t){let e=t.domSelectionRange();if(!e.focusNode)return null;let n=i8e(e.focusNode,e.focusOffset),r=o8e(e.focusNode,e.focusOffset);if(n&&r&&n!=r){let i=r.pmViewDesc,o=t.domObserver.lastChangedTextNode;if(n==o||r==o)return o;if(!i||!i.isText(r.nodeValue))return r;if(t.input.compositionNode==r){let s=n.pmViewDesc;if(!(!s||!s.isText(n.nodeValue)))return r}}return n||r}function dSe(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function Ix(t,e=!1){if(!(qa&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),LJ(t),e||t.docView&&t.docView.dirty){let n=mE(t),r=t.state.selection;return n&&!n.eq(r)?t.dispatch(t.state.tr.setSelection(n)):(t.markCursor||e)&&!r.$from.node(r.$from.sharedDepth(r.to)).inlineContent?t.dispatch(t.state.tr.deleteSelection()):t.updateState(t.state),!0}return!1}}function pSe(t,e){if(!t.dom.parentNode)return;let n=t.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),i=document.createRange();i.selectNodeContents(e),t.dom.blur(),r.removeAllRanges(),r.addRange(i),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),t.focus()},50)}const Py=ao&&Ec<15||Pp&&c8e<604;Bi.copy=zi.cut=(t,e)=>{let n=e,r=t.state.selection,i=n.type=="cut";if(r.empty)return;let o=Py?null:n.clipboardData,s=r.content(),{dom:l,text:a}=yE(t,s);o?(n.preventDefault(),o.clearData(),o.setData("text/html",l.innerHTML),o.setData("text/plain",a)):pSe(t,l),i&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function mSe(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function gSe(t,e){if(!t.dom.parentNode)return;let n=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,r=t.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let i=t.input.shiftKey&&t.input.lastKeyCode!=45;setTimeout(()=>{t.focus(),r.parentNode&&r.parentNode.removeChild(r),n?Dy(t,r.value,null,i,e):Dy(t,r.textContent,r.innerHTML,i,e)},50)}function Dy(t,e,n,r,i){let o=AJ(t,e,n,r,t.state.selection.$from);if(t.someProp("handlePaste",a=>a(t,i,o||He.empty)))return!0;if(!o)return!1;let s=mSe(o),l=s?t.state.tr.replaceSelectionWith(s,r):t.state.tr.replaceSelection(o);return t.dispatch(l.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function BJ(t){let e=t.getData("text/plain")||t.getData("Text");if(e)return e;let n=t.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}zi.paste=(t,e)=>{let n=e;if(t.composing&&!qa)return;let r=Py?null:n.clipboardData,i=t.input.shiftKey&&t.input.lastKeyCode!=45;r&&Dy(t,BJ(r),r.getData("text/html"),i,n)?n.preventDefault():gSe(t,n)};class zJ{constructor(e,n,r){this.slice=e,this.move=n,this.node=r}}const ySe=ns?"altKey":"ctrlKey";function FJ(t,e){let n=t.someProp("dragCopies",r=>!r(e));return n??!e[ySe]}Bi.dragstart=(t,e)=>{let n=e,r=t.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let i=t.state.selection,o=i.empty?null:t.posAtCoords(k3(n)),s;if(!(o&&o.pos>=i.from&&o.pos<=(i instanceof ut?i.to-1:i.to))){if(r&&r.mightDrag)s=ut.create(t.state.doc,r.mightDrag.pos);else if(n.target&&n.target.nodeType==1){let h=t.docView.nearestDesc(n.target,!0);h&&h.node.type.spec.draggable&&h!=t.docView&&(s=ut.create(t.state.doc,h.posBefore))}}let l=(s||t.state.selection).content(),{dom:a,text:u,slice:c}=yE(t,l);(!n.dataTransfer.files.length||!ai||hJ>120)&&n.dataTransfer.clearData(),n.dataTransfer.setData(Py?"Text":"text/html",a.innerHTML),n.dataTransfer.effectAllowed="copyMove",Py||n.dataTransfer.setData("text/plain",u),t.dragging=new zJ(c,FJ(t,n),s)};Bi.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)};zi.dragover=zi.dragenter=(t,e)=>e.preventDefault();zi.drop=(t,e)=>{let n=e,r=t.dragging;if(t.dragging=null,!n.dataTransfer)return;let i=t.posAtCoords(k3(n));if(!i)return;let o=t.state.doc.resolve(i.pos),s=r&&r.slice;s?t.someProp("transformPasted",p=>{s=p(s,t)}):s=AJ(t,BJ(n.dataTransfer),Py?null:n.dataTransfer.getData("text/html"),!1,o);let l=!!(r&&FJ(t,n));if(t.someProp("handleDrop",p=>p(t,n,s||He.empty,l))){n.preventDefault();return}if(!s)return;n.preventDefault();let a=s?wX(t.state.doc,o.pos,s):o.pos;a==null&&(a=o.pos);let u=t.state.tr;if(l){let{node:p}=r;p?p.replace(u):u.deleteSelection()}let c=u.mapping.map(a),h=s.openStart==0&&s.openEnd==0&&s.content.childCount==1,f=u.doc;if(h?u.replaceRangeWith(c,c,s.content.firstChild):u.replaceRange(c,c,s),u.doc.eq(f))return;let d=u.doc.resolve(c);if(h&&ut.isSelectable(s.content.firstChild)&&d.nodeAfter&&d.nodeAfter.sameMarkup(s.content.firstChild))u.setSelection(new ut(d));else{let p=u.mapping.map(a);u.mapping.maps[u.mapping.maps.length-1].forEach((m,y,g,v)=>p=v),u.setSelection(gE(t,d,u.doc.resolve(p)))}t.focus(),t.dispatch(u.setMeta("uiEvent","drop"))};Bi.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&ru(t)},20))};Bi.blur=(t,e)=>{let n=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),n.relatedTarget&&t.dom.contains(n.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};Bi.beforeinput=(t,e)=>{if(ai&&qa&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:r}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=r||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",o=>o(t,Bh(8,"Backspace")))))return;let{$cursor:i}=t.state.selection;i&&i.pos>0&&t.dispatch(t.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let t in zi)Bi[t]=zi[t];function _y(t,e){if(t==e)return!0;for(let n in t)if(t[n]!==e[n])return!1;for(let n in e)if(!(n in t))return!1;return!0}class Rx{constructor(e,n){this.toDOM=e,this.spec=n||bf,this.side=this.spec.side||0}map(e,n,r,i){let{pos:o,deleted:s}=e.mapResult(n.from+i,this.side<0?-1:1);return s?null:new gr(o-r,o-r,this)}valid(){return!0}eq(e){return this==e||e instanceof Rx&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&_y(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class Pc{constructor(e,n){this.attrs=e,this.spec=n||bf}map(e,n,r,i){let o=e.map(n.from+i,this.spec.inclusiveStart?-1:1)-r,s=e.map(n.to+i,this.spec.inclusiveEnd?1:-1)-r;return o>=s?null:new gr(o,s,this)}valid(e,n){return n.from<n.to}eq(e){return this==e||e instanceof Pc&&_y(this.attrs,e.attrs)&&_y(this.spec,e.spec)}static is(e){return e.type instanceof Pc}destroy(){}}class bE{constructor(e,n){this.attrs=e,this.spec=n||bf}map(e,n,r,i){let o=e.mapResult(n.from+i,1);if(o.deleted)return null;let s=e.mapResult(n.to+i,-1);return s.deleted||s.pos<=o.pos?null:new gr(o.pos-r,s.pos-r,this)}valid(e,n){let{index:r,offset:i}=e.content.findIndex(n.from),o;return i==n.from&&!(o=e.child(r)).isText&&i+o.nodeSize==n.to}eq(e){return this==e||e instanceof bE&&_y(this.attrs,e.attrs)&&_y(this.spec,e.spec)}destroy(){}}class gr{constructor(e,n,r){this.from=e,this.to=n,this.type=r}copy(e,n){return new gr(e,n,this.type)}eq(e,n=0){return this.type.eq(e.type)&&this.from+n==e.from&&this.to+n==e.to}map(e,n,r){return this.type.map(e,this,n,r)}static widget(e,n,r){return new gr(e,e,new Rx(n,r))}static inline(e,n,r,i){return new gr(e,n,new Pc(r,i))}static node(e,n,r,i){return new gr(e,n,new bE(r,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof Pc}get widget(){return this.type instanceof Rx}}const Od=[],bf={};class hn{constructor(e,n){this.local=e.length?e:Od,this.children=n.length?n:Od}static create(e,n){return n.length?Nx(n,e,0,bf):Qr}find(e,n,r){let i=[];return this.findInner(e??0,n??1e9,i,0,r),i}findInner(e,n,r,i,o){for(let s=0;s<this.local.length;s++){let l=this.local[s];l.from<=n&&l.to>=e&&(!o||o(l.spec))&&r.push(l.copy(l.from+i,l.to+i))}for(let s=0;s<this.children.length;s+=3)if(this.children[s]<n&&this.children[s+1]>e){let l=this.children[s]+1;this.children[s+2].findInner(e-l,n-l,r,i+l,o)}}map(e,n,r){return this==Qr||e.maps.length==0?this:this.mapInner(e,n,0,0,r||bf)}mapInner(e,n,r,i,o){let s;for(let l=0;l<this.local.length;l++){let a=this.local[l].map(e,r,i);a&&a.type.valid(n,a)?(s||(s=[])).push(a):o.onRemove&&o.onRemove(this.local[l].spec)}return this.children.length?vSe(this.children,s||[],e,n,r,i,o):s?new hn(s.sort(kf),Od):Qr}add(e,n){return n.length?this==Qr?hn.create(e,n):this.addInner(e,n,0):this}addInner(e,n,r){let i,o=0;e.forEach((l,a)=>{let u=a+r,c;if(c=VJ(n,l,u)){for(i||(i=this.children.slice());o<i.length&&i[o]<a;)o+=3;i[o]==a?i[o+2]=i[o+2].addInner(l,c,u+1):i.splice(o,0,a,a+l.nodeSize,Nx(c,l,u+1,bf)),o+=3}});let s=$J(o?HJ(n):n,-r);for(let l=0;l<s.length;l++)s[l].type.valid(e,s[l])||s.splice(l--,1);return new hn(s.length?this.local.concat(s).sort(kf):this.local,i||this.children)}remove(e){return e.length==0||this==Qr?this:this.removeInner(e,0)}removeInner(e,n){let r=this.children,i=this.local;for(let o=0;o<r.length;o+=3){let s,l=r[o]+n,a=r[o+1]+n;for(let c=0,h;c<e.length;c++)(h=e[c])&&h.from>l&&h.to<a&&(e[c]=null,(s||(s=[])).push(h));if(!s)continue;r==this.children&&(r=this.children.slice());let u=r[o+2].removeInner(s,l+1);u!=Qr?r[o+2]=u:(r.splice(o,3),o-=3)}if(i.length){for(let o=0,s;o<e.length;o++)if(s=e[o])for(let l=0;l<i.length;l++)i[l].eq(s,n)&&(i==this.local&&(i=this.local.slice()),i.splice(l--,1))}return r==this.children&&i==this.local?this:i.length||r.length?new hn(i,r):Qr}forChild(e,n){if(this==Qr)return this;if(n.isLeaf)return hn.empty;let r,i;for(let l=0;l<this.children.length;l+=3)if(this.children[l]>=e){this.children[l]==e&&(r=this.children[l+2]);break}let o=e+1,s=o+n.content.size;for(let l=0;l<this.local.length;l++){let a=this.local[l];if(a.from<s&&a.to>o&&a.type instanceof Pc){let u=Math.max(o,a.from)-o,c=Math.min(s,a.to)-o;u<c&&(i||(i=[])).push(a.copy(u,c))}}if(i){let l=new hn(i.sort(kf),Od);return r?new rc([l,r]):l}return r||Qr}eq(e){if(this==e)return!0;if(!(e instanceof hn)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(e.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=e.children[n]||this.children[n+1]!=e.children[n+1]||!this.children[n+2].eq(e.children[n+2]))return!1;return!0}locals(e){return kE(this.localsInner(e))}localsInner(e){if(this==Qr)return Od;if(e.inlineContent||!this.local.some(Pc.is))return this.local;let n=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof Pc||n.push(this.local[r]);return n}forEachSet(e){e(this)}}hn.empty=new hn([],[]);hn.removeOverlap=kE;const Qr=hn.empty;class rc{constructor(e){this.members=e}map(e,n){const r=this.members.map(i=>i.map(e,n,bf));return rc.from(r)}forChild(e,n){if(n.isLeaf)return hn.empty;let r=[];for(let i=0;i<this.members.length;i++){let o=this.members[i].forChild(e,n);o!=Qr&&(o instanceof rc?r=r.concat(o.members):r.push(o))}return rc.from(r)}eq(e){if(!(e instanceof rc)||e.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(e.members[n]))return!1;return!0}locals(e){let n,r=!0;for(let i=0;i<this.members.length;i++){let o=this.members[i].localsInner(e);if(o.length)if(!n)n=o;else{r&&(n=n.slice(),r=!1);for(let s=0;s<o.length;s++)n.push(o[s])}}return n?kE(r?n:n.sort(kf)):Od}static from(e){switch(e.length){case 0:return Qr;case 1:return e[0];default:return new rc(e.every(n=>n instanceof hn)?e:e.reduce((n,r)=>n.concat(r instanceof hn?r:r.members),[]))}}forEachSet(e){for(let n=0;n<this.members.length;n++)this.members[n].forEachSet(e)}}function vSe(t,e,n,r,i,o,s){let l=t.slice();for(let u=0,c=o;u<n.maps.length;u++){let h=0;n.maps[u].forEach((f,d,p,m)=>{let y=m-p-(d-f);for(let g=0;g<l.length;g+=3){let v=l[g+1];if(v<0||f>v+c-h)continue;let w=l[g]+c-h;d>=w?l[g+1]=f<=w?-2:-1:f>=c&&y&&(l[g]+=y,l[g+1]+=y)}h+=y}),c=n.maps[u].map(c,-1)}let a=!1;for(let u=0;u<l.length;u+=3)if(l[u+1]<0){if(l[u+1]==-2){a=!0,l[u+1]=-1;continue}let c=n.map(t[u]+o),h=c-i;if(h<0||h>=r.content.size){a=!0;continue}let f=n.map(t[u+1]+o,-1),d=f-i,{index:p,offset:m}=r.content.findIndex(h),y=r.maybeChild(p);if(y&&m==h&&m+y.nodeSize==d){let g=l[u+2].mapInner(n,y,c+1,t[u]+o+1,s);g!=Qr?(l[u]=h,l[u+1]=d,l[u+2]=g):(l[u+1]=-2,a=!0)}else a=!0}if(a){let u=wSe(l,t,e,n,i,o,s),c=Nx(u,r,0,s);e=c.local;for(let h=0;h<l.length;h+=3)l[h+1]<0&&(l.splice(h,3),h-=3);for(let h=0,f=0;h<c.children.length;h+=3){let d=c.children[h];for(;f<l.length&&l[f]<d;)f+=3;l.splice(f,0,c.children[h],c.children[h+1],c.children[h+2])}}return new hn(e.sort(kf),l)}function $J(t,e){if(!e||!t.length)return t;let n=[];for(let r=0;r<t.length;r++){let i=t[r];n.push(new gr(i.from+e,i.to+e,i.type))}return n}function wSe(t,e,n,r,i,o,s){function l(a,u){for(let c=0;c<a.local.length;c++){let h=a.local[c].map(r,i,u);h?n.push(h):s.onRemove&&s.onRemove(a.local[c].spec)}for(let c=0;c<a.children.length;c+=3)l(a.children[c+2],a.children[c]+u+1)}for(let a=0;a<t.length;a+=3)t[a+1]==-1&&l(t[a+2],e[a]+o+1);return n}function VJ(t,e,n){if(e.isLeaf)return null;let r=n+e.nodeSize,i=null;for(let o=0,s;o<t.length;o++)(s=t[o])&&s.from>n&&s.to<r&&((i||(i=[])).push(s),t[o]=null);return i}function HJ(t){let e=[];for(let n=0;n<t.length;n++)t[n]!=null&&e.push(t[n]);return e}function Nx(t,e,n,r){let i=[],o=!1;e.forEach((l,a)=>{let u=VJ(t,l,a+n);if(u){o=!0;let c=Nx(u,l,n+a+1,r);c!=Qr&&i.push(a,a+l.nodeSize,c)}});let s=$J(o?HJ(t):t,-n).sort(kf);for(let l=0;l<s.length;l++)s[l].type.valid(e,s[l])||(r.onRemove&&r.onRemove(s[l].spec),s.splice(l--,1));return s.length||i.length?new hn(s,i):Qr}function kf(t,e){return t.from-e.from||t.to-e.to}function kE(t){let e=t;for(let n=0;n<e.length-1;n++){let r=e[n];if(r.from!=r.to)for(let i=n+1;i<e.length;i++){let o=e[i];if(o.from==r.from){o.to!=r.to&&(e==t&&(e=t.slice()),e[i]=o.copy(o.from,r.to),ZB(e,i+1,o.copy(r.to,o.to)));continue}else{o.from<r.to&&(e==t&&(e=t.slice()),e[n]=r.copy(r.from,o.from),ZB(e,i,r.copy(o.from,r.to)));break}}}return e}function ZB(t,e,n){for(;e<t.length&&kf(n,t[e])>0;)e++;t.splice(e,0,n)}function pk(t){let e=[];return t.someProp("decorations",n=>{let r=n(t.state);r&&r!=Qr&&e.push(r)}),t.cursorWrapper&&e.push(hn.create(t.state.doc,[t.cursorWrapper.deco])),rc.from(e)}const xSe={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},bSe=ao&&Ec<=11;class kSe{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class SSe{constructor(e,n){this.view=e,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new kSe,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let i=0;i<r.length;i++)this.queue.push(r[i]);ao&&Ec<=11&&r.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),bSe&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,xSe)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let n=0;n<e.length;n++)this.queue.push(e[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(WB(this.view)){if(this.suppressingSelectionUpdates)return ru(this.view);if(ao&&Ec<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&Uf(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let n=new Set,r;for(let o=e.focusNode;o;o=Op(o))n.add(o);for(let o=e.anchorNode;o;o=Op(o))if(n.has(o)){r=o;break}let i=r&&this.view.docView.nearestDesc(r);if(i&&i.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let r=e.domSelectionRange(),i=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&WB(e)&&!this.ignoreSelectionChange(r),o=-1,s=-1,l=!1,a=[];if(e.editable)for(let c=0;c<n.length;c++){let h=this.registerMutation(n[c],a);h&&(o=o<0?h.from:Math.min(h.from,o),s=s<0?h.to:Math.max(h.to,s),h.typeOver&&(l=!0))}if(ol&&a.length){let c=a.filter(h=>h.nodeName=="BR");if(c.length==2){let[h,f]=c;h.parentNode&&h.parentNode.parentNode==f.parentNode?f.remove():h.remove()}else{let{focusNode:h}=this.currentSelection;for(let f of c){let d=f.parentNode;d&&d.nodeName=="LI"&&(!h||MSe(e,h)!=d)&&f.remove()}}}let u=null;o<0&&i&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&x3(r)&&(u=mE(e))&&u.eq(yt.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,ru(e),this.currentSelection.set(r),e.scrollToSelection()):(o>-1||i)&&(o>-1&&(e.docView.markDirty(o,s),CSe(e)),this.handleDOMChange(o,s,l,a),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(r)||ru(e),this.currentSelection.set(r))}registerMutation(e,n){if(n.indexOf(e.target)>-1)return null;let r=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(r==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!r||r.ignoreMutation(e))return null;if(e.type=="childList"){for(let c=0;c<e.addedNodes.length;c++){let h=e.addedNodes[c];n.push(h),h.nodeType==3&&(this.lastChangedTextNode=h)}if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(e.target))return{from:r.posBefore,to:r.posAfter};let i=e.previousSibling,o=e.nextSibling;if(ao&&Ec<=11&&e.addedNodes.length)for(let c=0;c<e.addedNodes.length;c++){let{previousSibling:h,nextSibling:f}=e.addedNodes[c];(!h||Array.prototype.indexOf.call(e.addedNodes,h)<0)&&(i=h),(!f||Array.prototype.indexOf.call(e.addedNodes,f)<0)&&(o=f)}let s=i&&i.parentNode==e.target?jr(i)+1:0,l=r.localPosFromDOM(e.target,s,-1),a=o&&o.parentNode==e.target?jr(o):e.target.childNodes.length,u=r.localPosFromDOM(e.target,a,1);return{from:l,to:u}}else return e.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:(this.lastChangedTextNode=e.target,{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let QB=new WeakMap,ez=!1;function CSe(t){if(!QB.has(t)&&(QB.set(t,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace)!==-1)){if(t.requiresGeckoHackNode=ol,ez)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),ez=!0}}function tz(t,e){let n=e.startContainer,r=e.startOffset,i=e.endContainer,o=e.endOffset,s=t.domAtPos(t.state.selection.anchor);return Uf(s.node,s.offset,i,o)&&([n,r,i,o]=[i,o,n,r]),{anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:o}}function TSe(t,e){if(e.getComposedRanges){let i=e.getComposedRanges(t.root)[0];if(i)return tz(t,i)}let n;function r(i){i.preventDefault(),i.stopImmediatePropagation(),n=i.getTargetRanges()[0]}return t.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",r,!0),n?tz(t,n):null}function MSe(t,e){for(let n=e.parentNode;n&&n!=t.dom;n=n.parentNode){let r=t.docView.nearestDesc(n,!0);if(r&&r.node.isBlock)return n}return null}function ASe(t,e,n){let{node:r,fromOffset:i,toOffset:o,from:s,to:l}=t.docView.parseRange(e,n),a=t.domSelectionRange(),u,c=a.anchorNode;if(c&&t.dom.contains(c.nodeType==1?c:c.parentNode)&&(u=[{node:c,offset:a.anchorOffset}],x3(a)||u.push({node:a.focusNode,offset:a.focusOffset})),ai&&t.input.lastKeyCode===8)for(let y=o;y>i;y--){let g=r.childNodes[y-1],v=g.pmViewDesc;if(g.nodeName=="BR"&&!v){o=y;break}if(!v||v.size)break}let h=t.state.doc,f=t.someProp("domParser")||jf.fromSchema(t.state.schema),d=h.resolve(s),p=null,m=f.parse(r,{topNode:d.parent,topMatch:d.parent.contentMatchAt(d.index()),topOpen:!0,from:i,to:o,preserveWhitespace:d.parent.type.whitespace=="pre"?"full":!0,findPositions:u,ruleFromNode:ESe,context:d});if(u&&u[0].pos!=null){let y=u[0].pos,g=u[1]&&u[1].pos;g==null&&(g=y),p={anchor:y+s,head:g+s}}return{doc:m,sel:p,from:s,to:l}}function ESe(t){let e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName=="BR"&&t.parentNode){if(Li&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(t.parentNode.lastChild==t||Li&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}const OSe=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function PSe(t,e,n,r,i){let o=t.input.compositionPendingChanges||(t.composing?t.input.compositionID:0);if(t.input.compositionPendingChanges=0,e<0){let A=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,z=mE(t,A);if(z&&!t.state.selection.eq(z)){if(ai&&qa&&t.input.lastKeyCode===13&&Date.now()-100<t.input.lastKeyCodeTime&&t.someProp("handleKeyDown",B=>B(t,Bh(13,"Enter"))))return;let E=t.state.tr.setSelection(z);A=="pointer"?E.setMeta("pointer",!0):A=="key"&&E.scrollIntoView(),o&&E.setMeta("composition",o),t.dispatch(E)}return}let s=t.state.doc.resolve(e),l=s.sharedDepth(n);e=s.before(l+1),n=t.state.doc.resolve(n).after(l+1);let a=t.state.selection,u=ASe(t,e,n),c=t.state.doc,h=c.slice(u.from,u.to),f,d;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(f=t.state.selection.to,d="end"):(f=t.state.selection.from,d="start"),t.input.lastKeyCode=null;let p=ISe(h.content,u.doc.content,u.from,f,d);if(p&&t.input.domChangeCount++,(Pp&&t.input.lastIOSEnter>Date.now()-225||qa)&&i.some(A=>A.nodeType==1&&!OSe.test(A.nodeName))&&(!p||p.endA>=p.endB)&&t.someProp("handleKeyDown",A=>A(t,Bh(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!p)if(r&&a instanceof nt&&!a.empty&&a.$head.sameParent(a.$anchor)&&!t.composing&&!(u.sel&&u.sel.anchor!=u.sel.head))p={start:a.from,endA:a.to,endB:a.to};else{if(u.sel){let A=nz(t,t.state.doc,u.sel);if(A&&!A.eq(t.state.selection)){let z=t.state.tr.setSelection(A);o&&z.setMeta("composition",o),t.dispatch(z)}}return}t.state.selection.from<t.state.selection.to&&p.start==p.endB&&t.state.selection instanceof nt&&(p.start>t.state.selection.from&&p.start<=t.state.selection.from+2&&t.state.selection.from>=u.from?p.start=t.state.selection.from:p.endA<t.state.selection.to&&p.endA>=t.state.selection.to-2&&t.state.selection.to<=u.to&&(p.endB+=t.state.selection.to-p.endA,p.endA=t.state.selection.to)),ao&&Ec<=11&&p.endB==p.start+1&&p.endA==p.start&&p.start>u.from&&u.doc.textBetween(p.start-u.from-1,p.start-u.from+1)==" "&&(p.start--,p.endA--,p.endB--);let m=u.doc.resolveNoCache(p.start-u.from),y=u.doc.resolveNoCache(p.endB-u.from),g=c.resolve(p.start),v=m.sameParent(y)&&m.parent.inlineContent&&g.end()>=p.endA,w;if((Pp&&t.input.lastIOSEnter>Date.now()-225&&(!v||i.some(A=>A.nodeName=="DIV"||A.nodeName=="P"))||!v&&m.pos<u.doc.content.size&&(!m.sameParent(y)||!m.parent.inlineContent)&&!/\S/.test(u.doc.textBetween(m.pos,y.pos,"",""))&&(w=yt.findFrom(u.doc.resolve(m.pos+1),1,!0))&&w.head>m.pos)&&t.someProp("handleKeyDown",A=>A(t,Bh(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>p.start&&_Se(c,p.start,p.endA,m,y)&&t.someProp("handleKeyDown",A=>A(t,Bh(8,"Backspace")))){qa&&ai&&t.domObserver.suppressSelectionUpdates();return}ai&&p.endB==p.start&&(t.input.lastChromeDelete=Date.now()),qa&&!v&&m.start()!=y.start()&&y.parentOffset==0&&m.depth==y.depth&&u.sel&&u.sel.anchor==u.sel.head&&u.sel.head==p.endA&&(p.endB-=2,y=u.doc.resolveNoCache(p.endB-u.from),setTimeout(()=>{t.someProp("handleKeyDown",function(A){return A(t,Bh(13,"Enter"))})},20));let b=p.start,S=p.endA,k=A=>{let z=A||t.state.tr.replace(b,S,u.doc.slice(p.start-u.from,p.endB-u.from));if(u.sel){let E=nz(t,z.doc,u.sel);E&&!(ai&&t.composing&&E.empty&&(p.start!=p.endB||t.input.lastChromeDelete<Date.now()-100)&&(E.head==b||E.head==z.mapping.map(S)-1)||ao&&E.empty&&E.head==b)&&z.setSelection(E)}return o&&z.setMeta("composition",o),z.scrollIntoView()},T;if(v){if(m.pos==y.pos){ao&&Ec<=11&&m.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>ru(t),20));let A=k(t.state.tr.delete(b,S)),z=c.resolve(p.start).marksAcross(c.resolve(p.endA));z&&A.ensureMarks(z),t.dispatch(A)}else if(p.endA==p.endB&&(T=DSe(m.parent.content.cut(m.parentOffset,y.parentOffset),g.parent.content.cut(g.parentOffset,p.endA-g.start())))){let A=k(t.state.tr);T.type=="add"?A.addMark(b,S,T.mark):A.removeMark(b,S,T.mark),t.dispatch(A)}else if(m.parent.child(m.index()).isText&&m.index()==y.index()-(y.textOffset?0:1)){let A=m.parent.textBetween(m.parentOffset,y.parentOffset),z=()=>k(t.state.tr.insertText(A,b,S));t.someProp("handleTextInput",E=>E(t,b,S,A,z))||t.dispatch(z())}}else t.dispatch(k())}function nz(t,e,n){return Math.max(n.anchor,n.head)>e.content.size?null:gE(t,e.resolve(n.anchor),e.resolve(n.head))}function DSe(t,e){let n=t.firstChild.marks,r=e.firstChild.marks,i=n,o=r,s,l,a;for(let c=0;c<r.length;c++)i=r[c].removeFromSet(i);for(let c=0;c<n.length;c++)o=n[c].removeFromSet(o);if(i.length==1&&o.length==0)l=i[0],s="add",a=c=>c.mark(l.addToSet(c.marks));else if(i.length==0&&o.length==1)l=o[0],s="remove",a=c=>c.mark(l.removeFromSet(c.marks));else return null;let u=[];for(let c=0;c<e.childCount;c++)u.push(a(e.child(c)));if(_e.from(u).eq(t))return{mark:l,type:s}}function _Se(t,e,n,r,i){if(n-e<=i.pos-r.pos||mk(r,!0,!1)<i.pos)return!1;let o=t.resolve(e);if(!r.parent.isTextblock){let l=o.nodeAfter;return l!=null&&n==e+l.nodeSize}if(o.parentOffset<o.parent.content.size||!o.parent.isTextblock)return!1;let s=t.resolve(mk(o,!0,!0));return!s.parent.isTextblock||s.pos>n||mk(s,!0,!1)<n?!1:r.parent.content.cut(r.parentOffset).eq(s.parent.content)}function mk(t,e,n){let r=t.depth,i=e?t.end():t.pos;for(;r>0&&(e||t.indexAfter(r)==t.node(r).childCount);)r--,i++,e=!1;if(n){let o=t.node(r).maybeChild(t.indexAfter(r));for(;o&&!o.isLeaf;)o=o.firstChild,i++}return i}function ISe(t,e,n,r,i){let o=t.findDiffStart(e,n);if(o==null)return null;let{a:s,b:l}=t.findDiffEnd(e,n+t.size,n+e.size);if(i=="end"){let a=Math.max(0,o-Math.min(s,l));r-=s+a-o}if(s<o&&t.size<e.size){let a=r<=o&&r>=s?o-r:0;o-=a,o&&o<e.size&&rz(e.textBetween(o-1,o+1))&&(o+=a?1:-1),l=o+(l-s),s=o}else if(l<o){let a=r<=o&&r>=l?o-r:0;o-=a,o&&o<t.size&&rz(t.textBetween(o-1,o+1))&&(o+=a?1:-1),s=o+(s-l),l=o}return{start:o,endA:s,endB:l}}function rz(t){if(t.length!=2)return!1;let e=t.charCodeAt(0),n=t.charCodeAt(1);return e>=56320&&e<=57343&&n>=55296&&n<=56319}class SE{constructor(e,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new Z8e,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(az),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=sz(this),oz(this),this.nodeViews=lz(this),this.docView=zB(this.state.doc,iz(this),pk(this),this.dom,this),this.domObserver=new SSe(this,(r,i,o,s)=>PSe(this,r,i,o,s)),this.domObserver.start(),Q8e(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let n in e)this._props[n]=e[n];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&vC(this);let n=this._props;this._props=e,e.plugins&&(e.plugins.forEach(az),this.directPlugins=e.plugins),this.updateStateInner(e.state,n)}setProps(e){let n={};for(let r in this._props)n[r]=this._props[r];n.state=this.state;for(let r in e)n[r]=e[r];this.update(n)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,n){var r;let i=this.state,o=!1,s=!1;e.storedMarks&&this.composing&&(LJ(this),s=!0),this.state=e;let l=i.plugins!=e.plugins||this._props.plugins!=n.plugins;if(l||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let d=lz(this);NSe(d,this.nodeViews)&&(this.nodeViews=d,o=!0)}(l||n.handleDOMEvents!=this._props.handleDOMEvents)&&vC(this),this.editable=sz(this),oz(this);let a=pk(this),u=iz(this),c=i.plugins!=e.plugins&&!i.doc.eq(e.doc)?"reset":e.scrollToSelection>i.scrollToSelection?"to selection":"preserve",h=o||!this.docView.matchesNode(e.doc,u,a);(h||!e.selection.eq(i.selection))&&(s=!0);let f=c=="preserve"&&s&&this.dom.style.overflowAnchor==null&&d8e(this);if(s){this.domObserver.stop();let d=h&&(ao||ai)&&!this.composing&&!i.selection.empty&&!e.selection.empty&&RSe(i.selection,e.selection);if(h){let p=ai?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=fSe(this)),(o||!this.docView.update(e.doc,u,a,this))&&(this.docView.updateOuterDeco(u),this.docView.destroy(),this.docView=zB(e.doc,u,a,this.dom,this)),p&&!this.trackWrites&&(d=!0)}d||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&B8e(this))?ru(this,d):(CJ(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(i),!((r=this.dragging)===null||r===void 0)&&r.node&&!i.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,i),c=="reset"?this.dom.scrollTop=0:c=="to selection"?this.scrollToSelection():f&&p8e(f)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!(!e||!this.dom.contains(e.nodeType==1?e:e.parentNode))){if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof ut){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&_B(this,n.getBoundingClientRect(),e)}else _B(this,this.coordsAtPos(this.state.selection.head,1),e)}}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let r=this.directPlugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let r=this.state.plugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let r=this.pluginViews[n];r.update&&r.update(this,e)}}updateDraggedNode(e,n){let r=e.node,i=-1;if(this.state.doc.nodeAt(r.from)==r.node)i=r.from;else{let o=r.from+(this.state.doc.content.size-n.doc.content.size);(o>0&&this.state.doc.nodeAt(o))==r.node&&(i=o)}this.dragging=new zJ(e.slice,e.move,i<0?void 0:ut.create(this.state.doc,i))}someProp(e,n){let r=this._props&&this._props[e],i;if(r!=null&&(i=n?n(r):r))return i;for(let s=0;s<this.directPlugins.length;s++){let l=this.directPlugins[s].props[e];if(l!=null&&(i=n?n(l):l))return i}let o=this.state.plugins;if(o)for(let s=0;s<o.length;s++){let l=o[s].props[e];if(l!=null&&(i=n?n(l):l))return i}}hasFocus(){if(ao){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&m8e(this.dom),ru(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return e||document}updateRoot(){this._root=null}posAtCoords(e){return x8e(this,e)}coordsAtPos(e,n=1){return gJ(this,e,n)}domAtPos(e,n=0){return this.docView.domFromPos(e,n)}nodeDOM(e){let n=this.docView.descAt(e);return n?n.nodeDOM:null}posAtDOM(e,n,r=-1){let i=this.docView.posFromDOM(e,n,r);if(i==null)throw new RangeError("DOM position not inside the editor");return i}endOfTextblock(e,n){return T8e(this,n||this.state,e)}pasteHTML(e,n){return Dy(this,"",e,!1,n||new ClipboardEvent("paste"))}pasteText(e,n){return Dy(this,e,null,!0,n||new ClipboardEvent("paste"))}serializeForClipboard(e){return yE(this,e)}destroy(){this.docView&&(eSe(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],pk(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,n8e())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return nSe(this,e)}domSelectionRange(){let e=this.domSelection();return e?Li&&this.root.nodeType===11&&l8e(this.dom.ownerDocument)==this.dom&&TSe(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}SE.prototype.dispatch=function(t){let e=this._props.dispatchTransaction;e?e.call(this,t):this.updateState(this.state.apply(t))};function iz(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(t.state)),n)for(let r in n)r=="class"?e.class+=" "+n[r]:r=="style"?e.style=(e.style?e.style+";":"")+n[r]:!e[r]&&r!="contenteditable"&&r!="nodeName"&&(e[r]=String(n[r]))}),e.translate||(e.translate="no"),[gr.node(0,t.state.doc.content.size,e)]}function oz(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:gr.widget(t.state.selection.from,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function sz(t){return!t.someProp("editable",e=>e(t.state)===!1)}function RSe(t,e){let n=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(n)!=e.$anchor.start(n)}function lz(t){let e=Object.create(null);function n(r){for(let i in r)Object.prototype.hasOwnProperty.call(e,i)||(e[i]=r[i])}return t.someProp("nodeViews",n),t.someProp("markViews",n),e}function NSe(t,e){let n=0,r=0;for(let i in t){if(t[i]!=e[i])return!0;n++}for(let i in e)r++;return n!=r}function az(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}function lh(t,e){return t.meta={package:"@milkdown/core",group:"System",...e},t}const jJ={text:(t,e,n,r)=>{const i=t.value;return/^[^*_\\]*\s+$/.test(i)?i:n.safe(i,{...r,encode:[]})},strong:(t,e,n,r)=>{const i=t.marker||n.options.strong||"*",o=n.enter("strong"),s=n.createTracker(r);let l=s.move(i+i);return l+=s.move(n.containerPhrasing(t,{before:l,after:i,...s.current()})),l+=s.move(i+i),o(),l},emphasis:(t,e,n,r)=>{const i=t.marker||n.options.emphasis||"*",o=n.enter("emphasis"),s=n.createTracker(r);let l=s.move(i);return l+=s.move(n.containerPhrasing(t,{before:l,after:i,...s.current()})),l+=s.move(i),o(),l}},xn=jt({},"editorView"),xg=jt({},"editorState"),gk=jt([],"initTimer"),wC=jt({},"editor"),Iy=jt([],"inputRules"),jc=jt([],"prosePlugins"),Ry=jt([],"remarkPlugins"),Ny=jt([],"nodeView"),Ly=jt([],"markView"),Sf=jt(ix().use(ex).use(oC),"remark"),y1=jt({handlers:jJ,encode:[]},"remarkStringifyOptions"),zw=Cu("ConfigReady");function LSe(t){const e=n=>(n.record(zw),async()=>(await t(n),n.done(zw),()=>{n.clearTimer(zw)}));return lh(e,{displayName:"Config"}),e}const Cf=Cu("InitReady");function BSe(t){const e=n=>(n.inject(wC,t).inject(jc,[]).inject(Ry,[]).inject(Iy,[]).inject(Ny,[]).inject(Ly,[]).inject(y1,{handlers:jJ,encode:[]}).inject(Sf,ix().use(ex).use(oC)).inject(gk,[zw]).record(Cf),async()=>{await n.waitTimers(gk);const r=n.get(y1);return n.set(Sf,ix().use(ex).use(oC,r)),n.done(Cf),()=>{n.remove(wC).remove(jc).remove(Ry).remove(Iy).remove(Ny).remove(Ly).remove(y1).remove(Sf).remove(gk).clearTimer(Cf)}});return lh(e,{displayName:"Init"}),e}const ws=Cu("SchemaReady"),yk=jt([],"schemaTimer"),Yl=jt({},"schema"),v1=jt([],"nodes"),w1=jt([],"marks");function uz(t){var e;return{...t,parseDOM:(e=t.parseDOM)==null?void 0:e.map(n=>({priority:t.priority,...n}))}}const WJ=t=>(t.inject(Yl,{}).inject(v1,[]).inject(w1,[]).inject(yk,[Cf]).record(ws),async()=>{await t.waitTimers(yk);const e=t.get(Sf),r=t.get(Ry).reduce((l,a)=>l.use(a.plugin,a.options),e);t.set(Sf,r);const i=Object.fromEntries(t.get(v1).map(([l,a])=>[l,uz(a)])),o=Object.fromEntries(t.get(w1).map(([l,a])=>[l,uz(a)])),s=new uX({nodes:i,marks:o});return t.set(Yl,s),t.done(ws),()=>{t.remove(Yl).remove(v1).remove(w1).remove(yk).clearTimer(ws)}});lh(WJ,{displayName:"Schema"});var Qh,ts;class UJ{constructor(){Pe(this,Qh);Pe(this,ts);ie(this,Qh,new LX),ie(this,ts,null),this.setCtx=e=>{ie(this,ts,e)},this.chain=()=>{if(V(this,ts)==null)throw lk();const e=V(this,ts),n=[],r=this.get.bind(this),i={run:()=>{const s=tm(...n),l=e.get(xn);return s(l.state,l.dispatch,l)},inline:s=>(n.push(s),i),pipe:o.bind(this)};function o(s,l){const a=r(s);return n.push(a(l)),i}return i}}get ctx(){return V(this,ts)}create(e,n){const r=e.create(V(this,Qh).sliceMap);return r.set(n),r}get(e){return V(this,Qh).get(e).get()}remove(e){return V(this,Qh).remove(e)}call(e,n){if(V(this,ts)==null)throw lk();const i=this.get(e)(n),o=V(this,ts).get(xn);return i(o.state,o.dispatch,o)}inline(e){if(V(this,ts)==null)throw lk();const n=V(this,ts).get(xn);return e(n.state,n.dispatch,n)}}Qh=new WeakMap,ts=new WeakMap;function zSe(t="cmdKey"){return jt(()=>()=>!1,t)}const Xe=jt(new UJ,"commands"),vk=jt([ws],"commandsTimer"),x1=Cu("CommandsReady"),qJ=t=>{const e=new UJ;return e.setCtx(t),t.inject(Xe,e).inject(vk,[ws]).record(x1),async()=>(await t.waitTimers(vk),t.done(x1),()=>{t.remove(Xe).remove(vk).clearTimer(x1)})};lh(qJ,{displayName:"Commands"});function FSe(t){const e=tm(Y6e,uE,Nke,rJ);return t.Backspace=e,t}var ef,Ui;class KJ{constructor(){Pe(this,ef);Pe(this,Ui);ie(this,ef,null),ie(this,Ui,[]),this.setCtx=e=>{ie(this,ef,e)},this.add=e=>(V(this,Ui).push(e),()=>{ie(this,Ui,V(this,Ui).filter(n=>n!==e))}),this.addObjectKeymap=e=>{const n=[];return Object.entries(e).forEach(([r,i])=>{if(typeof i=="function"){const o={key:r,onRun:()=>i};V(this,Ui).push(o),n.push(()=>{ie(this,Ui,V(this,Ui).filter(s=>s!==o))})}else V(this,Ui).push(i),n.push(()=>{ie(this,Ui,V(this,Ui).filter(o=>o!==i))})}),()=>{n.forEach(r=>r())}},this.addBaseKeymap=()=>{const e=FSe(Jke);return this.addObjectKeymap(e)},this.build=()=>{const e={};return V(this,Ui).forEach(r=>{e[r.key]=[...e[r.key]||[],r]}),Object.fromEntries(Object.entries(e).map(([r,i])=>{const o=i.sort((l,a)=>(a.priority??50)-(l.priority??50));return[r,(l,a,u)=>{const c=V(this,ef);if(c==null)throw g3();const h=o.map(d=>d.onRun(c));return tm(...h)(l,a,u)}]}))}}get ctx(){return V(this,ef)}}ef=new WeakMap,Ui=new WeakMap;const Lx=jt(new KJ,"keymap"),wk=jt([ws],"keymapTimer"),b1=Cu("KeymapReady"),$Se=t=>{const e=new KJ;return e.setCtx(t),t.inject(Lx,e).inject(wk,[ws]).record(b1),async()=>(await t.waitTimers(wk),t.done(b1),()=>{t.remove(Lx).remove(wk).clearTimer(b1)})},Fw=Cu("ParserReady"),GJ=()=>{throw g3()},k1=jt(GJ,"parser"),xk=jt([],"parserTimer"),YJ=t=>(t.inject(k1,GJ).inject(xk,[ws]).record(Fw),async()=>{await t.waitTimers(xk);const e=t.get(Sf),n=t.get(Yl);return t.set(k1,_ke.create(n,e)),t.done(Fw),()=>{t.remove(k1).remove(xk).clearTimer(Fw)}});lh(YJ,{displayName:"Parser"});const S1=Cu("SerializerReady"),bk=jt([],"serializerTimer"),XJ=()=>{throw g3()},k0=jt(XJ,"serializer"),JJ=t=>(t.inject(k0,XJ).inject(bk,[ws]).record(S1),async()=>{await t.waitTimers(bk);const e=t.get(Sf),n=t.get(Yl);return t.set(k0,Rke.create(n,e)),t.done(S1),()=>{t.remove(k0).remove(bk).clearTimer(S1)}});lh(JJ,{displayName:"Serializer"});const $w=jt("","defaultValue"),kk=jt(t=>t,"stateOptions"),Sk=jt([],"editorStateTimer"),Vw=Cu("EditorStateReady");function VSe(t,e,n){if(typeof t=="string")return e(t);if(t.type==="html")return jf.fromSchema(n).parse(t.dom);if(t.type==="json")return nu.fromJSON(n,t.value);throw J6e(t)}const HSe=new Xn("MILKDOWN_STATE_TRACKER"),ZJ=t=>(t.inject($w,"").inject(xg,{}).inject(kk,e=>e).inject(Sk,[Fw,S1,x1,b1]).record(Vw),async()=>{await t.waitTimers(Sk);const e=t.get(Yl),n=t.get(k1),r=t.get(Iy),i=t.get(kk),o=t.get(jc),s=t.get($w),l=VSe(s,n,e),a=t.get(Lx),u=a.addBaseKeymap(),c=[...o,new $n({key:HSe,state:{init:()=>{},apply:(d,p,m,y)=>{t.set(xg,y)}}}),p7e({rules:r}),uJ(a.build())];t.set(jc,c);const h=i({schema:e,doc:l,plugins:c}),f=qh.create(h);return t.set(xg,f),t.done(Vw),()=>{u(),t.remove($w).remove(xg).remove(kk).remove(Sk).clearTimer(Vw)}});lh(ZJ,{displayName:"EditorState"});const Hw=Cu("EditorViewReady"),Ck=jt([],"editorViewTimer"),C1=jt({},"editorViewOptions"),jw=jt(null,"root"),xC=jt(null,"rootDOM"),bC=jt({},"rootAttrs");function jSe(t,e){const n=document.createElement("div");n.className="milkdown",t.appendChild(n),e.set(xC,n);const r=e.get(bC);return Object.entries(r).forEach(([i,o])=>n.setAttribute(i,o)),n}function WSe(t){t.classList.add("editor"),t.setAttribute("role","textbox")}const USe=new Xn("MILKDOWN_VIEW_CLEAR"),QJ=t=>(t.inject(jw,document.body).inject(xn,{}).inject(C1,{}).inject(xC,null).inject(bC,{}).inject(Ck,[Vw]).record(Hw),async()=>{await t.wait(Cf);const e=t.get(jw)||document.body,n=typeof e=="string"?document.querySelector(e):e;t.update(jc,a=>[new $n({key:USe,view:u=>{const c=n?jSe(n,t):void 0;return(()=>{if(c&&n){const f=u.dom;n.replaceChild(c,f),c.appendChild(f)}})(),{destroy:()=>{c!=null&&c.parentNode&&(c==null||c.parentNode.replaceChild(u.dom,c)),c==null||c.remove()}}}}),...a]),await t.waitTimers(Ck);const r=t.get(xg),i=t.get(C1),o=Object.fromEntries(t.get(Ny)),s=Object.fromEntries(t.get(Ly)),l=new SE(n,{state:r,nodeViews:o,markViews:s,...i});return WSe(l.dom),t.set(xn,l),t.done(Hw),()=>{l==null||l.destroy(),t.remove(jw).remove(xn).remove(C1).remove(xC).remove(bC).remove(Ck).clearTimer(Hw)}});lh(QJ,{displayName:"EditorView"});var Bx=(t=>(t.Idle="Idle",t.OnCreate="OnCreate",t.Created="Created",t.OnDestroy="OnDestroy",t.Destroyed="Destroyed",t))(Bx||{}),tf,Co,Ba,$0,nv,rv,qi,za,nf,iv,rf,V0,ov,ac,H0;const uD=class uD{constructor(){Pe(this,tf);Pe(this,Co);Pe(this,Ba);Pe(this,$0);Pe(this,nv);Pe(this,rv);Pe(this,qi);Pe(this,za);Pe(this,nf);Pe(this,iv);Pe(this,rf);Pe(this,V0);Pe(this,ov);Pe(this,ac);Pe(this,H0);ie(this,tf,!1),ie(this,Co,"Idle"),ie(this,Ba,[]),ie(this,$0,()=>{}),ie(this,nv,new LX),ie(this,rv,new _7e),ie(this,qi,new Map),ie(this,za,new Map),ie(this,nf,new rC(V(this,nv),V(this,rv))),ie(this,iv,()=>{const e=LSe(async r=>{await Promise.all(V(this,Ba).map(i=>i(r)))}),n=[WJ,YJ,JJ,qJ,$Se,ZJ,QJ,BSe(this),e];V(this,rf).call(this,n,V(this,za))}),ie(this,rf,(e,n)=>{e.forEach(r=>{const i=V(this,nf).produce(V(this,tf)?r.meta:void 0),o=r(i);n.set(r,{ctx:i,handler:o,cleanup:void 0})})}),ie(this,V0,(e,n=!1)=>Promise.all([e].flat().map(r=>{const i=V(this,qi).get(r),o=i==null?void 0:i.cleanup;return n?V(this,qi).delete(r):V(this,qi).set(r,{ctx:void 0,handler:void 0,cleanup:void 0}),typeof o=="function"?o():o}))),ie(this,ov,async()=>{await Promise.all([...V(this,za).entries()].map(([e,{cleanup:n}])=>typeof n=="function"?n():n)),V(this,za).clear()}),ie(this,ac,e=>{ie(this,Co,e),V(this,$0).call(this,e)}),ie(this,H0,e=>[...e.entries()].map(async([n,r])=>{const{ctx:i,handler:o}=r;if(!o)return;const s=await o();e.set(n,{ctx:i,handler:o,cleanup:s})})),this.enableInspector=(e=!0)=>(ie(this,tf,e),this),this.onStatusChange=e=>(ie(this,$0,e),this),this.config=e=>(V(this,Ba).push(e),this),this.removeConfig=e=>(ie(this,Ba,V(this,Ba).filter(n=>n!==e)),this),this.use=e=>{const n=[e].flat();return n.flat().forEach(r=>{V(this,qi).set(r,{ctx:void 0,handler:void 0,cleanup:void 0})}),V(this,Co)==="Created"&&V(this,rf).call(this,n,V(this,qi)),this},this.remove=async e=>V(this,Co)==="OnCreate"?(console.warn("[Milkdown]: You are trying to remove plugins when the editor is creating, this is not recommended, please check your code."),new Promise(n=>{setTimeout(()=>{n(this.remove(e))},50)})):(await V(this,V0).call(this,[e].flat(),!0),this),this.create=async()=>V(this,Co)==="OnCreate"?this:(V(this,Co)==="Created"&&await this.destroy(),V(this,ac).call(this,"OnCreate"),V(this,iv).call(this),V(this,rf).call(this,[...V(this,qi).keys()],V(this,qi)),await Promise.all([V(this,H0).call(this,V(this,za)),V(this,H0).call(this,V(this,qi))].flat()),V(this,ac).call(this,"Created"),this),this.destroy=async(e=!1)=>V(this,Co)==="Destroyed"||V(this,Co)==="OnDestroy"?this:V(this,Co)==="OnCreate"?new Promise(n=>{setTimeout(()=>{n(this.destroy(e))},50)}):(e&&ie(this,Ba,[]),V(this,ac).call(this,"OnDestroy"),await V(this,V0).call(this,[...V(this,qi).keys()],e),await V(this,ov).call(this),V(this,ac).call(this,"Destroyed"),this),this.action=e=>e(V(this,nf)),this.inspect=()=>V(this,tf)?[...V(this,za).values(),...V(this,qi).values()].map(({ctx:e})=>{var n;return(n=e==null?void 0:e.inspector)==null?void 0:n.read()}).filter(e=>!!e):(console.warn("[Milkdown]: You are trying to collect inspection when inspector is disabled, please enable inspector by `editor.enableInspector()` first."),[])}static make(){return new uD}get ctx(){return V(this,nf)}get status(){return V(this,Co)}};tf=new WeakMap,Co=new WeakMap,Ba=new WeakMap,$0=new WeakMap,nv=new WeakMap,rv=new WeakMap,qi=new WeakMap,za=new WeakMap,nf=new WeakMap,iv=new WeakMap,rf=new WeakMap,V0=new WeakMap,ov=new WeakMap,ac=new WeakMap,H0=new WeakMap;let kC=uD;function vt(t,e){const n=zSe(t),r=i=>async()=>{r.key=n,await i.wait(x1);const o=e(i);return i.get(Xe).create(n,o),r.run=s=>i.get(Xe).call(t,s),()=>{i.get(Xe).remove(n)}};return r}function xi(t){const e=n=>async()=>{await n.wait(ws);const r=t(n);return n.update(Iy,i=>[...i,r]),e.inputRule=r,()=>{n.update(Iy,i=>i.filter(o=>o!==r))}};return e}function qSe(t,e){const n=r=>async()=>{const i=e(r);return r.update(w1,o=>[...o.filter(s=>s[0]!==t),[t,i]]),n.id=t,n.schema=i,()=>{r.update(w1,o=>o.filter(([s])=>s!==t))}};return n.type=r=>{const i=r.get(Yl).marks[t];if(!i)throw o7e(t);return i},n}function CE(t,e){const n=r=>async()=>{const i=e(r);return r.update(v1,o=>[...o.filter(s=>s[0]!==t),[t,i]]),n.id=t,n.schema=i,()=>{r.update(v1,o=>o.filter(([s])=>s!==t))}};return n.type=r=>{const i=r.get(Yl).nodes[t];if(!i)throw i7e(t);return i},n}function Cr(t){let e;const n=r=>async()=>(await r.wait(ws),e=t(r),r.update(jc,i=>[...i,e]),()=>{r.update(jc,i=>i.filter(o=>o!==e))});return n.plugin=()=>e,n.key=()=>e.spec.key,n}function eZ(t){const e=n=>async()=>{await n.wait(b1);const r=n.get(Lx),i=t(n),o=r.addObjectKeymap(i);return e.keymap=i,()=>{o()}};return e}function Xv(t,e){const n=r=>async()=>{await r.wait(ws);const i=e(r);return t.type(r)instanceof Px?r.update(Ny,o=>[...o,[t.id,i]]):r.update(Ly,o=>[...o,[t.id,i]]),n.view=i,n.type=t,()=>{t.type(r)instanceof Px?r.update(Ny,o=>o.filter(s=>s[0]!==t.id)):r.update(Ly,o=>o.filter(s=>s[0]!==t.id))}};return n}function ln(t,e){const n=jt(t,e),r=i=>(i.inject(n),()=>()=>{i.remove(n)});return r.key=n,r}function lr(t,e){const n=ln(e,t),r=CE(t,o=>o.get(n.key)(o)),i=[n,r];return i.id=r.id,i.node=r,i.type=o=>r.type(o),i.ctx=n,i.key=n.key,i.extendSchema=o=>{const s=o(e);return lr(t,s)},i}function nm(t,e){const n=ln(e,t),r=qSe(t,o=>o.get(n.key)(o)),i=[n,r];return i.id=r.id,i.mark=r,i.type=o=>r.type(o),i.ctx=n,i.key=n.key,i.extendSchema=o=>{const s=o(e);return nm(t,s)},i}function fo(t,e){const n=Object.fromEntries(Object.entries(e).map(([s,{shortcuts:l,priority:a}])=>[s,{shortcuts:l,priority:a}])),r=ln(n,`${t}Keymap`),i=eZ(s=>{const l=s.get(r.key),a=Object.entries(e).flatMap(([u,{command:c}])=>{const h=l[u],f=[h.shortcuts].flat(),d=h.priority;return f.map(p=>[p,{key:p,onRun:c,priority:d}])});return Object.fromEntries(a)}),o=[r,i];return o.ctx=r,o.shortcuts=i,o.key=r.key,o.keymap=i.keymap,o}const cl=(t,e=()=>({}))=>ln(e,`${t}Attr`),Jv=(t,e=()=>({}))=>ln(e,`${t}Attr`);function sa(t,e,n){const r=ln({},t),i=s=>async()=>{await s.wait(Cf);const a={plugin:e(s),options:s.get(r.key)};return s.update(Ry,u=>[...u,a]),()=>{s.update(Ry,u=>u.filter(c=>c!==a))}},o=[r,i];return o.id=t,o.plugin=i,o.options=r,o}function KSe(t){return e=>{const n=e.get(xn);return e.get(Yl),e.get(k0)(n.state.doc)}}const SC=Math.min,S0=Math.max,zx=Math.round,Xl=t=>({x:t,y:t}),GSe={left:"right",right:"left",bottom:"top",top:"bottom"},YSe={start:"end",end:"start"};function cz(t,e,n){return S0(t,SC(e,n))}function S3(t,e){return typeof t=="function"?t(e):t}function Kf(t){return t.split("-")[0]}function C3(t){return t.split("-")[1]}function tZ(t){return t==="x"?"y":"x"}function nZ(t){return t==="y"?"height":"width"}const XSe=new Set(["top","bottom"]);function yc(t){return XSe.has(Kf(t))?"y":"x"}function rZ(t){return tZ(yc(t))}function JSe(t,e,n){n===void 0&&(n=!1);const r=C3(t),i=rZ(t),o=nZ(i);let s=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(s=Fx(s)),[s,Fx(s)]}function ZSe(t){const e=Fx(t);return[CC(t),e,CC(e)]}function CC(t){return t.replace(/start|end/g,e=>YSe[e])}const hz=["left","right"],fz=["right","left"],QSe=["top","bottom"],e9e=["bottom","top"];function t9e(t,e,n){switch(t){case"top":case"bottom":return n?e?fz:hz:e?hz:fz;case"left":case"right":return e?QSe:e9e;default:return[]}}function n9e(t,e,n,r){const i=C3(t);let o=t9e(Kf(t),n==="start",r);return i&&(o=o.map(s=>s+"-"+i),e&&(o=o.concat(o.map(CC)))),o}function Fx(t){return t.replace(/left|right|bottom|top/g,e=>GSe[e])}function r9e(t){return{top:0,right:0,bottom:0,left:0,...t}}function i9e(t){return typeof t!="number"?r9e(t):{top:t,right:t,bottom:t,left:t}}function $x(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function dz(t,e,n){let{reference:r,floating:i}=t;const o=yc(e),s=rZ(e),l=nZ(s),a=Kf(e),u=o==="y",c=r.x+r.width/2-i.width/2,h=r.y+r.height/2-i.height/2,f=r[l]/2-i[l]/2;let d;switch(a){case"top":d={x:c,y:r.y-i.height};break;case"bottom":d={x:c,y:r.y+r.height};break;case"right":d={x:r.x+r.width,y:h};break;case"left":d={x:r.x-i.width,y:h};break;default:d={x:r.x,y:r.y}}switch(C3(e)){case"start":d[s]-=f*(n&&u?-1:1);break;case"end":d[s]+=f*(n&&u?-1:1);break}return d}const o9e=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:s}=n,l=o.filter(Boolean),a=await(s.isRTL==null?void 0:s.isRTL(e));let u=await s.getElementRects({reference:t,floating:e,strategy:i}),{x:c,y:h}=dz(u,r,a),f=r,d={},p=0;for(let m=0;m<l.length;m++){const{name:y,fn:g}=l[m],{x:v,y:w,data:b,reset:S}=await g({x:c,y:h,initialPlacement:r,placement:f,strategy:i,middlewareData:d,rects:u,platform:s,elements:{reference:t,floating:e}});c=v??c,h=w??h,d={...d,[y]:{...d[y],...b}},S&&p<=50&&(p++,typeof S=="object"&&(S.placement&&(f=S.placement),S.rects&&(u=S.rects===!0?await s.getElementRects({reference:t,floating:e,strategy:i}):S.rects),{x:c,y:h}=dz(u,f,a)),m=-1)}return{x:c,y:h,placement:f,strategy:i,middlewareData:d}};async function iZ(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:o,rects:s,elements:l,strategy:a}=t,{boundary:u="clippingAncestors",rootBoundary:c="viewport",elementContext:h="floating",altBoundary:f=!1,padding:d=0}=S3(e,t),p=i9e(d),y=l[f?h==="floating"?"reference":"floating":h],g=$x(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(y)))==null||n?y:y.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(l.floating)),boundary:u,rootBoundary:c,strategy:a})),v=h==="floating"?{x:r,y:i,width:s.floating.width,height:s.floating.height}:s.reference,w=await(o.getOffsetParent==null?void 0:o.getOffsetParent(l.floating)),b=await(o.isElement==null?void 0:o.isElement(w))?await(o.getScale==null?void 0:o.getScale(w))||{x:1,y:1}:{x:1,y:1},S=$x(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:v,offsetParent:w,strategy:a}):v);return{top:(g.top-S.top+p.top)/b.y,bottom:(S.bottom-g.bottom+p.bottom)/b.y,left:(g.left-S.left+p.left)/b.x,right:(S.right-g.right+p.right)/b.x}}const s9e=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:o,rects:s,initialPlacement:l,platform:a,elements:u}=e,{mainAxis:c=!0,crossAxis:h=!0,fallbackPlacements:f,fallbackStrategy:d="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:m=!0,...y}=S3(t,e);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const g=Kf(i),v=yc(l),w=Kf(l)===l,b=await(a.isRTL==null?void 0:a.isRTL(u.floating)),S=f||(w||!m?[Fx(l)]:ZSe(l)),k=p!=="none";!f&&k&&S.push(...n9e(l,m,p,b));const T=[l,...S],A=await iZ(e,y),z=[];let E=((r=o.flip)==null?void 0:r.overflows)||[];if(c&&z.push(A[g]),h){const G=JSe(i,s,b);z.push(A[G[0]],A[G[1]])}if(E=[...E,{placement:i,overflows:z}],!z.every(G=>G<=0)){var B,$;const G=(((B=o.flip)==null?void 0:B.index)||0)+1,q=T[G];if(q&&(!(h==="alignment"?v!==yc(q):!1)||E.every(L=>yc(L.placement)===v?L.overflows[0]>0:!0)))return{data:{index:G,overflows:E},reset:{placement:q}};let K=($=E.filter(Y=>Y.overflows[0]<=0).sort((Y,L)=>Y.overflows[1]-L.overflows[1])[0])==null?void 0:$.placement;if(!K)switch(d){case"bestFit":{var ae;const Y=(ae=E.filter(L=>{if(k){const X=yc(L.placement);return X===v||X==="y"}return!0}).map(L=>[L.placement,L.overflows.filter(X=>X>0).reduce((X,O)=>X+O,0)]).sort((L,X)=>L[1]-X[1])[0])==null?void 0:ae[0];Y&&(K=Y);break}case"initialPlacement":K=l;break}if(i!==K)return{reset:{placement:K}}}return{}}}},l9e=new Set(["left","top"]);async function a9e(t,e){const{placement:n,platform:r,elements:i}=t,o=await(r.isRTL==null?void 0:r.isRTL(i.floating)),s=Kf(n),l=C3(n),a=yc(n)==="y",u=l9e.has(s)?-1:1,c=o&&a?-1:1,h=S3(e,t);let{mainAxis:f,crossAxis:d,alignmentAxis:p}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return l&&typeof p=="number"&&(d=l==="end"?p*-1:p),a?{x:d*c,y:f*u}:{x:f*u,y:d*c}}const u9e=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:o,placement:s,middlewareData:l}=e,a=await a9e(e,t);return s===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:i+a.x,y:o+a.y,data:{...a,placement:s}}}}},c9e=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:o=!0,crossAxis:s=!1,limiter:l={fn:y=>{let{x:g,y:v}=y;return{x:g,y:v}}},...a}=S3(t,e),u={x:n,y:r},c=await iZ(e,a),h=yc(Kf(i)),f=tZ(h);let d=u[f],p=u[h];if(o){const y=f==="y"?"top":"left",g=f==="y"?"bottom":"right",v=d+c[y],w=d-c[g];d=cz(v,d,w)}if(s){const y=h==="y"?"top":"left",g=h==="y"?"bottom":"right",v=p+c[y],w=p-c[g];p=cz(v,p,w)}const m=l.fn({...e,[f]:d,[h]:p});return{...m,data:{x:m.x-n,y:m.y-r,enabled:{[f]:o,[h]:s}}}}}};function T3(){return typeof window<"u"}function rm(t){return oZ(t)?(t.nodeName||"").toLowerCase():"#document"}function No(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Tu(t){var e;return(e=(oZ(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function oZ(t){return T3()?t instanceof Node||t instanceof No(t).Node:!1}function sl(t){return T3()?t instanceof Element||t instanceof No(t).Element:!1}function ta(t){return T3()?t instanceof HTMLElement||t instanceof No(t).HTMLElement:!1}function pz(t){return!T3()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof No(t).ShadowRoot}const h9e=new Set(["inline","contents"]);function Zv(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=ll(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!h9e.has(i)}const f9e=new Set(["table","td","th"]);function d9e(t){return f9e.has(rm(t))}const p9e=[":popover-open",":modal"];function M3(t){return p9e.some(e=>{try{return t.matches(e)}catch{return!1}})}const m9e=["transform","translate","scale","rotate","perspective"],g9e=["transform","translate","scale","rotate","perspective","filter"],y9e=["paint","layout","strict","content"];function TE(t){const e=ME(),n=sl(t)?ll(t):t;return m9e.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||g9e.some(r=>(n.willChange||"").includes(r))||y9e.some(r=>(n.contain||"").includes(r))}function v9e(t){let e=Wc(t);for(;ta(e)&&!Dp(e);){if(TE(e))return e;if(M3(e))return null;e=Wc(e)}return null}function ME(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const w9e=new Set(["html","body","#document"]);function Dp(t){return w9e.has(rm(t))}function ll(t){return No(t).getComputedStyle(t)}function A3(t){return sl(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Wc(t){if(rm(t)==="html")return t;const e=t.assignedSlot||t.parentNode||pz(t)&&t.host||Tu(t);return pz(e)?e.host:e}function sZ(t){const e=Wc(t);return Dp(e)?t.ownerDocument?t.ownerDocument.body:t.body:ta(e)&&Zv(e)?e:sZ(e)}function TC(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=sZ(t),o=i===((r=t.ownerDocument)==null?void 0:r.body),s=No(i);if(o){const l=MC(s);return e.concat(s,s.visualViewport||[],Zv(i)?i:[],l&&n?TC(l):[])}return e.concat(i,TC(i,[],n))}function MC(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function lZ(t){const e=ll(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=ta(t),o=i?t.offsetWidth:n,s=i?t.offsetHeight:r,l=zx(n)!==o||zx(r)!==s;return l&&(n=o,r=s),{width:n,height:r,$:l}}function aZ(t){return sl(t)?t:t.contextElement}function C0(t){const e=aZ(t);if(!ta(e))return Xl(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:o}=lZ(e);let s=(o?zx(n.width):n.width)/r,l=(o?zx(n.height):n.height)/i;return(!s||!Number.isFinite(s))&&(s=1),(!l||!Number.isFinite(l))&&(l=1),{x:s,y:l}}const x9e=Xl(0);function uZ(t){const e=No(t);return!ME()||!e.visualViewport?x9e:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function b9e(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==No(t)?!1:e}function By(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),o=aZ(t);let s=Xl(1);e&&(r?sl(r)&&(s=C0(r)):s=C0(t));const l=b9e(o,n,r)?uZ(o):Xl(0);let a=(i.left+l.x)/s.x,u=(i.top+l.y)/s.y,c=i.width/s.x,h=i.height/s.y;if(o){const f=No(o),d=r&&sl(r)?No(r):r;let p=f,m=MC(p);for(;m&&r&&d!==p;){const y=C0(m),g=m.getBoundingClientRect(),v=ll(m),w=g.left+(m.clientLeft+parseFloat(v.paddingLeft))*y.x,b=g.top+(m.clientTop+parseFloat(v.paddingTop))*y.y;a*=y.x,u*=y.y,c*=y.x,h*=y.y,a+=w,u+=b,p=No(m),m=MC(p)}}return $x({width:c,height:h,x:a,y:u})}function E3(t,e){const n=A3(t).scrollLeft;return e?e.left+n:By(Tu(t)).left+n}function cZ(t,e){const n=t.getBoundingClientRect(),r=n.left+e.scrollLeft-E3(t,n),i=n.top+e.scrollTop;return{x:r,y:i}}function k9e(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const o=i==="fixed",s=Tu(r),l=e?M3(e.floating):!1;if(r===s||l&&o)return n;let a={scrollLeft:0,scrollTop:0},u=Xl(1);const c=Xl(0),h=ta(r);if((h||!h&&!o)&&((rm(r)!=="body"||Zv(s))&&(a=A3(r)),ta(r))){const d=By(r);u=C0(r),c.x=d.x+r.clientLeft,c.y=d.y+r.clientTop}const f=s&&!h&&!o?cZ(s,a):Xl(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-a.scrollLeft*u.x+c.x+f.x,y:n.y*u.y-a.scrollTop*u.y+c.y+f.y}}function S9e(t){return Array.from(t.getClientRects())}function C9e(t){const e=Tu(t),n=A3(t),r=t.ownerDocument.body,i=S0(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),o=S0(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+E3(t);const l=-n.scrollTop;return ll(r).direction==="rtl"&&(s+=S0(e.clientWidth,r.clientWidth)-i),{width:i,height:o,x:s,y:l}}const mz=25;function T9e(t,e){const n=No(t),r=Tu(t),i=n.visualViewport;let o=r.clientWidth,s=r.clientHeight,l=0,a=0;if(i){o=i.width,s=i.height;const c=ME();(!c||c&&e==="fixed")&&(l=i.offsetLeft,a=i.offsetTop)}const u=E3(r);if(u<=0){const c=r.ownerDocument,h=c.body,f=getComputedStyle(h),d=c.compatMode==="CSS1Compat"&&parseFloat(f.marginLeft)+parseFloat(f.marginRight)||0,p=Math.abs(r.clientWidth-h.clientWidth-d);p<=mz&&(o-=p)}else u<=mz&&(o+=u);return{width:o,height:s,x:l,y:a}}const M9e=new Set(["absolute","fixed"]);function A9e(t,e){const n=By(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,o=ta(t)?C0(t):Xl(1),s=t.clientWidth*o.x,l=t.clientHeight*o.y,a=i*o.x,u=r*o.y;return{width:s,height:l,x:a,y:u}}function gz(t,e,n){let r;if(e==="viewport")r=T9e(t,n);else if(e==="document")r=C9e(Tu(t));else if(sl(e))r=A9e(e,n);else{const i=uZ(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return $x(r)}function hZ(t,e){const n=Wc(t);return n===e||!sl(n)||Dp(n)?!1:ll(n).position==="fixed"||hZ(n,e)}function E9e(t,e){const n=e.get(t);if(n)return n;let r=TC(t,[],!1).filter(l=>sl(l)&&rm(l)!=="body"),i=null;const o=ll(t).position==="fixed";let s=o?Wc(t):t;for(;sl(s)&&!Dp(s);){const l=ll(s),a=TE(s);!a&&l.position==="fixed"&&(i=null),(o?!a&&!i:!a&&l.position==="static"&&!!i&&M9e.has(i.position)||Zv(s)&&!a&&hZ(t,s))?r=r.filter(c=>c!==s):i=l,s=Wc(s)}return e.set(t,r),r}function O9e(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const s=[...n==="clippingAncestors"?M3(e)?[]:E9e(e,this._c):[].concat(n),r],l=s[0],a=s.reduce((u,c)=>{const h=gz(e,c,i);return u.top=S0(h.top,u.top),u.right=SC(h.right,u.right),u.bottom=SC(h.bottom,u.bottom),u.left=S0(h.left,u.left),u},gz(e,l,i));return{width:a.right-a.left,height:a.bottom-a.top,x:a.left,y:a.top}}function P9e(t){const{width:e,height:n}=lZ(t);return{width:e,height:n}}function D9e(t,e,n){const r=ta(e),i=Tu(e),o=n==="fixed",s=By(t,!0,o,e);let l={scrollLeft:0,scrollTop:0};const a=Xl(0);function u(){a.x=E3(i)}if(r||!r&&!o)if((rm(e)!=="body"||Zv(i))&&(l=A3(e)),r){const d=By(e,!0,o,e);a.x=d.x+e.clientLeft,a.y=d.y+e.clientTop}else i&&u();o&&!r&&i&&u();const c=i&&!r&&!o?cZ(i,l):Xl(0),h=s.left+l.scrollLeft-a.x-c.x,f=s.top+l.scrollTop-a.y-c.y;return{x:h,y:f,width:s.width,height:s.height}}function Tk(t){return ll(t).position==="static"}function yz(t,e){if(!ta(t)||ll(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Tu(t)===n&&(n=n.ownerDocument.body),n}function fZ(t,e){const n=No(t);if(M3(t))return n;if(!ta(t)){let i=Wc(t);for(;i&&!Dp(i);){if(sl(i)&&!Tk(i))return i;i=Wc(i)}return n}let r=yz(t,e);for(;r&&d9e(r)&&Tk(r);)r=yz(r,e);return r&&Dp(r)&&Tk(r)&&!TE(r)?n:r||v9e(t)||n}const _9e=async function(t){const e=this.getOffsetParent||fZ,n=this.getDimensions,r=await n(t.floating);return{reference:D9e(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function I9e(t){return ll(t).direction==="rtl"}const R9e={convertOffsetParentRelativeRectToViewportRelativeRect:k9e,getDocumentElement:Tu,getClippingRect:O9e,getOffsetParent:fZ,getElementRects:_9e,getClientRects:S9e,getDimensions:P9e,getScale:C0,isElement:sl,isRTL:I9e},Uc=u9e,vz=c9e,Vx=s9e,al=(t,e,n)=>{const r=new Map,i={platform:R9e,...n},o={...i.platform,_c:r};return o9e(t,e,{...i,platform:o})};function Qv(t,e){return Object.assign(t,{meta:{package:"@milkdown/plugin-block",...e}}),t}const N9e=t=>!Gl(n=>n.type.name==="table")(t),O3=ln({filterNodes:N9e},"blockConfig");Qv(O3,{displayName:"Ctx<blockConfig>"});function L9e(t,e,n){var i;if(!t.dom.parentElement)return null;try{const o=(i=t.posAtCoords({left:e.x,top:e.y}))==null?void 0:i.inside;if(o==null||o<0)return null;let s=t.state.doc.resolve(o),l=t.state.doc.nodeAt(o),a=t.nodeDOM(o);const u=h=>{const f=s.depth>=1&&s.index(s.depth)===0;if(!(h||f))return;const p=s.before(s.depth);l=t.state.doc.nodeAt(p),a=t.nodeDOM(p),s=t.state.doc.resolve(p),n(s,l)||u(!0)},c=n(s,l);return u(!c),!a||!l?null:{node:l,$pos:s,el:a}}catch{return null}}const wz=m4.ie&&m4.ie_version<15||m4.ios&&m4.webkit_version<604,xz=20;var j0,sv,of,Hs,W0,js,Ga,dZ,bg,sf,lf,lv,U0,q0,K0,av,af;class B9e{constructor(){Pe(this,Ga);Pe(this,j0);Pe(this,sv);Pe(this,of);Pe(this,Hs);Pe(this,W0);Pe(this,js);Pe(this,sf);Pe(this,lf);Pe(this,lv);Pe(this,U0);Pe(this,q0);Pe(this,K0);Pe(this,av);Pe(this,af);ie(this,sv,()=>{if(!V(this,Hs))return null;const e=V(this,Hs),n=V(this,Ga,bg);if(n&&ut.isSelectable(e.node)){const r=ut.create(n.state.doc,e.$pos.pos);return n.dispatch(n.state.tr.setSelection(r)),n.focus(),ie(this,of,r),r}return null}),ie(this,of,null),ie(this,Hs,null),ie(this,W0,void 0),ie(this,js,!1),ie(this,lf,()=>{var e;(e=V(this,sf))==null||e.call(this,{type:"hide"}),ie(this,Hs,null)}),ie(this,lv,e=>{var n;ie(this,Hs,e),(n=V(this,sf))==null||n.call(this,{type:"show",active:e})}),this.bind=(e,n)=>{ie(this,j0,e),ie(this,sf,n)},this.addEvent=e=>{e.addEventListener("mousedown",V(this,U0)),e.addEventListener("mouseup",V(this,q0)),e.addEventListener("dragstart",V(this,K0))},this.removeEvent=e=>{e.removeEventListener("mousedown",V(this,U0)),e.removeEventListener("mouseup",V(this,q0)),e.removeEventListener("dragstart",V(this,K0))},this.unBind=()=>{ie(this,sf,void 0)},ie(this,U0,()=>{var e;ie(this,W0,(e=V(this,Hs))==null?void 0:e.el.getBoundingClientRect()),V(this,sv).call(this)}),ie(this,q0,()=>{if(!V(this,js)){requestAnimationFrame(()=>{var e;V(this,W0)&&((e=V(this,Ga,bg))==null||e.focus())});return}ie(this,js,!1),ie(this,of,null)}),ie(this,K0,e=>{var i;ie(this,js,!0);const n=V(this,Ga,bg);if(!n)return;n.dom.dataset.dragging="true";const r=V(this,of);if(e.dataTransfer&&r){const o=r.content();e.dataTransfer.effectAllowed="copyMove";const{dom:s,text:l}=n.serializeForClipboard(o);e.dataTransfer.clearData(),e.dataTransfer.setData(wz?"Text":"text/html",s.innerHTML),wz||e.dataTransfer.setData("text/plain",l);const a=(i=V(this,Hs))==null?void 0:i.el;a&&e.dataTransfer.setDragImage(a,0,0),n.dragging={slice:o,move:!0}}}),this.keydownCallback=e=>(V(this,lf).call(this),ie(this,js,!1),e.dom.dataset.dragging="false",!1),ie(this,av,t3((e,n)=>{if(!e.editable)return;const r=e.dom.getBoundingClientRect(),i=r.left+r.width/2;if(!(e.root.elementFromPoint(i,n.clientY)instanceof Element)){V(this,lf).call(this);return}const s=V(this,Ga,dZ);if(!s)return;const l=L9e(e,{x:i,y:n.clientY},s);if(!l){V(this,lf).call(this);return}V(this,lv).call(this,l)},200)),this.mousemoveCallback=(e,n)=>(e.composing||!e.editable||V(this,av).call(this,e,n),!1),this.dragoverCallback=(e,n)=>{var r;if(V(this,js)){const i=(r=V(this,Ga,bg))==null?void 0:r.dom.parentElement;if(!i)return!1;const o=i.scrollHeight>i.clientHeight,s=i.getBoundingClientRect();if(o){if(i.scrollTop>0&&Math.abs(n.y-s.y)<xz){const u=i.scrollTop>10?i.scrollTop-10:0;return i.scrollTop=u,!1}const l=Math.round(e.dom.getBoundingClientRect().height);if(Math.round(i.scrollTop+s.height)<l&&Math.abs(n.y-(s.height+s.y))<xz){const u=i.scrollTop+10;return i.scrollTop=u,!1}}}return!1},this.dragenterCallback=e=>{e.dragging&&(ie(this,js,!0),e.dom.dataset.dragging="true")},this.dragleaveCallback=(e,n)=>{const r=n.clientX,i=n.clientY;(r<0||i<0||r>window.innerWidth||i>window.innerHeight)&&(ie(this,Hs,null),V(this,af).call(this,e))},this.dropCallback=e=>(V(this,af).call(this,e),!1),this.dragendCallback=e=>{V(this,af).call(this,e)},ie(this,af,e=>{ie(this,js,!1),e.dom.dataset.dragging="false"})}}j0=new WeakMap,sv=new WeakMap,of=new WeakMap,Hs=new WeakMap,W0=new WeakMap,js=new WeakMap,Ga=new WeakSet,dZ=function(){var e;try{return(e=V(this,j0))==null?void 0:e.get(O3.key).filterNodes}catch{return}},bg=function(){var e;return(e=V(this,j0))==null?void 0:e.get(xn)},sf=new WeakMap,lf=new WeakMap,lv=new WeakMap,U0=new WeakMap,q0=new WeakMap,K0=new WeakMap,av=new WeakMap,af=new WeakMap;const AE=ln(()=>new B9e,"blockService"),P3=ln({},"blockServiceInstance");Qv(AE,{displayName:"Ctx<blockService>"});Qv(P3,{displayName:"Ctx<blockServiceInstance>"});const D3=ln({},"blockSpec");Qv(D3,{displayName:"Ctx<blockSpec>"});const EE=Cr(t=>{const e=new Xn("MILKDOWN_BLOCK"),r=t.get(AE.key)();t.set(P3.key,r);const i=t.get(D3.key);return new $n({key:e,...i,props:{...i.props,handleDOMEvents:{drop:o=>r.dropCallback(o),pointermove:(o,s)=>r.mousemoveCallback(o,s),keydown:o=>r.keydownCallback(o),dragover:(o,s)=>r.dragoverCallback(o,s),dragleave:(o,s)=>r.dragleaveCallback(o,s),dragenter:o=>r.dragenterCallback(o),dragend:o=>r.dragendCallback(o)}}})});Qv(EE,{displayName:"Prose<block>"});var Ki,Fa,uf,cf,uv,G0,cv,hv,Y0,X0,J0,fb,pZ;class z9e{constructor(e){Pe(this,fb);Pe(this,Ki);Pe(this,Fa);Pe(this,uf);Pe(this,cf);Pe(this,uv);Pe(this,G0);Pe(this,cv);Pe(this,hv);Pe(this,Y0);Pe(this,X0);Pe(this,J0);ie(this,cf,null),ie(this,G0,!1),this.update=()=>{requestAnimationFrame(()=>{if(!V(this,G0))try{w2(this,fb,pZ).call(this),ie(this,G0,!0)}catch{}})},this.destroy=()=>{var n,r;(n=V(this,uf))==null||n.unBind(),(r=V(this,uf))==null||r.removeEvent(V(this,Ki)),V(this,Ki).remove()},this.show=n=>{const r=n.el,i=V(this,Fa).get(xn).dom,o={ctx:V(this,Fa),active:n,editorDom:i,blockDom:V(this,Ki)},s={contextElement:r,getBoundingClientRect:()=>V(this,X0)?V(this,X0).call(this,o):r.getBoundingClientRect()},l=[Vx()];if(V(this,Y0)){const a=V(this,Y0).call(this,o),u=Uc(a);l.push(u)}al(s,V(this,Ki),{placement:V(this,J0)?V(this,J0).call(this,o):"left",middleware:[...l,...V(this,cv)],...V(this,hv)}).then(({x:a,y:u})=>{Object.assign(V(this,Ki).style,{left:`${a}px`,top:`${u}px`}),V(this,Ki).dataset.show="true"}).catch(console.error)},this.hide=()=>{V(this,Ki).dataset.show="false"},ie(this,Fa,e.ctx),ie(this,Ki,e.content),ie(this,Y0,e.getOffset),ie(this,X0,e.getPosition),ie(this,J0,e.getPlacement),ie(this,cv,e.middleware??[]),ie(this,hv,e.floatingUIOptions??{}),ie(this,uv,e.root),this.hide()}get active(){return V(this,cf)}}Ki=new WeakMap,Fa=new WeakMap,uf=new WeakMap,cf=new WeakMap,uv=new WeakMap,G0=new WeakMap,cv=new WeakMap,hv=new WeakMap,Y0=new WeakMap,X0=new WeakMap,J0=new WeakMap,fb=new WeakSet,pZ=function(){const e=V(this,Fa).get(xn);(V(this,uv)??e.dom.parentElement??document.body).appendChild(V(this,Ki));const r=V(this,Fa).get(P3.key);r.bind(V(this,Fa),i=>{i.type==="hide"?(this.hide(),ie(this,cf,null)):i.type==="show"&&(this.show(i.active),ie(this,cf,i.active))}),ie(this,uf,r),V(this,uf).addEvent(V(this,Ki)),V(this,Ki).draggable=!0};const _3=[D3,O3,AE,P3,EE];_3.key=D3.key;_3.pluginKey=EE.key;function F9e(t,e){return function(n,r){let{$from:i,$to:o,node:s}=n.selection;if(s&&s.isBlock||i.depth<2||!i.sameParent(o))return!1;let l=i.node(-1);if(l.type!=t)return!1;if(i.parent.content.size==0&&i.node(-1).childCount==i.indexAfter(-1)){if(i.depth==3||i.node(-3).type!=t||i.index(-2)!=i.node(-2).childCount-1)return!1;if(r){let h=_e.empty,f=i.index(-1)?1:i.index(-2)?2:3;for(let g=i.depth-f;g>=i.depth-3;g--)h=_e.from(i.node(g).copy(h));let d=i.indexAfter(-1)<i.node(-2).childCount?1:i.indexAfter(-2)<i.node(-3).childCount?2:3;h=h.append(_e.from(t.createAndFill()));let p=i.before(i.depth-(f-1)),m=n.tr.replace(p,i.after(-d),new He(h,4-f,0)),y=-1;m.doc.nodesBetween(p,m.doc.content.size,(g,v)=>{if(y>-1)return!1;g.isTextblock&&g.content.size==0&&(y=v+1)}),y>-1&&m.setSelection(yt.near(m.doc.resolve(y))),r(m.scrollIntoView())}return!0}let a=o.pos==i.end()?l.contentMatchAt(0).defaultType:null,u=n.tr.delete(i.pos,o.pos),c=a?[null,{type:a}]:void 0;return p1(u.doc,i.pos,2,c)?(r&&r(u.split(i.pos,2,c).scrollIntoView()),!0):!1}}function $9e(t){return function(e,n){let{$from:r,$to:i}=e.selection,o=r.blockRange(i,s=>s.childCount>0&&s.firstChild.type==t);return o?n?r.node(o.depth-1).type==t?V9e(e,n,t,o):H9e(e,n,o):!0:!1}}function V9e(t,e,n,r){let i=t.tr,o=r.end,s=r.$to.end(r.depth);o<s&&(i.step(new di(o-1,s,o,s,new He(_e.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new eX(i.doc.resolve(r.$from.pos),i.doc.resolve(s),r.depth));const l=h3(r);if(l==null)return!1;i.lift(r,l);let a=i.doc.resolve(i.mapping.map(o,-1)-1);return f3(i.doc,a.pos)&&a.nodeBefore.type==a.nodeAfter.type&&i.join(a.pos),e(i.scrollIntoView()),!0}function H9e(t,e,n){let r=t.tr,i=n.parent;for(let d=n.end,p=n.endIndex-1,m=n.startIndex;p>m;p--)d-=i.child(p).nodeSize,r.delete(d-1,d+1);let o=r.doc.resolve(n.start),s=o.nodeAfter;if(r.mapping.map(n.end)!=n.start+o.nodeAfter.nodeSize)return!1;let l=n.startIndex==0,a=n.endIndex==i.childCount,u=o.node(-1),c=o.index(-1);if(!u.canReplace(c+(l?0:1),c+1,s.content.append(a?_e.empty:_e.from(i))))return!1;let h=o.pos,f=h+s.nodeSize;return r.step(new di(h-(l?1:0),f+(a?1:0),h+1,f-1,new He((l?_e.empty:_e.from(i.copy(_e.empty))).append(a?_e.empty:_e.from(i.copy(_e.empty))),l?0:1,a?0:1),l?0:1)),e(r.scrollIntoView()),!0}function j9e(t){return function(e,n){let{$from:r,$to:i}=e.selection,o=r.blockRange(i,u=>u.childCount>0&&u.firstChild.type==t);if(!o)return!1;let s=o.startIndex;if(s==0)return!1;let l=o.parent,a=l.child(s-1);if(a.type!=t)return!1;if(n){let u=a.lastChild&&a.lastChild.type==l.type,c=_e.from(u?t.create():null),h=new He(_e.from(t.create(null,_e.from(l.type.create(null,c)))),u?3:1,0),f=o.start,d=o.end;n(e.tr.step(new di(f-(u?3:1),d,f,d,h,1,!0)).scrollIntoView())}return!0}}function W9e(t){const e=new Map;if(!t||!t.type)throw new Error("mdast-util-definitions expected node");return ia(t,"definition",function(r){const i=bz(r.identifier);i&&!e.get(i)&&e.set(i,r)}),n;function n(r){const i=bz(r);return e.get(i)}}function bz(t){return String(t||"").toUpperCase()}function U9e(){return function(t){const e=W9e(t);ia(t,function(n,r,i){if(n.type==="definition"&&i!==void 0&&typeof r=="number")return i.children.splice(r,1),[DS,r];if(n.type==="imageReference"||n.type==="linkReference"){const o=e(n.identifier);if(o&&i&&typeof r=="number")return i.children[r]=n.type==="imageReference"?{type:"image",url:o.url,title:o.title,alt:n.alt}:{type:"link",url:o.url,title:o.title,children:n.children},[DS,r]}})}}function mZ(t,e){var i;if(!(e.childCount>=1&&((i=e.lastChild)==null?void 0:i.type.name)==="hardbreak")){t.next(e.content);return}const r=[];e.content.forEach((o,s,l)=>{l!==e.childCount-1&&r.push(o)}),t.next(_e.fromArray(r))}function he(t,e){return Object.assign(t,{meta:{package:"@milkdown/preset-commonmark",...e}}),t}const OE=Jv("emphasis");he(OE,{displayName:"Attr<emphasis>",group:"Emphasis"});const rd=nm("emphasis",t=>({attrs:{marker:{default:t.get(y1).emphasis||"*",validate:"string"}},parseDOM:[{tag:"i"},{tag:"em"},{style:"font-style",getAttrs:e=>e==="italic"}],toDOM:e=>["em",t.get(OE.key)(e)],parseMarkdown:{match:e=>e.type==="emphasis",runner:(e,n,r)=>{e.openMark(r,{marker:n.marker}),e.next(n.children),e.closeMark(r)}},toMarkdown:{match:e=>e.type.name==="emphasis",runner:(e,n)=>{e.withMark(n,"emphasis",void 0,{marker:n.attrs.marker})}}}));he(rd.mark,{displayName:"MarkSchema<emphasis>",group:"Emphasis"});he(rd.ctx,{displayName:"MarkSchemaCtx<emphasis>",group:"Emphasis"});const I3=vt("ToggleEmphasis",t=>()=>w3(rd.type(t)));he(I3,{displayName:"Command<toggleEmphasisCommand>",group:"Emphasis"});const gZ=xi(t=>qv(/(?:^|[^*])\*([^*]+)\*$/,rd.type(t),{getAttr:()=>({marker:"*"}),updateCaptured:({fullMatch:e,start:n})=>e.startsWith("*")?{}:{fullMatch:e.slice(1),start:n+1}}));he(gZ,{displayName:"InputRule<emphasis>|Star",group:"Emphasis"});const yZ=xi(t=>qv(/\b_(?![_\s])(.*?[^_\s])_\b/,rd.type(t),{getAttr:()=>({marker:"_"}),updateCaptured:({fullMatch:e,start:n})=>e.startsWith("_")?{}:{fullMatch:e.slice(1),start:n+1}}));he(yZ,{displayName:"InputRule<emphasis>|Underscore",group:"Emphasis"});const PE=fo("emphasisKeymap",{ToggleEmphasis:{shortcuts:"Mod-i",command:t=>{const e=t.get(Xe);return()=>e.call(I3.key)}}});he(PE.ctx,{displayName:"KeymapCtx<emphasis>",group:"Emphasis"});he(PE.shortcuts,{displayName:"Keymap<emphasis>",group:"Emphasis"});const DE=Jv("strong");he(DE,{displayName:"Attr<strong>",group:"Strong"});const im=nm("strong",t=>({attrs:{marker:{default:t.get(y1).strong||"*",validate:"string"}},parseDOM:[{tag:"b",getAttrs:e=>e.style.fontWeight!="normal"&&null},{tag:"strong"},{style:"font-style",getAttrs:e=>e==="bold"},{style:"font-weight=400",clearMark:e=>e.type.name=="strong"},{style:"font-weight",getAttrs:e=>/^(bold(er)?|[5-9]\d{2,})$/.test(e)&&null}],toDOM:e=>["strong",t.get(DE.key)(e)],parseMarkdown:{match:e=>e.type==="strong",runner:(e,n,r)=>{e.openMark(r,{marker:n.marker}),e.next(n.children),e.closeMark(r)}},toMarkdown:{match:e=>e.type.name==="strong",runner:(e,n)=>{e.withMark(n,"strong",void 0,{marker:n.attrs.marker})}}}));he(im.mark,{displayName:"MarkSchema<strong>",group:"Strong"});he(im.ctx,{displayName:"MarkSchemaCtx<strong>",group:"Strong"});const R3=vt("ToggleStrong",t=>()=>w3(im.type(t)));he(R3,{displayName:"Command<toggleStrongCommand>",group:"Strong"});const vZ=xi(t=>qv(new RegExp("(?<![\\w:/])(?:\\*\\*|__)([^*_]+?)(?:\\*\\*|__)(?![\\w/])$"),im.type(t),{getAttr:e=>({marker:e[0].startsWith("*")?"*":"_"})}));he(vZ,{displayName:"InputRule<strong>",group:"Strong"});const _E=fo("strongKeymap",{ToggleBold:{shortcuts:["Mod-b"],command:t=>{const e=t.get(Xe);return()=>e.call(R3.key)}}});he(_E.ctx,{displayName:"KeymapCtx<strong>",group:"Strong"});he(_E.shortcuts,{displayName:"Keymap<strong>",group:"Strong"});const IE=Jv("inlineCode");he(IE,{displayName:"Attr<inlineCode>",group:"InlineCode"});const Ka=nm("inlineCode",t=>({priority:100,code:!0,parseDOM:[{tag:"code"}],toDOM:e=>["code",t.get(IE.key)(e)],parseMarkdown:{match:e=>e.type==="inlineCode",runner:(e,n,r)=>{e.openMark(r),e.addText(n.value),e.closeMark(r)}},toMarkdown:{match:e=>e.type.name==="inlineCode",runner:(e,n,r)=>{e.withMark(n,"inlineCode",r.text||"")}}}));he(Ka.mark,{displayName:"MarkSchema<inlineCode>",group:"InlineCode"});he(Ka.ctx,{displayName:"MarkSchemaCtx<inlineCode>",group:"InlineCode"});const N3=vt("ToggleInlineCode",t=>()=>(e,n)=>{const{selection:r,tr:i}=e;if(r.empty)return!1;const{from:o,to:s}=r;return e.doc.rangeHasMark(o,s,Ka.type(t))?(n==null||n(i.removeMark(o,s,Ka.type(t))),!0):(Object.keys(e.schema.marks).filter(u=>u!==Ka.type.name).map(u=>e.schema.marks[u]).forEach(u=>{i.removeMark(o,s,u)}),n==null||n(i.addMark(o,s,Ka.type(t).create())),!0)});he(N3,{displayName:"Command<toggleInlineCodeCommand>",group:"InlineCode"});const wZ=xi(t=>qv(/(?:`)([^`]+)(?:`)$/,Ka.type(t)));he(wZ,{displayName:"InputRule<inlineCodeInputRule>",group:"InlineCode"});const RE=fo("inlineCodeKeymap",{ToggleInlineCode:{shortcuts:"Mod-e",command:t=>{const e=t.get(Xe);return()=>e.call(N3.key)}}});he(RE.ctx,{displayName:"KeymapCtx<inlineCode>",group:"InlineCode"});he(RE.shortcuts,{displayName:"Keymap<inlineCode>",group:"InlineCode"});const NE=Jv("link");he(NE,{displayName:"Attr<link>",group:"Link"});const Qs=nm("link",t=>({attrs:{href:{validate:"string"},title:{default:null,validate:"string|null"}},parseDOM:[{tag:"a[href]",getAttrs:e=>{if(!(e instanceof HTMLElement))throw ul(e);return{href:e.getAttribute("href"),title:e.getAttribute("title")}}}],toDOM:e=>["a",{...t.get(NE.key)(e),...e.attrs}],parseMarkdown:{match:e=>e.type==="link",runner:(e,n,r)=>{const i=n.url,o=n.title;e.openMark(r,{href:i,title:o}),e.next(n.children),e.closeMark(r)}},toMarkdown:{match:e=>e.type.name==="link",runner:(e,n)=>{e.withMark(n,"link",void 0,{title:n.attrs.title,url:n.attrs.href})}}}));he(Qs.mark,{displayName:"MarkSchema<link>",group:"Link"});const xZ=vt("ToggleLink",t=>(e={})=>w3(Qs.type(t),e));he(xZ,{displayName:"Command<toggleLinkCommand>",group:"Link"});const bZ=vt("UpdateLink",t=>(e={})=>(n,r)=>{if(!r)return!1;let i,o=-1;const{selection:s}=n,{from:l,to:a}=s;if(n.doc.nodesBetween(l,l===a?a+1:a,(p,m)=>{if(Qs.type(t).isInSet(p.marks))return i=p,o=m,!1}),!i)return!1;const u=i.marks.find(({type:p})=>p===Qs.type(t));if(!u)return!1;const c=o,h=o+i.nodeSize,{tr:f}=n,d=Qs.type(t).create({...u.attrs,...e});return d?(r(f.removeMark(c,h,u).addMark(c,h,d).setSelection(new nt(f.selection.$anchor)).scrollIntoView()),!0):!1});he(bZ,{displayName:"Command<updateLinkCommand>",group:"Link"});const kZ=CE("doc",()=>({content:"block+",parseMarkdown:{match:({type:t})=>t==="root",runner:(t,e,n)=>{t.injectRoot(e,n)}},toMarkdown:{match:t=>t.type.name==="doc",runner:(t,e)=>{t.openNode("root"),t.next(e.content)}}}));he(kZ,{displayName:"NodeSchema<doc>",group:"Doc"});function q9e(t){return jM(t,e=>{var n;return e.type==="html"&&["<br />","<br>","<br >","<br/>"].includes((n=e.value)==null?void 0:n.trim())},(e,n)=>{if(!n.length)return;const r=n[n.length-1];if(!r)return;const i=r.children.indexOf(e);i!==-1&&r.children.splice(i,1)},!0)}const L3=sa("remark-preserve-empty-line",()=>()=>q9e);he(L3.plugin,{displayName:"Remark<remarkPreserveEmptyLine>",group:"Remark"});he(L3.options,{displayName:"RemarkConfig<remarkPreserveEmptyLine>",group:"Remark"});const LE=cl("paragraph");he(LE,{displayName:"Attr<paragraph>",group:"Paragraph"});const la=lr("paragraph",t=>({content:"inline*",group:"block",parseDOM:[{tag:"p"}],toDOM:e=>["p",t.get(LE.key)(e),0],parseMarkdown:{match:e=>e.type==="paragraph",runner:(e,n,r)=>{e.openNode(r),n.children?e.next(n.children):e.addText(n.value||""),e.closeNode()}},toMarkdown:{match:e=>e.type.name==="paragraph",runner:(e,n)=>{var o;const i=(o=t.get(xn).state)==null?void 0:o.doc.lastChild;e.openNode("paragraph"),(!n.content||n.content.size===0)&&n!==i&&K9e(t)?e.addNode("html",void 0,"<br />"):mZ(e,n),e.closeNode()}}}));function K9e(t){let e=!1;try{t.get(L3.id),e=!0}catch{e=!1}return e}he(la.node,{displayName:"NodeSchema<paragraph>",group:"Paragraph"});he(la.ctx,{displayName:"NodeSchemaCtx<paragraph>",group:"Paragraph"});const BE=vt("TurnIntoText",t=>()=>Oy(la.type(t)));he(BE,{displayName:"Command<turnIntoTextCommand>",group:"Paragraph"});const zE=fo("paragraphKeymap",{TurnIntoText:{shortcuts:"Mod-Alt-0",command:t=>{const e=t.get(Xe);return()=>e.call(BE.key)}}});he(zE.ctx,{displayName:"KeymapCtx<paragraph>",group:"Paragraph"});he(zE.shortcuts,{displayName:"Keymap<paragraph>",group:"Paragraph"});const G9e=Array(6).fill(0).map((t,e)=>e+1);function Y9e(t){return t.textContent.toLowerCase().trim().replace(/\s+/g,"-")}const B3=ln(Y9e,"headingIdGenerator");he(B3,{displayName:"Ctx<HeadingIdGenerator>",group:"Heading"});const FE=cl("heading");he(FE,{displayName:"Attr<heading>",group:"Heading"});const Eo=lr("heading",t=>{const e=t.get(B3.key);return{content:"inline*",group:"block",defining:!0,attrs:{id:{default:"",validate:"string"},level:{default:1,validate:"number"}},parseDOM:G9e.map(n=>({tag:`h${n}`,getAttrs:r=>{if(!(r instanceof HTMLElement))throw ul(r);return{level:n,id:r.id}}})),toDOM:n=>[`h${n.attrs.level}`,{...t.get(FE.key)(n),id:n.attrs.id||e(n)},0],parseMarkdown:{match:({type:n})=>n==="heading",runner:(n,r,i)=>{const o=r.depth;n.openNode(i,{level:o}),n.next(r.children),n.closeNode()}},toMarkdown:{match:n=>n.type.name==="heading",runner:(n,r)=>{n.openNode("heading",void 0,{depth:r.attrs.level}),mZ(n,r),n.closeNode()}}}});he(Eo.node,{displayName:"NodeSchema<heading>",group:"Heading"});he(Eo.ctx,{displayName:"NodeSchemaCtx<heading>",group:"Heading"});const SZ=xi(t=>rE(/^(?<hashes>#+)\s$/,Eo.type(t),e=>{var s,l;const n=((l=(s=e.groups)==null?void 0:s.hashes)==null?void 0:l.length)||0,r=t.get(xn),{$from:i}=r.state.selection,o=i.node();if(o.type.name==="heading"){let a=Number(o.attrs.level)+Number(n);return a>6&&(a=6),{level:a}}return{level:n}}));he(SZ,{displayName:"InputRule<wrapInHeadingInputRule>",group:"Heading"});const Xu=vt("WrapInHeading",t=>e=>(e??(e=1),e<1?Oy(la.type(t)):Oy(Eo.type(t),{level:e})));he(Xu,{displayName:"Command<wrapInHeadingCommand>",group:"Heading"});const $E=vt("DowngradeHeading",t=>()=>(e,n,r)=>{const{$from:i}=e.selection,o=i.node();if(o.type!==Eo.type(t)||!e.selection.empty||i.parentOffset!==0)return!1;const s=o.attrs.level-1;return s?(n==null||n(e.tr.setNodeMarkup(e.selection.$from.before(),void 0,{...o.attrs,level:s})),!0):Oy(la.type(t))(e,n,r)});he($E,{displayName:"Command<downgradeHeadingCommand>",group:"Heading"});const VE=fo("headingKeymap",{TurnIntoH1:{shortcuts:"Mod-Alt-1",command:t=>{const e=t.get(Xe);return()=>e.call(Xu.key,1)}},TurnIntoH2:{shortcuts:"Mod-Alt-2",command:t=>{const e=t.get(Xe);return()=>e.call(Xu.key,2)}},TurnIntoH3:{shortcuts:"Mod-Alt-3",command:t=>{const e=t.get(Xe);return()=>e.call(Xu.key,3)}},TurnIntoH4:{shortcuts:"Mod-Alt-4",command:t=>{const e=t.get(Xe);return()=>e.call(Xu.key,4)}},TurnIntoH5:{shortcuts:"Mod-Alt-5",command:t=>{const e=t.get(Xe);return()=>e.call(Xu.key,5)}},TurnIntoH6:{shortcuts:"Mod-Alt-6",command:t=>{const e=t.get(Xe);return()=>e.call(Xu.key,6)}},DowngradeHeading:{shortcuts:["Delete","Backspace"],command:t=>{const e=t.get(Xe);return()=>e.call($E.key)}}});he(VE.ctx,{displayName:"KeymapCtx<heading>",group:"Heading"});he(VE.shortcuts,{displayName:"Keymap<heading>",group:"Heading"});const HE=cl("blockquote");he(HE,{displayName:"Attr<blockquote>",group:"Blockquote"});const om=lr("blockquote",t=>({content:"block+",group:"block",defining:!0,parseDOM:[{tag:"blockquote"}],toDOM:e=>["blockquote",t.get(HE.key)(e),0],parseMarkdown:{match:({type:e})=>e==="blockquote",runner:(e,n,r)=>{e.openNode(r).next(n.children).closeNode()}},toMarkdown:{match:e=>e.type.name==="blockquote",runner:(e,n)=>{e.openNode("blockquote").next(n.content).closeNode()}}}));he(om.node,{displayName:"NodeSchema<blockquote>",group:"Blockquote"});he(om.ctx,{displayName:"NodeSchemaCtx<blockquote>",group:"Blockquote"});const CZ=xi(t=>nE(/^\s*>\s$/,om.type(t)));he(CZ,{displayName:"InputRule<wrapInBlockquoteInputRule>",group:"Blockquote"});const jE=vt("WrapInBlockquote",t=>()=>fE(om.type(t)));he(jE,{displayName:"Command<wrapInBlockquoteCommand>",group:"Blockquote"});const WE=fo("blockquoteKeymap",{WrapInBlockquote:{shortcuts:"Mod-Shift-b",command:t=>{const e=t.get(Xe);return()=>e.call(jE.key)}}});he(WE.ctx,{displayName:"KeymapCtx<blockquote>",group:"Blockquote"});he(WE.shortcuts,{displayName:"Keymap<blockquote>",group:"Blockquote"});const UE=cl("codeBlock",()=>({pre:{},code:{}}));he(UE,{displayName:"Attr<codeBlock>",group:"CodeBlock"});const na=lr("code_block",t=>({content:"text*",group:"block",marks:"",defining:!0,code:!0,attrs:{language:{default:"",validate:"string"}},parseDOM:[{tag:"pre",preserveWhitespace:"full",getAttrs:e=>{if(!(e instanceof HTMLElement))throw ul(e);return{language:e.dataset.language}}}],toDOM:e=>{const n=t.get(UE.key)(e),r=e.attrs.language,i=r&&r.length>0?{"data-language":r}:void 0;return["pre",{...n.pre,...i},["code",n.code,0]]},parseMarkdown:{match:({type:e})=>e==="code",runner:(e,n,r)=>{const i=n.lang??"",o=n.value;e.openNode(r,{language:i}),o&&e.addText(o),e.closeNode()}},toMarkdown:{match:e=>e.type.name==="code_block",runner:(e,n)=>{var r;e.addNode("code",void 0,((r=n.content.firstChild)==null?void 0:r.text)||"",{lang:n.attrs.language})}}}));he(na.node,{displayName:"NodeSchema<codeBlock>",group:"CodeBlock"});he(na.ctx,{displayName:"NodeSchemaCtx<codeBlock>",group:"CodeBlock"});const TZ=xi(t=>rE(/^```(?<language>[a-z]*)?[\s\n]$/,na.type(t),e=>{var n;return{language:((n=e.groups)==null?void 0:n.language)??""}}));he(TZ,{displayName:"InputRule<createCodeBlockInputRule>",group:"CodeBlock"});const qE=vt("CreateCodeBlock",t=>(e="")=>Oy(na.type(t),{language:e}));he(qE,{displayName:"Command<createCodeBlockCommand>",group:"CodeBlock"});const X9e=vt("UpdateCodeBlockLanguage",()=>({pos:t,language:e}={pos:-1,language:""})=>(n,r)=>t>=0?(r==null||r(n.tr.setNodeAttribute(t,"language",e)),!0):!1);he(X9e,{displayName:"Command<updateCodeBlockLanguageCommand>",group:"CodeBlock"});const KE=fo("codeBlockKeymap",{CreateCodeBlock:{shortcuts:"Mod-Alt-c",command:t=>{const e=t.get(Xe);return()=>e.call(qE.key)}}});he(KE.ctx,{displayName:"KeymapCtx<codeBlock>",group:"CodeBlock"});he(KE.shortcuts,{displayName:"Keymap<codeBlock>",group:"CodeBlock"});const GE=cl("image");he(GE,{displayName:"Attr<image>",group:"Image"});const id=lr("image",t=>({inline:!0,group:"inline",selectable:!0,draggable:!0,marks:"",atom:!0,defining:!0,isolating:!0,attrs:{src:{default:"",validate:"string"},alt:{default:"",validate:"string"},title:{default:"",validate:"string"}},parseDOM:[{tag:"img[src]",getAttrs:e=>{if(!(e instanceof HTMLElement))throw ul(e);return{src:e.getAttribute("src")||"",alt:e.getAttribute("alt")||"",title:e.getAttribute("title")||e.getAttribute("alt")||""}}}],toDOM:e=>["img",{...t.get(GE.key)(e),...e.attrs}],parseMarkdown:{match:({type:e})=>e==="image",runner:(e,n,r)=>{const i=n.url,o=n.alt,s=n.title;e.addNode(r,{src:i,alt:o,title:s})}},toMarkdown:{match:e=>e.type.name==="image",runner:(e,n)=>{e.addNode("image",void 0,void 0,{title:n.attrs.title,url:n.attrs.src,alt:n.attrs.alt})}}}));he(id.node,{displayName:"NodeSchema<image>",group:"Image"});he(id.ctx,{displayName:"NodeSchemaCtx<image>",group:"Image"});const MZ=vt("InsertImage",t=>(e={})=>(n,r)=>{if(!r)return!0;const{src:i="",alt:o="",title:s=""}=e,l=id.type(t).create({src:i,alt:o,title:s});return l&&r(n.tr.replaceSelectionWith(l).scrollIntoView()),!0});he(MZ,{displayName:"Command<insertImageCommand>",group:"Image"});const AZ=vt("UpdateImage",t=>(e={})=>(n,r)=>{const i=E7e(n.selection,id.type(t));if(!i)return!1;const{node:o,pos:s}=i,l={...o.attrs},{src:a,alt:u,title:c}=e;return a!==void 0&&(l.src=a),u!==void 0&&(l.alt=u),c!==void 0&&(l.title=c),r==null||r(n.tr.setNodeMarkup(s,void 0,l).scrollIntoView()),!0});he(AZ,{displayName:"Command<updateImageCommand>",group:"Image"});const J9e=xi(t=>new co(/!\[(?<alt>.*?)]\((?<filename>.*?)\s*(?="|\))"?(?<title>[^"]+)?"?\)/,(e,n,r,i)=>{const[o,s,l="",a]=n;return o?e.tr.replaceWith(r,i,id.type(t).create({src:l,alt:s,title:a})):null}));he(J9e,{displayName:"InputRule<insertImageInputRule>",group:"Image"});const Hx=cl("hardbreak",t=>({"data-type":"hardbreak","data-is-inline":t.attrs.isInline}));he(Hx,{displayName:"Attr<hardbreak>",group:"Hardbreak"});const Tf=lr("hardbreak",t=>({inline:!0,group:"inline",attrs:{isInline:{default:!1,validate:"boolean"}},selectable:!1,parseDOM:[{tag:"br"},{tag:'span[data-type="hardbreak"]',getAttrs:()=>({isInline:!0})}],toDOM:e=>e.attrs.isInline?["span",t.get(Hx.key)(e)," "]:["br",t.get(Hx.key)(e)],parseMarkdown:{match:({type:e})=>e==="break",runner:(e,n,r)=>{var i;e.addNode(r,{isInline:!!((i=n.data)!=null&&i.isInline)})}},leafText:()=>`
`,toMarkdown:{match:e=>e.type.name==="hardbreak",runner:(e,n)=>{n.attrs.isInline?e.addNode("text",void 0,`
`):e.addNode("break")}}}));he(Tf.node,{displayName:"NodeSchema<hardbreak>",group:"Hardbreak"});he(Tf.ctx,{displayName:"NodeSchemaCtx<hardbreak>",group:"Hardbreak"});const YE=vt("InsertHardbreak",t=>()=>(e,n)=>{var o;const{selection:r,tr:i}=e;if(!(r instanceof nt))return!1;if(r.empty){const s=r.$from.node();if(s.childCount>0&&((o=s.lastChild)==null?void 0:o.type.name)==="hardbreak")return n==null||n(i.replaceRangeWith(r.to-1,r.to,e.schema.node("paragraph")).setSelection(yt.near(i.doc.resolve(r.to))).scrollIntoView()),!0}return n==null||n(i.setMeta("hardbreak",!0).replaceSelectionWith(Tf.type(t).create()).scrollIntoView()),!0});he(YE,{displayName:"Command<insertHardbreakCommand>",group:"Hardbreak"});const XE=fo("hardbreakKeymap",{InsertHardbreak:{shortcuts:"Shift-Enter",command:t=>{const e=t.get(Xe);return()=>e.call(YE.key)}}});he(XE.ctx,{displayName:"KeymapCtx<hardbreak>",group:"Hardbreak"});he(XE.shortcuts,{displayName:"Keymap<hardbreak>",group:"Hardbreak"});const JE=cl("hr");he(JE,{displayName:"Attr<hr>",group:"Hr"});const sm=lr("hr",t=>({group:"block",parseDOM:[{tag:"hr"}],toDOM:e=>["hr",t.get(JE.key)(e)],parseMarkdown:{match:({type:e})=>e==="thematicBreak",runner:(e,n,r)=>{e.addNode(r)}},toMarkdown:{match:e=>e.type.name==="hr",runner:e=>{e.addNode("thematicBreak")}}}));he(sm.node,{displayName:"NodeSchema<hr>",group:"Hr"});he(sm.ctx,{displayName:"NodeSchemaCtx<hr>",group:"Hr"});const EZ=xi(t=>new co(/^(?:---|___\s|\*\*\*\s)$/,(e,n,r,i)=>{const{tr:o}=e;return n[0]&&o.replaceWith(r-1,i,sm.type(t).create()),o}));he(EZ,{displayName:"InputRule<insertHrInputRule>",group:"Hr"});const OZ=vt("InsertHr",t=>()=>(e,n)=>{if(!n)return!0;const r=la.node.type(t).create(),{tr:i,selection:o}=e,{from:s}=o,l=sm.type(t).create();if(!l)return!0;const a=i.replaceSelectionWith(l).insert(s,r),u=yt.findFrom(a.doc.resolve(s),1,!0);return u&&n(a.setSelection(u).scrollIntoView()),!0});he(OZ,{displayName:"Command<insertHrCommand>",group:"Hr"});const ZE=cl("bulletList");he(ZE,{displayName:"Attr<bulletList>",group:"BulletList"});const od=lr("bullet_list",t=>({content:"listItem+",group:"block",attrs:{spread:{default:!1,validate:"boolean"}},parseDOM:[{tag:"ul",getAttrs:e=>{if(!(e instanceof HTMLElement))throw ul(e);return{spread:e.dataset.spread==="true"}}}],toDOM:e=>["ul",{...t.get(ZE.key)(e),"data-spread":e.attrs.spread},0],parseMarkdown:{match:({type:e,ordered:n})=>e==="list"&&!n,runner:(e,n,r)=>{const i=n.spread!=null?`${n.spread}`:"false";e.openNode(r,{spread:i}).next(n.children).closeNode()}},toMarkdown:{match:e=>e.type.name==="bullet_list",runner:(e,n)=>{e.openNode("list",void 0,{ordered:!1,spread:n.attrs.spread}).next(n.content).closeNode()}}}));he(od.node,{displayName:"NodeSchema<bulletList>",group:"BulletList"});he(od.ctx,{displayName:"NodeSchemaCtx<bulletList>",group:"BulletList"});const PZ=xi(t=>nE(/^\s*([-+*])\s$/,od.type(t)));he(PZ,{displayName:"InputRule<wrapInBulletListInputRule>",group:"BulletList"});const QE=vt("WrapInBulletList",t=>()=>fE(od.type(t)));he(QE,{displayName:"Command<wrapInBulletListCommand>",group:"BulletList"});const eO=fo("bulletListKeymap",{WrapInBulletList:{shortcuts:"Mod-Alt-8",command:t=>{const e=t.get(Xe);return()=>e.call(QE.key)}}});he(eO.ctx,{displayName:"KeymapCtx<bulletListKeymap>",group:"BulletList"});he(eO.shortcuts,{displayName:"Keymap<bulletListKeymap>",group:"BulletList"});const tO=cl("orderedList");he(tO,{displayName:"Attr<orderedList>",group:"OrderedList"});const sd=lr("ordered_list",t=>({content:"listItem+",group:"block",attrs:{order:{default:1,validate:"number"},spread:{default:!1,validate:"boolean"}},parseDOM:[{tag:"ol",getAttrs:e=>{if(!(e instanceof HTMLElement))throw ul(e);return{spread:e.dataset.spread,order:e.hasAttribute("start")?Number(e.getAttribute("start")):1}}}],toDOM:e=>["ol",{...t.get(tO.key)(e),...e.attrs.order===1?{}:e.attrs.order,"data-spread":e.attrs.spread},0],parseMarkdown:{match:({type:e,ordered:n})=>e==="list"&&!!n,runner:(e,n,r)=>{const i=n.spread!=null?`${n.spread}`:"true";e.openNode(r,{spread:i}).next(n.children).closeNode()}},toMarkdown:{match:e=>e.type.name==="ordered_list",runner:(e,n)=>{e.openNode("list",void 0,{ordered:!0,start:1,spread:n.attrs.spread==="true"}),e.next(n.content),e.closeNode()}}}));he(sd.node,{displayName:"NodeSchema<orderedList>",group:"OrderedList"});he(sd.ctx,{displayName:"NodeSchemaCtx<orderedList>",group:"OrderedList"});const DZ=xi(t=>nE(/^\s*(\d+)\.\s$/,sd.type(t),e=>({order:Number(e[1])}),(e,n)=>n.childCount+n.attrs.order===Number(e[1])));he(DZ,{displayName:"InputRule<wrapInOrderedListInputRule>",group:"OrderedList"});const nO=vt("WrapInOrderedList",t=>()=>fE(sd.type(t)));he(nO,{displayName:"Command<wrapInOrderedListCommand>",group:"OrderedList"});const rO=fo("orderedListKeymap",{WrapInOrderedList:{shortcuts:"Mod-Alt-7",command:t=>{const e=t.get(Xe);return()=>e.call(nO.key)}}});he(rO.ctx,{displayName:"KeymapCtx<orderedList>",group:"OrderedList"});he(rO.shortcuts,{displayName:"Keymap<orderedList>",group:"OrderedList"});const iO=cl("listItem");he(iO,{displayName:"Attr<listItem>",group:"ListItem"});const hl=lr("list_item",t=>({group:"listItem",content:"paragraph block*",attrs:{label:{default:"",validate:"string"},listType:{default:"bullet",validate:"string"},spread:{default:!0,validate:"boolean"}},defining:!0,parseDOM:[{tag:"li",getAttrs:e=>{if(!(e instanceof HTMLElement))throw ul(e);return{label:e.dataset.label,listType:e.dataset.listType,spread:e.dataset.spread==="true"}}}],toDOM:e=>["li",{...t.get(iO.key)(e),"data-label":e.attrs.label,"data-list-type":e.attrs.listType,"data-spread":e.attrs.spread},0],parseMarkdown:{match:({type:e})=>e==="listItem",runner:(e,n,r)=>{const i=n.label!=null?`${n.label}.`:"",o=n.label!=null?"ordered":"bullet",s=n.spread!=null?`${n.spread}`:"true";e.openNode(r,{label:i,listType:o,spread:s}),e.next(n.children),e.closeNode()}},toMarkdown:{match:e=>e.type.name==="list_item",runner:(e,n)=>{e.openNode("listItem",void 0,{spread:n.attrs.spread}),e.next(n.content),e.closeNode()}}}));he(hl.node,{displayName:"NodeSchema<listItem>",group:"ListItem"});he(hl.ctx,{displayName:"NodeSchemaCtx<listItem>",group:"ListItem"});const oO=vt("SinkListItem",t=>()=>j9e(hl.type(t)));he(oO,{displayName:"Command<sinkListItemCommand>",group:"ListItem"});const sO=vt("LiftListItem",t=>()=>$9e(hl.type(t)));he(sO,{displayName:"Command<liftListItemCommand>",group:"ListItem"});const lO=vt("SplitListItem",t=>()=>F9e(hl.type(t)));he(lO,{displayName:"Command<splitListItemCommand>",group:"ListItem"});function Z9e(t){return(e,n,r)=>{const{selection:i}=e;if(!(i instanceof nt))return!1;const{empty:o,$from:s}=i;return!o||s.parentOffset!==0||s.node(-1).type!==hl.type(t)?!1:nJ(e,n,r)}}const aO=vt("LiftFirstListItem",t=>()=>Z9e(t));he(aO,{displayName:"Command<liftFirstListItemCommand>",group:"ListItem"});const uO=fo("listItemKeymap",{NextListItem:{shortcuts:"Enter",command:t=>{const e=t.get(Xe);return()=>e.call(lO.key)}},SinkListItem:{shortcuts:["Tab","Mod-]"],command:t=>{const e=t.get(Xe);return()=>e.call(oO.key)}},LiftListItem:{shortcuts:["Shift-Tab","Mod-["],command:t=>{const e=t.get(Xe);return()=>e.call(sO.key)}},LiftFirstListItem:{shortcuts:["Backspace","Delete"],command:t=>{const e=t.get(Xe);return()=>e.call(aO.key)}}});he(uO.ctx,{displayName:"KeymapCtx<listItem>",group:"ListItem"});he(uO.shortcuts,{displayName:"Keymap<listItem>",group:"ListItem"});const _Z=CE("text",()=>({group:"inline",parseMarkdown:{match:({type:t})=>t==="text",runner:(t,e)=>{t.addText(e.value)}},toMarkdown:{match:t=>t.type.name==="text",runner:(t,e)=>{t.addNode("text",void 0,e.text)}}}));he(_Z,{displayName:"NodeSchema<text>",group:"Text"});const cO=cl("html");he(cO,{displayName:"Attr<html>",group:"Html"});const hO=lr("html",t=>({atom:!0,group:"inline",inline:!0,attrs:{value:{default:"",validate:"string"}},toDOM:e=>{const n=document.createElement("span"),r={...t.get(cO.key)(e),"data-value":e.attrs.value,"data-type":"html"};return n.textContent=e.attrs.value,["span",r,e.attrs.value]},parseDOM:[{tag:'span[data-type="html"]',getAttrs:e=>({value:e.dataset.value??""})}],parseMarkdown:{match:({type:e})=>e==="html",runner:(e,n,r)=>{e.addNode(r,{value:n.value})}},toMarkdown:{match:e=>e.type.name==="html",runner:(e,n)=>{e.addNode("html",void 0,n.attrs.value)}}}));he(hO.node,{displayName:"NodeSchema<html>",group:"Html"});he(hO.ctx,{displayName:"NodeSchemaCtx<html>",group:"Html"});const Q9e=[kZ,LE,la,B3,FE,Eo,Hx,Tf,HE,om,UE,na,JE,sm,GE,id,ZE,od,tO,sd,iO,hl,OE,rd,DE,im,IE,Ka,NE,Qs,cO,hO,_Z].flat(),eCe=[CZ,PZ,DZ,TZ,EZ,SZ].flat(),tCe=[gZ,yZ,wZ,vZ],Pd=vt("IsMarkSelected",()=>t=>e=>{if(!t)return!1;const{doc:n,selection:r}=e;return n.rangeHasMark(r.from,r.to,t)}),IZ=vt("IsNoteSelected",()=>t=>e=>t?NX(e,t).hasNode:!1),Br=vt("ClearTextInCurrentBlock",()=>()=>(t,e)=>{let n=t.tr;const{$from:r,$to:i}=n.selection,{pos:o}=r,{pos:s}=i,l=o-r.node().content.size;return l<0?!1:(n=n.deleteRange(l,s),e==null||e(n),!0)}),ka=vt("SetBlockType",()=>t=>(e,n)=>{const{nodeType:r,attrs:i=null}=t??{};if(!r)return!1;const o=e.tr,{from:s,to:l}=o.selection;try{o.setBlockType(s,l,r,i)}catch{return!1}return n==null||n(o),!0}),kg=vt("WrapInBlockType",()=>t=>(e,n)=>{const{nodeType:r,attrs:i=null}=t??{};if(!r)return!1;let o=e.tr;try{const{$from:s,$to:l}=o.selection,a=s.blockRange(l),u=a&&eE(a,r,i);if(!u)return!1;o=o.wrap(a,u)}catch{return!1}return n==null||n(o),!0}),Sg=vt("AddBlockType",()=>t=>(e,n)=>{const{nodeType:r,attrs:i=null}=t??{};if(!r)return!1;const o=e.tr;try{const s=r instanceof nu?r:r.createAndFill(i);if(!s)return!1;o.replaceSelectionWith(s)}catch{return!1}return n==null||n(o),!0}),RZ=vt("SelectTextNearPos",()=>t=>(e,n)=>{const{pos:r}=t??{};if(r==null)return!1;const i=(s,l,a)=>Math.min(Math.max(s,l),a),o=e.tr;try{const s=e.doc.resolve(i(r,0,e.doc.content.size));o.setSelection(nt.near(s))}catch{return!1}return n==null||n(o.scrollIntoView()),!0}),nCe=[BE,jE,Xu,$E,qE,YE,OZ,MZ,AZ,nO,QE,oO,lO,sO,aO,I3,N3,R3,xZ,bZ,Pd,IZ,Br,ka,kg,Sg,RZ],rCe=[WE,KE,XE,VE,uO,rO,eO,zE,PE,RE,_E].flat(),fO=sa("remarkAddOrderInList",()=>()=>t=>{ia(t,"list",e=>{if(e.ordered){const n=e.start??1;e.children.forEach((r,i)=>{r.label=i+n})}})});he(fO.plugin,{displayName:"Remark<remarkAddOrderInListPlugin>",group:"Remark"});he(fO.options,{displayName:"RemarkConfig<remarkAddOrderInListPlugin>",group:"Remark"});const dO=sa("remarkLineBreak",()=>()=>t=>{const e=/[\t ]*(?:\r?\n|\r)/g;ia(t,"text",(n,r,i)=>{if(!n.value||typeof n.value!="string")return;const o=[];let s=0;e.lastIndex=0;let l=e.exec(n.value);for(;l;){const u=l.index;s!==u&&o.push({type:"text",value:n.value.slice(s,u)}),o.push({type:"break",data:{isInline:!0}}),s=u+l[0].length,l=e.exec(n.value)}if(o.length>0&&i&&typeof r=="number")return s<n.value.length&&o.push({type:"text",value:n.value.slice(s)}),i.children.splice(r,1,...o),r+o.length})});he(dO.plugin,{displayName:"Remark<remarkLineBreak>",group:"Remark"});he(dO.options,{displayName:"RemarkConfig<remarkLineBreak>",group:"Remark"});const pO=sa("remarkInlineLink",()=>U9e);he(pO.plugin,{displayName:"Remark<remarkInlineLinkPlugin>",group:"Remark"});he(pO.options,{displayName:"RemarkConfig<remarkInlineLinkPlugin>",group:"Remark"});const iCe=t=>!!t.children,oCe=t=>t.type==="html";function sCe(t,e){return n(t,0,null)[0];function n(r,i,o){if(iCe(r)){const s=[];for(let l=0,a=r.children.length;l<a;l++){const u=r.children[l];if(u){const c=n(u,l,r);if(c)for(let h=0,f=c.length;h<f;h++){const d=c[h];d&&s.push(d)}}}r.children=s}return e(r,i,o)}}const lCe=["root","blockquote","listItem"],mO=sa("remarkHTMLTransformer",()=>()=>t=>{sCe(t,(e,n,r)=>oCe(e)?(r&&lCe.includes(r.type)&&(e.children=[{...e}],delete e.value,e.type="paragraph"),[e]):[e])});he(mO.plugin,{displayName:"Remark<remarkHtmlTransformer>",group:"Remark"});he(mO.options,{displayName:"RemarkConfig<remarkHtmlTransformer>",group:"Remark"});const gO=sa("remarkMarker",()=>()=>(t,e)=>{const n=r=>e.value.charAt(r.position.start.offset);ia(t,r=>["strong","emphasis"].includes(r.type),r=>{r.marker=n(r)})});he(gO.plugin,{displayName:"Remark<remarkMarker>",group:"Remark"});he(gO.options,{displayName:"RemarkConfig<remarkMarker>",group:"Remark"});const NZ=Cr(()=>{let t=!1;const e=new Xn("MILKDOWN_INLINE_NODES_CURSOR"),n=new $n({key:e,state:{init(){return!1},apply(r){if(!r.selection.empty)return!1;const i=r.selection.$from,o=i.nodeBefore,s=i.nodeAfter;return!!(o&&s&&o.isInline&&!o.isText&&s.isInline&&!s.isText)}},props:{handleDOMEvents:{compositionend:(r,i)=>t?(t=!1,requestAnimationFrame(()=>{if(n.getState(r.state)){const s=r.state.selection.from;i.preventDefault(),r.dispatch(r.state.tr.insertText(i.data||"",s))}}),!0):!1,compositionstart:r=>(n.getState(r.state)&&(t=!0),!1),beforeinput:(r,i)=>{if(n.getState(r.state)&&i instanceof InputEvent&&i.data&&!t){const s=r.state.selection.from;return i.preventDefault(),r.dispatch(r.state.tr.insertText(i.data||"",s)),!0}return!1}},decorations(r){if(n.getState(r)){const s=r.selection.$from.pos,l=document.createElement("span"),a=gr.widget(s,l,{side:-1}),u=document.createElement("span"),c=gr.widget(s,u);return setTimeout(()=>{l.contentEditable="true",u.contentEditable="true"}),hn.create(r.doc,[a,c])}return hn.empty}}});return n});he(NZ,{displayName:"Prose<inlineNodesCursorPlugin>",group:"Prose"});const LZ=Cr(t=>new $n({key:new Xn("MILKDOWN_HARDBREAK_MARKS"),appendTransaction:(e,n,r)=>{if(!e.length)return;const[i]=e;if(!i)return;const[o]=i.steps;if(i.getMeta("hardbreak")){if(!(o instanceof Er))return;const{from:a}=o;return r.tr.setNodeMarkup(a,Tf.type(t),void 0,[])}if(o instanceof Ua){let a=r.tr;const{from:u,to:c}=o;return r.doc.nodesBetween(u,c,(h,f)=>{h.type===Tf.type(t)&&(a=a.setNodeMarkup(f,Tf.type(t),void 0,[]))}),a}}}));he(LZ,{displayName:"Prose<hardbreakClearMarkPlugin>",group:"Prose"});const yO=ln(["table","code_block"],"hardbreakFilterNodes");he(yO,{displayName:"Ctx<hardbreakFilterNodes>",group:"Prose"});const BZ=Cr(t=>{const e=t.get(yO.key);return new $n({key:new Xn("MILKDOWN_HARDBREAK_FILTER"),filterTransaction:(n,r)=>{const i=n.getMeta("hardbreak"),[o]=n.steps;if(i&&o){const{from:s}=o,l=r.doc.resolve(s);let a=l.depth,u=!0;for(;a>0;)e.includes(l.node(a).type.name)&&(u=!1),a--;return u}return!0}})});he(BZ,{displayName:"Prose<hardbreakFilterPlugin>",group:"Prose"});const zZ=Cr(t=>{const e=new Xn("MILKDOWN_HEADING_ID"),n=r=>{if(r.composing)return;const i=t.get(B3.key),o=r.state.tr.setMeta("addToHistory",!1);let s=!1;const l={};r.state.doc.descendants((a,u)=>{if(a.type===Eo.type(t)){if(a.textContent.trim().length===0)return;const c=a.attrs;let h=i(a);l[h]?(l[h]+=1,h+=`-#${l[h]}`):l[h]=1,c.id!==h&&(s=!0,o.setMeta(e,!0).setNodeMarkup(u,void 0,{...c,id:h}))}}),s&&r.dispatch(o)};return new $n({key:e,view:r=>(n(r),{update:(i,o)=>{i.state.doc.eq(o.doc)||n(i)}})})});he(zZ,{displayName:"Prose<syncHeadingIdPlugin>",group:"Prose"});const FZ=Cr(t=>{const e=(n,r,i)=>{if(!i.selection||n.some(h=>h.getMeta("addToHistory")===!1||!h.isGeneric))return null;const o=sd.type(t),s=od.type(t),l=hl.type(t),a=(h,f)=>{let d=!1;const p=`${f+1}.`;return h.label!==p&&(h.label=p,d=!0),d};let u=i.tr,c=!1;return i.doc.descendants((h,f,d,p)=>{if(h.type===s){const m=h.maybeChild(0);(m==null?void 0:m.type)===l&&m.attrs.listType==="ordered"&&(c=!0,u.setNodeMarkup(f,o,{spread:"true"}),h.descendants((y,g,v,w)=>{if(y.type===l){const b={...y.attrs};a(b,w)&&(u=u.setNodeMarkup(g,void 0,b))}return!1}))}else if(h.type===l&&(d==null?void 0:d.type)===o){const m={...h.attrs};let y=!1;m.listType!=="ordered"&&(m.listType="ordered",y=!0),(d==null?void 0:d.maybeChild(0))&&(y=a(m,p)),y&&(u=u.setNodeMarkup(f,void 0,m),c=!0)}}),c?u.setMeta("addToHistory",!1):null};return new $n({key:new Xn("MILKDOWN_KEEP_LIST_ORDER"),appendTransaction:e})});he(FZ,{displayName:"Prose<syncListOrderPlugin>",group:"Prose"});const aCe=[LZ,yO,BZ,NZ,fO,pO,dO,mO,gO,L3,zZ,FZ].flat(),uCe=[Q9e,eCe,tCe,nCe,rCe,aCe].flat();/**
* @vue/shared v3.5.18
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function vO(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const wn={},T1=[],Jl=()=>{},cCe=()=>!1,z3=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),wO=t=>t.startsWith("onUpdate:"),_r=Object.assign,xO=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},hCe=Object.prototype.hasOwnProperty,tn=(t,e)=>hCe.call(t,e),Et=Array.isArray,M1=t=>F3(t)==="[object Map]",fCe=t=>F3(t)==="[object Set]",_t=t=>typeof t=="function",Ir=t=>typeof t=="string",lm=t=>typeof t=="symbol",sr=t=>t!==null&&typeof t=="object",$Z=t=>(sr(t)||_t(t))&&_t(t.then)&&_t(t.catch),dCe=Object.prototype.toString,F3=t=>dCe.call(t),pCe=t=>F3(t).slice(8,-1),mCe=t=>F3(t)==="[object Object]",bO=t=>Ir(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,A1=vO(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),$3=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},gCe=/-(\w)/g,qc=$3(t=>t.replace(gCe,(e,n)=>n?n.toUpperCase():"")),yCe=/\B([A-Z])/g,ld=$3(t=>t.replace(yCe,"-$1").toLowerCase()),VZ=$3(t=>t.charAt(0).toUpperCase()+t.slice(1)),Mk=$3(t=>t?`on${VZ(t)}`:""),Dc=(t,e)=>!Object.is(t,e),Ak=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},AC=(t,e,n,r=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:r,value:n})},vCe=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let kz;const V3=()=>kz||(kz=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function kO(t){if(Et(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],i=Ir(r)?kCe(r):kO(r);if(i)for(const o in i)e[o]=i[o]}return e}else if(Ir(t)||sr(t))return t}const wCe=/;(?![^(]*\))/g,xCe=/:([^]+)/,bCe=/\/\*[^]*?\*\//g;function kCe(t){const e={};return t.replace(bCe,"").split(wCe).forEach(n=>{if(n){const r=n.split(xCe);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function SO(t){let e="";if(Ir(t))e=t;else if(Et(t))for(let n=0;n<t.length;n++){const r=SO(t[n]);r&&(e+=r+" ")}else if(sr(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const SCe="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",CCe=vO(SCe);function HZ(t){return!!t||t===""}/**
* @vue/reactivity v3.5.18
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Gi;class TCe{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Gi,!e&&Gi&&(this.index=(Gi.scopes||(Gi.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=Gi;try{return Gi=this,e()}finally{Gi=n}}}on(){++this._on===1&&(this.prevScope=Gi,Gi=this)}off(){this._on>0&&--this._on===0&&(Gi=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(this.effects.length=0,n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0}}}function MCe(){return Gi}let vn;const Ek=new WeakSet;class jZ{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Gi&&Gi.active&&Gi.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Ek.has(this)&&(Ek.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||UZ(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Sz(this),qZ(this);const e=vn,n=el;vn=this,el=!0;try{return this.fn()}finally{KZ(this),vn=e,el=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)MO(e);this.deps=this.depsTail=void 0,Sz(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Ek.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){EC(this)&&this.run()}get dirty(){return EC(this)}}let WZ=0,E1,O1;function UZ(t,e=!1){if(t.flags|=8,e){t.next=O1,O1=t;return}t.next=E1,E1=t}function CO(){WZ++}function TO(){if(--WZ>0)return;if(O1){let e=O1;for(O1=void 0;e;){const n=e.next;e.next=void 0,e.flags&=-9,e=n}}let t;for(;E1;){let e=E1;for(E1=void 0;e;){const n=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(r){t||(t=r)}e=n}}if(t)throw t}function qZ(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function KZ(t){let e,n=t.depsTail,r=n;for(;r;){const i=r.prevDep;r.version===-1?(r===n&&(n=i),MO(r),ACe(r)):e=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=i}t.deps=e,t.depsTail=n}function EC(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(GZ(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function GZ(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===zy)||(t.globalVersion=zy,!t.isSSR&&t.flags&128&&(!t.deps&&!t._dirty||!EC(t))))return;t.flags|=2;const e=t.dep,n=vn,r=el;vn=t,el=!0;try{qZ(t);const i=t.fn(t._value);(e.version===0||Dc(i,t._value))&&(t.flags|=128,t._value=i,e.version++)}catch(i){throw e.version++,i}finally{vn=n,el=r,KZ(t),t.flags&=-3}}function MO(t,e=!1){const{dep:n,prevSub:r,nextSub:i}=t;if(r&&(r.nextSub=i,t.prevSub=void 0),i&&(i.prevSub=r,t.nextSub=void 0),n.subs===t&&(n.subs=r,!r&&n.computed)){n.computed.flags&=-5;for(let o=n.computed.deps;o;o=o.nextDep)MO(o,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function ACe(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}let el=!0;const YZ=[];function pu(){YZ.push(el),el=!1}function mu(){const t=YZ.pop();el=t===void 0?!0:t}function Sz(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=vn;vn=void 0;try{e()}finally{vn=n}}}let zy=0;class ECe{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class AO{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(e){if(!vn||!el||vn===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==vn)n=this.activeLink=new ECe(vn,this),vn.deps?(n.prevDep=vn.depsTail,vn.depsTail.nextDep=n,vn.depsTail=n):vn.deps=vn.depsTail=n,XZ(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const r=n.nextDep;r.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=r),n.prevDep=vn.depsTail,n.nextDep=void 0,vn.depsTail.nextDep=n,vn.depsTail=n,vn.deps===n&&(vn.deps=r)}return n}trigger(e){this.version++,zy++,this.notify(e)}notify(e){CO();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{TO()}}}function XZ(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let r=e.deps;r;r=r.nextDep)XZ(r)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}const OC=new WeakMap,Mf=Symbol(""),PC=Symbol(""),Fy=Symbol("");function ri(t,e,n){if(el&&vn){let r=OC.get(t);r||OC.set(t,r=new Map);let i=r.get(n);i||(r.set(n,i=new AO),i.map=r,i.key=n),i.track()}}function Va(t,e,n,r,i,o){const s=OC.get(t);if(!s){zy++;return}const l=a=>{a&&a.trigger()};if(CO(),e==="clear")s.forEach(l);else{const a=Et(t),u=a&&bO(n);if(a&&n==="length"){const c=Number(r);s.forEach((h,f)=>{(f==="length"||f===Fy||!lm(f)&&f>=c)&&l(h)})}else switch((n!==void 0||s.has(void 0))&&l(s.get(n)),u&&l(s.get(Fy)),e){case"add":a?u&&l(s.get("length")):(l(s.get(Mf)),M1(t)&&l(s.get(PC)));break;case"delete":a||(l(s.get(Mf)),M1(t)&&l(s.get(PC)));break;case"set":M1(t)&&l(s.get(Mf));break}}TO()}function kd(t){const e=en(t);return e===t?e:(ri(e,"iterate",Fy),tl(t)?e:e.map(Ai))}function EO(t){return ri(t=en(t),"iterate",Fy),t}const OCe={__proto__:null,[Symbol.iterator](){return Ok(this,Symbol.iterator,Ai)},concat(...t){return kd(this).concat(...t.map(e=>Et(e)?kd(e):e))},entries(){return Ok(this,"entries",t=>(t[1]=Ai(t[1]),t))},every(t,e){return va(this,"every",t,e,void 0,arguments)},filter(t,e){return va(this,"filter",t,e,n=>n.map(Ai),arguments)},find(t,e){return va(this,"find",t,e,Ai,arguments)},findIndex(t,e){return va(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return va(this,"findLast",t,e,Ai,arguments)},findLastIndex(t,e){return va(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return va(this,"forEach",t,e,void 0,arguments)},includes(...t){return Pk(this,"includes",t)},indexOf(...t){return Pk(this,"indexOf",t)},join(t){return kd(this).join(t)},lastIndexOf(...t){return Pk(this,"lastIndexOf",t)},map(t,e){return va(this,"map",t,e,void 0,arguments)},pop(){return $m(this,"pop")},push(...t){return $m(this,"push",t)},reduce(t,...e){return Cz(this,"reduce",t,e)},reduceRight(t,...e){return Cz(this,"reduceRight",t,e)},shift(){return $m(this,"shift")},some(t,e){return va(this,"some",t,e,void 0,arguments)},splice(...t){return $m(this,"splice",t)},toReversed(){return kd(this).toReversed()},toSorted(t){return kd(this).toSorted(t)},toSpliced(...t){return kd(this).toSpliced(...t)},unshift(...t){return $m(this,"unshift",t)},values(){return Ok(this,"values",Ai)}};function Ok(t,e,n){const r=EO(t),i=r[e]();return r!==t&&!tl(t)&&(i._next=i.next,i.next=()=>{const o=i._next();return o.value&&(o.value=n(o.value)),o}),i}const PCe=Array.prototype;function va(t,e,n,r,i,o){const s=EO(t),l=s!==t&&!tl(t),a=s[e];if(a!==PCe[e]){const h=a.apply(t,o);return l?Ai(h):h}let u=n;s!==t&&(l?u=function(h,f){return n.call(this,Ai(h),f,t)}:n.length>2&&(u=function(h,f){return n.call(this,h,f,t)}));const c=a.call(s,u,r);return l&&i?i(c):c}function Cz(t,e,n,r){const i=EO(t);let o=n;return i!==t&&(tl(t)?n.length>3&&(o=function(s,l,a){return n.call(this,s,l,a,t)}):o=function(s,l,a){return n.call(this,s,Ai(l),a,t)}),i[e](o,...r)}function Pk(t,e,n){const r=en(t);ri(r,"iterate",Fy);const i=r[e](...n);return(i===-1||i===!1)&&_O(n[0])?(n[0]=en(n[0]),r[e](...n)):i}function $m(t,e,n=[]){pu(),CO();const r=en(t)[e].apply(t,n);return TO(),mu(),r}const DCe=vO("__proto__,__v_isRef,__isVue"),JZ=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(lm));function _Ce(t){lm(t)||(t=String(t));const e=en(this);return ri(e,"has",t),e.hasOwnProperty(t)}class ZZ{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,r){if(n==="__v_skip")return e.__v_skip;const i=this._isReadonly,o=this._isShallow;if(n==="__v_isReactive")return!i;if(n==="__v_isReadonly")return i;if(n==="__v_isShallow")return o;if(n==="__v_raw")return r===(i?o?HCe:nQ:o?tQ:eQ).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const s=Et(e);if(!i){let a;if(s&&(a=OCe[n]))return a;if(n==="hasOwnProperty")return _Ce}const l=Reflect.get(e,n,pi(e)?e:r);return(lm(n)?JZ.has(n):DCe(n))||(i||ri(e,"get",n),o)?l:pi(l)?s&&bO(n)?l:l.value:sr(l)?i?rQ(l):PO(l):l}}class QZ extends ZZ{constructor(e=!1){super(!1,e)}set(e,n,r,i){let o=e[n];if(!this._isShallow){const a=Gf(o);if(!tl(r)&&!Gf(r)&&(o=en(o),r=en(r)),!Et(e)&&pi(o)&&!pi(r))return a?!1:(o.value=r,!0)}const s=Et(e)&&bO(n)?Number(n)<e.length:tn(e,n),l=Reflect.set(e,n,r,pi(e)?e:i);return e===en(i)&&(s?Dc(r,o)&&Va(e,"set",n,r):Va(e,"add",n,r)),l}deleteProperty(e,n){const r=tn(e,n);e[n];const i=Reflect.deleteProperty(e,n);return i&&r&&Va(e,"delete",n,void 0),i}has(e,n){const r=Reflect.has(e,n);return(!lm(n)||!JZ.has(n))&&ri(e,"has",n),r}ownKeys(e){return ri(e,"iterate",Et(e)?"length":Mf),Reflect.ownKeys(e)}}class ICe extends ZZ{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const RCe=new QZ,NCe=new ICe,LCe=new QZ(!0);const DC=t=>t,g4=t=>Reflect.getPrototypeOf(t);function BCe(t,e,n){return function(...r){const i=this.__v_raw,o=en(i),s=M1(o),l=t==="entries"||t===Symbol.iterator&&s,a=t==="keys"&&s,u=i[t](...r),c=n?DC:e?_C:Ai;return!e&&ri(o,"iterate",a?PC:Mf),{next(){const{value:h,done:f}=u.next();return f?{value:h,done:f}:{value:l?[c(h[0]),c(h[1])]:c(h),done:f}},[Symbol.iterator](){return this}}}}function y4(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function zCe(t,e){const n={get(i){const o=this.__v_raw,s=en(o),l=en(i);t||(Dc(i,l)&&ri(s,"get",i),ri(s,"get",l));const{has:a}=g4(s),u=e?DC:t?_C:Ai;if(a.call(s,i))return u(o.get(i));if(a.call(s,l))return u(o.get(l));o!==s&&o.get(i)},get size(){const i=this.__v_raw;return!t&&ri(en(i),"iterate",Mf),Reflect.get(i,"size",i)},has(i){const o=this.__v_raw,s=en(o),l=en(i);return t||(Dc(i,l)&&ri(s,"has",i),ri(s,"has",l)),i===l?o.has(i):o.has(i)||o.has(l)},forEach(i,o){const s=this,l=s.__v_raw,a=en(l),u=e?DC:t?_C:Ai;return!t&&ri(a,"iterate",Mf),l.forEach((c,h)=>i.call(o,u(c),u(h),s))}};return _r(n,t?{add:y4("add"),set:y4("set"),delete:y4("delete"),clear:y4("clear")}:{add(i){!e&&!tl(i)&&!Gf(i)&&(i=en(i));const o=en(this);return g4(o).has.call(o,i)||(o.add(i),Va(o,"add",i,i)),this},set(i,o){!e&&!tl(o)&&!Gf(o)&&(o=en(o));const s=en(this),{has:l,get:a}=g4(s);let u=l.call(s,i);u||(i=en(i),u=l.call(s,i));const c=a.call(s,i);return s.set(i,o),u?Dc(o,c)&&Va(s,"set",i,o):Va(s,"add",i,o),this},delete(i){const o=en(this),{has:s,get:l}=g4(o);let a=s.call(o,i);a||(i=en(i),a=s.call(o,i)),l&&l.call(o,i);const u=o.delete(i);return a&&Va(o,"delete",i,void 0),u},clear(){const i=en(this),o=i.size!==0,s=i.clear();return o&&Va(i,"clear",void 0,void 0),s}}),["keys","values","entries",Symbol.iterator].forEach(i=>{n[i]=BCe(i,t,e)}),n}function OO(t,e){const n=zCe(t,e);return(r,i,o)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?r:Reflect.get(tn(n,i)&&i in r?n:r,i,o)}const FCe={get:OO(!1,!1)},$Ce={get:OO(!1,!0)},VCe={get:OO(!0,!1)};const eQ=new WeakMap,tQ=new WeakMap,nQ=new WeakMap,HCe=new WeakMap;function jCe(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function WCe(t){return t.__v_skip||!Object.isExtensible(t)?0:jCe(pCe(t))}function PO(t){return Gf(t)?t:DO(t,!1,RCe,FCe,eQ)}function UCe(t){return DO(t,!1,LCe,$Ce,tQ)}function rQ(t){return DO(t,!0,NCe,VCe,nQ)}function DO(t,e,n,r,i){if(!sr(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const o=WCe(t);if(o===0)return t;const s=i.get(t);if(s)return s;const l=new Proxy(t,o===2?r:n);return i.set(t,l),l}function P1(t){return Gf(t)?P1(t.__v_raw):!!(t&&t.__v_isReactive)}function Gf(t){return!!(t&&t.__v_isReadonly)}function tl(t){return!!(t&&t.__v_isShallow)}function _O(t){return t?!!t.__v_raw:!1}function en(t){const e=t&&t.__v_raw;return e?en(e):t}function qCe(t){return!tn(t,"__v_skip")&&Object.isExtensible(t)&&AC(t,"__v_skip",!0),t}const Ai=t=>sr(t)?PO(t):t,_C=t=>sr(t)?rQ(t):t;function pi(t){return t?t.__v_isRef===!0:!1}function Ze(t){return iQ(t,!1)}function jx(t){return iQ(t,!0)}function iQ(t,e){return pi(t)?t:new KCe(t,e)}class KCe{constructor(e,n){this.dep=new AO,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:en(e),this._value=n?e:Ai(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,r=this.__v_isShallow||tl(e)||Gf(e);e=r?e:en(e),Dc(e,n)&&(this._rawValue=e,this._value=r?e:Ai(e),this.dep.trigger())}}function GCe(t){return pi(t)?t.value:t}const YCe={get:(t,e,n)=>e==="__v_raw"?t:GCe(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const i=t[e];return pi(i)&&!pi(n)?(i.value=n,!0):Reflect.set(t,e,n,r)}};function oQ(t){return P1(t)?t:new Proxy(t,YCe)}class XCe{constructor(e,n,r){this.fn=e,this.setter=n,this._value=void 0,this.dep=new AO(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=zy-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&vn!==this)return UZ(this,!0),!0}get value(){const e=this.dep.track();return GZ(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function JCe(t,e,n=!1){let r,i;return _t(t)?r=t:(r=t.get,i=t.set),new XCe(r,i,n)}const v4={},Wx=new WeakMap;let Ph;function ZCe(t,e=!1,n=Ph){if(n){let r=Wx.get(n);r||Wx.set(n,r=[]),r.push(t)}}function QCe(t,e,n=wn){const{immediate:r,deep:i,once:o,scheduler:s,augmentJob:l,call:a}=n,u=b=>i?b:tl(b)||i===!1||i===0?ic(b,1):ic(b);let c,h,f,d,p=!1,m=!1;if(pi(t)?(h=()=>t.value,p=tl(t)):P1(t)?(h=()=>u(t),p=!0):Et(t)?(m=!0,p=t.some(b=>P1(b)||tl(b)),h=()=>t.map(b=>{if(pi(b))return b.value;if(P1(b))return u(b);if(_t(b))return a?a(b,2):b()})):_t(t)?e?h=a?()=>a(t,2):t:h=()=>{if(f){pu();try{f()}finally{mu()}}const b=Ph;Ph=c;try{return a?a(t,3,[d]):t(d)}finally{Ph=b}}:h=Jl,e&&i){const b=h,S=i===!0?1/0:i;h=()=>ic(b(),S)}const y=MCe(),g=()=>{c.stop(),y&&y.active&&xO(y.effects,c)};if(o&&e){const b=e;e=(...S)=>{b(...S),g()}}let v=m?new Array(t.length).fill(v4):v4;const w=b=>{if(!(!(c.flags&1)||!c.dirty&&!b))if(e){const S=c.run();if(i||p||(m?S.some((k,T)=>Dc(k,v[T])):Dc(S,v))){f&&f();const k=Ph;Ph=c;try{const T=[S,v===v4?void 0:m&&v[0]===v4?[]:v,d];v=S,a?a(e,3,T):e(...T)}finally{Ph=k}}}else c.run()};return l&&l(w),c=new jZ(h),c.scheduler=s?()=>s(w,!1):w,d=b=>ZCe(b,!1,c),f=c.onStop=()=>{const b=Wx.get(c);if(b){if(a)a(b,4);else for(const S of b)S();Wx.delete(c)}},e?r?w(!0):v=c.run():s?s(w.bind(null,!0),!0):c.run(),g.pause=c.pause.bind(c),g.resume=c.resume.bind(c),g.stop=g,g}function ic(t,e=1/0,n){if(e<=0||!sr(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),e--,pi(t))ic(t.value,e,n);else if(Et(t))for(let r=0;r<t.length;r++)ic(t[r],e,n);else if(fCe(t)||M1(t))t.forEach(r=>{ic(r,e,n)});else if(mCe(t)){for(const r in t)ic(t[r],e,n);for(const r of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,r)&&ic(t[r],e,n)}return t}/**
* @vue/runtime-core v3.5.18
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function e2(t,e,n,r){try{return r?t(...r):t()}catch(i){H3(i,e,n)}}function ra(t,e,n,r){if(_t(t)){const i=e2(t,e,n,r);return i&&$Z(i)&&i.catch(o=>{H3(o,e,n)}),i}if(Et(t)){const i=[];for(let o=0;o<t.length;o++)i.push(ra(t[o],e,n,r));return i}}function H3(t,e,n,r=!0){const i=e?e.vnode:null,{errorHandler:o,throwUnhandledErrorInProduction:s}=e&&e.appContext.config||wn;if(e){let l=e.parent;const a=e.proxy,u=`https://vuejs.org/error-reference/#runtime-${n}`;for(;l;){const c=l.ec;if(c){for(let h=0;h<c.length;h++)if(c[h](t,a,u)===!1)return}l=l.parent}if(o){pu(),e2(o,null,10,[t,a,u]),mu();return}}eTe(t,n,i,r,s)}function eTe(t,e,n,r=!0,i=!1){if(i)throw t;console.error(t)}const Ei=[];let El=-1;const T0=[];let Ju=null,Dd=0;const sQ=Promise.resolve();let Ux=null;function tTe(t){const e=Ux||sQ;return t?e.then(this?t.bind(this):t):e}function nTe(t){let e=El+1,n=Ei.length;for(;e<n;){const r=e+n>>>1,i=Ei[r],o=$y(i);o<t||o===t&&i.flags&2?e=r+1:n=r}return e}function IO(t){if(!(t.flags&1)){const e=$y(t),n=Ei[Ei.length-1];!n||!(t.flags&2)&&e>=$y(n)?Ei.push(t):Ei.splice(nTe(e),0,t),t.flags|=1,lQ()}}function lQ(){Ux||(Ux=sQ.then(uQ))}function rTe(t){Et(t)?T0.push(...t):Ju&&t.id===-1?Ju.splice(Dd+1,0,t):t.flags&1||(T0.push(t),t.flags|=1),lQ()}function Tz(t,e,n=El+1){for(;n<Ei.length;n++){const r=Ei[n];if(r&&r.flags&2){if(t&&r.id!==t.uid)continue;Ei.splice(n,1),n--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function aQ(t){if(T0.length){const e=[...new Set(T0)].sort((n,r)=>$y(n)-$y(r));if(T0.length=0,Ju){Ju.push(...e);return}for(Ju=e,Dd=0;Dd<Ju.length;Dd++){const n=Ju[Dd];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}Ju=null,Dd=0}}const $y=t=>t.id==null?t.flags&2?-1:1/0:t.id;function uQ(t){try{for(El=0;El<Ei.length;El++){const e=Ei[El];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),e2(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;El<Ei.length;El++){const e=Ei[El];e&&(e.flags&=-2)}El=-1,Ei.length=0,aQ(),Ux=null,(Ei.length||T0.length)&&uQ()}}let $l=null,cQ=null;function qx(t){const e=$l;return $l=t,cQ=t&&t.type.__scopeId||null,e}function iTe(t,e=$l,n){if(!e||t._n)return t;const r=(...i)=>{r._d&&Iz(-1);const o=qx(e);let s;try{s=t(...i)}finally{qx(o),r._d&&Iz(1)}return s};return r._n=!0,r._c=!0,r._d=!0,r}function gh(t,e,n,r){const i=t.dirs,o=e&&e.dirs;for(let s=0;s<i.length;s++){const l=i[s];o&&(l.oldValue=o[s].value);let a=l.dir[r];a&&(pu(),ra(a,n,8,[t.el,l,t,e]),mu())}}const oTe=Symbol("_vte"),sTe=t=>t.__isTeleport;function RO(t,e){t.shapeFlag&6&&t.component?(t.transition=e,RO(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}/*! #__NO_SIDE_EFFECTS__ */function Yr(t,e){return _t(t)?_r({name:t.name},e,{setup:t}):t}function hQ(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function D1(t,e,n,r,i=!1){if(Et(t)){t.forEach((p,m)=>D1(p,e&&(Et(e)?e[m]:e),n,r,i));return}if(_1(r)&&!i){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&D1(t,e,n,r.component.subTree);return}const o=r.shapeFlag&4?VO(r.component):r.el,s=i?null:o,{i:l,r:a}=t,u=e&&e.r,c=l.refs===wn?l.refs={}:l.refs,h=l.setupState,f=en(h),d=h===wn?()=>!1:p=>tn(f,p);if(u!=null&&u!==a&&(Ir(u)?(c[u]=null,d(u)&&(h[u]=null)):pi(u)&&(u.value=null)),_t(a))e2(a,l,12,[s,c]);else{const p=Ir(a),m=pi(a);if(p||m){const y=()=>{if(t.f){const g=p?d(a)?h[a]:c[a]:a.value;i?Et(g)&&xO(g,o):Et(g)?g.includes(o)||g.push(o):p?(c[a]=[o],d(a)&&(h[a]=c[a])):(a.value=[o],t.k&&(c[t.k]=a.value))}else p?(c[a]=s,d(a)&&(h[a]=s)):m&&(a.value=s,t.k&&(c[t.k]=s))};s?(y.id=-1,ko(y,n)):y()}}}V3().requestIdleCallback;V3().cancelIdleCallback;const _1=t=>!!t.type.__asyncLoader,fQ=t=>t.type.__isKeepAlive;function lTe(t,e){dQ(t,"a",e)}function aTe(t,e){dQ(t,"da",e)}function dQ(t,e,n=Pi){const r=t.__wdc||(t.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(j3(e,r,n),n){let i=n.parent;for(;i&&i.parent;)fQ(i.parent.vnode)&&uTe(r,e,n,i),i=i.parent}}function uTe(t,e,n,r){const i=j3(e,t,r,!0);n2(()=>{xO(r[e],i)},n)}function j3(t,e,n=Pi,r=!1){if(n){const i=n[t]||(n[t]=[]),o=e.__weh||(e.__weh=(...s)=>{pu();const l=r2(n),a=ra(e,n,t,s);return l(),mu(),a});return r?i.unshift(o):i.push(o),o}}const Mu=t=>(e,n=Pi)=>{(!Vy||t==="sp")&&j3(t,(...r)=>e(...r),n)},cTe=Mu("bm"),t2=Mu("m"),hTe=Mu("bu"),fTe=Mu("u"),dTe=Mu("bum"),n2=Mu("um"),pTe=Mu("sp"),mTe=Mu("rtg"),gTe=Mu("rtc");function yTe(t,e=Pi){j3("ec",t,e)}const vTe=Symbol.for("v-ndc"),IC=t=>t?PQ(t)?VO(t):IC(t.parent):null,I1=_r(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>IC(t.parent),$root:t=>IC(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>NO(t),$forceUpdate:t=>t.f||(t.f=()=>{IO(t.update)}),$nextTick:t=>t.n||(t.n=tTe.bind(t.proxy)),$watch:t=>$Te.bind(t)}),Dk=(t,e)=>t!==wn&&!t.__isScriptSetup&&tn(t,e),wTe={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:r,data:i,props:o,accessCache:s,type:l,appContext:a}=t;let u;if(e[0]!=="$"){const d=s[e];if(d!==void 0)switch(d){case 1:return r[e];case 2:return i[e];case 4:return n[e];case 3:return o[e]}else{if(Dk(r,e))return s[e]=1,r[e];if(i!==wn&&tn(i,e))return s[e]=2,i[e];if((u=t.propsOptions[0])&&tn(u,e))return s[e]=3,o[e];if(n!==wn&&tn(n,e))return s[e]=4,n[e];RC&&(s[e]=0)}}const c=I1[e];let h,f;if(c)return e==="$attrs"&&ri(t.attrs,"get",""),c(t);if((h=l.__cssModules)&&(h=h[e]))return h;if(n!==wn&&tn(n,e))return s[e]=4,n[e];if(f=a.config.globalProperties,tn(f,e))return f[e]},set({_:t},e,n){const{data:r,setupState:i,ctx:o}=t;return Dk(i,e)?(i[e]=n,!0):r!==wn&&tn(r,e)?(r[e]=n,!0):tn(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(o[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:i,propsOptions:o}},s){let l;return!!n[s]||t!==wn&&tn(t,s)||Dk(e,s)||(l=o[0])&&tn(l,s)||tn(r,s)||tn(I1,s)||tn(i.config.globalProperties,s)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:tn(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function Mz(t){return Et(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let RC=!0;function xTe(t){const e=NO(t),n=t.proxy,r=t.ctx;RC=!1,e.beforeCreate&&Az(e.beforeCreate,t,"bc");const{data:i,computed:o,methods:s,watch:l,provide:a,inject:u,created:c,beforeMount:h,mounted:f,beforeUpdate:d,updated:p,activated:m,deactivated:y,beforeDestroy:g,beforeUnmount:v,destroyed:w,unmounted:b,render:S,renderTracked:k,renderTriggered:T,errorCaptured:A,serverPrefetch:z,expose:E,inheritAttrs:B,components:$,directives:ae,filters:G}=e;if(u&&bTe(u,r,null),s)for(const Y in s){const L=s[Y];_t(L)&&(r[Y]=L.bind(n))}if(i){const Y=i.call(n,n);sr(Y)&&(t.data=PO(Y))}if(RC=!0,o)for(const Y in o){const L=o[Y],X=_t(L)?L.bind(n,n):_t(L.get)?L.get.bind(n,n):Jl,O=!_t(L)&&_t(L.set)?L.set.bind(n):Jl,re=Yf({get:X,set:O});Object.defineProperty(r,Y,{enumerable:!0,configurable:!0,get:()=>re.value,set:ce=>re.value=ce})}if(l)for(const Y in l)pQ(l[Y],r,n,Y);if(a){const Y=_t(a)?a.call(n):a;Reflect.ownKeys(Y).forEach(L=>{ATe(L,Y[L])})}c&&Az(c,t,"c");function K(Y,L){Et(L)?L.forEach(X=>Y(X.bind(n))):L&&Y(L.bind(n))}if(K(cTe,h),K(t2,f),K(hTe,d),K(fTe,p),K(lTe,m),K(aTe,y),K(yTe,A),K(gTe,k),K(mTe,T),K(dTe,v),K(n2,b),K(pTe,z),Et(E))if(E.length){const Y=t.exposed||(t.exposed={});E.forEach(L=>{Object.defineProperty(Y,L,{get:()=>n[L],set:X=>n[L]=X,enumerable:!0})})}else t.exposed||(t.exposed={});S&&t.render===Jl&&(t.render=S),B!=null&&(t.inheritAttrs=B),$&&(t.components=$),ae&&(t.directives=ae),z&&hQ(t)}function bTe(t,e,n=Jl){Et(t)&&(t=NC(t));for(const r in t){const i=t[r];let o;sr(i)?"default"in i?o=Ww(i.from||r,i.default,!0):o=Ww(i.from||r):o=Ww(i),pi(o)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>o.value,set:s=>o.value=s}):e[r]=o}}function Az(t,e,n){ra(Et(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function pQ(t,e,n,r){let i=r.includes(".")?MQ(n,r):()=>n[r];if(Ir(t)){const o=e[t];_t(o)&&A0(i,o)}else if(_t(t))A0(i,t.bind(n));else if(sr(t))if(Et(t))t.forEach(o=>pQ(o,e,n,r));else{const o=_t(t.handler)?t.handler.bind(n):e[t.handler];_t(o)&&A0(i,o,t)}}function NO(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:i,optionsCache:o,config:{optionMergeStrategies:s}}=t.appContext,l=o.get(e);let a;return l?a=l:!i.length&&!n&&!r?a=e:(a={},i.length&&i.forEach(u=>Kx(a,u,s,!0)),Kx(a,e,s)),sr(e)&&o.set(e,a),a}function Kx(t,e,n,r=!1){const{mixins:i,extends:o}=e;o&&Kx(t,o,n,!0),i&&i.forEach(s=>Kx(t,s,n,!0));for(const s in e)if(!(r&&s==="expose")){const l=kTe[s]||n&&n[s];t[s]=l?l(t[s],e[s]):e[s]}return t}const kTe={data:Ez,props:Oz,emits:Oz,methods:Cg,computed:Cg,beforeCreate:Ti,created:Ti,beforeMount:Ti,mounted:Ti,beforeUpdate:Ti,updated:Ti,beforeDestroy:Ti,beforeUnmount:Ti,destroyed:Ti,unmounted:Ti,activated:Ti,deactivated:Ti,errorCaptured:Ti,serverPrefetch:Ti,components:Cg,directives:Cg,watch:CTe,provide:Ez,inject:STe};function Ez(t,e){return e?t?function(){return _r(_t(t)?t.call(this,this):t,_t(e)?e.call(this,this):e)}:e:t}function STe(t,e){return Cg(NC(t),NC(e))}function NC(t){if(Et(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Ti(t,e){return t?[...new Set([].concat(t,e))]:e}function Cg(t,e){return t?_r(Object.create(null),t,e):e}function Oz(t,e){return t?Et(t)&&Et(e)?[...new Set([...t,...e])]:_r(Object.create(null),Mz(t),Mz(e??{})):e}function CTe(t,e){if(!t)return e;if(!e)return t;const n=_r(Object.create(null),t);for(const r in e)n[r]=Ti(t[r],e[r]);return n}function mQ(){return{app:null,config:{isNativeTag:cCe,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let TTe=0;function MTe(t,e){return function(r,i=null){_t(r)||(r=_r({},r)),i!=null&&!sr(i)&&(i=null);const o=mQ(),s=new WeakSet,l=[];let a=!1;const u=o.app={_uid:TTe++,_component:r,_props:i,_container:null,_context:o,_instance:null,version:aMe,get config(){return o.config},set config(c){},use(c,...h){return s.has(c)||(c&&_t(c.install)?(s.add(c),c.install(u,...h)):_t(c)&&(s.add(c),c(u,...h))),u},mixin(c){return o.mixins.includes(c)||o.mixins.push(c),u},component(c,h){return h?(o.components[c]=h,u):o.components[c]},directive(c,h){return h?(o.directives[c]=h,u):o.directives[c]},mount(c,h,f){if(!a){const d=u._ceVNode||Gs(r,i);return d.appContext=o,f===!0?f="svg":f===!1&&(f=void 0),h&&e?e(d,c):t(d,c,f),a=!0,u._container=c,c.__vue_app__=u,VO(d.component)}},onUnmount(c){l.push(c)},unmount(){a&&(ra(l,u._instance,16),t(null,u._container),delete u._container.__vue_app__)},provide(c,h){return o.provides[c]=h,u},runWithContext(c){const h=M0;M0=u;try{return c()}finally{M0=h}}};return u}}let M0=null;function ATe(t,e){if(Pi){let n=Pi.provides;const r=Pi.parent&&Pi.parent.provides;r===n&&(n=Pi.provides=Object.create(r)),n[t]=e}}function Ww(t,e,n=!1){const r=nMe();if(r||M0){let i=M0?M0._context.provides:r?r.parent==null||r.ce?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(i&&t in i)return i[t];if(arguments.length>1)return n&&_t(e)?e.call(r&&r.proxy):e}}const gQ={},yQ=()=>Object.create(gQ),vQ=t=>Object.getPrototypeOf(t)===gQ;function ETe(t,e,n,r=!1){const i={},o=yQ();t.propsDefaults=Object.create(null),wQ(t,e,i,o);for(const s in t.propsOptions[0])s in i||(i[s]=void 0);n?t.props=r?i:UCe(i):t.type.props?t.props=i:t.props=o,t.attrs=o}function OTe(t,e,n,r){const{props:i,attrs:o,vnode:{patchFlag:s}}=t,l=en(i),[a]=t.propsOptions;let u=!1;if((r||s>0)&&!(s&16)){if(s&8){const c=t.vnode.dynamicProps;for(let h=0;h<c.length;h++){let f=c[h];if(W3(t.emitsOptions,f))continue;const d=e[f];if(a)if(tn(o,f))d!==o[f]&&(o[f]=d,u=!0);else{const p=qc(f);i[p]=LC(a,l,p,d,t,!1)}else d!==o[f]&&(o[f]=d,u=!0)}}}else{wQ(t,e,i,o)&&(u=!0);let c;for(const h in l)(!e||!tn(e,h)&&((c=ld(h))===h||!tn(e,c)))&&(a?n&&(n[h]!==void 0||n[c]!==void 0)&&(i[h]=LC(a,l,h,void 0,t,!0)):delete i[h]);if(o!==l)for(const h in o)(!e||!tn(e,h))&&(delete o[h],u=!0)}u&&Va(t.attrs,"set","")}function wQ(t,e,n,r){const[i,o]=t.propsOptions;let s=!1,l;if(e)for(let a in e){if(A1(a))continue;const u=e[a];let c;i&&tn(i,c=qc(a))?!o||!o.includes(c)?n[c]=u:(l||(l={}))[c]=u:W3(t.emitsOptions,a)||(!(a in r)||u!==r[a])&&(r[a]=u,s=!0)}if(o){const a=en(n),u=l||wn;for(let c=0;c<o.length;c++){const h=o[c];n[h]=LC(i,a,h,u[h],t,!tn(u,h))}}return s}function LC(t,e,n,r,i,o){const s=t[n];if(s!=null){const l=tn(s,"default");if(l&&r===void 0){const a=s.default;if(s.type!==Function&&!s.skipFactory&&_t(a)){const{propsDefaults:u}=i;if(n in u)r=u[n];else{const c=r2(i);r=u[n]=a.call(null,e),c()}}else r=a;i.ce&&i.ce._setProp(n,r)}s[0]&&(o&&!l?r=!1:s[1]&&(r===""||r===ld(n))&&(r=!0))}return r}const PTe=new WeakMap;function xQ(t,e,n=!1){const r=n?PTe:e.propsCache,i=r.get(t);if(i)return i;const o=t.props,s={},l=[];let a=!1;if(!_t(t)){const c=h=>{a=!0;const[f,d]=xQ(h,e,!0);_r(s,f),d&&l.push(...d)};!n&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}if(!o&&!a)return sr(t)&&r.set(t,T1),T1;if(Et(o))for(let c=0;c<o.length;c++){const h=qc(o[c]);Pz(h)&&(s[h]=wn)}else if(o)for(const c in o){const h=qc(c);if(Pz(h)){const f=o[c],d=s[h]=Et(f)||_t(f)?{type:f}:_r({},f),p=d.type;let m=!1,y=!0;if(Et(p))for(let g=0;g<p.length;++g){const v=p[g],w=_t(v)&&v.name;if(w==="Boolean"){m=!0;break}else w==="String"&&(y=!1)}else m=_t(p)&&p.name==="Boolean";d[0]=m,d[1]=y,(m||tn(d,"default"))&&l.push(h)}}const u=[s,l];return sr(t)&&r.set(t,u),u}function Pz(t){return t[0]!=="$"&&!A1(t)}const LO=t=>t==="_"||t==="__"||t==="_ctx"||t==="$stable",BO=t=>Et(t)?t.map(Dl):[Dl(t)],DTe=(t,e,n)=>{if(e._n)return e;const r=iTe((...i)=>BO(e(...i)),n);return r._c=!1,r},bQ=(t,e,n)=>{const r=t._ctx;for(const i in t){if(LO(i))continue;const o=t[i];if(_t(o))e[i]=DTe(i,o,r);else if(o!=null){const s=BO(o);e[i]=()=>s}}},kQ=(t,e)=>{const n=BO(e);t.slots.default=()=>n},SQ=(t,e,n)=>{for(const r in e)(n||!LO(r))&&(t[r]=e[r])},_Te=(t,e,n)=>{const r=t.slots=yQ();if(t.vnode.shapeFlag&32){const i=e.__;i&&AC(r,"__",i,!0);const o=e._;o?(SQ(r,e,n),n&&AC(r,"_",o,!0)):bQ(e,r)}else e&&kQ(t,e)},ITe=(t,e,n)=>{const{vnode:r,slots:i}=t;let o=!0,s=wn;if(r.shapeFlag&32){const l=e._;l?n&&l===1?o=!1:SQ(i,e,n):(o=!e.$stable,bQ(e,i)),s=e}else e&&(kQ(t,e),s={default:1});if(o)for(const l in i)!LO(l)&&s[l]==null&&delete i[l]},ko=KTe;function RTe(t){return NTe(t)}function NTe(t,e){const n=V3();n.__VUE__=!0;const{insert:r,remove:i,patchProp:o,createElement:s,createText:l,createComment:a,setText:u,setElementText:c,parentNode:h,nextSibling:f,setScopeId:d=Jl,insertStaticContent:p}=t,m=(R,H,Q,me=null,oe=null,se=null,ye=void 0,be=null,ke=!!H.dynamicChildren)=>{if(R===H)return;R&&!Vm(R,H)&&(me=ct(R),ce(R,oe,se,!0),R=null),H.patchFlag===-2&&(ke=!1,H.dynamicChildren=null);const{type:ge,ref:$e,shapeFlag:Te}=H;switch(ge){case U3:y(R,H,Q,me);break;case _p:g(R,H,Q,me);break;case Rk:R==null&&v(H,Q,me,ye);break;case ii:$(R,H,Q,me,oe,se,ye,be,ke);break;default:Te&1?S(R,H,Q,me,oe,se,ye,be,ke):Te&6?ae(R,H,Q,me,oe,se,ye,be,ke):(Te&64||Te&128)&&ge.process(R,H,Q,me,oe,se,ye,be,ke,mt)}$e!=null&&oe?D1($e,R&&R.ref,se,H||R,!H):$e==null&&R&&R.ref!=null&&D1(R.ref,null,se,R,!0)},y=(R,H,Q,me)=>{if(R==null)r(H.el=l(H.children),Q,me);else{const oe=H.el=R.el;H.children!==R.children&&u(oe,H.children)}},g=(R,H,Q,me)=>{R==null?r(H.el=a(H.children||""),Q,me):H.el=R.el},v=(R,H,Q,me)=>{[R.el,R.anchor]=p(R.children,H,Q,me,R.el,R.anchor)},w=({el:R,anchor:H},Q,me)=>{let oe;for(;R&&R!==H;)oe=f(R),r(R,Q,me),R=oe;r(H,Q,me)},b=({el:R,anchor:H})=>{let Q;for(;R&&R!==H;)Q=f(R),i(R),R=Q;i(H)},S=(R,H,Q,me,oe,se,ye,be,ke)=>{H.type==="svg"?ye="svg":H.type==="math"&&(ye="mathml"),R==null?k(H,Q,me,oe,se,ye,be,ke):z(R,H,oe,se,ye,be,ke)},k=(R,H,Q,me,oe,se,ye,be)=>{let ke,ge;const{props:$e,shapeFlag:Te,transition:ze,dirs:j}=R;if(ke=R.el=s(R.type,se,$e&&$e.is,$e),Te&8?c(ke,R.children):Te&16&&A(R.children,ke,null,me,oe,_k(R,se),ye,be),j&&gh(R,null,me,"created"),T(ke,R,R.scopeId,ye,me),$e){for(const ue in $e)ue!=="value"&&!A1(ue)&&o(ke,ue,null,$e[ue],se,me);"value"in $e&&o(ke,"value",null,$e.value,se),(ge=$e.onVnodeBeforeMount)&&kl(ge,me,R)}j&&gh(R,null,me,"beforeMount");const Z=LTe(oe,ze);Z&&ze.beforeEnter(ke),r(ke,H,Q),((ge=$e&&$e.onVnodeMounted)||Z||j)&&ko(()=>{ge&&kl(ge,me,R),Z&&ze.enter(ke),j&&gh(R,null,me,"mounted")},oe)},T=(R,H,Q,me,oe)=>{if(Q&&d(R,Q),me)for(let se=0;se<me.length;se++)d(R,me[se]);if(oe){let se=oe.subTree;if(H===se||EQ(se.type)&&(se.ssContent===H||se.ssFallback===H)){const ye=oe.vnode;T(R,ye,ye.scopeId,ye.slotScopeIds,oe.parent)}}},A=(R,H,Q,me,oe,se,ye,be,ke=0)=>{for(let ge=ke;ge<R.length;ge++){const $e=R[ge]=be?Zu(R[ge]):Dl(R[ge]);m(null,$e,H,Q,me,oe,se,ye,be)}},z=(R,H,Q,me,oe,se,ye)=>{const be=H.el=R.el;let{patchFlag:ke,dynamicChildren:ge,dirs:$e}=H;ke|=R.patchFlag&16;const Te=R.props||wn,ze=H.props||wn;let j;if(Q&&yh(Q,!1),(j=ze.onVnodeBeforeUpdate)&&kl(j,Q,H,R),$e&&gh(H,R,Q,"beforeUpdate"),Q&&yh(Q,!0),(Te.innerHTML&&ze.innerHTML==null||Te.textContent&&ze.textContent==null)&&c(be,""),ge?E(R.dynamicChildren,ge,be,Q,me,_k(H,oe),se):ye||L(R,H,be,null,Q,me,_k(H,oe),se,!1),ke>0){if(ke&16)B(be,Te,ze,Q,oe);else if(ke&2&&Te.class!==ze.class&&o(be,"class",null,ze.class,oe),ke&4&&o(be,"style",Te.style,ze.style,oe),ke&8){const Z=H.dynamicProps;for(let ue=0;ue<Z.length;ue++){const we=Z[ue],et=Te[we],xt=ze[we];(xt!==et||we==="value")&&o(be,we,et,xt,oe,Q)}}ke&1&&R.children!==H.children&&c(be,H.children)}else!ye&&ge==null&&B(be,Te,ze,Q,oe);((j=ze.onVnodeUpdated)||$e)&&ko(()=>{j&&kl(j,Q,H,R),$e&&gh(H,R,Q,"updated")},me)},E=(R,H,Q,me,oe,se,ye)=>{for(let be=0;be<H.length;be++){const ke=R[be],ge=H[be],$e=ke.el&&(ke.type===ii||!Vm(ke,ge)||ke.shapeFlag&198)?h(ke.el):Q;m(ke,ge,$e,null,me,oe,se,ye,!0)}},B=(R,H,Q,me,oe)=>{if(H!==Q){if(H!==wn)for(const se in H)!A1(se)&&!(se in Q)&&o(R,se,H[se],null,oe,me);for(const se in Q){if(A1(se))continue;const ye=Q[se],be=H[se];ye!==be&&se!=="value"&&o(R,se,be,ye,oe,me)}"value"in Q&&o(R,"value",H.value,Q.value,oe)}},$=(R,H,Q,me,oe,se,ye,be,ke)=>{const ge=H.el=R?R.el:l(""),$e=H.anchor=R?R.anchor:l("");let{patchFlag:Te,dynamicChildren:ze,slotScopeIds:j}=H;j&&(be=be?be.concat(j):j),R==null?(r(ge,Q,me),r($e,Q,me),A(H.children||[],Q,$e,oe,se,ye,be,ke)):Te>0&&Te&64&&ze&&R.dynamicChildren?(E(R.dynamicChildren,ze,Q,oe,se,ye,be),(H.key!=null||oe&&H===oe.subTree)&&CQ(R,H,!0)):L(R,H,Q,$e,oe,se,ye,be,ke)},ae=(R,H,Q,me,oe,se,ye,be,ke)=>{H.slotScopeIds=be,R==null?H.shapeFlag&512?oe.ctx.activate(H,Q,me,ye,ke):G(H,Q,me,oe,se,ye,ke):q(R,H,ke)},G=(R,H,Q,me,oe,se,ye)=>{const be=R.component=tMe(R,me,oe);if(fQ(R)&&(be.ctx.renderer=mt),rMe(be,!1,ye),be.asyncDep){if(oe&&oe.registerDep(be,K,ye),!R.el){const ke=be.subTree=Gs(_p);g(null,ke,H,Q),R.placeholder=ke.el}}else K(be,R,H,Q,oe,se,ye)},q=(R,H,Q)=>{const me=H.component=R.component;if(UTe(R,H,Q))if(me.asyncDep&&!me.asyncResolved){Y(me,H,Q);return}else me.next=H,me.update();else H.el=R.el,me.vnode=H},K=(R,H,Q,me,oe,se,ye)=>{const be=()=>{if(R.isMounted){let{next:Te,bu:ze,u:j,parent:Z,vnode:ue}=R;{const Be=TQ(R);if(Be){Te&&(Te.el=ue.el,Y(R,Te,ye)),Be.asyncDep.then(()=>{R.isUnmounted||be()});return}}let we=Te,et;yh(R,!1),Te?(Te.el=ue.el,Y(R,Te,ye)):Te=ue,ze&&Ak(ze),(et=Te.props&&Te.props.onVnodeBeforeUpdate)&&kl(et,Z,Te,ue),yh(R,!0);const xt=Ik(R),Qe=R.subTree;R.subTree=xt,m(Qe,xt,h(Qe.el),ct(Qe),R,oe,se),Te.el=xt.el,we===null&&qTe(R,xt.el),j&&ko(j,oe),(et=Te.props&&Te.props.onVnodeUpdated)&&ko(()=>kl(et,Z,Te,ue),oe)}else{let Te;const{el:ze,props:j}=H,{bm:Z,m:ue,parent:we,root:et,type:xt}=R,Qe=_1(H);if(yh(R,!1),Z&&Ak(Z),!Qe&&(Te=j&&j.onVnodeBeforeMount)&&kl(Te,we,H),yh(R,!0),ze&&dt){const Be=()=>{R.subTree=Ik(R),dt(ze,R.subTree,R,oe,null)};Qe&&xt.__asyncHydrate?xt.__asyncHydrate(ze,R,Be):Be()}else{et.ce&&et.ce._def.shadowRoot!==!1&&et.ce._injectChildStyle(xt);const Be=R.subTree=Ik(R);m(null,Be,Q,me,R,oe,se),H.el=Be.el}if(ue&&ko(ue,oe),!Qe&&(Te=j&&j.onVnodeMounted)){const Be=H;ko(()=>kl(Te,we,Be),oe)}(H.shapeFlag&256||we&&_1(we.vnode)&&we.vnode.shapeFlag&256)&&R.a&&ko(R.a,oe),R.isMounted=!0,H=Q=me=null}};R.scope.on();const ke=R.effect=new jZ(be);R.scope.off();const ge=R.update=ke.run.bind(ke),$e=R.job=ke.runIfDirty.bind(ke);$e.i=R,$e.id=R.uid,ke.scheduler=()=>IO($e),yh(R,!0),ge()},Y=(R,H,Q)=>{H.component=R;const me=R.vnode.props;R.vnode=H,R.next=null,OTe(R,H.props,me,Q),ITe(R,H.children,Q),pu(),Tz(R),mu()},L=(R,H,Q,me,oe,se,ye,be,ke=!1)=>{const ge=R&&R.children,$e=R?R.shapeFlag:0,Te=H.children,{patchFlag:ze,shapeFlag:j}=H;if(ze>0){if(ze&128){O(ge,Te,Q,me,oe,se,ye,be,ke);return}else if(ze&256){X(ge,Te,Q,me,oe,se,ye,be,ke);return}}j&8?($e&16&&qe(ge,oe,se),Te!==ge&&c(Q,Te)):$e&16?j&16?O(ge,Te,Q,me,oe,se,ye,be,ke):qe(ge,oe,se,!0):($e&8&&c(Q,""),j&16&&A(Te,Q,me,oe,se,ye,be,ke))},X=(R,H,Q,me,oe,se,ye,be,ke)=>{R=R||T1,H=H||T1;const ge=R.length,$e=H.length,Te=Math.min(ge,$e);let ze;for(ze=0;ze<Te;ze++){const j=H[ze]=ke?Zu(H[ze]):Dl(H[ze]);m(R[ze],j,Q,null,oe,se,ye,be,ke)}ge>$e?qe(R,oe,se,!0,!1,Te):A(H,Q,me,oe,se,ye,be,ke,Te)},O=(R,H,Q,me,oe,se,ye,be,ke)=>{let ge=0;const $e=H.length;let Te=R.length-1,ze=$e-1;for(;ge<=Te&&ge<=ze;){const j=R[ge],Z=H[ge]=ke?Zu(H[ge]):Dl(H[ge]);if(Vm(j,Z))m(j,Z,Q,null,oe,se,ye,be,ke);else break;ge++}for(;ge<=Te&&ge<=ze;){const j=R[Te],Z=H[ze]=ke?Zu(H[ze]):Dl(H[ze]);if(Vm(j,Z))m(j,Z,Q,null,oe,se,ye,be,ke);else break;Te--,ze--}if(ge>Te){if(ge<=ze){const j=ze+1,Z=j<$e?H[j].el:me;for(;ge<=ze;)m(null,H[ge]=ke?Zu(H[ge]):Dl(H[ge]),Q,Z,oe,se,ye,be,ke),ge++}}else if(ge>ze)for(;ge<=Te;)ce(R[ge],oe,se,!0),ge++;else{const j=ge,Z=ge,ue=new Map;for(ge=Z;ge<=ze;ge++){const Nt=H[ge]=ke?Zu(H[ge]):Dl(H[ge]);Nt.key!=null&&ue.set(Nt.key,ge)}let we,et=0;const xt=ze-Z+1;let Qe=!1,Be=0;const Ft=new Array(xt);for(ge=0;ge<xt;ge++)Ft[ge]=0;for(ge=j;ge<=Te;ge++){const Nt=R[ge];if(et>=xt){ce(Nt,oe,se,!0);continue}let gn;if(Nt.key!=null)gn=ue.get(Nt.key);else for(we=Z;we<=ze;we++)if(Ft[we-Z]===0&&Vm(Nt,H[we])){gn=we;break}gn===void 0?ce(Nt,oe,se,!0):(Ft[gn-Z]=ge+1,gn>=Be?Be=gn:Qe=!0,m(Nt,H[gn],Q,null,oe,se,ye,be,ke),et++)}const Tn=Qe?BTe(Ft):T1;for(we=Tn.length-1,ge=xt-1;ge>=0;ge--){const Nt=Z+ge,gn=H[Nt],wr=H[Nt+1],qo=Nt+1<$e?wr.el||wr.placeholder:me;Ft[ge]===0?m(null,gn,Q,qo,oe,se,ye,be,ke):Qe&&(we<0||ge!==Tn[we]?re(gn,Q,qo,2):we--)}}},re=(R,H,Q,me,oe=null)=>{const{el:se,type:ye,transition:be,children:ke,shapeFlag:ge}=R;if(ge&6){re(R.component.subTree,H,Q,me);return}if(ge&128){R.suspense.move(H,Q,me);return}if(ge&64){ye.move(R,H,Q,mt);return}if(ye===ii){r(se,H,Q);for(let Te=0;Te<ke.length;Te++)re(ke[Te],H,Q,me);r(R.anchor,H,Q);return}if(ye===Rk){w(R,H,Q);return}if(me!==2&&ge&1&&be)if(me===0)be.beforeEnter(se),r(se,H,Q),ko(()=>be.enter(se),oe);else{const{leave:Te,delayLeave:ze,afterLeave:j}=be,Z=()=>{R.ctx.isUnmounted?i(se):r(se,H,Q)},ue=()=>{Te(se,()=>{Z(),j&&j()})};ze?ze(se,Z,ue):ue()}else r(se,H,Q)},ce=(R,H,Q,me=!1,oe=!1)=>{const{type:se,props:ye,ref:be,children:ke,dynamicChildren:ge,shapeFlag:$e,patchFlag:Te,dirs:ze,cacheIndex:j}=R;if(Te===-2&&(oe=!1),be!=null&&(pu(),D1(be,null,Q,R,!0),mu()),j!=null&&(H.renderCache[j]=void 0),$e&256){H.ctx.deactivate(R);return}const Z=$e&1&&ze,ue=!_1(R);let we;if(ue&&(we=ye&&ye.onVnodeBeforeUnmount)&&kl(we,H,R),$e&6)Ie(R.component,Q,me);else{if($e&128){R.suspense.unmount(Q,me);return}Z&&gh(R,null,H,"beforeUnmount"),$e&64?R.type.remove(R,H,Q,mt,me):ge&&!ge.hasOnce&&(se!==ii||Te>0&&Te&64)?qe(ge,H,Q,!1,!0):(se===ii&&Te&384||!oe&&$e&16)&&qe(ke,H,Q),me&&_(R)}(ue&&(we=ye&&ye.onVnodeUnmounted)||Z)&&ko(()=>{we&&kl(we,H,R),Z&&gh(R,null,H,"unmounted")},Q)},_=R=>{const{type:H,el:Q,anchor:me,transition:oe}=R;if(H===ii){Le(Q,me);return}if(H===Rk){b(R);return}const se=()=>{i(Q),oe&&!oe.persisted&&oe.afterLeave&&oe.afterLeave()};if(R.shapeFlag&1&&oe&&!oe.persisted){const{leave:ye,delayLeave:be}=oe,ke=()=>ye(Q,se);be?be(R.el,se,ke):ke()}else se()},Le=(R,H)=>{let Q;for(;R!==H;)Q=f(R),i(R),R=Q;i(H)},Ie=(R,H,Q)=>{const{bum:me,scope:oe,job:se,subTree:ye,um:be,m:ke,a:ge,parent:$e,slots:{__:Te}}=R;Dz(ke),Dz(ge),me&&Ak(me),$e&&Et(Te)&&Te.forEach(ze=>{$e.renderCache[ze]=void 0}),oe.stop(),se&&(se.flags|=8,ce(ye,R,H,Q)),be&&ko(be,H),ko(()=>{R.isUnmounted=!0},H),H&&H.pendingBranch&&!H.isUnmounted&&R.asyncDep&&!R.asyncResolved&&R.suspenseId===H.pendingId&&(H.deps--,H.deps===0&&H.resolve())},qe=(R,H,Q,me=!1,oe=!1,se=0)=>{for(let ye=se;ye<R.length;ye++)ce(R[ye],H,Q,me,oe)},ct=R=>{if(R.shapeFlag&6)return ct(R.component.subTree);if(R.shapeFlag&128)return R.suspense.next();const H=f(R.anchor||R.el),Q=H&&H[oTe];return Q?f(Q):H};let St=!1;const Mt=(R,H,Q)=>{R==null?H._vnode&&ce(H._vnode,null,null,!0):m(H._vnode||null,R,H,null,null,null,Q),H._vnode=R,St||(St=!0,Tz(),aQ(),St=!1)},mt={p:m,um:ce,m:re,r:_,mt:G,mc:A,pc:L,pbc:E,n:ct,o:t};let Rt,dt;return{render:Mt,hydrate:Rt,createApp:MTe(Mt,Rt)}}function _k({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function yh({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function LTe(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function CQ(t,e,n=!1){const r=t.children,i=e.children;if(Et(r)&&Et(i))for(let o=0;o<r.length;o++){const s=r[o];let l=i[o];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=i[o]=Zu(i[o]),l.el=s.el),!n&&l.patchFlag!==-2&&CQ(s,l)),l.type===U3&&(l.el=s.el),l.type===_p&&!l.el&&(l.el=s.el)}}function BTe(t){const e=t.slice(),n=[0];let r,i,o,s,l;const a=t.length;for(r=0;r<a;r++){const u=t[r];if(u!==0){if(i=n[n.length-1],t[i]<u){e[r]=i,n.push(r);continue}for(o=0,s=n.length-1;o<s;)l=o+s>>1,t[n[l]]<u?o=l+1:s=l;u<t[n[o]]&&(o>0&&(e[r]=n[o-1]),n[o]=r)}}for(o=n.length,s=n[o-1];o-- >0;)n[o]=s,s=e[s];return n}function TQ(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:TQ(e)}function Dz(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const zTe=Symbol.for("v-scx"),FTe=()=>Ww(zTe);function am(t,e){return zO(t,null,e)}function A0(t,e,n){return zO(t,e,n)}function zO(t,e,n=wn){const{immediate:r,deep:i,flush:o,once:s}=n,l=_r({},n),a=e&&r||!e&&o!=="post";let u;if(Vy){if(o==="sync"){const d=FTe();u=d.__watcherHandles||(d.__watcherHandles=[])}else if(!a){const d=()=>{};return d.stop=Jl,d.resume=Jl,d.pause=Jl,d}}const c=Pi;l.call=(d,p,m)=>ra(d,c,p,m);let h=!1;o==="post"?l.scheduler=d=>{ko(d,c&&c.suspense)}:o!=="sync"&&(h=!0,l.scheduler=(d,p)=>{p?d():IO(d)}),l.augmentJob=d=>{e&&(d.flags|=4),h&&(d.flags|=2,c&&(d.id=c.uid,d.i=c))};const f=QCe(t,e,l);return Vy&&(u?u.push(f):a&&f()),f}function $Te(t,e,n){const r=this.proxy,i=Ir(t)?t.includes(".")?MQ(r,t):()=>r[t]:t.bind(r,r);let o;_t(e)?o=e:(o=e.handler,n=e);const s=r2(this),l=zO(i,o.bind(r),n);return s(),l}function MQ(t,e){const n=e.split(".");return()=>{let r=t;for(let i=0;i<n.length&&r;i++)r=r[n[i]];return r}}const VTe=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${qc(e)}Modifiers`]||t[`${ld(e)}Modifiers`];function HTe(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||wn;let i=n;const o=e.startsWith("update:"),s=o&&VTe(r,e.slice(7));s&&(s.trim&&(i=n.map(c=>Ir(c)?c.trim():c)),s.number&&(i=n.map(vCe)));let l,a=r[l=Mk(e)]||r[l=Mk(qc(e))];!a&&o&&(a=r[l=Mk(ld(e))]),a&&ra(a,t,6,i);const u=r[l+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[l])return;t.emitted[l]=!0,ra(u,t,6,i)}}function AQ(t,e,n=!1){const r=e.emitsCache,i=r.get(t);if(i!==void 0)return i;const o=t.emits;let s={},l=!1;if(!_t(t)){const a=u=>{const c=AQ(u,e,!0);c&&(l=!0,_r(s,c))};!n&&e.mixins.length&&e.mixins.forEach(a),t.extends&&a(t.extends),t.mixins&&t.mixins.forEach(a)}return!o&&!l?(sr(t)&&r.set(t,null),null):(Et(o)?o.forEach(a=>s[a]=null):_r(s,o),sr(t)&&r.set(t,s),s)}function W3(t,e){return!t||!z3(e)?!1:(e=e.slice(2).replace(/Once$/,""),tn(t,e[0].toLowerCase()+e.slice(1))||tn(t,ld(e))||tn(t,e))}function Ik(t){const{type:e,vnode:n,proxy:r,withProxy:i,propsOptions:[o],slots:s,attrs:l,emit:a,render:u,renderCache:c,props:h,data:f,setupState:d,ctx:p,inheritAttrs:m}=t,y=qx(t);let g,v;try{if(n.shapeFlag&4){const b=i||r,S=b;g=Dl(u.call(S,b,c,h,d,f,p)),v=l}else{const b=e;g=Dl(b.length>1?b(h,{attrs:l,slots:s,emit:a}):b(h,null)),v=e.props?l:jTe(l)}}catch(b){H3(b,t,1),g=Gs(_p)}let w=g;if(v&&m!==!1){const b=Object.keys(v),{shapeFlag:S}=w;b.length&&S&7&&(o&&b.some(wO)&&(v=WTe(v,o)),w=Ip(w,v,!1,!0))}return n.dirs&&(w=Ip(w,null,!1,!0),w.dirs=w.dirs?w.dirs.concat(n.dirs):n.dirs),n.transition&&RO(w,n.transition),g=w,qx(y),g}const jTe=t=>{let e;for(const n in t)(n==="class"||n==="style"||z3(n))&&((e||(e={}))[n]=t[n]);return e},WTe=(t,e)=>{const n={};for(const r in t)(!wO(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function UTe(t,e,n){const{props:r,children:i,component:o}=t,{props:s,children:l,patchFlag:a}=e,u=o.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&a>=0){if(a&1024)return!0;if(a&16)return r?_z(r,s,u):!!s;if(a&8){const c=e.dynamicProps;for(let h=0;h<c.length;h++){const f=c[h];if(s[f]!==r[f]&&!W3(u,f))return!0}}}else return(i||l)&&(!l||!l.$stable)?!0:r===s?!1:r?s?_z(r,s,u):!0:!!s;return!1}function _z(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let i=0;i<r.length;i++){const o=r[i];if(e[o]!==t[o]&&!W3(n,o))return!0}return!1}function qTe({vnode:t,parent:e},n){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r===t)(t=e.vnode).el=n,e=e.parent;else break}}const EQ=t=>t.__isSuspense;function KTe(t,e){e&&e.pendingBranch?Et(t)?e.effects.push(...t):e.effects.push(t):rTe(t)}const ii=Symbol.for("v-fgt"),U3=Symbol.for("v-txt"),_p=Symbol.for("v-cmt"),Rk=Symbol.for("v-stc");let vc=null,FO=1;function Iz(t,e=!1){FO+=t,t<0&&vc&&e&&(vc.hasOnce=!0)}function Gx(t){return t?t.__v_isVNode===!0:!1}function Vm(t,e){return t.type===e.type&&t.key===e.key}const OQ=({key:t})=>t??null,Uw=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?Ir(t)||pi(t)||_t(t)?{i:$l,r:t,k:e,f:!!n}:t:null);function GTe(t,e=null,n=null,r=0,i=null,o=t===ii?0:1,s=!1,l=!1){const a={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&OQ(e),ref:e&&Uw(e),scopeId:cQ,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:$l};return l?($O(a,n),o&128&&t.normalize(a)):n&&(a.shapeFlag|=Ir(n)?8:16),FO>0&&!s&&vc&&(a.patchFlag>0||o&6)&&a.patchFlag!==32&&vc.push(a),a}const Gs=YTe;function YTe(t,e=null,n=null,r=0,i=null,o=!1){if((!t||t===vTe)&&(t=_p),Gx(t)){const l=Ip(t,e,!0);return n&&$O(l,n),FO>0&&!o&&vc&&(l.shapeFlag&6?vc[vc.indexOf(t)]=l:vc.push(l)),l.patchFlag=-2,l}if(lMe(t)&&(t=t.__vccOpts),e){e=XTe(e);let{class:l,style:a}=e;l&&!Ir(l)&&(e.class=SO(l)),sr(a)&&(_O(a)&&!Et(a)&&(a=_r({},a)),e.style=kO(a))}const s=Ir(t)?1:EQ(t)?128:sTe(t)?64:sr(t)?4:_t(t)?2:0;return GTe(t,e,n,r,i,s,o,!0)}function XTe(t){return t?_O(t)||vQ(t)?_r({},t):t:null}function Ip(t,e,n=!1,r=!1){const{props:i,ref:o,patchFlag:s,children:l,transition:a}=t,u=e?ZTe(i||{},e):i,c={__v_isVNode:!0,__v_skip:!0,type:t.type,props:u,key:u&&OQ(u),ref:e&&e.ref?n&&o?Et(o)?o.concat(Uw(e)):[o,Uw(e)]:Uw(e):o,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:l,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==ii?s===-1?16:s|16:s,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:a,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Ip(t.ssContent),ssFallback:t.ssFallback&&Ip(t.ssFallback),placeholder:t.placeholder,el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return a&&r&&RO(c,a.clone(c)),c}function JTe(t=" ",e=0){return Gs(U3,null,t,e)}function Dl(t){return t==null||typeof t=="boolean"?Gs(_p):Et(t)?Gs(ii,null,t.slice()):Gx(t)?Zu(t):Gs(U3,null,String(t))}function Zu(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Ip(t)}function $O(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(Et(e))n=16;else if(typeof e=="object")if(r&65){const i=e.default;i&&(i._c&&(i._d=!1),$O(t,i()),i._c&&(i._d=!0));return}else{n=32;const i=e._;!i&&!vQ(e)?e._ctx=$l:i===3&&$l&&($l.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else _t(e)?(e={default:e,_ctx:$l},n=32):(e=String(e),r&64?(n=16,e=[JTe(e)]):n=8);t.children=e,t.shapeFlag|=n}function ZTe(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const i in r)if(i==="class")e.class!==r.class&&(e.class=SO([e.class,r.class]));else if(i==="style")e.style=kO([e.style,r.style]);else if(z3(i)){const o=e[i],s=r[i];s&&o!==s&&!(Et(o)&&o.includes(s))&&(e[i]=o?[].concat(o,s):s)}else i!==""&&(e[i]=r[i])}return e}function kl(t,e,n,r=null){ra(t,e,7,[n,r])}const QTe=mQ();let eMe=0;function tMe(t,e,n){const r=t.type,i=(e?e.appContext:t.appContext)||QTe,o={uid:eMe++,vnode:t,type:r,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new TCe(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:xQ(r,i),emitsOptions:AQ(r,i),emit:null,emitted:null,propsDefaults:wn,inheritAttrs:r.inheritAttrs,ctx:wn,data:wn,props:wn,attrs:wn,slots:wn,refs:wn,setupState:wn,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=e?e.root:o,o.emit=HTe.bind(null,o),t.ce&&t.ce(o),o}let Pi=null;const nMe=()=>Pi||$l;let Yx,BC;{const t=V3(),e=(n,r)=>{let i;return(i=t[n])||(i=t[n]=[]),i.push(r),o=>{i.length>1?i.forEach(s=>s(o)):i[0](o)}};Yx=e("__VUE_INSTANCE_SETTERS__",n=>Pi=n),BC=e("__VUE_SSR_SETTERS__",n=>Vy=n)}const r2=t=>{const e=Pi;return Yx(t),t.scope.on(),()=>{t.scope.off(),Yx(e)}},Rz=()=>{Pi&&Pi.scope.off(),Yx(null)};function PQ(t){return t.vnode.shapeFlag&4}let Vy=!1;function rMe(t,e=!1,n=!1){e&&BC(e);const{props:r,children:i}=t.vnode,o=PQ(t);ETe(t,r,o,e),_Te(t,i,n||e);const s=o?iMe(t,e):void 0;return e&&BC(!1),s}function iMe(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,wTe);const{setup:r}=n;if(r){pu();const i=t.setupContext=r.length>1?sMe(t):null,o=r2(t),s=e2(r,t,0,[t.props,i]),l=$Z(s);if(mu(),o(),(l||t.sp)&&!_1(t)&&hQ(t),l){if(s.then(Rz,Rz),e)return s.then(a=>{Nz(t,a,e)}).catch(a=>{H3(a,t,0)});t.asyncDep=s}else Nz(t,s,e)}else DQ(t,e)}function Nz(t,e,n){_t(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:sr(e)&&(t.setupState=oQ(e)),DQ(t,n)}let Lz;function DQ(t,e,n){const r=t.type;if(!t.render){if(!e&&Lz&&!r.render){const i=r.template||NO(t).template;if(i){const{isCustomElement:o,compilerOptions:s}=t.appContext.config,{delimiters:l,compilerOptions:a}=r,u=_r(_r({isCustomElement:o,delimiters:l},s),a);r.render=Lz(i,u)}}t.render=r.render||Jl}{const i=r2(t);pu();try{xTe(t)}finally{mu(),i()}}}const oMe={get(t,e){return ri(t,"get",""),t[e]}};function sMe(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,oMe),slots:t.slots,emit:t.emit,expose:e}}function VO(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(oQ(qCe(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in I1)return I1[n](t)},has(e,n){return n in e||n in I1}})):t.proxy}function lMe(t){return _t(t)&&"__vccOpts"in t}const Yf=(t,e)=>JCe(t,e,Vy);function te(t,e,n){const r=arguments.length;return r===2?sr(e)&&!Et(e)?Gx(e)?Gs(t,null,[e]):Gs(t,e):Gs(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&Gx(n)&&(n=[n]),Gs(t,e,n))}const aMe="3.5.18";/**
* @vue/runtime-dom v3.5.18
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let zC;const Bz=typeof window<"u"&&window.trustedTypes;if(Bz)try{zC=Bz.createPolicy("vue",{createHTML:t=>t})}catch{}const _Q=zC?t=>zC.createHTML(t):t=>t,uMe="http://www.w3.org/2000/svg",cMe="http://www.w3.org/1998/Math/MathML",Oa=typeof document<"u"?document:null,zz=Oa&&Oa.createElement("template"),hMe={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const i=e==="svg"?Oa.createElementNS(uMe,t):e==="mathml"?Oa.createElementNS(cMe,t):n?Oa.createElement(t,{is:n}):Oa.createElement(t);return t==="select"&&r&&r.multiple!=null&&i.setAttribute("multiple",r.multiple),i},createText:t=>Oa.createTextNode(t),createComment:t=>Oa.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Oa.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,i,o){const s=n?n.previousSibling:e.lastChild;if(i&&(i===o||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),n),!(i===o||!(i=i.nextSibling)););else{zz.innerHTML=_Q(r==="svg"?`<svg>${t}</svg>`:r==="mathml"?`<math>${t}</math>`:t);const l=zz.content;if(r==="svg"||r==="mathml"){const a=l.firstChild;for(;a.firstChild;)l.appendChild(a.firstChild);l.removeChild(a)}e.insertBefore(l,n)}return[s?s.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},fMe=Symbol("_vtc");function dMe(t,e,n){const r=t[fMe];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const Fz=Symbol("_vod"),pMe=Symbol("_vsh"),mMe=Symbol(""),gMe=/(^|;)\s*display\s*:/;function yMe(t,e,n){const r=t.style,i=Ir(n);let o=!1;if(n&&!i){if(e)if(Ir(e))for(const s of e.split(";")){const l=s.slice(0,s.indexOf(":")).trim();n[l]==null&&qw(r,l,"")}else for(const s in e)n[s]==null&&qw(r,s,"");for(const s in n)s==="display"&&(o=!0),qw(r,s,n[s])}else if(i){if(e!==n){const s=r[mMe];s&&(n+=";"+s),r.cssText=n,o=gMe.test(n)}}else e&&t.removeAttribute("style");Fz in t&&(t[Fz]=o?r.display:"",t[pMe]&&(r.display="none"))}const $z=/\s*!important$/;function qw(t,e,n){if(Et(n))n.forEach(r=>qw(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=vMe(t,e);$z.test(n)?t.setProperty(ld(r),n.replace($z,""),"important"):t[r]=n}}const Vz=["Webkit","Moz","ms"],Nk={};function vMe(t,e){const n=Nk[e];if(n)return n;let r=qc(e);if(r!=="filter"&&r in t)return Nk[e]=r;r=VZ(r);for(let i=0;i<Vz.length;i++){const o=Vz[i]+r;if(o in t)return Nk[e]=o}return e}const Hz="http://www.w3.org/1999/xlink";function jz(t,e,n,r,i,o=CCe(e)){r&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(Hz,e.slice(6,e.length)):t.setAttributeNS(Hz,e,n):n==null||o&&!HZ(n)?t.removeAttribute(e):t.setAttribute(e,o?"":lm(n)?String(n):n)}function Wz(t,e,n,r,i){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?_Q(n):n);return}const o=t.tagName;if(e==="value"&&o!=="PROGRESS"&&!o.includes("-")){const l=o==="OPTION"?t.getAttribute("value")||"":t.value,a=n==null?t.type==="checkbox"?"on":"":String(n);(l!==a||!("_value"in t))&&(t.value=a),n==null&&t.removeAttribute(e),t._value=n;return}let s=!1;if(n===""||n==null){const l=typeof t[e];l==="boolean"?n=HZ(n):n==null&&l==="string"?(n="",s=!0):l==="number"&&(n=0,s=!0)}try{t[e]=n}catch{}s&&t.removeAttribute(i||e)}function wMe(t,e,n,r){t.addEventListener(e,n,r)}function xMe(t,e,n,r){t.removeEventListener(e,n,r)}const Uz=Symbol("_vei");function bMe(t,e,n,r,i=null){const o=t[Uz]||(t[Uz]={}),s=o[e];if(r&&s)s.value=r;else{const[l,a]=kMe(e);if(r){const u=o[e]=TMe(r,i);wMe(t,l,u,a)}else s&&(xMe(t,l,s,a),o[e]=void 0)}}const qz=/(?:Once|Passive|Capture)$/;function kMe(t){let e;if(qz.test(t)){e={};let r;for(;r=t.match(qz);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):ld(t.slice(2)),e]}let Lk=0;const SMe=Promise.resolve(),CMe=()=>Lk||(SMe.then(()=>Lk=0),Lk=Date.now());function TMe(t,e){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;ra(MMe(r,n.value),e,5,[r])};return n.value=t,n.attached=CMe(),n}function MMe(t,e){if(Et(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>i=>!i._stopped&&r&&r(i))}else return e}const Kz=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,AMe=(t,e,n,r,i,o)=>{const s=i==="svg";e==="class"?dMe(t,r,s):e==="style"?yMe(t,n,r):z3(e)?wO(e)||bMe(t,e,n,r,o):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):EMe(t,e,r,s))?(Wz(t,e,r),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&jz(t,e,r,s,o,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!Ir(r))?Wz(t,qc(e),r,o,e):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),jz(t,e,r,s))};function EMe(t,e,n,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in t&&Kz(e)&&_t(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const i=t.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return Kz(e)&&Ir(n)?!1:e in t}const OMe=_r({patchProp:AMe},hMe);let Gz;function PMe(){return Gz||(Gz=RTe(OMe))}const fl=(...t)=>{const e=PMe().createApp(...t),{mount:n}=e;return e.mount=r=>{const i=_Me(r);if(!i)return;const o=e._component;!_t(o)&&!o.render&&!o.template&&(o.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const s=n(i,!1,DMe(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),s},e};function DMe(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function _Me(t){return Ir(t)?document.querySelector(t):t}function IMe(t){const e=ln({},`${t}_SLASH_SPEC`),n=Cr(i=>{const o=i.get(e.key);return new $n({key:new Xn(`${t}_SLASH`),...o})}),r=[e,n];return r.key=e.key,r.pluginKey=n.key,e.meta={package:"@milkdown/plugin-slash",displayName:`Ctx<slashSpec>|${t}`},n.meta={package:"@milkdown/plugin-slash",displayName:`Prose<slash>|${t}`},r}var Z0,fv,dv,pv,mv,hf,gv,Q0,yv,vv,db,IQ;class RMe{constructor(e){Pe(this,db);Pe(this,Z0);Pe(this,fv);Pe(this,dv);Pe(this,pv);Pe(this,mv);Pe(this,hf);Pe(this,gv);Pe(this,Q0);Pe(this,yv);Pe(this,vv);ie(this,Z0,!1),this.onShow=()=>{},this.onHide=()=>{},ie(this,vv,(n,r)=>{const{state:i,composing:o}=n,{selection:s,doc:l}=i,{ranges:a}=s,u=Math.min(...a.map(d=>d.$from.pos)),c=Math.max(...a.map(d=>d.$to.pos)),h=r&&r.doc.eq(l)&&r.selection.eq(s);if(V(this,Z0)||((V(this,pv)??n.dom.parentElement??document.body).appendChild(this.element),ie(this,Z0,!0)),o||h)return;if(!V(this,gv).call(this,n,r)){this.hide();return}al({getBoundingClientRect:()=>v3(n,u,c)},this.element,{placement:"bottom-start",middleware:[Vx(),Uc(V(this,yv)),...V(this,fv)],...V(this,dv)}).then(({x:d,y:p})=>{Object.assign(this.element.style,{left:`${d}px`,top:`${p}px`})}).catch(console.error),this.show()}),this.update=(n,r)=>{V(this,Q0).call(this,n,r)},this.getContent=(n,r=i=>i.type.name==="paragraph")=>{const{selection:i}=n.state,{empty:o,$from:s}=i,l=n.state.selection instanceof nt;if(typeof document>"u")return;const a=this.element.contains(document.activeElement),u=!n.hasFocus()&&!a,c=!n.editable,f=!A7e(r)(n.state.selection);if(!(u||c||!o||!l||f))return s.parent.textBetween(Math.max(0,s.parentOffset-500),s.parentOffset,void 0,"")},this.destroy=()=>{V(this,Q0).cancel()},this.show=()=>{this.element.dataset.show="true",this.onShow()},this.hide=()=>{this.element.dataset.show="false",this.onHide()},this.element=e.content,ie(this,mv,e.debounce??200),ie(this,gv,e.shouldShow??w2(this,db,IQ)),ie(this,hf,e.trigger??"/"),ie(this,yv,e.offset),ie(this,fv,e.middleware??[]),ie(this,dv,e.floatingUIOptions??{}),ie(this,pv,e.root),ie(this,Q0,e3(V(this,vv),V(this,mv)))}}Z0=new WeakMap,fv=new WeakMap,dv=new WeakMap,pv=new WeakMap,mv=new WeakMap,hf=new WeakMap,gv=new WeakMap,Q0=new WeakMap,yv=new WeakMap,vv=new WeakMap,db=new WeakSet,IQ=function(e){const n=this.getContent(e);if(!n)return!1;const r=n.at(-1);return r?Array.isArray(V(this,hf))?V(this,hf).includes(r):V(this,hf)===r:!1};function RQ(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=RQ(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function gi(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=RQ(t))&&(r&&(r+=" "),r+=e);return r}/*! @license DOMPurify 3.2.6 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.6/LICENSE */const{entries:NQ,setPrototypeOf:Yz,isFrozen:NMe,getPrototypeOf:LMe,getOwnPropertyDescriptor:BMe}=Object;let{freeze:Fi,seal:Ts,create:LQ}=Object,{apply:FC,construct:$C}=typeof Reflect<"u"&&Reflect;Fi||(Fi=function(e){return e});Ts||(Ts=function(e){return e});FC||(FC=function(e,n,r){return e.apply(n,r)});$C||($C=function(e,n){return new e(...n)});const w4=$i(Array.prototype.forEach),zMe=$i(Array.prototype.lastIndexOf),Xz=$i(Array.prototype.pop),Hm=$i(Array.prototype.push),FMe=$i(Array.prototype.splice),Kw=$i(String.prototype.toLowerCase),Bk=$i(String.prototype.toString),Jz=$i(String.prototype.match),jm=$i(String.prototype.replace),$Me=$i(String.prototype.indexOf),VMe=$i(String.prototype.trim),Fs=$i(Object.prototype.hasOwnProperty),ki=$i(RegExp.prototype.test),Wm=HMe(TypeError);function $i(t){return function(e){e instanceof RegExp&&(e.lastIndex=0);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return FC(t,e,r)}}function HMe(t){return function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return $C(t,n)}}function $t(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Kw;Yz&&Yz(t,null);let r=e.length;for(;r--;){let i=e[r];if(typeof i=="string"){const o=n(i);o!==i&&(NMe(e)||(e[r]=o),i=o)}t[i]=!0}return t}function jMe(t){for(let e=0;e<t.length;e++)Fs(t,e)||(t[e]=null);return t}function Sa(t){const e=LQ(null);for(const[n,r]of NQ(t))Fs(t,n)&&(Array.isArray(r)?e[n]=jMe(r):r&&typeof r=="object"&&r.constructor===Object?e[n]=Sa(r):e[n]=r);return e}function Um(t,e){for(;t!==null;){const r=BMe(t,e);if(r){if(r.get)return $i(r.get);if(typeof r.value=="function")return $i(r.value)}t=LMe(t)}function n(){return null}return n}const Zz=Fi(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),zk=Fi(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Fk=Fi(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),WMe=Fi(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),$k=Fi(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),UMe=Fi(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Qz=Fi(["#text"]),eF=Fi(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),Vk=Fi(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),tF=Fi(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),x4=Fi(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),qMe=Ts(/\{\{[\w\W]*|[\w\W]*\}\}/gm),KMe=Ts(/<%[\w\W]*|[\w\W]*%>/gm),GMe=Ts(/\$\{[\w\W]*/gm),YMe=Ts(/^data-[\-\w.\u00B7-\uFFFF]+$/),XMe=Ts(/^aria-[\-\w]+$/),BQ=Ts(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),JMe=Ts(/^(?:\w+script|data):/i),ZMe=Ts(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),zQ=Ts(/^html$/i),QMe=Ts(/^[a-z][.\w]*(-[.\w]+)+$/i);var nF=Object.freeze({__proto__:null,ARIA_ATTR:XMe,ATTR_WHITESPACE:ZMe,CUSTOM_ELEMENT:QMe,DATA_ATTR:YMe,DOCTYPE_NAME:zQ,ERB_EXPR:KMe,IS_ALLOWED_URI:BQ,IS_SCRIPT_OR_DATA:JMe,MUSTACHE_EXPR:qMe,TMPLIT_EXPR:GMe});const qm={element:1,attribute:2,text:3,cdataSection:4,entityReference:5,entityNode:6,progressingInstruction:7,comment:8,document:9,documentType:10,documentFragment:11,notation:12},eAe=function(){return typeof window>"u"?null:window},tAe=function(e,n){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let r=null;const i="data-tt-policy-suffix";n&&n.hasAttribute(i)&&(r=n.getAttribute(i));const o="dompurify"+(r?"#"+r:"");try{return e.createPolicy(o,{createHTML(s){return s},createScriptURL(s){return s}})}catch{return console.warn("TrustedTypes policy "+o+" could not be created."),null}},rF=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function FQ(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:eAe();const e=tt=>FQ(tt);if(e.version="3.2.6",e.removed=[],!t||!t.document||t.document.nodeType!==qm.document||!t.Element)return e.isSupported=!1,e;let{document:n}=t;const r=n,i=r.currentScript,{DocumentFragment:o,HTMLTemplateElement:s,Node:l,Element:a,NodeFilter:u,NamedNodeMap:c=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:h,DOMParser:f,trustedTypes:d}=t,p=a.prototype,m=Um(p,"cloneNode"),y=Um(p,"remove"),g=Um(p,"nextSibling"),v=Um(p,"childNodes"),w=Um(p,"parentNode");if(typeof s=="function"){const tt=n.createElement("template");tt.content&&tt.content.ownerDocument&&(n=tt.content.ownerDocument)}let b,S="";const{implementation:k,createNodeIterator:T,createDocumentFragment:A,getElementsByTagName:z}=n,{importNode:E}=r;let B=rF();e.isSupported=typeof NQ=="function"&&typeof w=="function"&&k&&k.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:$,ERB_EXPR:ae,TMPLIT_EXPR:G,DATA_ATTR:q,ARIA_ATTR:K,IS_SCRIPT_OR_DATA:Y,ATTR_WHITESPACE:L,CUSTOM_ELEMENT:X}=nF;let{IS_ALLOWED_URI:O}=nF,re=null;const ce=$t({},[...Zz,...zk,...Fk,...$k,...Qz]);let _=null;const Le=$t({},[...eF,...Vk,...tF,...x4]);let Ie=Object.seal(LQ(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),qe=null,ct=null,St=!0,Mt=!0,mt=!1,Rt=!0,dt=!1,R=!0,H=!1,Q=!1,me=!1,oe=!1,se=!1,ye=!1,be=!0,ke=!1;const ge="user-content-";let $e=!0,Te=!1,ze={},j=null;const Z=$t({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let ue=null;const we=$t({},["audio","video","img","source","image","track"]);let et=null;const xt=$t({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Qe="http://www.w3.org/1998/Math/MathML",Be="http://www.w3.org/2000/svg",Ft="http://www.w3.org/1999/xhtml";let Tn=Ft,Nt=!1,gn=null;const wr=$t({},[Qe,Be,Ft],Bk);let qo=$t({},["mi","mo","mn","ms","mtext"]),Ko=$t({},["annotation-xml"]);const hd=$t({},["title","style","font","a","script"]);let ml=null;const Ou=["application/xhtml+xml","text/html"],Pu="text/html";let Rn=null,Yo=null;const hh=n.createElement("form"),xe=function(W){return W instanceof RegExp||W instanceof Function},Ne=function(){let W=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(Yo&&Yo===W)){if((!W||typeof W!="object")&&(W={}),W=Sa(W),ml=Ou.indexOf(W.PARSER_MEDIA_TYPE)===-1?Pu:W.PARSER_MEDIA_TYPE,Rn=ml==="application/xhtml+xml"?Bk:Kw,re=Fs(W,"ALLOWED_TAGS")?$t({},W.ALLOWED_TAGS,Rn):ce,_=Fs(W,"ALLOWED_ATTR")?$t({},W.ALLOWED_ATTR,Rn):Le,gn=Fs(W,"ALLOWED_NAMESPACES")?$t({},W.ALLOWED_NAMESPACES,Bk):wr,et=Fs(W,"ADD_URI_SAFE_ATTR")?$t(Sa(xt),W.ADD_URI_SAFE_ATTR,Rn):xt,ue=Fs(W,"ADD_DATA_URI_TAGS")?$t(Sa(we),W.ADD_DATA_URI_TAGS,Rn):we,j=Fs(W,"FORBID_CONTENTS")?$t({},W.FORBID_CONTENTS,Rn):Z,qe=Fs(W,"FORBID_TAGS")?$t({},W.FORBID_TAGS,Rn):Sa({}),ct=Fs(W,"FORBID_ATTR")?$t({},W.FORBID_ATTR,Rn):Sa({}),ze=Fs(W,"USE_PROFILES")?W.USE_PROFILES:!1,St=W.ALLOW_ARIA_ATTR!==!1,Mt=W.ALLOW_DATA_ATTR!==!1,mt=W.ALLOW_UNKNOWN_PROTOCOLS||!1,Rt=W.ALLOW_SELF_CLOSE_IN_ATTR!==!1,dt=W.SAFE_FOR_TEMPLATES||!1,R=W.SAFE_FOR_XML!==!1,H=W.WHOLE_DOCUMENT||!1,oe=W.RETURN_DOM||!1,se=W.RETURN_DOM_FRAGMENT||!1,ye=W.RETURN_TRUSTED_TYPE||!1,me=W.FORCE_BODY||!1,be=W.SANITIZE_DOM!==!1,ke=W.SANITIZE_NAMED_PROPS||!1,$e=W.KEEP_CONTENT!==!1,Te=W.IN_PLACE||!1,O=W.ALLOWED_URI_REGEXP||BQ,Tn=W.NAMESPACE||Ft,qo=W.MATHML_TEXT_INTEGRATION_POINTS||qo,Ko=W.HTML_INTEGRATION_POINTS||Ko,Ie=W.CUSTOM_ELEMENT_HANDLING||{},W.CUSTOM_ELEMENT_HANDLING&&xe(W.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Ie.tagNameCheck=W.CUSTOM_ELEMENT_HANDLING.tagNameCheck),W.CUSTOM_ELEMENT_HANDLING&&xe(W.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Ie.attributeNameCheck=W.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),W.CUSTOM_ELEMENT_HANDLING&&typeof W.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(Ie.allowCustomizedBuiltInElements=W.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),dt&&(Mt=!1),se&&(oe=!0),ze&&(re=$t({},Qz),_=[],ze.html===!0&&($t(re,Zz),$t(_,eF)),ze.svg===!0&&($t(re,zk),$t(_,Vk),$t(_,x4)),ze.svgFilters===!0&&($t(re,Fk),$t(_,Vk),$t(_,x4)),ze.mathMl===!0&&($t(re,$k),$t(_,tF),$t(_,x4))),W.ADD_TAGS&&(re===ce&&(re=Sa(re)),$t(re,W.ADD_TAGS,Rn)),W.ADD_ATTR&&(_===Le&&(_=Sa(_)),$t(_,W.ADD_ATTR,Rn)),W.ADD_URI_SAFE_ATTR&&$t(et,W.ADD_URI_SAFE_ATTR,Rn),W.FORBID_CONTENTS&&(j===Z&&(j=Sa(j)),$t(j,W.FORBID_CONTENTS,Rn)),$e&&(re["#text"]=!0),H&&$t(re,["html","head","body"]),re.table&&($t(re,["tbody"]),delete qe.tbody),W.TRUSTED_TYPES_POLICY){if(typeof W.TRUSTED_TYPES_POLICY.createHTML!="function")throw Wm('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof W.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Wm('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');b=W.TRUSTED_TYPES_POLICY,S=b.createHTML("")}else b===void 0&&(b=tAe(d,i)),b!==null&&typeof S=="string"&&(S=b.createHTML(""));Fi&&Fi(W),Yo=W}},Se=$t({},[...zk,...Fk,...WMe]),Ae=$t({},[...$k,...UMe]),it=function(W){let Me=w(W);(!Me||!Me.tagName)&&(Me={namespaceURI:Tn,tagName:"template"});const je=Kw(W.tagName),Wt=Kw(Me.tagName);return gn[W.namespaceURI]?W.namespaceURI===Be?Me.namespaceURI===Ft?je==="svg":Me.namespaceURI===Qe?je==="svg"&&(Wt==="annotation-xml"||qo[Wt]):!!Se[je]:W.namespaceURI===Qe?Me.namespaceURI===Ft?je==="math":Me.namespaceURI===Be?je==="math"&&Ko[Wt]:!!Ae[je]:W.namespaceURI===Ft?Me.namespaceURI===Be&&!Ko[Wt]||Me.namespaceURI===Qe&&!qo[Wt]?!1:!Ae[je]&&(hd[je]||!Se[je]):!!(ml==="application/xhtml+xml"&&gn[W.namespaceURI]):!1},kt=function(W){Hm(e.removed,{element:W});try{w(W).removeChild(W)}catch{y(W)}},Pt=function(W,Me){try{Hm(e.removed,{attribute:Me.getAttributeNode(W),from:Me})}catch{Hm(e.removed,{attribute:null,from:Me})}if(Me.removeAttribute(W),W==="is")if(oe||se)try{kt(Me)}catch{}else try{Me.setAttribute(W,"")}catch{}},Ct=function(W){let Me=null,je=null;if(me)W="<remove></remove>"+W;else{const Xt=Jz(W,/^[\r\n\t ]+/);je=Xt&&Xt[0]}ml==="application/xhtml+xml"&&Tn===Ft&&(W='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+W+"</body></html>");const Wt=b?b.createHTML(W):W;if(Tn===Ft)try{Me=new f().parseFromString(Wt,ml)}catch{}if(!Me||!Me.documentElement){Me=k.createDocument(Tn,"template",null);try{Me.documentElement.innerHTML=Nt?S:Wt}catch{}}const ar=Me.body||Me.documentElement;return W&&je&&ar.insertBefore(n.createTextNode(je),ar.childNodes[0]||null),Tn===Ft?z.call(Me,H?"html":"body")[0]:H?Me.documentElement:ar},an=function(W){return T.call(W.ownerDocument||W,W,u.SHOW_ELEMENT|u.SHOW_COMMENT|u.SHOW_TEXT|u.SHOW_PROCESSING_INSTRUCTION|u.SHOW_CDATA_SECTION,null)},Nn=function(W){return W instanceof h&&(typeof W.nodeName!="string"||typeof W.textContent!="string"||typeof W.removeChild!="function"||!(W.attributes instanceof c)||typeof W.removeAttribute!="function"||typeof W.setAttribute!="function"||typeof W.namespaceURI!="string"||typeof W.insertBefore!="function"||typeof W.hasChildNodes!="function")},Ln=function(W){return typeof l=="function"&&W instanceof l};function Mn(tt,W,Me){w4(tt,je=>{je.call(e,W,Me,Yo)})}const Xo=function(W){let Me=null;if(Mn(B.beforeSanitizeElements,W,null),Nn(W))return kt(W),!0;const je=Rn(W.nodeName);if(Mn(B.uponSanitizeElement,W,{tagName:je,allowedTags:re}),R&&W.hasChildNodes()&&!Ln(W.firstElementChild)&&ki(/<[/\w!]/g,W.innerHTML)&&ki(/<[/\w!]/g,W.textContent)||W.nodeType===qm.progressingInstruction||R&&W.nodeType===qm.comment&&ki(/<[/\w]/g,W.data))return kt(W),!0;if(!re[je]||qe[je]){if(!qe[je]&&gl(je)&&(Ie.tagNameCheck instanceof RegExp&&ki(Ie.tagNameCheck,je)||Ie.tagNameCheck instanceof Function&&Ie.tagNameCheck(je)))return!1;if($e&&!j[je]){const Wt=w(W)||W.parentNode,ar=v(W)||W.childNodes;if(ar&&Wt){const Xt=ar.length;for(let Jn=Xt-1;Jn>=0;--Jn){const Nr=m(ar[Jn],!0);Nr.__removalCount=(W.__removalCount||0)+1,Wt.insertBefore(Nr,g(W))}}}return kt(W),!0}return W instanceof a&&!it(W)||(je==="noscript"||je==="noembed"||je==="noframes")&&ki(/<\/no(script|embed|frames)/i,W.innerHTML)?(kt(W),!0):(dt&&W.nodeType===qm.text&&(Me=W.textContent,w4([$,ae,G],Wt=>{Me=jm(Me,Wt," ")}),W.textContent!==Me&&(Hm(e.removed,{element:W.cloneNode()}),W.textContent=Me)),Mn(B.afterSanitizeElements,W,null),!1)},Du=function(W,Me,je){if(be&&(Me==="id"||Me==="name")&&(je in n||je in hh))return!1;if(!(Mt&&!ct[Me]&&ki(q,Me))){if(!(St&&ki(K,Me))){if(!_[Me]||ct[Me]){if(!(gl(W)&&(Ie.tagNameCheck instanceof RegExp&&ki(Ie.tagNameCheck,W)||Ie.tagNameCheck instanceof Function&&Ie.tagNameCheck(W))&&(Ie.attributeNameCheck instanceof RegExp&&ki(Ie.attributeNameCheck,Me)||Ie.attributeNameCheck instanceof Function&&Ie.attributeNameCheck(Me))||Me==="is"&&Ie.allowCustomizedBuiltInElements&&(Ie.tagNameCheck instanceof RegExp&&ki(Ie.tagNameCheck,je)||Ie.tagNameCheck instanceof Function&&Ie.tagNameCheck(je))))return!1}else if(!et[Me]){if(!ki(O,jm(je,L,""))){if(!((Me==="src"||Me==="xlink:href"||Me==="href")&&W!=="script"&&$Me(je,"data:")===0&&ue[W])){if(!(mt&&!ki(Y,jm(je,L,"")))){if(je)return!1}}}}}}return!0},gl=function(W){return W!=="annotation-xml"&&Jz(W,X)},pa=function(W){Mn(B.beforeSanitizeAttributes,W,null);const{attributes:Me}=W;if(!Me||Nn(W))return;const je={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:_,forceKeepAttr:void 0};let Wt=Me.length;for(;Wt--;){const ar=Me[Wt],{name:Xt,namespaceURI:Jn,value:Nr}=ar,Is=Rn(Xt),ma=Nr;let tr=Xt==="value"?ma:VMe(ma);if(je.attrName=Is,je.attrValue=tr,je.keepAttr=!0,je.forceKeepAttr=void 0,Mn(B.uponSanitizeAttribute,W,je),tr=je.attrValue,ke&&(Is==="id"||Is==="name")&&(Pt(Xt,W),tr=ge+tr),R&&ki(/((--!?|])>)|<\/(style|title)/i,tr)){Pt(Xt,W);continue}if(je.forceKeepAttr)continue;if(!je.keepAttr){Pt(Xt,W);continue}if(!Rt&&ki(/\/>/i,tr)){Pt(Xt,W);continue}dt&&w4([$,ae,G],fh=>{tr=jm(tr,fh," ")});const _u=Rn(W.nodeName);if(!Du(_u,Is,tr)){Pt(Xt,W);continue}if(b&&typeof d=="object"&&typeof d.getAttributeType=="function"&&!Jn)switch(d.getAttributeType(_u,Is)){case"TrustedHTML":{tr=b.createHTML(tr);break}case"TrustedScriptURL":{tr=b.createScriptURL(tr);break}}if(tr!==ma)try{Jn?W.setAttributeNS(Jn,Xt,tr):W.setAttribute(Xt,tr),Nn(W)?kt(W):Xz(e.removed)}catch{Pt(Xt,W)}}Mn(B.afterSanitizeAttributes,W,null)},mo=function tt(W){let Me=null;const je=an(W);for(Mn(B.beforeSanitizeShadowDOM,W,null);Me=je.nextNode();)Mn(B.uponSanitizeShadowNode,Me,null),Xo(Me),pa(Me),Me.content instanceof o&&tt(Me.content);Mn(B.afterSanitizeShadowDOM,W,null)};return e.sanitize=function(tt){let W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Me=null,je=null,Wt=null,ar=null;if(Nt=!tt,Nt&&(tt="<!-->"),typeof tt!="string"&&!Ln(tt))if(typeof tt.toString=="function"){if(tt=tt.toString(),typeof tt!="string")throw Wm("dirty is not a string, aborting")}else throw Wm("toString is not a function");if(!e.isSupported)return tt;if(Q||Ne(W),e.removed=[],typeof tt=="string"&&(Te=!1),Te){if(tt.nodeName){const Nr=Rn(tt.nodeName);if(!re[Nr]||qe[Nr])throw Wm("root node is forbidden and cannot be sanitized in-place")}}else if(tt instanceof l)Me=Ct("<!---->"),je=Me.ownerDocument.importNode(tt,!0),je.nodeType===qm.element&&je.nodeName==="BODY"||je.nodeName==="HTML"?Me=je:Me.appendChild(je);else{if(!oe&&!dt&&!H&&tt.indexOf("<")===-1)return b&&ye?b.createHTML(tt):tt;if(Me=Ct(tt),!Me)return oe?null:ye?S:""}Me&&me&&kt(Me.firstChild);const Xt=an(Te?tt:Me);for(;Wt=Xt.nextNode();)Xo(Wt),pa(Wt),Wt.content instanceof o&&mo(Wt.content);if(Te)return tt;if(oe){if(se)for(ar=A.call(Me.ownerDocument);Me.firstChild;)ar.appendChild(Me.firstChild);else ar=Me;return(_.shadowroot||_.shadowrootmode)&&(ar=E.call(r,ar,!0)),ar}let Jn=H?Me.outerHTML:Me.innerHTML;return H&&re["!doctype"]&&Me.ownerDocument&&Me.ownerDocument.doctype&&Me.ownerDocument.doctype.name&&ki(zQ,Me.ownerDocument.doctype.name)&&(Jn="<!DOCTYPE "+Me.ownerDocument.doctype.name+`>
`+Jn),dt&&w4([$,ae,G],Nr=>{Jn=jm(Jn,Nr," ")}),b&&ye?b.createHTML(Jn):Jn},e.setConfig=function(){let tt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Ne(tt),Q=!0},e.clearConfig=function(){Yo=null,Q=!1},e.isValidAttribute=function(tt,W,Me){Yo||Ne({});const je=Rn(tt),Wt=Rn(W);return Du(je,Wt,Me)},e.addHook=function(tt,W){typeof W=="function"&&Hm(B[tt],W)},e.removeHook=function(tt,W){if(W!==void 0){const Me=zMe(B[tt],W);return Me===-1?void 0:FMe(B[tt],Me,1)[0]}return Xz(B[tt])},e.removeHooks=function(tt){B[tt]=[]},e.removeAllHooks=function(){B=rF()},e}var dl=FQ();function Rp({icon:t,class:e,onClick:n}){return te("span",{class:gi("milkdown-icon",e),onPointerdown:n,ref:r=>{r&&t&&(r.innerHTML=dl.sanitize(t.trim()))}})}Rp.props={icon:{type:String,required:!1},class:{type:String,required:!1},onClick:{type:Function,required:!1}};let nAe=t=>crypto.getRandomValues(new Uint8Array(t)),rAe=(t,e,n)=>{let r=(2<<Math.log2(t.length-1))-1,i=-~(1.6*r*e/t.length);return(o=e)=>{let s="";for(;;){let l=n(i),a=i|0;for(;a--;)if(s+=t[l[a]&r]||"",s.length>=o)return s}}},$Q=(t,e=21)=>rAe(t,e|0,nAe);var iAe=Object.defineProperty,iF=Object.getOwnPropertySymbols,oAe=Object.prototype.hasOwnProperty,sAe=Object.prototype.propertyIsEnumerable,oF=(t,e,n)=>e in t?iAe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,lAe=(t,e)=>{for(var n in e||(e={}))oAe.call(e,n)&&oF(t,n,e[n]);if(iF)for(var n of iF(e))sAe.call(e,n)&&oF(t,n,e[n]);return t};function i2(t,e){return Object.assign(t,{meta:lAe({package:"@milkdown/components"},e)}),t}const aAe={imageIcon:"",captionIcon:"",uploadButton:"Upload file",confirmButton:"Confirm ",uploadPlaceholderText:"or paste the image link ...",captionPlaceholderText:"Image caption",onUpload:t=>Promise.resolve(URL.createObjectURL(t))},q3=ln(aAe,"imageBlockConfigCtx");i2(q3,{displayName:"Config<image-block>",group:"ImageBlock"});function uAe(t){return ia(t,"paragraph",(e,n,r)=>{var i,o;if(((i=e.children)==null?void 0:i.length)!==1)return;const s=(o=e.children)==null?void 0:o[0];if(!s||s.type!=="image")return;const{url:l,alt:a,title:u}=s,c={type:"image-block",url:l,alt:a,title:u};r.children.splice(n,1,c)})}const HO=sa("remark-image-block",()=>()=>uAe);i2(HO.plugin,{displayName:"Remark<remarkImageBlock>",group:"ImageBlock"});i2(HO.options,{displayName:"RemarkConfig<remarkImageBlock>",group:"ImageBlock"});var cAe=Object.defineProperty,sF=Object.getOwnPropertySymbols,hAe=Object.prototype.hasOwnProperty,fAe=Object.prototype.propertyIsEnumerable,lF=(t,e,n)=>e in t?cAe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,dAe=(t,e)=>{for(var n in e||(e={}))hAe.call(e,n)&&lF(t,n,e[n]);if(sF)for(var n of sF(e))fAe.call(e,n)&&lF(t,n,e[n]);return t};const VC="image-block",K3=lr("image-block",()=>({inline:!1,group:"block",selectable:!0,draggable:!0,isolating:!0,marks:"",atom:!0,priority:100,attrs:{src:{default:"",validate:"string"},caption:{default:"",validate:"string"},ratio:{default:1,validate:"number"}},parseDOM:[{tag:`img[data-type="${VC}"]`,getAttrs:t=>{var e;if(!(t instanceof HTMLElement))throw ul(t);return{src:t.getAttribute("src")||"",caption:t.getAttribute("caption")||"",ratio:Number((e=t.getAttribute("ratio"))!=null?e:1)}}}],toDOM:t=>["img",dAe({"data-type":VC},t.attrs)],parseMarkdown:{match:({type:t})=>t==="image-block",runner:(t,e,n)=>{const r=e.url,i=e.title;let o=Number(e.alt||1);(Number.isNaN(o)||o===0)&&(o=1),t.addNode(n,{src:r,caption:i,ratio:o})}},toMarkdown:{match:t=>t.type.name==="image-block",runner:(t,e)=>{t.openNode("paragraph"),t.addNode("image",void 0,void 0,{title:e.attrs.caption,url:e.attrs.src,alt:`${Number.parseFloat(e.attrs.ratio).toFixed(2)}`}),t.closeNode()}}}));i2(K3.node,{displayName:"NodeSchema<image-block>",group:"ImageBlock"});function R1({icon:t,class:e,onClick:n}){return te("span",{class:gi("milkdown-icon",e),onPointerdown:n,ref:r=>{r&&t&&(r.innerHTML=dl.sanitize(t.trim()))}})}R1.props={icon:{type:String,required:!1},class:{type:String,required:!1},onClick:{type:Function,required:!1}};const pAe=$Q("abcdefg",8),mAe=Yr({props:{src:{type:Object,required:!0},selected:{type:Object,required:!0},readonly:{type:Object,required:!0},setLink:{type:Function,required:!0},imageIcon:{type:String,required:!1},uploadButton:{type:String,required:!1},confirmButton:{type:String,required:!1},uploadPlaceholderText:{type:String,required:!1},onUpload:{type:Function,required:!0}},setup({readonly:t,src:e,setLink:n,onUpload:r,imageIcon:i,uploadButton:o,confirmButton:s,uploadPlaceholderText:l,className:a}){var u,c;const h=Ze(!1),f=Ze(),d=Ze((u=e.value)!=null?u:""),p=Ze(pAe()),m=Ze(((c=e.value)==null?void 0:c.length)!==0),y=b=>{const k=b.target.value;m.value=k.length!==0,d.value=k},g=b=>{var S,k;b.key==="Enter"&&n((k=(S=f.value)==null?void 0:S.value)!=null?k:"")},v=()=>{var b,S;n((S=(b=f.value)==null?void 0:b.value)!=null?S:"")},w=b=>{var S;const k=(S=b.target.files)==null?void 0:S[0];k&&r(k).then(T=>{T&&(n(T),m.value=!0)}).catch(T=>{console.error("An error occurred while uploading image"),console.error(T)})};return()=>te("div",{class:gi("image-edit",a)},te(R1,{icon:i,class:"image-icon"}),te("div",{class:gi("link-importer",h.value&&"focus")},te("input",{ref:f,draggable:"true",onDragstart:b=>{b.preventDefault(),b.stopPropagation()},disabled:t.value,class:"link-input-area",value:d.value,onInput:y,onKeydown:g,onFocus:()=>h.value=!0,onBlur:()=>h.value=!1}),!m.value&&te("div",{class:"placeholder"},te("input",{disabled:t.value,class:"hidden",id:p.value,type:"file",accept:"image/*",onChange:w}),te("label",{class:"uploader",for:p.value},te(R1,{icon:o})),te("span",{class:"text",onClick:()=>{var b;return(b=f.value)==null?void 0:b.focus()}},l))),d.value&&te("div",{class:"confirm",onClick:()=>v()},te(R1,{icon:s})))}}),gAe=Yr({props:{src:{type:Object,required:!0},caption:{type:Object,required:!0},ratio:{type:Object,required:!0},selected:{type:Object,required:!0},readonly:{type:Object,required:!0},setAttr:{type:Function,required:!0},config:{type:Object,required:!0}},setup({src:t,caption:e,ratio:n,readonly:r,setAttr:i,config:o}){var s;const l=Ze(),a=Ze(),u=Ze(!!((s=e.value)!=null&&s.length)),c=Ze(0),h=()=>{var v;const w=l.value;if(!w)return;const b=w.closest(".milkdown-image-block");if(!b)return;const S=b.getBoundingClientRect().width;if(!S)return;const k=w.height,T=w.width,A=T<S?k:S*(k/T),z=(A*((v=n.value)!=null?v:1)).toFixed(2);w.dataset.origin=A.toFixed(2),w.dataset.height=z,w.style.height=`${z}px`},f=v=>{v.preventDefault(),v.stopPropagation(),!r.value&&(u.value=!u.value)},d=v=>{const b=v.target.value;c.value&&window.clearTimeout(c.value),c.value=window.setTimeout(()=>{i("caption",b)},1e3)},p=v=>{const b=v.target.value;c.value&&(window.clearTimeout(c.value),c.value=0),i("caption",b)},m=v=>{v.preventDefault();const w=l.value;if(!w)return;const b=w.getBoundingClientRect().top,S=v.clientY-b,k=Number(S<100?100:S).toFixed(2);w.dataset.height=k,w.style.height=`${k}px`},y=()=>{window.removeEventListener("pointermove",m),window.removeEventListener("pointerup",y);const v=l.value;if(!v)return;const w=Number(v.dataset.origin),b=Number(v.dataset.height),S=Number.parseFloat(Number(b/w).toFixed(2));Number.isNaN(S)||i("ratio",S)},g=v=>{r.value||(v.preventDefault(),v.stopPropagation(),window.addEventListener("pointermove",m),window.addEventListener("pointerup",y))};return()=>te(ii,null,te("div",{class:"image-wrapper"},te("div",{class:"operation"},te("div",{class:"operation-item",onPointerdown:f},te(R1,{icon:o.captionIcon}))),te("img",{ref:l,"data-type":VC,onLoad:h,src:t.value,alt:e.value}),te("div",{ref:a,class:"image-resize-handle",onPointerdown:g})),u.value&&te("input",{draggable:"true",onDragstart:v=>{v.preventDefault(),v.stopPropagation()},class:"caption-input",placeholder:o==null?void 0:o.captionPlaceholderText,onInput:d,onBlur:p,value:e.value}))}});var yAe=Object.defineProperty,aF=Object.getOwnPropertySymbols,vAe=Object.prototype.hasOwnProperty,wAe=Object.prototype.propertyIsEnumerable,uF=(t,e,n)=>e in t?yAe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,xAe=(t,e)=>{for(var n in e||(e={}))vAe.call(e,n)&&uF(t,n,e[n]);if(aF)for(var n of aF(e))wAe.call(e,n)&&uF(t,n,e[n]);return t};const bAe=Yr({props:{src:{type:Object,required:!0},caption:{type:Object,required:!0},ratio:{type:Object,required:!0},selected:{type:Object,required:!0},readonly:{type:Object,required:!0},setAttr:{type:Function,required:!0},config:{type:Object,required:!0}},setup(t){const{src:e}=t;return()=>{var n;return(n=e.value)!=null&&n.length?te(gAe,xAe({},t)):te(mAe,{src:t.src,selected:t.selected,readonly:t.readonly,setLink:r=>t.setAttr("src",r),imageIcon:t.config.imageIcon,uploadButton:t.config.uploadButton,confirmButton:t.config.confirmButton,uploadPlaceholderText:t.config.uploadPlaceholderText,onUpload:t.config.onUpload})}}}),VQ=Xv(K3.node,t=>(e,n,r)=>{const i=Ze(e.attrs.src),o=Ze(e.attrs.caption),s=Ze(e.attrs.ratio),l=Ze(!1),a=Ze(!n.editable),u=(y,g)=>{if(!n.editable)return;const v=r();v!=null&&n.dispatch(n.state.tr.setNodeAttribute(v,y,y==="src"?dl.sanitize(g):g))},c=t.get(q3.key),h=fl(bAe,{src:i,caption:o,ratio:s,selected:l,readonly:a,setAttr:u,config:c}),f=document.createElement("div");f.className="milkdown-image-block",h.mount(f);const d=am(()=>{l.value?f.classList.add("selected"):f.classList.remove("selected")}),p=c.proxyDomURL,m=y=>{if(!p)i.value=y.attrs.src;else{const g=p(y.attrs.src);typeof g=="string"?i.value=g:g.then(v=>{i.value=v}).catch(console.error)}s.value=y.attrs.ratio,o.value=y.attrs.caption,a.value=!n.editable};return m(e),{dom:f,update:y=>y.type!==e.type?!1:(m(y),!0),stopEvent:y=>y.target instanceof HTMLInputElement,selectNode:()=>{l.value=!0},deselectNode:()=>{l.value=!1},destroy:()=>{d(),h.unmount(),f.remove()}}});i2(VQ,{displayName:"NodeView<image-block>",group:"ImageBlock"});const kAe=[HO,K3,VQ,q3].flat();var HC,jC;if(typeof WeakMap<"u"){let t=new WeakMap;HC=e=>t.get(e),jC=(e,n)=>(t.set(e,n),n)}else{const t=[];let n=0;HC=r=>{for(let i=0;i<t.length;i+=2)if(t[i]==r)return t[i+1]},jC=(r,i)=>(n==10&&(n=0),t[n++]=r,t[n++]=i)}var nn=class{constructor(t,e,n,r){this.width=t,this.height=e,this.map=n,this.problems=r}findCell(t){for(let e=0;e<this.map.length;e++){const n=this.map[e];if(n!=t)continue;const r=e%this.width,i=e/this.width|0;let o=r+1,s=i+1;for(let l=1;o<this.width&&this.map[e+l]==n;l++)o++;for(let l=1;s<this.height&&this.map[e+this.width*l]==n;l++)s++;return{left:r,top:i,right:o,bottom:s}}throw new RangeError(`No cell with offset ${t} found`)}colCount(t){for(let e=0;e<this.map.length;e++)if(this.map[e]==t)return e%this.width;throw new RangeError(`No cell with offset ${t} found`)}nextCell(t,e,n){const{left:r,right:i,top:o,bottom:s}=this.findCell(t);return e=="horiz"?(n<0?r==0:i==this.width)?null:this.map[o*this.width+(n<0?r-1:i)]:(n<0?o==0:s==this.height)?null:this.map[r+this.width*(n<0?o-1:s)]}rectBetween(t,e){const{left:n,right:r,top:i,bottom:o}=this.findCell(t),{left:s,right:l,top:a,bottom:u}=this.findCell(e);return{left:Math.min(n,s),top:Math.min(i,a),right:Math.max(r,l),bottom:Math.max(o,u)}}cellsInRect(t){const e=[],n={};for(let r=t.top;r<t.bottom;r++)for(let i=t.left;i<t.right;i++){const o=r*this.width+i,s=this.map[o];n[s]||(n[s]=!0,!(i==t.left&&i&&this.map[o-1]==s||r==t.top&&r&&this.map[o-this.width]==s)&&e.push(s))}return e}positionAt(t,e,n){for(let r=0,i=0;;r++){const o=i+n.child(r).nodeSize;if(r==t){let s=e+t*this.width;const l=(t+1)*this.width;for(;s<l&&this.map[s]<i;)s++;return s==l?o-1:this.map[s]}i=o}}static get(t){return HC(t)||jC(t,SAe(t))}};function SAe(t){if(t.type.spec.tableRole!="table")throw new RangeError("Not a table node: "+t.type.name);const e=CAe(t),n=t.childCount,r=[];let i=0,o=null;const s=[];for(let u=0,c=e*n;u<c;u++)r[u]=0;for(let u=0,c=0;u<n;u++){const h=t.child(u);c++;for(let p=0;;p++){for(;i<r.length&&r[i]!=0;)i++;if(p==h.childCount)break;const m=h.child(p),{colspan:y,rowspan:g,colwidth:v}=m.attrs;for(let w=0;w<g;w++){if(w+u>=n){(o||(o=[])).push({type:"overlong_rowspan",pos:c,n:g-w});break}const b=i+w*e;for(let S=0;S<y;S++){r[b+S]==0?r[b+S]=c:(o||(o=[])).push({type:"collision",row:u,pos:c,n:y-S});const k=v&&v[S];if(k){const T=(b+S)%e*2,A=s[T];A==null||A!=k&&s[T+1]==1?(s[T]=k,s[T+1]=1):A==k&&s[T+1]++}}}i+=y,c+=m.nodeSize}const f=(u+1)*e;let d=0;for(;i<f;)r[i++]==0&&d++;d&&(o||(o=[])).push({type:"missing",row:u,n:d}),c++}(e===0||n===0)&&(o||(o=[])).push({type:"zero_sized"});const l=new nn(e,n,r,o);let a=!1;for(let u=0;!a&&u<s.length;u+=2)s[u]!=null&&s[u+1]<n&&(a=!0);return a&&TAe(l,s,t),l}function CAe(t){let e=-1,n=!1;for(let r=0;r<t.childCount;r++){const i=t.child(r);let o=0;if(n)for(let s=0;s<r;s++){const l=t.child(s);for(let a=0;a<l.childCount;a++){const u=l.child(a);s+u.attrs.rowspan>r&&(o+=u.attrs.colspan)}}for(let s=0;s<i.childCount;s++){const l=i.child(s);o+=l.attrs.colspan,l.attrs.rowspan>1&&(n=!0)}e==-1?e=o:e!=o&&(e=Math.max(e,o))}return e}function TAe(t,e,n){t.problems||(t.problems=[]);const r={};for(let i=0;i<t.map.length;i++){const o=t.map[i];if(r[o])continue;r[o]=!0;const s=n.nodeAt(o);if(!s)throw new RangeError(`No cell with offset ${o} found`);let l=null;const a=s.attrs;for(let u=0;u<a.colspan;u++){const c=(i+u)%t.width,h=e[c*2];h!=null&&(!a.colwidth||a.colwidth[u]!=h)&&((l||(l=MAe(a)))[u]=h)}l&&t.problems.unshift({type:"colwidth mismatch",pos:o,colwidth:l})}}function MAe(t){if(t.colwidth)return t.colwidth.slice();const e=[];for(let n=0;n<t.colspan;n++)e.push(0);return e}function cF(t,e){if(typeof t=="string")return{};const n=t.getAttribute("data-colwidth"),r=n&&/^\d+(,\d+)*$/.test(n)?n.split(",").map(s=>Number(s)):null,i=Number(t.getAttribute("colspan")||1),o={colspan:i,rowspan:Number(t.getAttribute("rowspan")||1),colwidth:r&&r.length==i?r:null};for(const s in e){const l=e[s].getFromDOM,a=l&&l(t);a!=null&&(o[s]=a)}return o}function hF(t,e){const n={};t.attrs.colspan!=1&&(n.colspan=t.attrs.colspan),t.attrs.rowspan!=1&&(n.rowspan=t.attrs.rowspan),t.attrs.colwidth&&(n["data-colwidth"]=t.attrs.colwidth.join(","));for(const r in e){const i=e[r].setDOMAttr;i&&i(t.attrs[r],n)}return n}function AAe(t){if(t!==null){if(!Array.isArray(t))throw new TypeError("colwidth must be null or an array");for(const e of t)if(typeof e!="number")throw new TypeError("colwidth must be null or an array of numbers")}}function EAe(t){const e=t.cellAttributes||{},n={colspan:{default:1,validate:"number"},rowspan:{default:1,validate:"number"},colwidth:{default:null,validate:AAe}};for(const r in e)n[r]={default:e[r].default,validate:e[r].validate};return{table:{content:"table_row+",tableRole:"table",isolating:!0,group:t.tableGroup,parseDOM:[{tag:"table"}],toDOM(){return["table",["tbody",0]]}},table_row:{content:"(table_cell | table_header)*",tableRole:"row",parseDOM:[{tag:"tr"}],toDOM(){return["tr",0]}},table_cell:{content:t.cellContent,attrs:n,tableRole:"cell",isolating:!0,parseDOM:[{tag:"td",getAttrs:r=>cF(r,e)}],toDOM(r){return["td",hF(r,e),0]}},table_header:{content:t.cellContent,attrs:n,tableRole:"header_cell",isolating:!0,parseDOM:[{tag:"th",getAttrs:r=>cF(r,e)}],toDOM(r){return["th",hF(r,e),0]}}}}function Ms(t){let e=t.cached.tableNodeTypes;if(!e){e=t.cached.tableNodeTypes={};for(const n in t.nodes){const r=t.nodes[n],i=r.spec.tableRole;i&&(e[i]=r)}}return e}var oc=new Xn("selectingCells");function o2(t){for(let e=t.depth-1;e>0;e--)if(t.node(e).type.spec.tableRole=="row")return t.node(0).resolve(t.before(e+1));return null}function Ds(t){const e=t.selection.$head;for(let n=e.depth;n>0;n--)if(e.node(n).type.spec.tableRole=="row")return!0;return!1}function G3(t){const e=t.selection;if("$anchorCell"in e&&e.$anchorCell)return e.$anchorCell.pos>e.$headCell.pos?e.$anchorCell:e.$headCell;if("node"in e&&e.node&&e.node.type.spec.tableRole=="cell")return e.$anchor;const n=o2(e.$head)||OAe(e.$head);if(n)return n;throw new RangeError(`No cell found around position ${e.head}`)}function OAe(t){for(let e=t.nodeAfter,n=t.pos;e;e=e.firstChild,n++){const r=e.type.spec.tableRole;if(r=="cell"||r=="header_cell")return t.doc.resolve(n)}for(let e=t.nodeBefore,n=t.pos;e;e=e.lastChild,n--){const r=e.type.spec.tableRole;if(r=="cell"||r=="header_cell")return t.doc.resolve(n-e.nodeSize)}}function WC(t){return t.parent.type.spec.tableRole=="row"&&!!t.nodeAfter}function PAe(t){return t.node(0).resolve(t.pos+t.nodeAfter.nodeSize)}function jO(t,e){return t.depth==e.depth&&t.pos>=e.start(-1)&&t.pos<=e.end(-1)}function HQ(t,e,n){const r=t.node(-1),i=nn.get(r),o=t.start(-1),s=i.nextCell(t.pos-o,e,n);return s==null?null:t.node(0).resolve(o+s)}function Xf(t,e,n=1){const r={...t,colspan:t.colspan-n};return r.colwidth&&(r.colwidth=r.colwidth.slice(),r.colwidth.splice(e,n),r.colwidth.some(i=>i>0)||(r.colwidth=null)),r}function DAe(t,e,n=1){const r={...t,colspan:t.colspan+n};if(r.colwidth){r.colwidth=r.colwidth.slice();for(let i=0;i<n;i++)r.colwidth.splice(e,0,0)}return r}function _Ae(t,e,n){const r=Ms(e.type.schema).header_cell;for(let i=0;i<t.height;i++)if(e.nodeAt(t.map[n+i*t.width]).type!=r)return!1;return!0}var pn=class Ca extends yt{constructor(e,n=e){const r=e.node(-1),i=nn.get(r),o=e.start(-1),s=i.rectBetween(e.pos-o,n.pos-o),l=e.node(0),a=i.cellsInRect(s).filter(c=>c!=n.pos-o);a.unshift(n.pos-o);const u=a.map(c=>{const h=r.nodeAt(c);if(!h)throw RangeError(`No cell with offset ${c} found`);const f=o+c+1;return new TX(l.resolve(f),l.resolve(f+h.content.size))});super(u[0].$from,u[0].$to,u),this.$anchorCell=e,this.$headCell=n}map(e,n){const r=e.resolve(n.map(this.$anchorCell.pos)),i=e.resolve(n.map(this.$headCell.pos));if(WC(r)&&WC(i)&&jO(r,i)){const o=this.$anchorCell.node(-1)!=r.node(-1);return o&&this.isRowSelection()?Ca.rowSelection(r,i):o&&this.isColSelection()?Ca.colSelection(r,i):new Ca(r,i)}return nt.between(r,i)}content(){const e=this.$anchorCell.node(-1),n=nn.get(e),r=this.$anchorCell.start(-1),i=n.rectBetween(this.$anchorCell.pos-r,this.$headCell.pos-r),o={},s=[];for(let a=i.top;a<i.bottom;a++){const u=[];for(let c=a*n.width+i.left,h=i.left;h<i.right;h++,c++){const f=n.map[c];if(o[f])continue;o[f]=!0;const d=n.findCell(f);let p=e.nodeAt(f);if(!p)throw RangeError(`No cell with offset ${f} found`);const m=i.left-d.left,y=d.right-i.right;if(m>0||y>0){let g=p.attrs;if(m>0&&(g=Xf(g,0,m)),y>0&&(g=Xf(g,g.colspan-y,y)),d.left<i.left){if(p=p.type.createAndFill(g),!p)throw RangeError(`Could not create cell with attrs ${JSON.stringify(g)}`)}else p=p.type.create(g,p.content)}if(d.top<i.top||d.bottom>i.bottom){const g={...p.attrs,rowspan:Math.min(d.bottom,i.bottom)-Math.max(d.top,i.top)};d.top<i.top?p=p.type.createAndFill(g):p=p.type.create(g,p.content)}u.push(p)}s.push(e.child(a).copy(_e.from(u)))}const l=this.isColSelection()&&this.isRowSelection()?e:s;return new He(_e.from(l),1,1)}replace(e,n=He.empty){const r=e.steps.length,i=this.ranges;for(let s=0;s<i.length;s++){const{$from:l,$to:a}=i[s],u=e.mapping.slice(r);e.replace(u.map(l.pos),u.map(a.pos),s?He.empty:n)}const o=yt.findFrom(e.doc.resolve(e.mapping.slice(r).map(this.to)),-1);o&&e.setSelection(o)}replaceWith(e,n){this.replace(e,new He(_e.from(n),0,0))}forEachCell(e){const n=this.$anchorCell.node(-1),r=nn.get(n),i=this.$anchorCell.start(-1),o=r.cellsInRect(r.rectBetween(this.$anchorCell.pos-i,this.$headCell.pos-i));for(let s=0;s<o.length;s++)e(n.nodeAt(o[s]),i+o[s])}isColSelection(){const e=this.$anchorCell.index(-1),n=this.$headCell.index(-1);if(Math.min(e,n)>0)return!1;const r=e+this.$anchorCell.nodeAfter.attrs.rowspan,i=n+this.$headCell.nodeAfter.attrs.rowspan;return Math.max(r,i)==this.$headCell.node(-1).childCount}static colSelection(e,n=e){const r=e.node(-1),i=nn.get(r),o=e.start(-1),s=i.findCell(e.pos-o),l=i.findCell(n.pos-o),a=e.node(0);return s.top<=l.top?(s.top>0&&(e=a.resolve(o+i.map[s.left])),l.bottom<i.height&&(n=a.resolve(o+i.map[i.width*(i.height-1)+l.right-1]))):(l.top>0&&(n=a.resolve(o+i.map[l.left])),s.bottom<i.height&&(e=a.resolve(o+i.map[i.width*(i.height-1)+s.right-1]))),new Ca(e,n)}isRowSelection(){const e=this.$anchorCell.node(-1),n=nn.get(e),r=this.$anchorCell.start(-1),i=n.colCount(this.$anchorCell.pos-r),o=n.colCount(this.$headCell.pos-r);if(Math.min(i,o)>0)return!1;const s=i+this.$anchorCell.nodeAfter.attrs.colspan,l=o+this.$headCell.nodeAfter.attrs.colspan;return Math.max(s,l)==n.width}eq(e){return e instanceof Ca&&e.$anchorCell.pos==this.$anchorCell.pos&&e.$headCell.pos==this.$headCell.pos}static rowSelection(e,n=e){const r=e.node(-1),i=nn.get(r),o=e.start(-1),s=i.findCell(e.pos-o),l=i.findCell(n.pos-o),a=e.node(0);return s.left<=l.left?(s.left>0&&(e=a.resolve(o+i.map[s.top*i.width])),l.right<i.width&&(n=a.resolve(o+i.map[i.width*(l.top+1)-1]))):(l.left>0&&(n=a.resolve(o+i.map[l.top*i.width])),s.right<i.width&&(e=a.resolve(o+i.map[i.width*(s.top+1)-1]))),new Ca(e,n)}toJSON(){return{type:"cell",anchor:this.$anchorCell.pos,head:this.$headCell.pos}}static fromJSON(e,n){return new Ca(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,r=n){return new Ca(e.resolve(n),e.resolve(r))}getBookmark(){return new IAe(this.$anchorCell.pos,this.$headCell.pos)}};pn.prototype.visible=!1;yt.jsonID("cell",pn);var IAe=class jQ{constructor(e,n){this.anchor=e,this.head=n}map(e){return new jQ(e.map(this.anchor),e.map(this.head))}resolve(e){const n=e.resolve(this.anchor),r=e.resolve(this.head);return n.parent.type.spec.tableRole=="row"&&r.parent.type.spec.tableRole=="row"&&n.index()<n.parent.childCount&&r.index()<r.parent.childCount&&jO(n,r)?new pn(n,r):yt.near(r,1)}};function RAe(t){if(!(t.selection instanceof pn))return null;const e=[];return t.selection.forEachCell((n,r)=>{e.push(gr.node(r,r+n.nodeSize,{class:"selectedCell"}))}),hn.create(t.doc,e)}function NAe({$from:t,$to:e}){if(t.pos==e.pos||t.pos<e.pos-6)return!1;let n=t.pos,r=e.pos,i=t.depth;for(;i>=0&&!(t.after(i+1)<t.end(i));i--,n++);for(let o=e.depth;o>=0&&!(e.before(o+1)>e.start(o));o--,r--);return n==r&&/row|table/.test(t.node(i).type.spec.tableRole)}function LAe({$from:t,$to:e}){let n,r;for(let i=t.depth;i>0;i--){const o=t.node(i);if(o.type.spec.tableRole==="cell"||o.type.spec.tableRole==="header_cell"){n=o;break}}for(let i=e.depth;i>0;i--){const o=e.node(i);if(o.type.spec.tableRole==="cell"||o.type.spec.tableRole==="header_cell"){r=o;break}}return n!==r&&e.parentOffset===0}function BAe(t,e,n){const r=(e||t).selection,i=(e||t).doc;let o,s;if(r instanceof ut&&(s=r.node.type.spec.tableRole)){if(s=="cell"||s=="header_cell")o=pn.create(i,r.from);else if(s=="row"){const l=i.resolve(r.from+1);o=pn.rowSelection(l,l)}else if(!n){const l=nn.get(r.node),a=r.from+1,u=a+l.map[l.width*l.height-1];o=pn.create(i,a+1,u)}}else r instanceof nt&&NAe(r)?o=nt.create(i,r.from):r instanceof nt&&LAe(r)&&(o=nt.create(i,r.$from.start(),r.$from.end()));return o&&(e||(e=t.tr)).setSelection(o),e}var zAe=new Xn("fix-tables");function WQ(t,e,n,r){const i=t.childCount,o=e.childCount;e:for(let s=0,l=0;s<o;s++){const a=e.child(s);for(let u=l,c=Math.min(i,s+3);u<c;u++)if(t.child(u)==a){l=u+1,n+=a.nodeSize;continue e}r(a,n),l<i&&t.child(l).sameMarkup(a)?WQ(t.child(l),a,n+1,r):a.nodesBetween(0,a.content.size,r,n+1),n+=a.nodeSize}}function FAe(t,e){let n;const r=(i,o)=>{i.type.spec.tableRole=="table"&&(n=$Ae(t,i,o,n))};return e?e.doc!=t.doc&&WQ(e.doc,t.doc,0,r):t.doc.descendants(r),n}function $Ae(t,e,n,r){const i=nn.get(e);if(!i.problems)return r;r||(r=t.tr);const o=[];for(let a=0;a<i.height;a++)o.push(0);for(let a=0;a<i.problems.length;a++){const u=i.problems[a];if(u.type=="collision"){const c=e.nodeAt(u.pos);if(!c)continue;const h=c.attrs;for(let f=0;f<h.rowspan;f++)o[u.row+f]+=u.n;r.setNodeMarkup(r.mapping.map(n+1+u.pos),null,Xf(h,h.colspan-u.n,u.n))}else if(u.type=="missing")o[u.row]+=u.n;else if(u.type=="overlong_rowspan"){const c=e.nodeAt(u.pos);if(!c)continue;r.setNodeMarkup(r.mapping.map(n+1+u.pos),null,{...c.attrs,rowspan:c.attrs.rowspan-u.n})}else if(u.type=="colwidth mismatch"){const c=e.nodeAt(u.pos);if(!c)continue;r.setNodeMarkup(r.mapping.map(n+1+u.pos),null,{...c.attrs,colwidth:u.colwidth})}else if(u.type=="zero_sized"){const c=r.mapping.map(n);r.delete(c,c+e.nodeSize)}}let s,l;for(let a=0;a<o.length;a++)o[a]&&(s==null&&(s=a),l=a);for(let a=0,u=n+1;a<i.height;a++){const c=e.child(a),h=u+c.nodeSize,f=o[a];if(f>0){let d="cell";c.firstChild&&(d=c.firstChild.type.spec.tableRole);const p=[];for(let y=0;y<f;y++){const g=Ms(t.schema)[d].createAndFill();g&&p.push(g)}const m=(a==0||s==a-1)&&l==a?u+1:h-1;r.insert(r.mapping.map(m),p)}u=h}return r.setMeta(zAe,{fixTables:!0})}function ah(t){const e=t.selection,n=G3(t),r=n.node(-1),i=n.start(-1),o=nn.get(r);return{...e instanceof pn?o.rectBetween(e.$anchorCell.pos-i,e.$headCell.pos-i):o.findCell(n.pos-i),tableStart:i,map:o,table:r}}function UQ(t,{map:e,tableStart:n,table:r},i){let o=i>0?-1:0;_Ae(e,r,i+o)&&(o=i==0||i==e.width?null:0);for(let s=0;s<e.height;s++){const l=s*e.width+i;if(i>0&&i<e.width&&e.map[l-1]==e.map[l]){const a=e.map[l],u=r.nodeAt(a);t.setNodeMarkup(t.mapping.map(n+a),null,DAe(u.attrs,i-e.colCount(a))),s+=u.attrs.rowspan-1}else{const a=o==null?Ms(r.type.schema).cell:r.nodeAt(e.map[l+o]).type,u=e.positionAt(s,i,r);t.insert(t.mapping.map(n+u),a.createAndFill())}}return t}function VAe(t,e){if(!Ds(t))return!1;if(e){const n=ah(t);e(UQ(t.tr,n,n.left))}return!0}function HAe(t,e){if(!Ds(t))return!1;if(e){const n=ah(t);e(UQ(t.tr,n,n.right))}return!0}function jAe(t,{map:e,table:n,tableStart:r},i){const o=t.mapping.maps.length;for(let s=0;s<e.height;){const l=s*e.width+i,a=e.map[l],u=n.nodeAt(a),c=u.attrs;if(i>0&&e.map[l-1]==a||i<e.width-1&&e.map[l+1]==a)t.setNodeMarkup(t.mapping.slice(o).map(r+a),null,Xf(c,i-e.colCount(a)));else{const h=t.mapping.slice(o).map(r+a);t.delete(h,h+u.nodeSize)}s+=c.rowspan}}function WAe(t,e){if(!Ds(t))return!1;if(e){const n=ah(t),r=t.tr;if(n.left==0&&n.right==n.map.width)return!1;for(let i=n.right-1;jAe(r,n,i),i!=n.left;i--){const o=n.tableStart?r.doc.nodeAt(n.tableStart-1):r.doc;if(!o)throw RangeError("No table found");n.table=o,n.map=nn.get(o)}e(r)}return!0}function UAe(t,{map:e,table:n,tableStart:r},i){let o=0;for(let u=0;u<i;u++)o+=n.child(u).nodeSize;const s=o+n.child(i).nodeSize,l=t.mapping.maps.length;t.delete(o+r,s+r);const a=new Set;for(let u=0,c=i*e.width;u<e.width;u++,c++){const h=e.map[c];if(!a.has(h)){if(a.add(h),i>0&&h==e.map[c-e.width]){const f=n.nodeAt(h).attrs;t.setNodeMarkup(t.mapping.slice(l).map(h+r),null,{...f,rowspan:f.rowspan-1}),u+=f.colspan-1}else if(i<e.height&&h==e.map[c+e.width]){const f=n.nodeAt(h),d=f.attrs,p=f.type.create({...d,rowspan:f.attrs.rowspan-1},f.content),m=e.positionAt(i+1,u,n);t.insert(t.mapping.slice(l).map(r+m),p),u+=d.colspan-1}}}}function qAe(t,e){if(!Ds(t))return!1;if(e){const n=ah(t),r=t.tr;if(n.top==0&&n.bottom==n.map.height)return!1;for(let i=n.bottom-1;UAe(r,n,i),i!=n.top;i--){const o=n.tableStart?r.doc.nodeAt(n.tableStart-1):r.doc;if(!o)throw RangeError("No table found");n.table=o,n.map=nn.get(n.table)}e(r)}return!0}function KAe(t,e){return function(n,r){if(!Ds(n))return!1;const i=G3(n);if(i.nodeAfter.attrs[t]===e)return!1;if(r){const o=n.tr;n.selection instanceof pn?n.selection.forEachCell((s,l)=>{s.attrs[t]!==e&&o.setNodeMarkup(l,null,{...s.attrs,[t]:e})}):o.setNodeMarkup(i.pos,null,{...i.nodeAfter.attrs,[t]:e}),r(o)}return!0}}function GAe(t){return function(e,n){if(!Ds(e))return!1;if(n){const r=Ms(e.schema),i=ah(e),o=e.tr,s=i.map.cellsInRect(t=="column"?{left:i.left,top:0,right:i.right,bottom:i.map.height}:t=="row"?{left:0,top:i.top,right:i.map.width,bottom:i.bottom}:i),l=s.map(a=>i.table.nodeAt(a));for(let a=0;a<s.length;a++)l[a].type==r.header_cell&&o.setNodeMarkup(i.tableStart+s[a],r.cell,l[a].attrs);if(o.steps.length==0)for(let a=0;a<s.length;a++)o.setNodeMarkup(i.tableStart+s[a],r.header_cell,l[a].attrs);n(o)}return!0}}function fF(t,e,n){const r=e.map.cellsInRect({left:0,top:0,right:t=="row"?e.map.width:1,bottom:t=="column"?e.map.height:1});for(let i=0;i<r.length;i++){const o=e.table.nodeAt(r[i]);if(o&&o.type!==n.header_cell)return!1}return!0}function WO(t,e){return e=e||{useDeprecatedLogic:!1},e.useDeprecatedLogic?GAe(t):function(n,r){if(!Ds(n))return!1;if(r){const i=Ms(n.schema),o=ah(n),s=n.tr,l=fF("row",o,i),a=fF("column",o,i),c=(t==="column"?l:t==="row"?a:!1)?1:0,h=t=="column"?{left:0,top:c,right:1,bottom:o.map.height}:t=="row"?{left:c,top:0,right:o.map.width,bottom:1}:o,f=t=="column"?a?i.cell:i.header_cell:t=="row"?l?i.cell:i.header_cell:i.cell;o.map.cellsInRect(h).forEach(d=>{const p=d+o.tableStart,m=s.doc.nodeAt(p);m&&s.setNodeMarkup(p,f,m.attrs)}),r(s)}return!0}}WO("row",{useDeprecatedLogic:!0});WO("column",{useDeprecatedLogic:!0});WO("cell",{useDeprecatedLogic:!0});function YAe(t,e){if(e<0){const n=t.nodeBefore;if(n)return t.pos-n.nodeSize;for(let r=t.index(-1)-1,i=t.before();r>=0;r--){const o=t.node(-1).child(r),s=o.lastChild;if(s)return i-1-s.nodeSize;i-=o.nodeSize}}else{if(t.index()<t.parent.childCount-1)return t.pos+t.nodeAfter.nodeSize;const n=t.node(-1);for(let r=t.indexAfter(-1),i=t.after();r<n.childCount;r++){const o=n.child(r);if(o.childCount)return i+1;i+=o.nodeSize}}return null}function qQ(t){return function(e,n){if(!Ds(e))return!1;const r=YAe(G3(e),t);if(r==null)return!1;if(n){const i=e.doc.resolve(r);n(e.tr.setSelection(nt.between(i,PAe(i))).scrollIntoView())}return!0}}function XAe(t,e){const n=t.selection.$anchor;for(let r=n.depth;r>0;r--)if(n.node(r).type.spec.tableRole=="table")return e&&e(t.tr.delete(n.before(r),n.after(r)).scrollIntoView()),!0;return!1}function b4(t,e){const n=t.selection;if(!(n instanceof pn))return!1;if(e){const r=t.tr,i=Ms(t.schema).cell.createAndFill().content;n.forEachCell((o,s)=>{o.content.eq(i)||r.replace(r.mapping.map(s+1),r.mapping.map(s+o.nodeSize-1),new He(i,0,0))}),r.docChanged&&e(r)}return!0}function JAe(t){if(!t.size)return null;let{content:e,openStart:n,openEnd:r}=t;for(;e.childCount==1&&(n>0&&r>0||e.child(0).type.spec.tableRole=="table");)n--,r--,e=e.child(0).content;const i=e.child(0),o=i.type.spec.tableRole,s=i.type.schema,l=[];if(o=="row")for(let a=0;a<e.childCount;a++){let u=e.child(a).content;const c=a?0:Math.max(0,n-1),h=a<e.childCount-1?0:Math.max(0,r-1);(c||h)&&(u=UC(Ms(s).row,new He(u,c,h)).content),l.push(u)}else if(o=="cell"||o=="header_cell")l.push(n||r?UC(Ms(s).row,new He(e,n,r)).content:e);else return null;return ZAe(s,l)}function ZAe(t,e){const n=[];for(let i=0;i<e.length;i++){const o=e[i];for(let s=o.childCount-1;s>=0;s--){const{rowspan:l,colspan:a}=o.child(s).attrs;for(let u=i;u<i+l;u++)n[u]=(n[u]||0)+a}}let r=0;for(let i=0;i<n.length;i++)r=Math.max(r,n[i]);for(let i=0;i<n.length;i++)if(i>=e.length&&e.push(_e.empty),n[i]<r){const o=Ms(t).cell.createAndFill(),s=[];for(let l=n[i];l<r;l++)s.push(o);e[i]=e[i].append(_e.from(s))}return{height:e.length,width:r,rows:e}}function UC(t,e){const n=t.createAndFill();return new CX(n).replace(0,n.content.size,e).doc}function QAe({width:t,height:e,rows:n},r,i){if(t!=r){const o=[],s=[];for(let l=0;l<n.length;l++){const a=n[l],u=[];for(let c=o[l]||0,h=0;c<r;h++){let f=a.child(h%a.childCount);c+f.attrs.colspan>r&&(f=f.type.createChecked(Xf(f.attrs,f.attrs.colspan,c+f.attrs.colspan-r),f.content)),u.push(f),c+=f.attrs.colspan;for(let d=1;d<f.attrs.rowspan;d++)o[l+d]=(o[l+d]||0)+f.attrs.colspan}s.push(_e.from(u))}n=s,t=r}if(e!=i){const o=[];for(let s=0,l=0;s<i;s++,l++){const a=[],u=n[l%e];for(let c=0;c<u.childCount;c++){let h=u.child(c);s+h.attrs.rowspan>i&&(h=h.type.create({...h.attrs,rowspan:Math.max(1,i-h.attrs.rowspan)},h.content)),a.push(h)}o.push(_e.from(a))}n=o,e=i}return{width:t,height:e,rows:n}}function eEe(t,e,n,r,i,o,s){const l=t.doc.type.schema,a=Ms(l);let u,c;if(i>e.width)for(let h=0,f=0;h<e.height;h++){const d=n.child(h);f+=d.nodeSize;const p=[];let m;d.lastChild==null||d.lastChild.type==a.cell?m=u||(u=a.cell.createAndFill()):m=c||(c=a.header_cell.createAndFill());for(let y=e.width;y<i;y++)p.push(m);t.insert(t.mapping.slice(s).map(f-1+r),p)}if(o>e.height){const h=[];for(let p=0,m=(e.height-1)*e.width;p<Math.max(e.width,i);p++){const y=p>=e.width?!1:n.nodeAt(e.map[m+p]).type==a.header_cell;h.push(y?c||(c=a.header_cell.createAndFill()):u||(u=a.cell.createAndFill()))}const f=a.row.create(null,_e.from(h)),d=[];for(let p=e.height;p<o;p++)d.push(f);t.insert(t.mapping.slice(s).map(r+n.nodeSize-2),d)}return!!(u||c)}function dF(t,e,n,r,i,o,s,l){if(s==0||s==e.height)return!1;let a=!1;for(let u=i;u<o;u++){const c=s*e.width+u,h=e.map[c];if(e.map[c-e.width]==h){a=!0;const f=n.nodeAt(h),{top:d,left:p}=e.findCell(h);t.setNodeMarkup(t.mapping.slice(l).map(h+r),null,{...f.attrs,rowspan:s-d}),t.insert(t.mapping.slice(l).map(e.positionAt(s,p,n)),f.type.createAndFill({...f.attrs,rowspan:d+f.attrs.rowspan-s})),u+=f.attrs.colspan-1}}return a}function pF(t,e,n,r,i,o,s,l){if(s==0||s==e.width)return!1;let a=!1;for(let u=i;u<o;u++){const c=u*e.width+s,h=e.map[c];if(e.map[c-1]==h){a=!0;const f=n.nodeAt(h),d=e.colCount(h),p=t.mapping.slice(l).map(h+r);t.setNodeMarkup(p,null,Xf(f.attrs,s-d,f.attrs.colspan-(s-d))),t.insert(p+f.nodeSize,f.type.createAndFill(Xf(f.attrs,0,s-d))),u+=f.attrs.rowspan-1}}return a}function mF(t,e,n,r,i){let o=n?t.doc.nodeAt(n-1):t.doc;if(!o)throw new Error("No table found");let s=nn.get(o);const{top:l,left:a}=r,u=a+i.width,c=l+i.height,h=t.tr;let f=0;function d(){if(o=n?h.doc.nodeAt(n-1):h.doc,!o)throw new Error("No table found");s=nn.get(o),f=h.mapping.maps.length}eEe(h,s,o,n,u,c,f)&&d(),dF(h,s,o,n,a,u,l,f)&&d(),dF(h,s,o,n,a,u,c,f)&&d(),pF(h,s,o,n,l,c,a,f)&&d(),pF(h,s,o,n,l,c,u,f)&&d();for(let p=l;p<c;p++){const m=s.positionAt(p,a,o),y=s.positionAt(p,u,o);h.replace(h.mapping.slice(f).map(m+n),h.mapping.slice(f).map(y+n),new He(i.rows[p-l],0,0))}d(),h.setSelection(new pn(h.doc.resolve(n+s.positionAt(l,a,o)),h.doc.resolve(n+s.positionAt(c-1,u-1,o)))),e(h)}var tEe=dE({ArrowLeft:k4("horiz",-1),ArrowRight:k4("horiz",1),ArrowUp:k4("vert",-1),ArrowDown:k4("vert",1),"Shift-ArrowLeft":S4("horiz",-1),"Shift-ArrowRight":S4("horiz",1),"Shift-ArrowUp":S4("vert",-1),"Shift-ArrowDown":S4("vert",1),Backspace:b4,"Mod-Backspace":b4,Delete:b4,"Mod-Delete":b4});function Gw(t,e,n){return n.eq(t.selection)?!1:(e&&e(t.tr.setSelection(n).scrollIntoView()),!0)}function k4(t,e){return(n,r,i)=>{if(!i)return!1;const o=n.selection;if(o instanceof pn)return Gw(n,r,yt.near(o.$headCell,e));if(t!="horiz"&&!o.empty)return!1;const s=KQ(i,t,e);if(s==null)return!1;if(t=="horiz")return Gw(n,r,yt.near(n.doc.resolve(o.head+e),e));{const l=n.doc.resolve(s),a=HQ(l,t,e);let u;return a?u=yt.near(a,1):e<0?u=yt.near(n.doc.resolve(l.before(-1)),-1):u=yt.near(n.doc.resolve(l.after(-1)),1),Gw(n,r,u)}}}function S4(t,e){return(n,r,i)=>{if(!i)return!1;const o=n.selection;let s;if(o instanceof pn)s=o;else{const a=KQ(i,t,e);if(a==null)return!1;s=new pn(n.doc.resolve(a))}const l=HQ(s.$headCell,t,e);return l?Gw(n,r,new pn(s.$anchorCell,l)):!1}}function nEe(t,e){const n=t.state.doc,r=o2(n.resolve(e));return r?(t.dispatch(t.state.tr.setSelection(new pn(r))),!0):!1}function rEe(t,e,n){if(!Ds(t.state))return!1;let r=JAe(n);const i=t.state.selection;if(i instanceof pn){r||(r={width:1,height:1,rows:[_e.from(UC(Ms(t.state.schema).cell,n))]});const o=i.$anchorCell.node(-1),s=i.$anchorCell.start(-1),l=nn.get(o).rectBetween(i.$anchorCell.pos-s,i.$headCell.pos-s);return r=QAe(r,l.right-l.left,l.bottom-l.top),mF(t.state,t.dispatch,s,l,r),!0}else if(r){const o=G3(t.state),s=o.start(-1);return mF(t.state,t.dispatch,s,nn.get(o.node(-1)).findCell(o.pos-s),r),!0}else return!1}function iEe(t,e){var n;if(e.ctrlKey||e.metaKey)return;const r=gF(t,e.target);let i;if(e.shiftKey&&t.state.selection instanceof pn)o(t.state.selection.$anchorCell,e),e.preventDefault();else if(e.shiftKey&&r&&(i=o2(t.state.selection.$anchor))!=null&&((n=Hk(t,e))==null?void 0:n.pos)!=i.pos)o(i,e),e.preventDefault();else if(!r)return;function o(a,u){let c=Hk(t,u);const h=oc.getState(t.state)==null;if(!c||!jO(a,c))if(h)c=a;else return;const f=new pn(a,c);if(h||!t.state.selection.eq(f)){const d=t.state.tr.setSelection(f);h&&d.setMeta(oc,a.pos),t.dispatch(d)}}function s(){t.root.removeEventListener("mouseup",s),t.root.removeEventListener("dragstart",s),t.root.removeEventListener("mousemove",l),oc.getState(t.state)!=null&&t.dispatch(t.state.tr.setMeta(oc,-1))}function l(a){const u=a,c=oc.getState(t.state);let h;if(c!=null)h=t.state.doc.resolve(c);else if(gF(t,u.target)!=r&&(h=Hk(t,e),!h))return s();h&&o(h,u)}t.root.addEventListener("mouseup",s),t.root.addEventListener("dragstart",s),t.root.addEventListener("mousemove",l)}function KQ(t,e,n){if(!(t.state.selection instanceof nt))return null;const{$head:r}=t.state.selection;for(let i=r.depth-1;i>=0;i--){const o=r.node(i);if((n<0?r.index(i):r.indexAfter(i))!=(n<0?0:o.childCount))return null;if(o.type.spec.tableRole=="cell"||o.type.spec.tableRole=="header_cell"){const l=r.before(i),a=e=="vert"?n>0?"down":"up":n>0?"right":"left";return t.endOfTextblock(a)?l:null}}return null}function gF(t,e){for(;e&&e!=t.dom;e=e.parentNode)if(e.nodeName=="TD"||e.nodeName=="TH")return e;return null}function Hk(t,e){const n=t.posAtCoords({left:e.clientX,top:e.clientY});return n&&n?o2(t.state.doc.resolve(n.pos)):null}var oEe=class{constructor(t,e){this.node=t,this.defaultCellMinWidth=e,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),this.table.style.setProperty("--default-cell-min-width",`${e}px`),this.colgroup=this.table.appendChild(document.createElement("colgroup")),qC(t,this.colgroup,this.table,e),this.contentDOM=this.table.appendChild(document.createElement("tbody"))}update(t){return t.type!=this.node.type?!1:(this.node=t,qC(t,this.colgroup,this.table,this.defaultCellMinWidth),!0)}ignoreMutation(t){return t.type=="attributes"&&(t.target==this.table||this.colgroup.contains(t.target))}};function qC(t,e,n,r,i,o){var s;let l=0,a=!0,u=e.firstChild;const c=t.firstChild;if(c){for(let h=0,f=0;h<c.childCount;h++){const{colspan:d,colwidth:p}=c.child(h).attrs;for(let m=0;m<d;m++,f++){const y=i==f?o:p&&p[m],g=y?y+"px":"";if(l+=y||r,y||(a=!1),u)u.style.width!=g&&(u.style.width=g),u=u.nextSibling;else{const v=document.createElement("col");v.style.width=g,e.appendChild(v)}}}for(;u;){const h=u.nextSibling;(s=u.parentNode)==null||s.removeChild(u),u=h}a?(n.style.width=l+"px",n.style.minWidth=""):(n.style.width="",n.style.minWidth=l+"px")}}var Po=new Xn("tableColumnResizing");function sEe({handleWidth:t=5,cellMinWidth:e=25,defaultCellMinWidth:n=100,View:r=oEe,lastColumnResizable:i=!0}={}){const o=new $n({key:Po,state:{init(s,l){var a,u;const c=(u=(a=o.spec)==null?void 0:a.props)==null?void 0:u.nodeViews,h=Ms(l.schema).table.name;return r&&c&&(c[h]=(f,d)=>new r(f,n,d)),new lEe(-1,!1)},apply(s,l){return l.apply(s)}},props:{attributes:s=>{const l=Po.getState(s);return l&&l.activeHandle>-1?{class:"resize-cursor"}:{}},handleDOMEvents:{mousemove:(s,l)=>{aEe(s,l,t,i)},mouseleave:s=>{uEe(s)},mousedown:(s,l)=>{cEe(s,l,e,n)}},decorations:s=>{const l=Po.getState(s);if(l&&l.activeHandle>-1)return mEe(s,l.activeHandle)},nodeViews:{}}});return o}var lEe=class Yw{constructor(e,n){this.activeHandle=e,this.dragging=n}apply(e){const n=this,r=e.getMeta(Po);if(r&&r.setHandle!=null)return new Yw(r.setHandle,!1);if(r&&r.setDragging!==void 0)return new Yw(n.activeHandle,r.setDragging);if(n.activeHandle>-1&&e.docChanged){let i=e.mapping.map(n.activeHandle,-1);return WC(e.doc.resolve(i))||(i=-1),new Yw(i,n.dragging)}return n}};function aEe(t,e,n,r){if(!t.editable)return;const i=Po.getState(t.state);if(i&&!i.dragging){const o=fEe(e.target);let s=-1;if(o){const{left:l,right:a}=o.getBoundingClientRect();e.clientX-l<=n?s=yF(t,e,"left",n):a-e.clientX<=n&&(s=yF(t,e,"right",n))}if(s!=i.activeHandle){if(!r&&s!==-1){const l=t.state.doc.resolve(s),a=l.node(-1),u=nn.get(a),c=l.start(-1);if(u.colCount(l.pos-c)+l.nodeAfter.attrs.colspan-1==u.width-1)return}GQ(t,s)}}}function uEe(t){if(!t.editable)return;const e=Po.getState(t.state);e&&e.activeHandle>-1&&!e.dragging&&GQ(t,-1)}function cEe(t,e,n,r){var i;if(!t.editable)return!1;const o=(i=t.dom.ownerDocument.defaultView)!=null?i:window,s=Po.getState(t.state);if(!s||s.activeHandle==-1||s.dragging)return!1;const l=t.state.doc.nodeAt(s.activeHandle),a=hEe(t,s.activeHandle,l.attrs);t.dispatch(t.state.tr.setMeta(Po,{setDragging:{startX:e.clientX,startWidth:a}}));function u(h){o.removeEventListener("mouseup",u),o.removeEventListener("mousemove",c);const f=Po.getState(t.state);f!=null&&f.dragging&&(dEe(t,f.activeHandle,vF(f.dragging,h,n)),t.dispatch(t.state.tr.setMeta(Po,{setDragging:null})))}function c(h){if(!h.which)return u(h);const f=Po.getState(t.state);if(f&&f.dragging){const d=vF(f.dragging,h,n);wF(t,f.activeHandle,d,r)}}return wF(t,s.activeHandle,a,r),o.addEventListener("mouseup",u),o.addEventListener("mousemove",c),e.preventDefault(),!0}function hEe(t,e,{colspan:n,colwidth:r}){const i=r&&r[r.length-1];if(i)return i;const o=t.domAtPos(e);let l=o.node.childNodes[o.offset].offsetWidth,a=n;if(r)for(let u=0;u<n;u++)r[u]&&(l-=r[u],a--);return l/a}function fEe(t){for(;t&&t.nodeName!="TD"&&t.nodeName!="TH";)t=t.classList&&t.classList.contains("ProseMirror")?null:t.parentNode;return t}function yF(t,e,n,r){const i=n=="right"?-r:r,o=t.posAtCoords({left:e.clientX+i,top:e.clientY});if(!o)return-1;const{pos:s}=o,l=o2(t.state.doc.resolve(s));if(!l)return-1;if(n=="right")return l.pos;const a=nn.get(l.node(-1)),u=l.start(-1),c=a.map.indexOf(l.pos-u);return c%a.width==0?-1:u+a.map[c-1]}function vF(t,e,n){const r=e.clientX-t.startX;return Math.max(n,t.startWidth+r)}function GQ(t,e){t.dispatch(t.state.tr.setMeta(Po,{setHandle:e}))}function dEe(t,e,n){const r=t.state.doc.resolve(e),i=r.node(-1),o=nn.get(i),s=r.start(-1),l=o.colCount(r.pos-s)+r.nodeAfter.attrs.colspan-1,a=t.state.tr;for(let u=0;u<o.height;u++){const c=u*o.width+l;if(u&&o.map[c]==o.map[c-o.width])continue;const h=o.map[c],f=i.nodeAt(h).attrs,d=f.colspan==1?0:l-o.colCount(h);if(f.colwidth&&f.colwidth[d]==n)continue;const p=f.colwidth?f.colwidth.slice():pEe(f.colspan);p[d]=n,a.setNodeMarkup(s+h,null,{...f,colwidth:p})}a.docChanged&&t.dispatch(a)}function wF(t,e,n,r){const i=t.state.doc.resolve(e),o=i.node(-1),s=i.start(-1),l=nn.get(o).colCount(i.pos-s)+i.nodeAfter.attrs.colspan-1;let a=t.domAtPos(i.start(-1)).node;for(;a&&a.nodeName!="TABLE";)a=a.parentNode;a&&qC(o,a.firstChild,a,r,l,n)}function pEe(t){return Array(t).fill(0)}function mEe(t,e){var n;const r=[],i=t.doc.resolve(e),o=i.node(-1);if(!o)return hn.empty;const s=nn.get(o),l=i.start(-1),a=s.colCount(i.pos-l)+i.nodeAfter.attrs.colspan-1;for(let u=0;u<s.height;u++){const c=a+u*s.width;if((a==s.width-1||s.map[c]!=s.map[c+1])&&(u==0||s.map[c]!=s.map[c-s.width])){const h=s.map[c],f=l+h+o.nodeAt(h).nodeSize-1,d=document.createElement("div");d.className="column-resize-handle",(n=Po.getState(t))!=null&&n.dragging&&r.push(gr.node(l+h,l+h+o.nodeAt(h).nodeSize,{class:"column-resize-dragging"})),r.push(gr.widget(f,d))}}return hn.create(t.doc,r)}function gEe({allowTableNodeSelection:t=!1}={}){return new $n({key:oc,state:{init(){return null},apply(e,n){const r=e.getMeta(oc);if(r!=null)return r==-1?null:r;if(n==null||!e.docChanged)return n;const{deleted:i,pos:o}=e.mapping.mapResult(n);return i?null:o}},props:{decorations:RAe,handleDOMEvents:{mousedown:iEe},createSelectionBetween(e){return oc.getState(e.state)!=null?e.state.selection:null},handleTripleClick:nEe,handleKeyDown:tEe,handlePaste:rEe},appendTransaction(e,n,r){return BAe(r,FAe(r,n),t)}})}var Xx=typeof navigator<"u"?navigator:null,UO=Xx&&Xx.userAgent||"",yEe=/Edge\/(\d+)/.exec(UO),vEe=/MSIE \d/.exec(UO),wEe=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(UO),xEe=!!(vEe||wEe||yEe),bEe=!xEe&&!!Xx&&/Apple Computer/.test(Xx.vendor),YQ=new Xn("safari-ime-span"),KC=!1,kEe={key:YQ,props:{decorations:SEe,handleDOMEvents:{compositionstart:()=>{KC=!0},compositionend:()=>{KC=!1}}}};function SEe(t){const{$from:e,$to:n,to:r}=t.selection;if(KC&&e.sameParent(n)){const i=gr.widget(r,CEe,{ignoreSelection:!0,key:"safari-ime-span"});return hn.create(t.doc,[i])}}function CEe(t){const e=t.dom.ownerDocument.createElement("span");return e.className="ProseMirror-safari-ime-span",e}var TEe=new $n(bEe?kEe:{key:YQ});function xF(t,e){const n=String(t);if(typeof e!="string")throw new TypeError("Expected character");let r=0,i=n.indexOf(e);for(;i!==-1;)r++,i=n.indexOf(e,i+e.length);return r}function MEe(t){if(typeof t!="string")throw new TypeError("Expected a string");return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function AEe(t,e,n){const i=jb((n||{}).ignore||[]),o=EEe(e);let s=-1;for(;++s<o.length;)jM(t,"text",l);function l(u,c){let h=-1,f;for(;++h<c.length;){const d=c[h],p=f?f.children:void 0;if(i(d,p?p.indexOf(d):void 0,f))return;f=d}if(f)return a(u,c)}function a(u,c){const h=c[c.length-1],f=o[s][0],d=o[s][1];let p=0;const y=h.children.indexOf(u);let g=!1,v=[];f.lastIndex=0;let w=f.exec(u.value);for(;w;){const b=w.index,S={index:w.index,input:w.input,stack:[...c,u]};let k=d(...w,S);if(typeof k=="string"&&(k=k.length>0?{type:"text",value:k}:void 0),k===!1?f.lastIndex=b+1:(p!==b&&v.push({type:"text",value:u.value.slice(p,b)}),Array.isArray(k)?v.push(...k):k&&v.push(k),p=b+w[0].length,g=!0),!f.global)break;w=f.exec(u.value)}return g?(p<u.value.length&&v.push({type:"text",value:u.value.slice(p)}),h.children.splice(y,1,...v)):v=[u],y+v.length}}function EEe(t){const e=[];if(!Array.isArray(t))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!t[0]||Array.isArray(t[0])?t:[t];let r=-1;for(;++r<n.length;){const i=n[r];e.push([OEe(i[0]),PEe(i[1])])}return e}function OEe(t){return typeof t=="string"?new RegExp(MEe(t),"g"):t}function PEe(t){return typeof t=="function"?t:function(){return t}}const jk="phrasing",Wk=["autolink","link","image","label"];function DEe(){return{transforms:[zEe],enter:{literalAutolink:IEe,literalAutolinkEmail:Uk,literalAutolinkHttp:Uk,literalAutolinkWww:Uk},exit:{literalAutolink:BEe,literalAutolinkEmail:LEe,literalAutolinkHttp:REe,literalAutolinkWww:NEe}}}function _Ee(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:jk,notInConstruct:Wk},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:jk,notInConstruct:Wk},{character:":",before:"[ps]",after:"\\/",inConstruct:jk,notInConstruct:Wk}]}}function IEe(t){this.enter({type:"link",title:null,url:"",children:[]},t)}function Uk(t){this.config.enter.autolinkProtocol.call(this,t)}function REe(t){this.config.exit.autolinkProtocol.call(this,t)}function NEe(t){this.config.exit.data.call(this,t);const e=this.stack[this.stack.length-1];e.type,e.url="http://"+this.sliceSerialize(t)}function LEe(t){this.config.exit.autolinkEmail.call(this,t)}function BEe(t){this.exit(t)}function zEe(t){AEe(t,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,FEe],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),$Ee]],{ignore:["link","linkReference"]})}function FEe(t,e,n,r,i){let o="";if(!XQ(i)||(/^w/i.test(e)&&(n=e+n,e="",o="http://"),!VEe(n)))return!1;const s=HEe(n+r);if(!s[0])return!1;const l={type:"link",title:null,url:o+e+s[0],children:[{type:"text",value:e+s[0]}]};return s[1]?[l,{type:"text",value:s[1]}]:l}function $Ee(t,e,n,r){return!XQ(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+e+"@"+n,children:[{type:"text",value:e+"@"+n}]}}function VEe(t){const e=t.split(".");return!(e.length<2||e[e.length-1]&&(/_/.test(e[e.length-1])||!/[a-zA-Z\d]/.test(e[e.length-1]))||e[e.length-2]&&(/_/.test(e[e.length-2])||!/[a-zA-Z\d]/.test(e[e.length-2])))}function HEe(t){const e=/[!"&'),.:;<>?\]}]+$/.exec(t);if(!e)return[t,void 0];t=t.slice(0,e.index);let n=e[0],r=n.indexOf(")");const i=xF(t,"(");let o=xF(t,")");for(;r!==-1&&i>o;)t+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),o++;return[t,n]}function XQ(t,e){const n=t.input.charCodeAt(t.index-1);return(t.index===0||Rf(n)||$b(n))&&(!e||n!==47)}JQ.peek=JEe;function jEe(){this.buffer()}function WEe(t){this.enter({type:"footnoteReference",identifier:"",label:""},t)}function UEe(){this.buffer()}function qEe(t){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},t)}function KEe(t){const e=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Zs(this.sliceSerialize(t)).toLowerCase(),n.label=e}function GEe(t){this.exit(t)}function YEe(t){const e=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Zs(this.sliceSerialize(t)).toLowerCase(),n.label=e}function XEe(t){this.exit(t)}function JEe(){return"["}function JQ(t,e,n,r){const i=n.createTracker(r);let o=i.move("[^");const s=n.enter("footnoteReference"),l=n.enter("reference");return o+=i.move(n.safe(n.associationId(t),{after:"]",before:o})),l(),s(),o+=i.move("]"),o}function ZEe(){return{enter:{gfmFootnoteCallString:jEe,gfmFootnoteCall:WEe,gfmFootnoteDefinitionLabelString:UEe,gfmFootnoteDefinition:qEe},exit:{gfmFootnoteCallString:KEe,gfmFootnoteCall:GEe,gfmFootnoteDefinitionLabelString:YEe,gfmFootnoteDefinition:XEe}}}function QEe(t){let e=!1;return t&&t.firstLineBlank&&(e=!0),{handlers:{footnoteDefinition:n,footnoteReference:JQ},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(r,i,o,s){const l=o.createTracker(s);let a=l.move("[^");const u=o.enter("footnoteDefinition"),c=o.enter("label");return a+=l.move(o.safe(o.associationId(r),{before:a,after:"]"})),c(),a+=l.move("]:"),r.children&&r.children.length>0&&(l.shift(4),a+=l.move((e?`
`:" ")+o.indentLines(o.containerFlow(r,l.current()),e?ZQ:eOe))),u(),a}}function eOe(t,e,n){return e===0?t:ZQ(t,e,n)}function ZQ(t,e,n){return(n?"":"    ")+t}const tOe=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];QQ.peek=sOe;function nOe(){return{canContainEols:["delete"],enter:{strikethrough:iOe},exit:{strikethrough:oOe}}}function rOe(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:tOe}],handlers:{delete:QQ}}}function iOe(t){this.enter({type:"delete",children:[]},t)}function oOe(t){this.exit(t)}function QQ(t,e,n,r){const i=n.createTracker(r),o=n.enter("strikethrough");let s=i.move("~~");return s+=n.containerPhrasing(t,{...i.current(),before:s,after:"~"}),s+=i.move("~~"),o(),s}function sOe(){return"~"}function lOe(t){return t.length}function aOe(t,e){const n=e||{},r=(n.align||[]).concat(),i=n.stringLength||lOe,o=[],s=[],l=[],a=[];let u=0,c=-1;for(;++c<t.length;){const m=[],y=[];let g=-1;for(t[c].length>u&&(u=t[c].length);++g<t[c].length;){const v=uOe(t[c][g]);if(n.alignDelimiters!==!1){const w=i(v);y[g]=w,(a[g]===void 0||w>a[g])&&(a[g]=w)}m.push(v)}s[c]=m,l[c]=y}let h=-1;if(typeof r=="object"&&"length"in r)for(;++h<u;)o[h]=bF(r[h]);else{const m=bF(r);for(;++h<u;)o[h]=m}h=-1;const f=[],d=[];for(;++h<u;){const m=o[h];let y="",g="";m===99?(y=":",g=":"):m===108?y=":":m===114&&(g=":");let v=n.alignDelimiters===!1?1:Math.max(1,a[h]-y.length-g.length);const w=y+"-".repeat(v)+g;n.alignDelimiters!==!1&&(v=y.length+v+g.length,v>a[h]&&(a[h]=v),d[h]=v),f[h]=w}s.splice(1,0,f),l.splice(1,0,d),c=-1;const p=[];for(;++c<s.length;){const m=s[c],y=l[c];h=-1;const g=[];for(;++h<u;){const v=m[h]||"";let w="",b="";if(n.alignDelimiters!==!1){const S=a[h]-(y[h]||0),k=o[h];k===114?w=" ".repeat(S):k===99?S%2?(w=" ".repeat(S/2+.5),b=" ".repeat(S/2-.5)):(w=" ".repeat(S/2),b=w):b=" ".repeat(S)}n.delimiterStart!==!1&&!h&&g.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&v==="")&&(n.delimiterStart!==!1||h)&&g.push(" "),n.alignDelimiters!==!1&&g.push(w),g.push(v),n.alignDelimiters!==!1&&g.push(b),n.padding!==!1&&g.push(" "),(n.delimiterEnd!==!1||h!==u-1)&&g.push("|")}p.push(n.delimiterEnd===!1?g.join("").replace(/ +$/,""):g.join(""))}return p.join(`
`)}function uOe(t){return t==null?"":String(t)}function bF(t){const e=typeof t=="string"?t.codePointAt(0):0;return e===67||e===99?99:e===76||e===108?108:e===82||e===114?114:0}function cOe(){return{enter:{table:hOe,tableData:kF,tableHeader:kF,tableRow:dOe},exit:{codeText:pOe,table:fOe,tableData:qk,tableHeader:qk,tableRow:qk}}}function hOe(t){const e=t._align;this.enter({type:"table",align:e.map(function(n){return n==="none"?null:n}),children:[]},t),this.data.inTable=!0}function fOe(t){this.exit(t),this.data.inTable=void 0}function dOe(t){this.enter({type:"tableRow",children:[]},t)}function qk(t){this.exit(t)}function kF(t){this.enter({type:"tableCell",children:[]},t)}function pOe(t){let e=this.resume();this.data.inTable&&(e=e.replace(/\\([\\|])/g,mOe));const n=this.stack[this.stack.length-1];n.type,n.value=e,this.exit(t)}function mOe(t,e){return e==="|"?e:t}function gOe(t){const e=t||{},n=e.tableCellPadding,r=e.tablePipeAlign,i=e.stringLength,o=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:f,table:s,tableCell:a,tableRow:l}};function s(d,p,m,y){return u(c(d,m,y),d.align)}function l(d,p,m,y){const g=h(d,m,y),v=u([g]);return v.slice(0,v.indexOf(`
`))}function a(d,p,m,y){const g=m.enter("tableCell"),v=m.enter("phrasing"),w=m.containerPhrasing(d,{...y,before:o,after:o});return v(),g(),w}function u(d,p){return aOe(d,{align:p,alignDelimiters:r,padding:n,stringLength:i})}function c(d,p,m){const y=d.children;let g=-1;const v=[],w=p.enter("table");for(;++g<y.length;)v[g]=h(y[g],p,m);return w(),v}function h(d,p,m){const y=d.children;let g=-1;const v=[],w=p.enter("tableRow");for(;++g<y.length;)v[g]=a(y[g],d,p,m);return w(),v}function f(d,p,m){let y=lE.inlineCode(d,p,m);return m.stack.includes("tableCell")&&(y=y.replace(/\|/g,"\\$&")),y}}function yOe(){return{exit:{taskListCheckValueChecked:SF,taskListCheckValueUnchecked:SF,paragraph:wOe}}}function vOe(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:xOe}}}function SF(t){const e=this.stack[this.stack.length-2];e.type,e.checked=t.type==="taskListCheckValueChecked"}function wOe(t){const e=this.stack[this.stack.length-2];if(e&&e.type==="listItem"&&typeof e.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const i=e.children;let o=-1,s;for(;++o<i.length;){const l=i[o];if(l.type==="paragraph"){s=l;break}}s===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(t)}function xOe(t,e,n,r){const i=t.children[0],o=typeof t.checked=="boolean"&&i&&i.type==="paragraph",s="["+(t.checked?"x":" ")+"] ",l=n.createTracker(r);o&&l.move(s);let a=lE.listItem(t,e,n,{...r,...l.current()});return o&&(a=a.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,u)),a;function u(c){return c+s}}function bOe(){return[DEe(),ZEe(),nOe(),cOe(),yOe()]}function kOe(t){return{extensions:[_Ee(),QEe(t),rOe(),gOe(t),vOe()]}}const SOe={tokenize:OOe,partial:!0},eee={tokenize:POe,partial:!0},tee={tokenize:DOe,partial:!0},nee={tokenize:_Oe,partial:!0},COe={tokenize:IOe,partial:!0},ree={name:"wwwAutolink",tokenize:AOe,previous:oee},iee={name:"protocolAutolink",tokenize:EOe,previous:see},Au={name:"emailAutolink",tokenize:MOe,previous:lee},aa={};function TOe(){return{text:aa}}let vh=48;for(;vh<123;)aa[vh]=Au,vh++,vh===58?vh=65:vh===91&&(vh=97);aa[43]=Au;aa[45]=Au;aa[46]=Au;aa[95]=Au;aa[72]=[Au,iee];aa[104]=[Au,iee];aa[87]=[Au,ree];aa[119]=[Au,ree];function MOe(t,e,n){const r=this;let i,o;return s;function s(h){return!GC(h)||!lee.call(r,r.previous)||qO(r.events)?n(h):(t.enter("literalAutolink"),t.enter("literalAutolinkEmail"),l(h))}function l(h){return GC(h)?(t.consume(h),l):h===64?(t.consume(h),a):n(h)}function a(h){return h===46?t.check(COe,c,u)(h):h===45||h===95||si(h)?(o=!0,t.consume(h),a):c(h)}function u(h){return t.consume(h),i=!0,a}function c(h){return o&&i&&Oi(r.previous)?(t.exit("literalAutolinkEmail"),t.exit("literalAutolink"),e(h)):n(h)}}function AOe(t,e,n){const r=this;return i;function i(s){return s!==87&&s!==119||!oee.call(r,r.previous)||qO(r.events)?n(s):(t.enter("literalAutolink"),t.enter("literalAutolinkWww"),t.check(SOe,t.attempt(eee,t.attempt(tee,o),n),n)(s))}function o(s){return t.exit("literalAutolinkWww"),t.exit("literalAutolink"),e(s)}}function EOe(t,e,n){const r=this;let i="",o=!1;return s;function s(h){return(h===72||h===104)&&see.call(r,r.previous)&&!qO(r.events)?(t.enter("literalAutolink"),t.enter("literalAutolinkHttp"),i+=String.fromCodePoint(h),t.consume(h),l):n(h)}function l(h){if(Oi(h)&&i.length<5)return i+=String.fromCodePoint(h),t.consume(h),l;if(h===58){const f=i.toLowerCase();if(f==="http"||f==="https")return t.consume(h),a}return n(h)}function a(h){return h===47?(t.consume(h),o?u:(o=!0,a)):n(h)}function u(h){return h===null||Z5(h)||dn(h)||Rf(h)||$b(h)?n(h):t.attempt(eee,t.attempt(tee,c),n)(h)}function c(h){return t.exit("literalAutolinkHttp"),t.exit("literalAutolink"),e(h)}}function OOe(t,e,n){let r=0;return i;function i(s){return(s===87||s===119)&&r<3?(r++,t.consume(s),i):s===46&&r===3?(t.consume(s),o):n(s)}function o(s){return s===null?n(s):e(s)}}function POe(t,e,n){let r,i,o;return s;function s(u){return u===46||u===95?t.check(nee,a,l)(u):u===null||dn(u)||Rf(u)||u!==45&&$b(u)?a(u):(o=!0,t.consume(u),s)}function l(u){return u===95?r=!0:(i=r,r=void 0),t.consume(u),s}function a(u){return i||r||!o?n(u):e(u)}}function DOe(t,e){let n=0,r=0;return i;function i(s){return s===40?(n++,t.consume(s),i):s===41&&r<n?o(s):s===33||s===34||s===38||s===39||s===41||s===42||s===44||s===46||s===58||s===59||s===60||s===63||s===93||s===95||s===126?t.check(nee,e,o)(s):s===null||dn(s)||Rf(s)?e(s):(t.consume(s),i)}function o(s){return s===41&&r++,t.consume(s),i}}function _Oe(t,e,n){return r;function r(l){return l===33||l===34||l===39||l===41||l===42||l===44||l===46||l===58||l===59||l===63||l===95||l===126?(t.consume(l),r):l===38?(t.consume(l),o):l===93?(t.consume(l),i):l===60||l===null||dn(l)||Rf(l)?e(l):n(l)}function i(l){return l===null||l===40||l===91||dn(l)||Rf(l)?e(l):r(l)}function o(l){return Oi(l)?s(l):n(l)}function s(l){return l===59?(t.consume(l),r):Oi(l)?(t.consume(l),s):n(l)}}function IOe(t,e,n){return r;function r(o){return t.consume(o),i}function i(o){return si(o)?n(o):e(o)}}function oee(t){return t===null||t===40||t===42||t===95||t===91||t===93||t===126||dn(t)}function see(t){return!Oi(t)}function lee(t){return!(t===47||GC(t))}function GC(t){return t===43||t===45||t===46||t===95||si(t)}function qO(t){let e=t.length,n=!1;for(;e--;){const r=t[e][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return t.length>0&&!n&&(t[t.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const ROe={tokenize:HOe,partial:!0};function NOe(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:FOe,continuation:{tokenize:$Oe},exit:VOe}},text:{91:{name:"gfmFootnoteCall",tokenize:zOe},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:LOe,resolveTo:BOe}}}}function LOe(t,e,n){const r=this;let i=r.events.length;const o=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s;for(;i--;){const a=r.events[i][1];if(a.type==="labelImage"){s=a;break}if(a.type==="gfmFootnoteCall"||a.type==="labelLink"||a.type==="label"||a.type==="image"||a.type==="link")break}return l;function l(a){if(!s||!s._balanced)return n(a);const u=Zs(r.sliceSerialize({start:s.end,end:r.now()}));return u.codePointAt(0)!==94||!o.includes(u.slice(1))?n(a):(t.enter("gfmFootnoteCallLabelMarker"),t.consume(a),t.exit("gfmFootnoteCallLabelMarker"),e(a))}}function BOe(t,e){let n=t.length;for(;n--;)if(t[n][1].type==="labelImage"&&t[n][0]==="enter"){t[n][1];break}t[n+1][1].type="data",t[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},t[n+3][1].start),end:Object.assign({},t[t.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},t[n+3][1].end),end:Object.assign({},t[n+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const o={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},t[t.length-1][1].start)},s={type:"chunkString",contentType:"string",start:Object.assign({},o.start),end:Object.assign({},o.end)},l=[t[n+1],t[n+2],["enter",r,e],t[n+3],t[n+4],["enter",i,e],["exit",i,e],["enter",o,e],["enter",s,e],["exit",s,e],["exit",o,e],t[t.length-2],t[t.length-1],["exit",r,e]];return t.splice(n,t.length-n+1,...l),t}function zOe(t,e,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let o=0,s;return l;function l(h){return t.enter("gfmFootnoteCall"),t.enter("gfmFootnoteCallLabelMarker"),t.consume(h),t.exit("gfmFootnoteCallLabelMarker"),a}function a(h){return h!==94?n(h):(t.enter("gfmFootnoteCallMarker"),t.consume(h),t.exit("gfmFootnoteCallMarker"),t.enter("gfmFootnoteCallString"),t.enter("chunkString").contentType="string",u)}function u(h){if(o>999||h===93&&!s||h===null||h===91||dn(h))return n(h);if(h===93){t.exit("chunkString");const f=t.exit("gfmFootnoteCallString");return i.includes(Zs(r.sliceSerialize(f)))?(t.enter("gfmFootnoteCallLabelMarker"),t.consume(h),t.exit("gfmFootnoteCallLabelMarker"),t.exit("gfmFootnoteCall"),e):n(h)}return dn(h)||(s=!0),o++,t.consume(h),h===92?c:u}function c(h){return h===91||h===92||h===93?(t.consume(h),o++,u):u(h)}}function FOe(t,e,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let o,s=0,l;return a;function a(p){return t.enter("gfmFootnoteDefinition")._container=!0,t.enter("gfmFootnoteDefinitionLabel"),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(p),t.exit("gfmFootnoteDefinitionLabelMarker"),u}function u(p){return p===94?(t.enter("gfmFootnoteDefinitionMarker"),t.consume(p),t.exit("gfmFootnoteDefinitionMarker"),t.enter("gfmFootnoteDefinitionLabelString"),t.enter("chunkString").contentType="string",c):n(p)}function c(p){if(s>999||p===93&&!l||p===null||p===91||dn(p))return n(p);if(p===93){t.exit("chunkString");const m=t.exit("gfmFootnoteDefinitionLabelString");return o=Zs(r.sliceSerialize(m)),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(p),t.exit("gfmFootnoteDefinitionLabelMarker"),t.exit("gfmFootnoteDefinitionLabel"),f}return dn(p)||(l=!0),s++,t.consume(p),p===92?h:c}function h(p){return p===91||p===92||p===93?(t.consume(p),s++,c):c(p)}function f(p){return p===58?(t.enter("definitionMarker"),t.consume(p),t.exit("definitionMarker"),i.includes(o)||i.push(o),Bt(t,d,"gfmFootnoteDefinitionWhitespace")):n(p)}function d(p){return e(p)}}function $Oe(t,e,n){return t.check(Nv,e,t.attempt(ROe,e,n))}function VOe(t){t.exit("gfmFootnoteDefinition")}function HOe(t,e,n){const r=this;return Bt(t,i,"gfmFootnoteDefinitionIndent",5);function i(o){const s=r.events[r.events.length-1];return s&&s[1].type==="gfmFootnoteDefinitionIndent"&&s[2].sliceSerialize(s[1],!0).length===4?e(o):n(o)}}function jOe(t){let n=(t||{}).singleTilde;const r={name:"strikethrough",tokenize:o,resolveAll:i};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function i(s,l){let a=-1;for(;++a<s.length;)if(s[a][0]==="enter"&&s[a][1].type==="strikethroughSequenceTemporary"&&s[a][1]._close){let u=a;for(;u--;)if(s[u][0]==="exit"&&s[u][1].type==="strikethroughSequenceTemporary"&&s[u][1]._open&&s[a][1].end.offset-s[a][1].start.offset===s[u][1].end.offset-s[u][1].start.offset){s[a][1].type="strikethroughSequence",s[u][1].type="strikethroughSequence";const c={type:"strikethrough",start:Object.assign({},s[u][1].start),end:Object.assign({},s[a][1].end)},h={type:"strikethroughText",start:Object.assign({},s[u][1].end),end:Object.assign({},s[a][1].start)},f=[["enter",c,l],["enter",s[u][1],l],["exit",s[u][1],l],["enter",h,l]],d=l.parser.constructs.insideSpan.null;d&&gs(f,f.length,0,Vb(d,s.slice(u+1,a),l)),gs(f,f.length,0,[["exit",h,l],["enter",s[a][1],l],["exit",s[a][1],l],["exit",c,l]]),gs(s,u-1,a-u+3,f),a=u+f.length-2;break}}for(a=-1;++a<s.length;)s[a][1].type==="strikethroughSequenceTemporary"&&(s[a][1].type="data");return s}function o(s,l,a){const u=this.previous,c=this.events;let h=0;return f;function f(p){return u===126&&c[c.length-1][1].type!=="characterEscape"?a(p):(s.enter("strikethroughSequenceTemporary"),d(p))}function d(p){const m=Q5(u);if(p===126)return h>1?a(p):(s.consume(p),h++,d);if(h<2&&!n)return a(p);const y=s.exit("strikethroughSequenceTemporary"),g=Q5(p);return y._open=!g||g===2&&!!m,y._close=!m||m===2&&!!g,l(p)}}}class WOe{constructor(){this.map=[]}add(e,n,r){UOe(this,e,n,r)}consume(e){if(this.map.sort(function(o,s){return o[0]-s[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(e.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),e.length=this.map[n][0];r.push(e.slice()),e.length=0;let i=r.pop();for(;i;){for(const o of i)e.push(o);i=r.pop()}this.map.length=0}}function UOe(t,e,n,r){let i=0;if(!(n===0&&r.length===0)){for(;i<t.map.length;){if(t.map[i][0]===e){t.map[i][1]+=n,t.map[i][2].push(...r);return}i+=1}t.map.push([e,n,r])}}function qOe(t,e){let n=!1;const r=[];for(;e<t.length;){const i=t[e];if(n){if(i[0]==="enter")i[1].type==="tableContent"&&r.push(t[e+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(t[e-1][1].type==="tableDelimiterMarker"){const o=r.length-1;r[o]=r[o]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(n=!0);e+=1}return r}function KOe(){return{flow:{null:{name:"table",tokenize:GOe,resolveAll:YOe}}}}function GOe(t,e,n){const r=this;let i=0,o=0,s;return l;function l(E){let B=r.events.length-1;for(;B>-1;){const G=r.events[B][1].type;if(G==="lineEnding"||G==="linePrefix")B--;else break}const $=B>-1?r.events[B][1].type:null,ae=$==="tableHead"||$==="tableRow"?k:a;return ae===k&&r.parser.lazy[r.now().line]?n(E):ae(E)}function a(E){return t.enter("tableHead"),t.enter("tableRow"),u(E)}function u(E){return E===124||(s=!0,o+=1),c(E)}function c(E){return E===null?n(E):rt(E)?o>1?(o=0,r.interrupt=!0,t.exit("tableRow"),t.enter("lineEnding"),t.consume(E),t.exit("lineEnding"),d):n(E):Vt(E)?Bt(t,c,"whitespace")(E):(o+=1,s&&(s=!1,i+=1),E===124?(t.enter("tableCellDivider"),t.consume(E),t.exit("tableCellDivider"),s=!0,c):(t.enter("data"),h(E)))}function h(E){return E===null||E===124||dn(E)?(t.exit("data"),c(E)):(t.consume(E),E===92?f:h)}function f(E){return E===92||E===124?(t.consume(E),h):h(E)}function d(E){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(E):(t.enter("tableDelimiterRow"),s=!1,Vt(E)?Bt(t,p,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(E):p(E))}function p(E){return E===45||E===58?y(E):E===124?(s=!0,t.enter("tableCellDivider"),t.consume(E),t.exit("tableCellDivider"),m):S(E)}function m(E){return Vt(E)?Bt(t,y,"whitespace")(E):y(E)}function y(E){return E===58?(o+=1,s=!0,t.enter("tableDelimiterMarker"),t.consume(E),t.exit("tableDelimiterMarker"),g):E===45?(o+=1,g(E)):E===null||rt(E)?b(E):S(E)}function g(E){return E===45?(t.enter("tableDelimiterFiller"),v(E)):S(E)}function v(E){return E===45?(t.consume(E),v):E===58?(s=!0,t.exit("tableDelimiterFiller"),t.enter("tableDelimiterMarker"),t.consume(E),t.exit("tableDelimiterMarker"),w):(t.exit("tableDelimiterFiller"),w(E))}function w(E){return Vt(E)?Bt(t,b,"whitespace")(E):b(E)}function b(E){return E===124?p(E):E===null||rt(E)?!s||i!==o?S(E):(t.exit("tableDelimiterRow"),t.exit("tableHead"),e(E)):S(E)}function S(E){return n(E)}function k(E){return t.enter("tableRow"),T(E)}function T(E){return E===124?(t.enter("tableCellDivider"),t.consume(E),t.exit("tableCellDivider"),T):E===null||rt(E)?(t.exit("tableRow"),e(E)):Vt(E)?Bt(t,T,"whitespace")(E):(t.enter("data"),A(E))}function A(E){return E===null||E===124||dn(E)?(t.exit("data"),T(E)):(t.consume(E),E===92?z:A)}function z(E){return E===92||E===124?(t.consume(E),A):A(E)}}function YOe(t,e){let n=-1,r=!0,i=0,o=[0,0,0,0],s=[0,0,0,0],l=!1,a=0,u,c,h;const f=new WOe;for(;++n<t.length;){const d=t[n],p=d[1];d[0]==="enter"?p.type==="tableHead"?(l=!1,a!==0&&(CF(f,e,a,u,c),c=void 0,a=0),u={type:"table",start:Object.assign({},p.start),end:Object.assign({},p.end)},f.add(n,0,[["enter",u,e]])):p.type==="tableRow"||p.type==="tableDelimiterRow"?(r=!0,h=void 0,o=[0,0,0,0],s=[0,n+1,0,0],l&&(l=!1,c={type:"tableBody",start:Object.assign({},p.start),end:Object.assign({},p.end)},f.add(n,0,[["enter",c,e]])),i=p.type==="tableDelimiterRow"?2:c?3:1):i&&(p.type==="data"||p.type==="tableDelimiterMarker"||p.type==="tableDelimiterFiller")?(r=!1,s[2]===0&&(o[1]!==0&&(s[0]=s[1],h=C4(f,e,o,i,void 0,h),o=[0,0,0,0]),s[2]=n)):p.type==="tableCellDivider"&&(r?r=!1:(o[1]!==0&&(s[0]=s[1],h=C4(f,e,o,i,void 0,h)),o=s,s=[o[1],n,0,0])):p.type==="tableHead"?(l=!0,a=n):p.type==="tableRow"||p.type==="tableDelimiterRow"?(a=n,o[1]!==0?(s[0]=s[1],h=C4(f,e,o,i,n,h)):s[1]!==0&&(h=C4(f,e,s,i,n,h)),i=0):i&&(p.type==="data"||p.type==="tableDelimiterMarker"||p.type==="tableDelimiterFiller")&&(s[3]=n)}for(a!==0&&CF(f,e,a,u,c),f.consume(e.events),n=-1;++n<e.events.length;){const d=e.events[n];d[0]==="enter"&&d[1].type==="table"&&(d[1]._align=qOe(e.events,n))}return t}function C4(t,e,n,r,i,o){const s=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",l="tableContent";n[0]!==0&&(o.end=Object.assign({},_d(e.events,n[0])),t.add(n[0],0,[["exit",o,e]]));const a=_d(e.events,n[1]);if(o={type:s,start:Object.assign({},a),end:Object.assign({},a)},t.add(n[1],0,[["enter",o,e]]),n[2]!==0){const u=_d(e.events,n[2]),c=_d(e.events,n[3]),h={type:l,start:Object.assign({},u),end:Object.assign({},c)};if(t.add(n[2],0,[["enter",h,e]]),r!==2){const f=e.events[n[2]],d=e.events[n[3]];if(f[1].end=Object.assign({},d[1].end),f[1].type="chunkText",f[1].contentType="text",n[3]>n[2]+1){const p=n[2]+1,m=n[3]-n[2]-1;t.add(p,m,[])}}t.add(n[3]+1,0,[["exit",h,e]])}return i!==void 0&&(o.end=Object.assign({},_d(e.events,i)),t.add(i,0,[["exit",o,e]]),o=void 0),o}function CF(t,e,n,r,i){const o=[],s=_d(e.events,n);i&&(i.end=Object.assign({},s),o.push(["exit",i,e])),r.end=Object.assign({},s),o.push(["exit",r,e]),t.add(n+1,0,o)}function _d(t,e){const n=t[e],r=n[0]==="enter"?"start":"end";return n[1][r]}const XOe={name:"tasklistCheck",tokenize:ZOe};function JOe(){return{text:{91:XOe}}}function ZOe(t,e,n){const r=this;return i;function i(a){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(a):(t.enter("taskListCheck"),t.enter("taskListCheckMarker"),t.consume(a),t.exit("taskListCheckMarker"),o)}function o(a){return dn(a)?(t.enter("taskListCheckValueUnchecked"),t.consume(a),t.exit("taskListCheckValueUnchecked"),s):a===88||a===120?(t.enter("taskListCheckValueChecked"),t.consume(a),t.exit("taskListCheckValueChecked"),s):n(a)}function s(a){return a===93?(t.enter("taskListCheckMarker"),t.consume(a),t.exit("taskListCheckMarker"),t.exit("taskListCheck"),l):n(a)}function l(a){return rt(a)?e(a):Vt(a)?t.check({tokenize:QOe},e,n)(a):n(a)}}function QOe(t,e,n){return Bt(t,r,"whitespace");function r(i){return i===null?n(i):e(i)}}function ePe(t){return bU([TOe(),NOe(),jOe(t),KOe(),JOe()])}const tPe={};function nPe(t){const e=this,n=t||tPe,r=e.data(),i=r.micromarkExtensions||(r.micromarkExtensions=[]),o=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),s=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);i.push(ePe(n)),o.push(bOe()),s.push(kOe(n))}function wt(t,e){return Object.assign(t,{meta:{package:"@milkdown/preset-gfm",...e}}),t}const KO=Jv("strike_through");wt(KO,{displayName:"Attr<strikethrough>",group:"Strikethrough"});const um=nm("strike_through",t=>({parseDOM:[{tag:"del"},{style:"text-decoration",getAttrs:e=>e==="line-through"}],toDOM:e=>["del",t.get(KO.key)(e)],parseMarkdown:{match:e=>e.type==="delete",runner:(e,n,r)=>{e.openMark(r),e.next(n.children),e.closeMark(r)}},toMarkdown:{match:e=>e.type.name==="strike_through",runner:(e,n)=>{e.withMark(n,"delete")}}}));wt(um.mark,{displayName:"MarkSchema<strikethrough>",group:"Strikethrough"});wt(um.ctx,{displayName:"MarkSchemaCtx<strikethrough>",group:"Strikethrough"});const Y3=vt("ToggleStrikeThrough",t=>()=>w3(um.type(t)));wt(Y3,{displayName:"Command<ToggleStrikethrough>",group:"Strikethrough"});const aee=xi(t=>qv(new RegExp("(?<![\\w:/])(~{1,2})(.+?)\\1(?!\\w|\\/)"),um.type(t)));wt(aee,{displayName:"InputRule<strikethrough>",group:"Strikethrough"});const GO=fo("strikeThroughKeymap",{ToggleStrikethrough:{shortcuts:"Mod-Alt-x",command:t=>{const e=t.get(Xe);return()=>e.call(Y3.key)}}});wt(GO.ctx,{displayName:"KeymapCtx<strikethrough>",group:"Strikethrough"});wt(GO.shortcuts,{displayName:"Keymap<strikethrough>",group:"Strikethrough"});const s2=EAe({tableGroup:"block",cellContent:"paragraph",cellAttributes:{alignment:{default:"left",getFromDOM:t=>t.style.textAlign||"left",setDOMAttr:(t,e)=>{e.style=`text-align: ${t||"left"}`}}}}),ad=lr("table",()=>({...s2.table,content:"table_header_row table_row+",disableDropCursor:!0,parseMarkdown:{match:t=>t.type==="table",runner:(t,e,n)=>{const r=e.align,i=e.children.map((o,s)=>({...o,align:r,isHeader:s===0}));t.openNode(n),t.next(i),t.closeNode()}},toMarkdown:{match:t=>t.type.name==="table",runner:(t,e)=>{var i;const n=(i=e.content.firstChild)==null?void 0:i.content;if(!n)return;const r=[];n.forEach(o=>{r.push(o.attrs.alignment)}),t.openNode("table",void 0,{align:r}),t.next(e.content),t.closeNode()}}}));wt(ad.node,{displayName:"NodeSchema<table>",group:"Table"});wt(ad.ctx,{displayName:"NodeSchemaCtx<table>",group:"Table"});const X3=lr("table_header_row",()=>({...s2.table_row,disableDropCursor:!0,content:"(table_header)*",parseDOM:[{tag:"tr[data-is-header]"}],toDOM(){return["tr",{"data-is-header":!0},0]},parseMarkdown:{match:t=>!!(t.type==="tableRow"&&t.isHeader),runner:(t,e,n)=>{const r=e.align,i=e.children.map((o,s)=>({...o,align:r[s],isHeader:e.isHeader}));t.openNode(n),t.next(i),t.closeNode()}},toMarkdown:{match:t=>t.type.name==="table_header_row",runner:(t,e)=>{t.openNode("tableRow",void 0,{isHeader:!0}),t.next(e.content),t.closeNode()}}}));wt(X3.node,{displayName:"NodeSchema<tableHeaderRow>",group:"Table"});wt(X3.ctx,{displayName:"NodeSchemaCtx<tableHeaderRow>",group:"Table"});const l2=lr("table_row",()=>({...s2.table_row,disableDropCursor:!0,content:"(table_cell)*",parseMarkdown:{match:t=>t.type==="tableRow",runner:(t,e,n)=>{const r=e.align,i=e.children.map((o,s)=>({...o,align:r[s]}));t.openNode(n),t.next(i),t.closeNode()}},toMarkdown:{match:t=>t.type.name==="table_row",runner:(t,e)=>{e.content.size!==0&&(t.openNode("tableRow"),t.next(e.content),t.closeNode())}}}));wt(l2.node,{displayName:"NodeSchema<tableRow>",group:"Table"});wt(l2.ctx,{displayName:"NodeSchemaCtx<tableRow>",group:"Table"});const a2=lr("table_cell",()=>({...s2.table_cell,disableDropCursor:!0,parseMarkdown:{match:t=>t.type==="tableCell"&&!t.isHeader,runner:(t,e,n)=>{const r=e.align;t.openNode(n,{alignment:r}).openNode(t.schema.nodes.paragraph).next(e.children).closeNode().closeNode()}},toMarkdown:{match:t=>t.type.name==="table_cell",runner:(t,e)=>{t.openNode("tableCell").next(e.content).closeNode()}}}));wt(a2.node,{displayName:"NodeSchema<tableCell>",group:"Table"});wt(a2.ctx,{displayName:"NodeSchemaCtx<tableCell>",group:"Table"});const J3=lr("table_header",()=>({...s2.table_header,disableDropCursor:!0,parseMarkdown:{match:t=>t.type==="tableCell"&&!!t.isHeader,runner:(t,e,n)=>{const r=e.align;t.openNode(n,{alignment:r}),t.openNode(t.schema.nodes.paragraph),t.next(e.children),t.closeNode(),t.closeNode()}},toMarkdown:{match:t=>t.type.name==="table_header",runner:(t,e)=>{t.openNode("tableCell"),t.next(e.content),t.closeNode()}}}));wt(J3.node,{displayName:"NodeSchema<tableHeader>",group:"Table"});wt(J3.ctx,{displayName:"NodeSchemaCtx<tableHeader>",group:"Table"});function YO(t,e=3,n=3){const r=Array(n).fill(0).map(()=>a2.type(t).createAndFill()),i=Array(n).fill(0).map(()=>J3.type(t).createAndFill()),o=Array(e).fill(0).map((s,l)=>l===0?X3.type(t).create(null,i):l2.type(t).create(null,r));return ad.type(t).create(null,o)}function cm(t){return iE(e=>e.type.spec.tableRole==="table")(t)}function Id(t,e){const n=cm(e.$from);if(!n)return;const r=nn.get(n.node);return(Array.isArray(t)?t:[t]).filter(o=>o>=0&&o<=r.width-1).flatMap(o=>r.cellsInRect({left:o,right:o+1,top:0,bottom:r.height}).map(l=>{const a=n.node.nodeAt(l),u=l+n.start;return{pos:u,start:u+1,node:a,depth:n.depth+2}}))}function Rd(t,e){const n=cm(e.$from);if(!n)return;const r=nn.get(n.node);return(Array.isArray(t)?t:[t]).filter(o=>o>=0&&o<=r.height-1).flatMap(o=>r.cellsInRect({left:0,right:r.width,top:o,bottom:o+1}).map(l=>{const a=n.node.nodeAt(l),u=l+n.start;return{pos:u,start:u+1,node:a,depth:n.depth+2}}))}function uee(t){return(e,n)=>r=>{n=n??r.selection.from;const i=r.doc.resolve(n),o=iE(a=>a.type.name==="table")(i),s=o?{node:o.node,from:o.start}:void 0,l=t==="row";if(s){const a=nn.get(s.node);if(e>=0&&e<(l?a.height:a.width)){const u=a.positionAt(l?e:a.height-1,l?a.width-1:e,s.node),c=r.doc.resolve(s.from+u),h=l?pn.rowSelection:pn.colSelection,f=a.positionAt(l?e:0,l?0:e,s.node),d=r.doc.resolve(s.from+f);return RX(r.setSelection(h(c,d)))}}return r}}const rPe=uee("row"),iPe=uee("col");function cee(t,e,{map:n,tableStart:r,table:i},o){const s=Array(o).fill(0).reduce((a,u,c)=>a+i.child(c).nodeSize,r),l=Array(n.width).fill(0).map((a,u)=>{const c=i.nodeAt(n.map[u]);return a2.type(t).createAndFill({alignment:c==null?void 0:c.attrs.alignment})});return e.insert(s,l2.type(t).create(null,l)),e}function hee(t,e){const n=[],r=nn.get(t);for(let o=0;o<r.height;o++){const s=t.child(o),l=[];for(let a=0;a<r.width;a++){if(!e[o][a])continue;const u=r.map[o*r.width+a],c=e[o][a],f=t.nodeAt(u).type.createChecked(Object.assign({},c.attrs),c.content,c.marks);l.push(f)}n.push(s.type.createChecked(s.attrs,l,s.marks))}return t.type.createChecked(t.attrs,n,t.marks)}function fee(t){const e=nn.get(t),n=[],r=e.height,i=e.width;for(let o=0;o<r;o++){const s=[];for(let l=0;l<i;l++){let a=o*i+l,u=e.map[a];if(o>0){const c=a-i,h=e.map[c];if(u===h){s.push(null);continue}}if(l>0){const c=a-1,h=e.map[c];if(u===h){s.push(null);continue}}u?s.push(t.nodeAt(u)):s.push(null)}n.push(s)}return n}function TF(t,e,n=e){let r=e,i=n;for(let h=e;h>=0;h--){const f=Rd(h,t.selection);f&&f.forEach(d=>{const p=d.node.attrs.rowspan+h-1;p>=r&&(r=h),p>i&&(i=p)})}for(let h=e;h<=i;h++){const f=Rd(h,t.selection);f&&f.forEach(d=>{const p=d.node.attrs.rowspan+h-1;d.node.attrs.rowspan>1&&p>i&&(i=p)})}const o=[];for(let h=r;h<=i;h++){const f=Rd(h,t.selection);f&&f.length>0&&o.push(h)}r=o[0],i=o[o.length-1];const s=Rd(r,t.selection),l=Id(0,t.selection);if(!s||!l)return;const a=t.doc.resolve(s[s.length-1].pos);let u;for(let h=i;h>=r;h--){const f=Rd(h,t.selection);if(f&&f.length>0){for(let d=l.length-1;d>=0;d--)if(l[d].pos===f[0].pos){u=f[0];break}if(u)break}}if(!u)return;const c=t.doc.resolve(u.pos);return{$anchor:a,$head:c,indexes:o}}function dee(t,e,n,r){const i=e[0]>n[0]?-1:1,o=t.splice(e[0],e.length),s=o.length%2===0?1:0;let l;return l=i===-1?n[0]:n[n.length-1]-s,t.splice(l,0,...o),t}function oPe(t){var v,w;const{tr:e,origin:n,target:r,select:i,pos:o}=t,s=e.doc.resolve(o),l=cm(s);if(!l)return!1;const a=(v=TF(e,n))==null?void 0:v.indexes,u=(w=TF(e,r))==null?void 0:w.indexes;if(!a||!u||a.includes(r))return!1;const c=sPe(l.node,a,u);if(e.replaceWith(l.pos,l.pos+l.node.nodeSize,c),!i)return!0;const h=nn.get(c),f=l.start,d=r,p=h.positionAt(d,h.width-1,c),m=e.doc.resolve(f+p),y=h.positionAt(d,0,c),g=e.doc.resolve(f+y);return e.setSelection(pn.rowSelection(m,g)),!0}function sPe(t,e,n,r){let i=fee(t);return i=dee(i,e,n),hee(t,i)}function MF(t,e,n=e){let r=e,i=n;for(let h=e;h>=0;h--){const f=Id(h,t.selection);f&&f.forEach(d=>{const p=d.node.attrs.colspan+h-1;p>=r&&(r=h),p>i&&(i=p)})}for(let h=e;h<=i;h++){const f=Id(h,t.selection);f&&f.forEach(d=>{const p=d.node.attrs.colspan+h-1;d.node.attrs.colspan>1&&p>i&&(i=p)})}const o=[];for(let h=r;h<=i;h++){const f=Id(h,t.selection);f&&f.length>0&&o.push(h)}r=o[0],i=o[o.length-1];const s=Id(r,t.selection),l=Rd(0,t.selection);if(!s||!l)return;const a=t.doc.resolve(s[s.length-1].pos);let u;for(let h=i;h>=r;h--){const f=Id(h,t.selection);if(f&&f.length>0){for(let d=l.length-1;d>=0;d--)if(l[d].pos===f[0].pos){u=f[0];break}if(u)break}}if(!u)return;const c=t.doc.resolve(u.pos);return{$anchor:a,$head:c,indexes:o}}function AF(t){return t[0].map((e,n)=>t.map(r=>r[n]))}function lPe(t){var v,w;const{tr:e,origin:n,target:r,select:i,pos:o}=t,s=e.doc.resolve(o),l=cm(s);if(!l)return!1;const a=(v=MF(e,n))==null?void 0:v.indexes,u=(w=MF(e,r))==null?void 0:w.indexes;if(!a||!u||a.includes(r))return!1;const c=aPe(l.node,a,u);if(e.replaceWith(l.pos,l.pos+l.node.nodeSize,c),!i)return!0;const h=nn.get(c),f=l.start,d=r,p=h.positionAt(h.height-1,d,c),m=e.doc.resolve(f+p),y=h.positionAt(0,d,c),g=e.doc.resolve(f+y);return e.setSelection(pn.colSelection(m,g)),!0}function aPe(t,e,n,r){let i=AF(fee(t));return i=dee(i,e,n),i=AF(i),hee(t,i)}function uPe(t){const e=cm(t.$from);if(!e)return;const n=nn.get(e.node);return n.cellsInRect({left:0,right:n.width,top:0,bottom:n.height}).map(i=>{const o=e.node.nodeAt(i),s=i+e.start;return{pos:s,start:s+1,node:o}})}function cPe(t){const e=uPe(t.selection);if(e&&e[0]){const n=t.doc.resolve(e[0].pos),r=e[e.length-1];if(r){const i=t.doc.resolve(r.pos);return RX(t.setSelection(new pn(i,n)))}}return t}const XO=vt("GoToPrevTableCell",()=>()=>qQ(-1));wt(XO,{displayName:"Command<goToPrevTableCellCommand>",group:"Table"});const JO=vt("GoToNextTableCell",()=>()=>qQ(1));wt(JO,{displayName:"Command<goToNextTableCellCommand>",group:"Table"});const ZO=vt("ExitTable",t=>()=>(e,n)=>{if(!Ds(e))return!1;const{$head:r}=e.selection,i=T7e(r,ad.type(t));if(!i)return!1;const{to:o}=i,s=e.tr.replaceWith(o,o,la.type(t).createAndFill());return s.setSelection(yt.near(s.doc.resolve(o),1)).scrollIntoView(),n==null||n(s),!0});wt(ZO,{displayName:"Command<breakTableCommand>",group:"Table"});const pee=vt("InsertTable",t=>({row:e,col:n}={})=>(r,i)=>{const{selection:o,tr:s}=r,{from:l}=o,a=YO(t,e,n),u=s.replaceSelectionWith(a),c=yt.findFrom(u.doc.resolve(l),1,!0);return c&&u.setSelection(c),i==null||i(u),!0});wt(pee,{displayName:"Command<insertTableCommand>",group:"Table"});const QO=vt("MoveRow",()=>({from:t,to:e,pos:n}={})=>(r,i)=>{const{tr:o}=r;return oPe({tr:o,origin:t??0,target:e??0,pos:n??r.selection.from,select:!0})?(i==null||i(o),!0):!1});wt(QO,{displayName:"Command<moveRowCommand>",group:"Table"});const eP=vt("MoveCol",()=>({from:t,to:e,pos:n}={})=>(r,i)=>{const{tr:o}=r;return lPe({tr:o,origin:t??0,target:e??0,pos:n??r.selection.from,select:!0})?(i==null||i(o),!0):!1});wt(eP,{displayName:"Command<moveColCommand>",group:"Table"});const Yh=vt("SelectRow",()=>(t={index:0})=>(e,n)=>{const{tr:r}=e;return!!(n==null?void 0:n(rPe(t.index,t.pos)(r)))});wt(Yh,{displayName:"Command<selectRowCommand>",group:"Table"});const Xh=vt("SelectCol",()=>(t={index:0})=>(e,n)=>{const{tr:r}=e;return!!(n==null?void 0:n(iPe(t.index,t.pos)(r)))});wt(Xh,{displayName:"Command<selectColCommand>",group:"Table"});const mee=vt("SelectTable",()=>()=>(t,e)=>{const{tr:n}=t;return!!(e==null?void 0:e(cPe(n)))});wt(mee,{displayName:"Command<selectTableCommand>",group:"Table"});const tP=vt("DeleteSelectedCells",()=>()=>(t,e)=>{const{selection:n}=t;if(!(n instanceof pn))return!1;const r=n.isRowSelection(),i=n.isColSelection();return r&&i?XAe(t,e):i?WAe(t,e):qAe(t,e)});wt(tP,{displayName:"Command<deleteSelectedCellsCommand>",group:"Table"});const nP=vt("AddColBefore",()=>()=>VAe);wt(nP,{displayName:"Command<addColBeforeCommand>",group:"Table"});const rP=vt("AddColAfter",()=>()=>HAe);wt(rP,{displayName:"Command<addColAfterCommand>",group:"Table"});const iP=vt("AddRowBefore",t=>()=>(e,n)=>{if(!Ds(e))return!1;if(n){const r=ah(e);n(cee(t,e.tr,r,r.top))}return!0});wt(iP,{displayName:"Command<addRowBeforeCommand>",group:"Table"});const oP=vt("AddRowAfter",t=>()=>(e,n)=>{if(!Ds(e))return!1;if(n){const r=ah(e);n(cee(t,e.tr,r,r.bottom))}return!0});wt(oP,{displayName:"Command<addRowAfterCommand>",group:"Table"});const sP=vt("SetAlign",()=>(t="left")=>KAe("alignment",t));wt(sP,{displayName:"Command<setAlignCommand>",group:"Table"});const gee=xi(t=>new co(/^\|(?<col>\d+)[xX](?<row>\d+)\|\s$/,(e,n,r,i)=>{var u,c;const o=e.doc.resolve(r);if(!o.node(-1).canReplaceWith(o.index(-1),o.indexAfter(-1),ad.type(t)))return null;const s=Math.max(Number(((u=n.groups)==null?void 0:u.row)??0),2),l=YO(t,s,Number((c=n.groups)==null?void 0:c.col)),a=e.tr.replaceRangeWith(r,i,l);return a.setSelection(nt.create(a.doc,r+3)).scrollIntoView()}));wt(gee,{displayName:"InputRule<insertTableInputRule>",group:"Table"});const lP=fo("tableKeymap",{NextCell:{priority:100,shortcuts:["Mod-]","Tab"],command:t=>{const e=t.get(Xe);return()=>e.call(JO.key)}},PrevCell:{shortcuts:["Mod-[","Shift-Tab"],command:t=>{const e=t.get(Xe);return()=>e.call(XO.key)}},ExitTable:{shortcuts:["Mod-Enter","Enter"],command:t=>{const e=t.get(Xe);return()=>e.call(ZO.key)}}});wt(lP.ctx,{displayName:"KeymapCtx<table>",group:"Table"});wt(lP.shortcuts,{displayName:"Keymap<table>",group:"Table"});const Kk="footnote_definition",EF="footnoteDefinition",aP=lr("footnote_definition",()=>({group:"block",content:"block+",defining:!0,attrs:{label:{default:"",validate:"string"}},parseDOM:[{tag:`dl[data-type="${Kk}"]`,getAttrs:t=>{if(!(t instanceof HTMLElement))throw ul(t);return{label:t.dataset.label}},contentElement:"dd"}],toDOM:t=>{const e=t.attrs.label;return["dl",{"data-label":e,"data-type":Kk},["dt",e],["dd",0]]},parseMarkdown:{match:({type:t})=>t===EF,runner:(t,e,n)=>{t.openNode(n,{label:e.label}).next(e.children).closeNode()}},toMarkdown:{match:t=>t.type.name===Kk,runner:(t,e)=>{t.openNode(EF,void 0,{label:e.attrs.label,identifier:e.attrs.label}).next(e.content).closeNode()}}}));wt(aP.ctx,{displayName:"NodeSchemaCtx<footnodeDef>",group:"footnote"});wt(aP.node,{displayName:"NodeSchema<footnodeDef>",group:"footnote"});const Gk="footnote_reference",uP=lr("footnote_reference",()=>({group:"inline",inline:!0,atom:!0,attrs:{label:{default:"",validate:"string"}},parseDOM:[{tag:`sup[data-type="${Gk}"]`,getAttrs:t=>{if(!(t instanceof HTMLElement))throw ul(t);return{label:t.dataset.label}}}],toDOM:t=>{const e=t.attrs.label;return["sup",{"data-label":e,"data-type":Gk},e]},parseMarkdown:{match:({type:t})=>t==="footnoteReference",runner:(t,e,n)=>{t.addNode(n,{label:e.label})}},toMarkdown:{match:t=>t.type.name===Gk,runner:(t,e)=>{t.addNode("footnoteReference",void 0,void 0,{label:e.attrs.label,identifier:e.attrs.label})}}}));wt(uP.ctx,{displayName:"NodeSchemaCtx<footnodeRef>",group:"footnote"});wt(uP.node,{displayName:"NodeSchema<footnodeRef>",group:"footnote"});const cP=hl.extendSchema(t=>e=>{const n=t(e);return{...n,attrs:{...n.attrs,checked:{default:null,validate:"boolean|null"}},parseDOM:[{tag:'li[data-item-type="task"]',getAttrs:r=>{if(!(r instanceof HTMLElement))throw ul(r);return{label:r.dataset.label,listType:r.dataset.listType,spread:r.dataset.spread,checked:r.dataset.checked?r.dataset.checked==="true":null}}},...(n==null?void 0:n.parseDOM)||[]],toDOM:r=>n.toDOM&&r.attrs.checked==null?n.toDOM(r):["li",{"data-item-type":"task","data-label":r.attrs.label,"data-list-type":r.attrs.listType,"data-spread":r.attrs.spread,"data-checked":r.attrs.checked},0],parseMarkdown:{match:({type:r})=>r==="listItem",runner:(r,i,o)=>{if(i.checked==null){n.parseMarkdown.runner(r,i,o);return}const s=i.label!=null?`${i.label}.`:"",l=i.checked!=null?!!i.checked:null,a=i.label!=null?"ordered":"bullet",u=i.spread!=null?`${i.spread}`:"true";r.openNode(o,{label:s,listType:a,spread:u,checked:l}),r.next(i.children),r.closeNode()}},toMarkdown:{match:r=>r.type.name==="list_item",runner:(r,i)=>{if(i.attrs.checked==null){n.toMarkdown.runner(r,i);return}const o=i.attrs.label,s=i.attrs.listType,l=i.attrs.spread==="true",a=i.attrs.checked;r.openNode("listItem",void 0,{label:o,listType:s,spread:l,checked:a}),r.next(i.content),r.closeNode()}}}});wt(cP.node,{displayName:"NodeSchema<taskListItem>",group:"ListItem"});wt(cP.ctx,{displayName:"NodeSchemaCtx<taskListItem>",group:"ListItem"});const yee=xi(()=>new co(/^\[(?<checked>\s|x)\]\s$/,(t,e,n,r)=>{var c;const i=t.doc.resolve(n);let o=0,s=i.node(o);for(;s&&s.type.name!=="list_item";)o--,s=i.node(o);if(!s||s.attrs.checked!=null)return null;const l=((c=e.groups)==null?void 0:c.checked)==="x",a=i.before(o),u=t.tr;return u.deleteRange(n,r).setNodeMarkup(a,void 0,{...s.attrs,checked:l}),u}));wt(yee,{displayName:"InputRule<wrapInTaskListInputRule>",group:"ListItem"});const hPe=[GO,lP].flat(),fPe=[gee,yee],dPe=[aee],vee=Cr(()=>TEe);wt(vee,{displayName:"Prose<autoInsertSpanPlugin>",group:"Prose"});const pPe=Cr(()=>sEe({}));wt(pPe,{displayName:"Prose<columnResizingPlugin>",group:"Prose"});const wee=Cr(()=>gEe({allowTableNodeSelection:!0}));wt(wee,{displayName:"Prose<tableEditingPlugin>",group:"Prose"});const hP=sa("remarkGFM",()=>nPe);wt(hP.plugin,{displayName:"Remark<remarkGFMPlugin>",group:"Remark"});wt(hP.options,{displayName:"RemarkConfig<remarkGFMPlugin>",group:"Remark"});const mPe=new Xn("MILKDOWN_KEEP_TABLE_ALIGN_PLUGIN");function gPe(t,e){let n=0;return e.forEach((r,i,o)=>{r===t&&(n=o)}),n}const xee=Cr(()=>new $n({key:mPe,appendTransaction:(t,e,n)=>{let r;const i=(o,s)=>{if(r||(r=n.tr),o.type.name!=="table_cell")return;const l=n.doc.resolve(s),a=l.node(l.depth),c=l.node(l.depth-1).firstChild;if(!c)return;const h=gPe(o,a),f=c.maybeChild(h);if(!f)return;const d=f.attrs.alignment,p=o.attrs.alignment;d!==p&&r.setNodeMarkup(s,void 0,{...o.attrs,alignment:d})};return e.doc!==n.doc&&n.doc.descendants(i),r}}));wt(xee,{displayName:"Prose<keepTableAlignPlugin>",group:"Prose"});const yPe=[xee,vee,hP,wee].flat(),vPe=[cP,ad,X3,l2,J3,a2,aP,uP,KO,um].flat(),wPe=[JO,XO,ZO,pee,QO,eP,Yh,Xh,mee,tP,iP,oP,nP,rP,sP,Y3],xPe=[vPe,fPe,dPe,hPe,wPe,yPe].flat(),bPe=t=>{let{state:e}=t,n=e.doc.lineAt(e.selection.main.from),r=dP(t.state,n.from);return r.line?kPe(t):r.block?CPe(t):!1};function fP(t,e){return({state:n,dispatch:r})=>{if(n.readOnly)return!1;let i=t(e,n);return i?(r(n.update(i)),!0):!1}}const kPe=fP(APe,0),SPe=fP(bee,0),CPe=fP((t,e)=>bee(t,e,MPe(e)),0);function dP(t,e){let n=t.languageDataAt("commentTokens",e,1);return n.length?n[0]:{}}const Km=50;function TPe(t,{open:e,close:n},r,i){let o=t.sliceDoc(r-Km,r),s=t.sliceDoc(i,i+Km),l=/\s*$/.exec(o)[0].length,a=/^\s*/.exec(s)[0].length,u=o.length-l;if(o.slice(u-e.length,u)==e&&s.slice(a,a+n.length)==n)return{open:{pos:r-l,margin:l&&1},close:{pos:i+a,margin:a&&1}};let c,h;i-r<=2*Km?c=h=t.sliceDoc(r,i):(c=t.sliceDoc(r,r+Km),h=t.sliceDoc(i-Km,i));let f=/^\s*/.exec(c)[0].length,d=/\s*$/.exec(h)[0].length,p=h.length-d-n.length;return c.slice(f,f+e.length)==e&&h.slice(p,p+n.length)==n?{open:{pos:r+f+e.length,margin:/\s/.test(c.charAt(f+e.length))?1:0},close:{pos:i-d-n.length,margin:/\s/.test(h.charAt(p-1))?1:0}}:null}function MPe(t){let e=[];for(let n of t.selection.ranges){let r=t.doc.lineAt(n.from),i=n.to<=r.to?r:t.doc.lineAt(n.to);i.from>r.from&&i.from==n.to&&(i=n.to==r.to+1?r:t.doc.lineAt(n.to-1));let o=e.length-1;o>=0&&e[o].to>r.from?e[o].to=i.to:e.push({from:r.from+/^\s*/.exec(r.text)[0].length,to:i.to})}return e}function bee(t,e,n=e.selection.ranges){let r=n.map(o=>dP(e,o.from).block);if(!r.every(o=>o))return null;let i=n.map((o,s)=>TPe(e,r[s],o.from,o.to));if(t!=2&&!i.every(o=>o))return{changes:e.changes(n.map((o,s)=>i[s]?[]:[{from:o.from,insert:r[s].open+" "},{from:o.to,insert:" "+r[s].close}]))};if(t!=1&&i.some(o=>o)){let o=[];for(let s=0,l;s<i.length;s++)if(l=i[s]){let a=r[s],{open:u,close:c}=l;o.push({from:u.pos-a.open.length,to:u.pos+u.margin},{from:c.pos-c.margin,to:c.pos+a.close.length})}return{changes:o}}return null}function APe(t,e,n=e.selection.ranges){let r=[],i=-1;for(let{from:o,to:s}of n){let l=r.length,a=1e9,u=dP(e,o).line;if(u){for(let c=o;c<=s;){let h=e.doc.lineAt(c);if(h.from>i&&(o==s||s>h.from)){i=h.from;let f=/^\s*/.exec(h.text)[0].length,d=f==h.length,p=h.text.slice(f,f+u.length)==u?f:-1;f<h.text.length&&f<a&&(a=f),r.push({line:h,comment:p,token:u,indent:f,empty:d,single:!1})}c=h.to+1}if(a<1e9)for(let c=l;c<r.length;c++)r[c].indent<r[c].line.text.length&&(r[c].indent=a);r.length==l+1&&(r[l].single=!0)}}if(t!=2&&r.some(o=>o.comment<0&&(!o.empty||o.single))){let o=[];for(let{line:l,token:a,indent:u,empty:c,single:h}of r)(h||!c)&&o.push({from:l.from+u,insert:a+" "});let s=e.changes(o);return{changes:s,selection:e.selection.map(s,1)}}else if(t!=1&&r.some(o=>o.comment>=0)){let o=[];for(let{line:s,comment:l,token:a}of r)if(l>=0){let u=s.from+l,c=u+a.length;s.text[c-s.from]==" "&&c++,o.push({from:u,to:c})}return{changes:o}}return null}const YC=ku.define(),EPe=ku.define(),OPe=Ue.define(),kee=Ue.define({combine(t){return oa(t,{minDepth:100,newGroupDelay:500,joinToEvent:(e,n)=>n},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(e,n)=>(r,i)=>e(r,i)||n(r,i)})}}),See=Rr.define({create(){return N1.empty},update(t,e){let n=e.state.facet(kee),r=e.annotation(YC);if(r){let a=ro.fromTransaction(e,r.selection),u=r.side,c=u==0?t.undone:t.done;return a?c=Jx(c,c.length,n.minDepth,a):c=Mee(c,e.startState.selection),new N1(u==0?r.rest:c,u==0?c:r.rest)}let i=e.annotation(EPe);if((i=="full"||i=="before")&&(t=t.isolate()),e.annotation(Ii.addToHistory)===!1)return e.changes.empty?t:t.addMapping(e.changes.desc);let o=ro.fromTransaction(e),s=e.annotation(Ii.time),l=e.annotation(Ii.userEvent);return o?t=t.addChanges(o,s,l,n,e):e.selection&&(t=t.addSelection(e.startState.selection,s,l,n.newGroupDelay)),(i=="full"||i=="after")&&(t=t.isolate()),t},toJSON(t){return{done:t.done.map(e=>e.toJSON()),undone:t.undone.map(e=>e.toJSON())}},fromJSON(t){return new N1(t.done.map(ro.fromJSON),t.undone.map(ro.fromJSON))}});function PPe(t={}){return[See,kee.of(t),Ge.domEventHandlers({beforeinput(e,n){let r=e.inputType=="historyUndo"?Cee:e.inputType=="historyRedo"?XC:null;return r?(e.preventDefault(),r(n)):!1}})]}function Z3(t,e){return function({state:n,dispatch:r}){if(!e&&n.readOnly)return!1;let i=n.field(See,!1);if(!i)return!1;let o=i.pop(t,n,e);return o?(r(o),!0):!1}}const Cee=Z3(0,!1),XC=Z3(1,!1),DPe=Z3(0,!0),_Pe=Z3(1,!0);class ro{constructor(e,n,r,i,o){this.changes=e,this.effects=n,this.mapped=r,this.startSelection=i,this.selectionsAfter=o}setSelAfter(e){return new ro(this.changes,this.effects,this.mapped,this.startSelection,e)}toJSON(){var e,n,r;return{changes:(e=this.changes)===null||e===void 0?void 0:e.toJSON(),mapped:(n=this.mapped)===null||n===void 0?void 0:n.toJSON(),startSelection:(r=this.startSelection)===null||r===void 0?void 0:r.toJSON(),selectionsAfter:this.selectionsAfter.map(i=>i.toJSON())}}static fromJSON(e){return new ro(e.changes&&br.fromJSON(e.changes),[],e.mapped&&Kl.fromJSON(e.mapped),e.startSelection&&fe.fromJSON(e.startSelection),e.selectionsAfter.map(fe.fromJSON))}static fromTransaction(e,n){let r=fs;for(let i of e.startState.facet(OPe)){let o=i(e);o.length&&(r=r.concat(o))}return!r.length&&e.changes.empty?null:new ro(e.changes.invert(e.startState.doc),r,void 0,n||e.startState.selection,fs)}static selection(e){return new ro(void 0,fs,void 0,void 0,e)}}function Jx(t,e,n,r){let i=e+1>n+20?e-n-1:0,o=t.slice(i,e);return o.push(r),o}function IPe(t,e){let n=[],r=!1;return t.iterChangedRanges((i,o)=>n.push(i,o)),e.iterChangedRanges((i,o,s,l)=>{for(let a=0;a<n.length;){let u=n[a++],c=n[a++];l>=u&&s<=c&&(r=!0)}}),r}function RPe(t,e){return t.ranges.length==e.ranges.length&&t.ranges.filter((n,r)=>n.empty!=e.ranges[r].empty).length===0}function Tee(t,e){return t.length?e.length?t.concat(e):t:e}const fs=[],NPe=200;function Mee(t,e){if(t.length){let n=t[t.length-1],r=n.selectionsAfter.slice(Math.max(0,n.selectionsAfter.length-NPe));return r.length&&r[r.length-1].eq(e)?t:(r.push(e),Jx(t,t.length-1,1e9,n.setSelAfter(r)))}else return[ro.selection([e])]}function LPe(t){let e=t[t.length-1],n=t.slice();return n[t.length-1]=e.setSelAfter(e.selectionsAfter.slice(0,e.selectionsAfter.length-1)),n}function Yk(t,e){if(!t.length)return t;let n=t.length,r=fs;for(;n;){let i=BPe(t[n-1],e,r);if(i.changes&&!i.changes.empty||i.effects.length){let o=t.slice(0,n);return o[n-1]=i,o}else e=i.mapped,n--,r=i.selectionsAfter}return r.length?[ro.selection(r)]:fs}function BPe(t,e,n){let r=Tee(t.selectionsAfter.length?t.selectionsAfter.map(l=>l.map(e)):fs,n);if(!t.changes)return ro.selection(r);let i=t.changes.map(e),o=e.mapDesc(t.changes,!0),s=t.mapped?t.mapped.composeDesc(o):o;return new ro(i,Tt.mapEffects(t.effects,e),s,t.startSelection.map(o),r)}const zPe=/^(input\.type|delete)($|\.)/;let N1=class Tg{constructor(e,n,r=0,i=void 0){this.done=e,this.undone=n,this.prevTime=r,this.prevUserEvent=i}isolate(){return this.prevTime?new Tg(this.done,this.undone):this}addChanges(e,n,r,i,o){let s=this.done,l=s[s.length-1];return l&&l.changes&&!l.changes.empty&&e.changes&&(!r||zPe.test(r))&&(!l.selectionsAfter.length&&n-this.prevTime<i.newGroupDelay&&i.joinToEvent(o,IPe(l.changes,e.changes))||r=="input.type.compose")?s=Jx(s,s.length-1,i.minDepth,new ro(e.changes.compose(l.changes),Tee(Tt.mapEffects(e.effects,l.changes),l.effects),l.mapped,l.startSelection,fs)):s=Jx(s,s.length,i.minDepth,e),new Tg(s,fs,n,r)}addSelection(e,n,r,i){let o=this.done.length?this.done[this.done.length-1].selectionsAfter:fs;return o.length>0&&n-this.prevTime<i&&r==this.prevUserEvent&&r&&/^select($|\.)/.test(r)&&RPe(o[o.length-1],e)?this:new Tg(Mee(this.done,e),this.undone,n,r)}addMapping(e){return new Tg(Yk(this.done,e),Yk(this.undone,e),this.prevTime,this.prevUserEvent)}pop(e,n,r){let i=e==0?this.done:this.undone;if(i.length==0)return null;let o=i[i.length-1],s=o.selectionsAfter[0]||n.selection;if(r&&o.selectionsAfter.length)return n.update({selection:o.selectionsAfter[o.selectionsAfter.length-1],annotations:YC.of({side:e,rest:LPe(i),selection:s}),userEvent:e==0?"select.undo":"select.redo",scrollIntoView:!0});if(o.changes){let l=i.length==1?fs:i.slice(0,i.length-1);return o.mapped&&(l=Yk(l,o.mapped)),n.update({changes:o.changes,selection:o.startSelection,effects:o.effects,annotations:YC.of({side:e,rest:l,selection:s}),filter:!1,userEvent:e==0?"undo":"redo",scrollIntoView:!0})}else return null}};N1.empty=new N1(fs,fs);const FPe=[{key:"Mod-z",run:Cee,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:XC,preventDefault:!0},{linux:"Ctrl-Shift-z",run:XC,preventDefault:!0},{key:"Mod-u",run:DPe,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:_Pe,preventDefault:!0}];function hm(t,e){return fe.create(t.ranges.map(e),t.mainIndex)}function ua(t,e){return t.update({selection:e,scrollIntoView:!0,userEvent:"select"})}function pl({state:t,dispatch:e},n){let r=hm(t.selection,n);return r.eq(t.selection,!0)?!1:(e(ua(t,r)),!0)}function Q3(t,e){return fe.cursor(e?t.to:t.from)}function Aee(t,e){return pl(t,n=>n.empty?t.moveByChar(n,e):Q3(n,e))}function bi(t){return t.textDirectionAt(t.state.selection.main.head)==In.LTR}const Eee=t=>Aee(t,!bi(t)),Oee=t=>Aee(t,bi(t));function Pee(t,e){return pl(t,n=>n.empty?t.moveByGroup(n,e):Q3(n,e))}const $Pe=t=>Pee(t,!bi(t)),VPe=t=>Pee(t,bi(t));function HPe(t,e,n){if(e.type.prop(n))return!0;let r=e.to-e.from;return r&&(r>2||/[^\s,.;:]/.test(t.sliceDoc(e.from,e.to)))||e.firstChild}function e6(t,e,n){let r=Gr(t).resolveInner(e.head),i=n?zt.closedBy:zt.openedBy;for(let a=e.head;;){let u=n?r.childAfter(a):r.childBefore(a);if(!u)break;HPe(t,u,i)?r=u:a=n?u.to:u.from}let o=r.type.prop(i),s,l;return o&&(s=n?zl(t,r.from,1):zl(t,r.to,-1))&&s.matched?l=n?s.end.to:s.end.from:l=n?r.to:r.from,fe.cursor(l,n?-1:1)}const jPe=t=>pl(t,e=>e6(t.state,e,!bi(t))),WPe=t=>pl(t,e=>e6(t.state,e,bi(t)));function Dee(t,e){return pl(t,n=>{if(!n.empty)return Q3(n,e);let r=t.moveVertically(n,e);return r.head!=n.head?r:t.moveToLineBoundary(n,e)})}const _ee=t=>Dee(t,!1),Iee=t=>Dee(t,!0);function Ree(t){let e=t.scrollDOM.clientHeight<t.scrollDOM.scrollHeight-2,n=0,r=0,i;if(e){for(let o of t.state.facet(Ge.scrollMargins)){let s=o(t);s!=null&&s.top&&(n=Math.max(s==null?void 0:s.top,n)),s!=null&&s.bottom&&(r=Math.max(s==null?void 0:s.bottom,r))}i=t.scrollDOM.clientHeight-n-r}else i=(t.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:n,marginBottom:r,selfScroll:e,height:Math.max(t.defaultLineHeight,i-5)}}function Nee(t,e){let n=Ree(t),{state:r}=t,i=hm(r.selection,s=>s.empty?t.moveVertically(s,e,n.height):Q3(s,e));if(i.eq(r.selection))return!1;let o;if(n.selfScroll){let s=t.coordsAtPos(r.selection.main.head),l=t.scrollDOM.getBoundingClientRect(),a=l.top+n.marginTop,u=l.bottom-n.marginBottom;s&&s.top>a&&s.bottom<u&&(o=Ge.scrollIntoView(i.main.head,{y:"start",yMargin:s.top-a}))}return t.dispatch(ua(r,i),{effects:o}),!0}const OF=t=>Nee(t,!1),JC=t=>Nee(t,!0);function uh(t,e,n){let r=t.lineBlockAt(e.head),i=t.moveToLineBoundary(e,n);if(i.head==e.head&&i.head!=(n?r.to:r.from)&&(i=t.moveToLineBoundary(e,n,!1)),!n&&i.head==r.from&&r.length){let o=/^\s*/.exec(t.state.sliceDoc(r.from,Math.min(r.from+100,r.to)))[0].length;o&&e.head!=r.from+o&&(i=fe.cursor(r.from+o))}return i}const UPe=t=>pl(t,e=>uh(t,e,!0)),qPe=t=>pl(t,e=>uh(t,e,!1)),KPe=t=>pl(t,e=>uh(t,e,!bi(t))),GPe=t=>pl(t,e=>uh(t,e,bi(t))),YPe=t=>pl(t,e=>fe.cursor(t.lineBlockAt(e.head).from,1)),XPe=t=>pl(t,e=>fe.cursor(t.lineBlockAt(e.head).to,-1));function JPe(t,e,n){let r=!1,i=hm(t.selection,o=>{let s=zl(t,o.head,-1)||zl(t,o.head,1)||o.head>0&&zl(t,o.head-1,1)||o.head<t.doc.length&&zl(t,o.head+1,-1);if(!s||!s.end)return o;r=!0;let l=s.start.from==o.head?s.end.to:s.end.from;return fe.cursor(l)});return r?(e(ua(t,i)),!0):!1}const ZPe=({state:t,dispatch:e})=>JPe(t,e);function _s(t,e){let n=hm(t.state.selection,r=>{let i=e(r);return fe.range(r.anchor,i.head,i.goalColumn,i.bidiLevel||void 0)});return n.eq(t.state.selection)?!1:(t.dispatch(ua(t.state,n)),!0)}function Lee(t,e){return _s(t,n=>t.moveByChar(n,e))}const Bee=t=>Lee(t,!bi(t)),zee=t=>Lee(t,bi(t));function Fee(t,e){return _s(t,n=>t.moveByGroup(n,e))}const QPe=t=>Fee(t,!bi(t)),eDe=t=>Fee(t,bi(t)),tDe=t=>_s(t,e=>e6(t.state,e,!bi(t))),nDe=t=>_s(t,e=>e6(t.state,e,bi(t)));function $ee(t,e){return _s(t,n=>t.moveVertically(n,e))}const Vee=t=>$ee(t,!1),Hee=t=>$ee(t,!0);function jee(t,e){return _s(t,n=>t.moveVertically(n,e,Ree(t).height))}const PF=t=>jee(t,!1),DF=t=>jee(t,!0),rDe=t=>_s(t,e=>uh(t,e,!0)),iDe=t=>_s(t,e=>uh(t,e,!1)),oDe=t=>_s(t,e=>uh(t,e,!bi(t))),sDe=t=>_s(t,e=>uh(t,e,bi(t))),lDe=t=>_s(t,e=>fe.cursor(t.lineBlockAt(e.head).from)),aDe=t=>_s(t,e=>fe.cursor(t.lineBlockAt(e.head).to)),_F=({state:t,dispatch:e})=>(e(ua(t,{anchor:0})),!0),IF=({state:t,dispatch:e})=>(e(ua(t,{anchor:t.doc.length})),!0),RF=({state:t,dispatch:e})=>(e(ua(t,{anchor:t.selection.main.anchor,head:0})),!0),NF=({state:t,dispatch:e})=>(e(ua(t,{anchor:t.selection.main.anchor,head:t.doc.length})),!0),uDe=({state:t,dispatch:e})=>(e(t.update({selection:{anchor:0,head:t.doc.length},userEvent:"select"})),!0),cDe=({state:t,dispatch:e})=>{let n=t6(t).map(({from:r,to:i})=>fe.range(r,Math.min(i+1,t.doc.length)));return e(t.update({selection:fe.create(n),userEvent:"select"})),!0},hDe=({state:t,dispatch:e})=>{let n=hm(t.selection,r=>{let i=Gr(t),o=i.resolveStack(r.from,1);if(r.empty){let s=i.resolveStack(r.from,-1);s.node.from>=o.node.from&&s.node.to<=o.node.to&&(o=s)}for(let s=o;s;s=s.next){let{node:l}=s;if((l.from<r.from&&l.to>=r.to||l.to>r.to&&l.from<=r.from)&&s.next)return fe.range(l.to,l.from)}return r});return n.eq(t.selection)?!1:(e(ua(t,n)),!0)},fDe=({state:t,dispatch:e})=>{let n=t.selection,r=null;return n.ranges.length>1?r=fe.create([n.main]):n.main.empty||(r=fe.create([fe.cursor(n.main.head)])),r?(e(ua(t,r)),!0):!1};function u2(t,e){if(t.state.readOnly)return!1;let n="delete.selection",{state:r}=t,i=r.changeByRange(o=>{let{from:s,to:l}=o;if(s==l){let a=e(o);a<s?(n="delete.backward",a=T4(t,a,!1)):a>s&&(n="delete.forward",a=T4(t,a,!0)),s=Math.min(s,a),l=Math.max(l,a)}else s=T4(t,s,!1),l=T4(t,l,!0);return s==l?{range:o}:{changes:{from:s,to:l},range:fe.cursor(s,s<o.head?-1:1)}});return i.changes.empty?!1:(t.dispatch(r.update(i,{scrollIntoView:!0,userEvent:n,effects:n=="delete.selection"?Ge.announce.of(r.phrase("Selection deleted")):void 0})),!0)}function T4(t,e,n){if(t instanceof Ge)for(let r of t.state.facet(Ge.atomicRanges).map(i=>i(t)))r.between(e,e,(i,o)=>{i<e&&o>e&&(e=n?o:i)});return e}const Wee=(t,e,n)=>u2(t,r=>{let i=r.from,{state:o}=t,s=o.doc.lineAt(i),l,a;if(n&&!e&&i>s.from&&i<s.from+200&&!/[^ \t]/.test(l=s.text.slice(0,i-s.from))){if(l[l.length-1]=="	")return i-1;let u=Qp(l,o.tabSize),c=u%$f(o)||$f(o);for(let h=0;h<c&&l[l.length-1-h]==" ";h++)i--;a=i}else a=Ur(s.text,i-s.from,e,e)+s.from,a==i&&s.number!=(e?o.doc.lines:1)?a+=e?1:-1:!e&&/[\ufe00-\ufe0f]/.test(s.text.slice(a-s.from,i-s.from))&&(a=Ur(s.text,a-s.from,!1,!1)+s.from);return a}),ZC=t=>Wee(t,!1,!0),Uee=t=>Wee(t,!0,!1),qee=(t,e)=>u2(t,n=>{let r=n.head,{state:i}=t,o=i.doc.lineAt(r),s=i.charCategorizer(r);for(let l=null;;){if(r==(e?o.to:o.from)){r==n.head&&o.number!=(e?i.doc.lines:1)&&(r+=e?1:-1);break}let a=Ur(o.text,r-o.from,e)+o.from,u=o.text.slice(Math.min(r,a)-o.from,Math.max(r,a)-o.from),c=s(u);if(l!=null&&c!=l)break;(u!=" "||r!=n.head)&&(l=c),r=a}return r}),Kee=t=>qee(t,!1),dDe=t=>qee(t,!0),pDe=t=>u2(t,e=>{let n=t.lineBlockAt(e.head).to;return e.head<n?n:Math.min(t.state.doc.length,e.head+1)}),mDe=t=>u2(t,e=>{let n=t.moveToLineBoundary(e,!1).head;return e.head>n?n:Math.max(0,e.head-1)}),gDe=t=>u2(t,e=>{let n=t.moveToLineBoundary(e,!0).head;return e.head<n?n:Math.min(t.state.doc.length,e.head+1)}),yDe=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=t.changeByRange(r=>({changes:{from:r.from,to:r.to,insert:Yt.of(["",""])},range:fe.cursor(r.from)}));return e(t.update(n,{scrollIntoView:!0,userEvent:"input"})),!0},vDe=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=t.changeByRange(r=>{if(!r.empty||r.from==0||r.from==t.doc.length)return{range:r};let i=r.from,o=t.doc.lineAt(i),s=i==o.from?i-1:Ur(o.text,i-o.from,!1)+o.from,l=i==o.to?i+1:Ur(o.text,i-o.from,!0)+o.from;return{changes:{from:s,to:l,insert:t.doc.slice(i,l).append(t.doc.slice(s,i))},range:fe.cursor(l)}});return n.changes.empty?!1:(e(t.update(n,{scrollIntoView:!0,userEvent:"move.character"})),!0)};function t6(t){let e=[],n=-1;for(let r of t.selection.ranges){let i=t.doc.lineAt(r.from),o=t.doc.lineAt(r.to);if(!r.empty&&r.to==o.from&&(o=t.doc.lineAt(r.to-1)),n>=i.number){let s=e[e.length-1];s.to=o.to,s.ranges.push(r)}else e.push({from:i.from,to:o.to,ranges:[r]});n=o.number+1}return e}function Gee(t,e,n){if(t.readOnly)return!1;let r=[],i=[];for(let o of t6(t)){if(n?o.to==t.doc.length:o.from==0)continue;let s=t.doc.lineAt(n?o.to+1:o.from-1),l=s.length+1;if(n){r.push({from:o.to,to:s.to},{from:o.from,insert:s.text+t.lineBreak});for(let a of o.ranges)i.push(fe.range(Math.min(t.doc.length,a.anchor+l),Math.min(t.doc.length,a.head+l)))}else{r.push({from:s.from,to:o.from},{from:o.to,insert:t.lineBreak+s.text});for(let a of o.ranges)i.push(fe.range(a.anchor-l,a.head-l))}}return r.length?(e(t.update({changes:r,scrollIntoView:!0,selection:fe.create(i,t.selection.mainIndex),userEvent:"move.line"})),!0):!1}const wDe=({state:t,dispatch:e})=>Gee(t,e,!1),xDe=({state:t,dispatch:e})=>Gee(t,e,!0);function Yee(t,e,n){if(t.readOnly)return!1;let r=[];for(let i of t6(t))n?r.push({from:i.from,insert:t.doc.slice(i.from,i.to)+t.lineBreak}):r.push({from:i.to,insert:t.lineBreak+t.doc.slice(i.from,i.to)});return e(t.update({changes:r,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const bDe=({state:t,dispatch:e})=>Yee(t,e,!1),kDe=({state:t,dispatch:e})=>Yee(t,e,!0),SDe=t=>{if(t.state.readOnly)return!1;let{state:e}=t,n=e.changes(t6(e).map(({from:i,to:o})=>(i>0?i--:o<e.doc.length&&o++,{from:i,to:o}))),r=hm(e.selection,i=>{let o;if(t.lineWrapping){let s=t.lineBlockAt(i.head),l=t.coordsAtPos(i.head,i.assoc||1);l&&(o=s.bottom+t.documentTop-l.bottom+t.defaultLineHeight/2)}return t.moveVertically(i,!0,o)}).map(n);return t.dispatch({changes:n,selection:r,scrollIntoView:!0,userEvent:"delete.line"}),!0};function CDe(t,e){if(/\(\)|\[\]|\{\}/.test(t.sliceDoc(e-1,e+1)))return{from:e,to:e};let n=Gr(t).resolveInner(e),r=n.childBefore(e),i=n.childAfter(e),o;return r&&i&&r.to<=e&&i.from>=e&&(o=r.type.prop(zt.closedBy))&&o.indexOf(i.name)>-1&&t.doc.lineAt(r.to).from==t.doc.lineAt(i.from).from&&!/\S/.test(t.sliceDoc(r.to,i.from))?{from:r.to,to:i.from}:null}const LF=Xee(!1),TDe=Xee(!0);function Xee(t){return({state:e,dispatch:n})=>{if(e.readOnly)return!1;let r=e.changeByRange(i=>{let{from:o,to:s}=i,l=e.doc.lineAt(o),a=!t&&o==s&&CDe(e,o);t&&(o=s=(s<=l.to?l:e.doc.lineAt(s)).to);let u=new a3(e,{simulateBreak:o,simulateDoubleBreak:!!a}),c=KA(u,o);for(c==null&&(c=Qp(/^\s*/.exec(e.doc.lineAt(o).text)[0],e.tabSize));s<l.to&&/\s/.test(l.text[s-l.from]);)s++;a?{from:o,to:s}=a:o>l.from&&o<l.from+100&&!/\S/.test(l.text.slice(0,o))&&(o=l.from);let h=["",Sy(e,c)];return a&&h.push(Sy(e,u.lineIndent(l.from,-1))),{changes:{from:o,to:s,insert:Yt.of(h)},range:fe.cursor(o+1+h[1].length)}});return n(e.update(r,{scrollIntoView:!0,userEvent:"input"})),!0}}function pP(t,e){let n=-1;return t.changeByRange(r=>{let i=[];for(let s=r.from;s<=r.to;){let l=t.doc.lineAt(s);l.number>n&&(r.empty||r.to>l.from)&&(e(l,i,r),n=l.number),s=l.to+1}let o=t.changes(i);return{changes:i,range:fe.range(o.mapPos(r.anchor,1),o.mapPos(r.head,1))}})}const MDe=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=Object.create(null),r=new a3(t,{overrideIndentation:o=>{let s=n[o];return s??-1}}),i=pP(t,(o,s,l)=>{let a=KA(r,o.from);if(a==null)return;/\S/.test(o.text)||(a=0);let u=/^\s*/.exec(o.text)[0],c=Sy(t,a);(u!=c||l.from<o.from+u.length)&&(n[o.from]=a,s.push({from:o.from,to:o.from+u.length,insert:c}))});return i.changes.empty||e(t.update(i,{userEvent:"indent"})),!0},Jee=({state:t,dispatch:e})=>t.readOnly?!1:(e(t.update(pP(t,(n,r)=>{r.push({from:n.from,insert:t.facet(l3)})}),{userEvent:"input.indent"})),!0),Zee=({state:t,dispatch:e})=>t.readOnly?!1:(e(t.update(pP(t,(n,r)=>{let i=/^\s*/.exec(n.text)[0];if(!i)return;let o=Qp(i,t.tabSize),s=0,l=Sy(t,Math.max(0,o-$f(t)));for(;s<i.length&&s<l.length&&i.charCodeAt(s)==l.charCodeAt(s);)s++;r.push({from:n.from+s,to:n.from+i.length,insert:l.slice(s)})}),{userEvent:"delete.dedent"})),!0),ADe=t=>(t.setTabFocusMode(),!0),EDe=[{key:"Ctrl-b",run:Eee,shift:Bee,preventDefault:!0},{key:"Ctrl-f",run:Oee,shift:zee},{key:"Ctrl-p",run:_ee,shift:Vee},{key:"Ctrl-n",run:Iee,shift:Hee},{key:"Ctrl-a",run:YPe,shift:lDe},{key:"Ctrl-e",run:XPe,shift:aDe},{key:"Ctrl-d",run:Uee},{key:"Ctrl-h",run:ZC},{key:"Ctrl-k",run:pDe},{key:"Ctrl-Alt-h",run:Kee},{key:"Ctrl-o",run:yDe},{key:"Ctrl-t",run:vDe},{key:"Ctrl-v",run:JC}],ODe=[{key:"ArrowLeft",run:Eee,shift:Bee,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:$Pe,shift:QPe,preventDefault:!0},{mac:"Cmd-ArrowLeft",run:KPe,shift:oDe,preventDefault:!0},{key:"ArrowRight",run:Oee,shift:zee,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:VPe,shift:eDe,preventDefault:!0},{mac:"Cmd-ArrowRight",run:GPe,shift:sDe,preventDefault:!0},{key:"ArrowUp",run:_ee,shift:Vee,preventDefault:!0},{mac:"Cmd-ArrowUp",run:_F,shift:RF},{mac:"Ctrl-ArrowUp",run:OF,shift:PF},{key:"ArrowDown",run:Iee,shift:Hee,preventDefault:!0},{mac:"Cmd-ArrowDown",run:IF,shift:NF},{mac:"Ctrl-ArrowDown",run:JC,shift:DF},{key:"PageUp",run:OF,shift:PF},{key:"PageDown",run:JC,shift:DF},{key:"Home",run:qPe,shift:iDe,preventDefault:!0},{key:"Mod-Home",run:_F,shift:RF},{key:"End",run:UPe,shift:rDe,preventDefault:!0},{key:"Mod-End",run:IF,shift:NF},{key:"Enter",run:LF,shift:LF},{key:"Mod-a",run:uDe},{key:"Backspace",run:ZC,shift:ZC},{key:"Delete",run:Uee},{key:"Mod-Backspace",mac:"Alt-Backspace",run:Kee},{key:"Mod-Delete",mac:"Alt-Delete",run:dDe},{mac:"Mod-Backspace",run:mDe},{mac:"Mod-Delete",run:gDe}].concat(EDe.map(t=>({mac:t.key,run:t.run,shift:t.shift}))),Qee=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:jPe,shift:tDe},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:WPe,shift:nDe},{key:"Alt-ArrowUp",run:wDe},{key:"Shift-Alt-ArrowUp",run:bDe},{key:"Alt-ArrowDown",run:xDe},{key:"Shift-Alt-ArrowDown",run:kDe},{key:"Escape",run:fDe},{key:"Mod-Enter",run:TDe},{key:"Alt-l",mac:"Ctrl-l",run:cDe},{key:"Mod-i",run:hDe,preventDefault:!0},{key:"Mod-[",run:Zee},{key:"Mod-]",run:Jee},{key:"Mod-Alt-\\",run:MDe},{key:"Shift-Mod-k",run:SDe},{key:"Shift-Mod-\\",run:ZPe},{key:"Mod-/",run:bPe},{key:"Alt-A",run:SPe},{key:"Ctrl-m",mac:"Shift-Alt-m",run:ADe}].concat(ODe),PDe={key:"Tab",run:Jee,shift:Zee};var Zx=200,Dr=function(){};Dr.prototype.append=function(e){return e.length?(e=Dr.from(e),!this.length&&e||e.length<Zx&&this.leafAppend(e)||this.length<Zx&&e.leafPrepend(this)||this.appendInner(e)):this};Dr.prototype.prepend=function(e){return e.length?Dr.from(e).append(this):this};Dr.prototype.appendInner=function(e){return new DDe(this,e)};Dr.prototype.slice=function(e,n){return e===void 0&&(e=0),n===void 0&&(n=this.length),e>=n?Dr.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,n))};Dr.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};Dr.prototype.forEach=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length),n<=r?this.forEachInner(e,n,r,0):this.forEachInvertedInner(e,n,r,0)};Dr.prototype.map=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length);var i=[];return this.forEach(function(o,s){return i.push(e(o,s))},n,r),i};Dr.from=function(e){return e instanceof Dr?e:e&&e.length?new ete(e):Dr.empty};var ete=function(t){function e(r){t.call(this),this.values=r}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(i,o){return i==0&&o==this.length?this:new e(this.values.slice(i,o))},e.prototype.getInner=function(i){return this.values[i]},e.prototype.forEachInner=function(i,o,s,l){for(var a=o;a<s;a++)if(i(this.values[a],l+a)===!1)return!1},e.prototype.forEachInvertedInner=function(i,o,s,l){for(var a=o-1;a>=s;a--)if(i(this.values[a],l+a)===!1)return!1},e.prototype.leafAppend=function(i){if(this.length+i.length<=Zx)return new e(this.values.concat(i.flatten()))},e.prototype.leafPrepend=function(i){if(this.length+i.length<=Zx)return new e(i.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e}(Dr);Dr.empty=new ete([]);var DDe=function(t){function e(n,r){t.call(this),this.left=n,this.right=r,this.length=n.length+r.length,this.depth=Math.max(n.depth,r.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},e.prototype.forEachInner=function(r,i,o,s){var l=this.left.length;if(i<l&&this.left.forEachInner(r,i,Math.min(o,l),s)===!1||o>l&&this.right.forEachInner(r,Math.max(i-l,0),Math.min(this.length,o)-l,s+l)===!1)return!1},e.prototype.forEachInvertedInner=function(r,i,o,s){var l=this.left.length;if(i>l&&this.right.forEachInvertedInner(r,i-l,Math.max(o,l)-l,s+l)===!1||o<l&&this.left.forEachInvertedInner(r,Math.min(i,l),o,s)===!1)return!1},e.prototype.sliceInner=function(r,i){if(r==0&&i==this.length)return this;var o=this.left.length;return i<=o?this.left.slice(r,i):r>=o?this.right.slice(r-o,i-o):this.left.slice(r,o).append(this.right.slice(0,i-o))},e.prototype.leafAppend=function(r){var i=this.right.leafAppend(r);if(i)return new e(this.left,i)},e.prototype.leafPrepend=function(r){var i=this.left.leafPrepend(r);if(i)return new e(i,this.right)},e.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new e(this.left,new e(this.right,r)):new e(this,r)},e}(Dr);const _De=500;class Ks{constructor(e,n){this.items=e,this.eventCount=n}popEvent(e,n){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let i,o;n&&(i=this.remapping(r,this.items.length),o=i.maps.length);let s=e.tr,l,a,u=[],c=[];return this.items.forEach((h,f)=>{if(!h.step){i||(i=this.remapping(r,f+1),o=i.maps.length),o--,c.push(h);return}if(i){c.push(new Ol(h.map));let d=h.step.map(i.slice(o)),p;d&&s.maybeStep(d).doc&&(p=s.mapping.maps[s.mapping.maps.length-1],u.push(new Ol(p,void 0,void 0,u.length+c.length))),o--,p&&i.appendMap(p,o)}else s.maybeStep(h.step);if(h.selection)return l=i?h.selection.map(i.slice(o)):h.selection,a=new Ks(this.items.slice(0,r).append(c.reverse().concat(u)),this.eventCount-1),!1},this.items.length,0),{remaining:a,transform:s,selection:l}}addTransform(e,n,r,i){let o=[],s=this.eventCount,l=this.items,a=!i&&l.length?l.get(l.length-1):null;for(let c=0;c<e.steps.length;c++){let h=e.steps[c].invert(e.docs[c]),f=new Ol(e.mapping.maps[c],h,n),d;(d=a&&a.merge(f))&&(f=d,c?o.pop():l=l.slice(0,l.length-1)),o.push(f),n&&(s++,n=void 0),i||(a=f)}let u=s-r.depth;return u>RDe&&(l=IDe(l,u),s-=u),new Ks(l.append(o),s)}remapping(e,n){let r=new Ay;return this.items.forEach((i,o)=>{let s=i.mirrorOffset!=null&&o-i.mirrorOffset>=e?r.maps.length-i.mirrorOffset:void 0;r.appendMap(i.map,s)},e,n),r}addMaps(e){return this.eventCount==0?this:new Ks(this.items.append(e.map(n=>new Ol(n))),this.eventCount)}rebased(e,n){if(!this.eventCount)return this;let r=[],i=Math.max(0,this.items.length-n),o=e.mapping,s=e.steps.length,l=this.eventCount;this.items.forEach(f=>{f.selection&&l--},i);let a=n;this.items.forEach(f=>{let d=o.getMirror(--a);if(d==null)return;s=Math.min(s,d);let p=o.maps[d];if(f.step){let m=e.steps[d].invert(e.docs[d]),y=f.selection&&f.selection.map(o.slice(a+1,d));y&&l++,r.push(new Ol(p,m,y))}else r.push(new Ol(p))},i);let u=[];for(let f=n;f<s;f++)u.push(new Ol(o.maps[f]));let c=this.items.slice(0,i).append(u).append(r),h=new Ks(c,l);return h.emptyItemCount()>_De&&(h=h.compress(this.items.length-r.length)),h}emptyItemCount(){let e=0;return this.items.forEach(n=>{n.step||e++}),e}compress(e=this.items.length){let n=this.remapping(0,e),r=n.maps.length,i=[],o=0;return this.items.forEach((s,l)=>{if(l>=e)i.push(s),s.selection&&o++;else if(s.step){let a=s.step.map(n.slice(r)),u=a&&a.getMap();if(r--,u&&n.appendMap(u,r),a){let c=s.selection&&s.selection.map(n.slice(r));c&&o++;let h=new Ol(u.invert(),a,c),f,d=i.length-1;(f=i.length&&i[d].merge(h))?i[d]=f:i.push(h)}}else s.map&&r--},this.items.length,0),new Ks(Dr.from(i.reverse()),o)}}Ks.empty=new Ks(Dr.empty,0);function IDe(t,e){let n;return t.forEach((r,i)=>{if(r.selection&&e--==0)return n=i,!1}),t.slice(n)}class Ol{constructor(e,n,r,i){this.map=e,this.step=n,this.selection=r,this.mirrorOffset=i}merge(e){if(this.step&&e.step&&!e.selection){let n=e.step.merge(this.step);if(n)return new Ol(n.getMap().invert(),n,this.selection)}}}class Qu{constructor(e,n,r,i,o){this.done=e,this.undone=n,this.prevRanges=r,this.prevTime=i,this.prevComposition=o}}const RDe=20;function NDe(t,e,n,r){let i=n.getMeta(Af),o;if(i)return i.historyState;n.getMeta(zDe)&&(t=new Qu(t.done,t.undone,null,0,-1));let s=n.getMeta("appendedTransaction");if(n.steps.length==0)return t;if(s&&s.getMeta(Af))return s.getMeta(Af).redo?new Qu(t.done.addTransform(n,void 0,r,Xw(e)),t.undone,BF(n.mapping.maps),t.prevTime,t.prevComposition):new Qu(t.done,t.undone.addTransform(n,void 0,r,Xw(e)),null,t.prevTime,t.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(s&&s.getMeta("addToHistory")===!1)){let l=n.getMeta("composition"),a=t.prevTime==0||!s&&t.prevComposition!=l&&(t.prevTime<(n.time||0)-r.newGroupDelay||!LDe(n,t.prevRanges)),u=s?Xk(t.prevRanges,n.mapping):BF(n.mapping.maps);return new Qu(t.done.addTransform(n,a?e.selection.getBookmark():void 0,r,Xw(e)),Ks.empty,u,n.time,l??t.prevComposition)}else return(o=n.getMeta("rebased"))?new Qu(t.done.rebased(n,o),t.undone.rebased(n,o),Xk(t.prevRanges,n.mapping),t.prevTime,t.prevComposition):new Qu(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),Xk(t.prevRanges,n.mapping),t.prevTime,t.prevComposition)}function LDe(t,e){if(!e)return!1;if(!t.docChanged)return!0;let n=!1;return t.mapping.maps[0].forEach((r,i)=>{for(let o=0;o<e.length;o+=2)r<=e[o+1]&&i>=e[o]&&(n=!0)}),n}function BF(t){let e=[];for(let n=t.length-1;n>=0&&e.length==0;n--)t[n].forEach((r,i,o,s)=>e.push(o,s));return e}function Xk(t,e){if(!t)return null;let n=[];for(let r=0;r<t.length;r+=2){let i=e.map(t[r],1),o=e.map(t[r+1],-1);i<=o&&n.push(i,o)}return n}function BDe(t,e,n){let r=Xw(e),i=Af.get(e).spec.config,o=(n?t.undone:t.done).popEvent(e,r);if(!o)return null;let s=o.selection.resolve(o.transform.doc),l=(n?t.done:t.undone).addTransform(o.transform,e.selection.getBookmark(),i,r),a=new Qu(n?l:o.remaining,n?o.remaining:l,null,0,-1);return o.transform.setSelection(s).setMeta(Af,{redo:n,historyState:a})}let Jk=!1,zF=null;function Xw(t){let e=t.plugins;if(zF!=e){Jk=!1,zF=e;for(let n=0;n<e.length;n++)if(e[n].spec.historyPreserveItems){Jk=!0;break}}return Jk}const Af=new Xn("history"),zDe=new Xn("closeHistory");function FDe(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new $n({key:Af,state:{init(){return new Qu(Ks.empty,Ks.empty,null,0,-1)},apply(e,n,r){return NDe(n,r,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,n){let r=n.inputType,i=r=="historyUndo"?n6:r=="historyRedo"?Np:null;return i?(n.preventDefault(),i(e.state,e.dispatch)):!1}}}})}function tte(t,e){return(n,r)=>{let i=Af.getState(n);if(!i||(t?i.undone:i.done).eventCount==0)return!1;if(r){let o=BDe(i,n,t);o&&r(e?o.scrollIntoView():o)}return!0}}const n6=tte(!1,!0),Np=tte(!0,!0);var $De=Object.defineProperty,FF=Object.getOwnPropertySymbols,VDe=Object.prototype.hasOwnProperty,HDe=Object.prototype.propertyIsEnumerable,$F=(t,e,n)=>e in t?$De(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,jDe=(t,e)=>{for(var n in e||(e={}))VDe.call(e,n)&&$F(t,n,e[n]);if(FF)for(var n of FF(e))HDe.call(e,n)&&$F(t,n,e[n]);return t};function nte(t,e){return Object.assign(t,{meta:jDe({package:"@milkdown/components"},e)}),t}const WDe={extensions:[],languages:[],expandIcon:"",searchIcon:"",clearSearchIcon:"",searchPlaceholder:"Search language",noResultText:"No result",copyText:"Copy",copyIcon:"",onCopy:()=>{},renderLanguage:t=>t,renderPreview:()=>null,previewToggleButton:t=>t?"Edit":"Hide",previewLabel:"Preview"},c2=ln(WDe,"codeBlockConfigCtx");nte(c2,{displayName:"Config<code-block>",group:"CodeBlock"});class UDe{constructor(e){this.languages=e,this.map={},e.forEach(n=>{n.alias.forEach(r=>{this.map[r]=n})})}getAll(){return this.languages.map(e=>({name:e.name,alias:e.alias}))}load(e){const r=this.map[e.toLowerCase()];return r?r.support?Promise.resolve(r.support):r.load():Promise.resolve(void 0)}}function E0({icon:t,class:e,onClick:n}){return te("span",{class:gi("milkdown-icon",e),onPointerdown:n,ref:r=>{r&&t&&(r.innerHTML=dl.sanitize(t.trim()))}})}E0.props={icon:{type:String,required:!1},class:{type:String,required:!1},onClick:{type:Function,required:!1}};var qDe=(t,e,n)=>new Promise((r,i)=>{var o=a=>{try{l(n.next(a))}catch(u){i(u)}},s=a=>{try{l(n.throw(a))}catch(u){i(u)}},l=a=>a.done?r(a.value):Promise.resolve(a.value).then(o,s);l((n=n.apply(t,e)).next())});function KDe(t){return qDe(this,null,function*(){try{return navigator.clipboard.writeText(t)}catch{const n=document.createElement("textarea"),r=document.activeElement;n.value=t,n.setAttribute("readonly",""),n.style.contain="strict",n.style.position="absolute",n.style.left="-9999px",n.style.fontSize="12pt";const i=document.getSelection(),o=i?i.rangeCount>0&&i.getRangeAt(0):null;document.body.appendChild(n),n.select(),n.selectionStart=0,n.selectionEnd=t.length,document.execCommand("copy"),document.body.removeChild(n),o&&(i.removeAllRanges(),i.addRange(o)),r&&r.focus()}})}const GDe=Yr({props:{copyText:{type:String,required:!0},copyIcon:{type:String,required:!0},onCopy:{type:Function,required:!0},text:{type:String,required:!0}},setup(t){const e=()=>{KDe(t.text).then(()=>t.onCopy(t.text)).catch(console.error)};return()=>te(ii,null,te("button",{type:"button",class:"copy-button",onClick:e},te(E0,{icon:t.copyIcon}),t.copyText))}}),YDe=Yr({props:{language:{type:Object,required:!0},getReadOnly:{type:Function,required:!0},config:{type:Object,required:!0},getAllLanguages:{type:Function,required:!0},setLanguage:{type:Function,required:!0}},setup({language:t,config:e,setLanguage:n,getAllLanguages:r,getReadOnly:i}){const o=Ze(),s=Ze(!1),l=Ze(),a=Ze(),u=Ze("");A0([s,o,a],()=>{u.value="";const m=o.value,y=a.value;!m||!y||al(m,y,{placement:"bottom-start"}).then(({x:g,y:v})=>{Object.assign(y.style,{left:`${g}px`,top:`${v}px`})}).catch(console.error)});const c=m=>{if(m.preventDefault(),m.stopPropagation(),i())return;const y=!s.value;s.value=y,y&&setTimeout(()=>{var g;return(g=l.value)==null?void 0:g.focus()},0)},h=m=>{const y=m.target;u.value=y.value},f=m=>{m.key==="Escape"&&(u.value="")},d=Yf(()=>{var m;if(!s.value)return[];const y=(m=r())!=null?m:[],g=y.find(w=>w.name.toLowerCase()===t.value.toLowerCase()),v=y.filter(w=>{const b=u.value.toLowerCase();return(w.name.toLowerCase().includes(b)||w.alias.some(S=>S.toLowerCase().includes(b)))&&w!==g});return v.length===0?[]:g?[g,...v]:v}),p=m=>{const y=m.target;if(o.value&&o.value.contains(y))return;const g=a.value,v=o.value;!v||!g||v.dataset.expanded==="true"&&(g.contains(y)||(s.value=!1))};return t2(()=>{window.addEventListener("click",p)}),n2(()=>{window.removeEventListener("click",p)}),()=>te(ii,null,te("button",{type:"button",ref:o,class:"language-button",onClick:c,"data-expanded":String(s.value)},t.value||"Text",te("div",{class:"expand-icon"},te(E0,{icon:e.expandIcon}))),te("div",{ref:a,class:"language-picker"},s.value?te("div",{class:"list-wrapper"},te("div",{class:"search-box"},te("div",{class:"search-icon"},te(E0,{icon:e.searchIcon})),te("input",{ref:l,class:"search-input",placeholder:e.searchPlaceholder,value:u.value,onInput:h,onKeydown:f}),te("div",{class:gi("clear-icon",u.value.length===0&&"hidden"),onMousedown:m=>{m.preventDefault(),u.value=""}},te(E0,{icon:e.clearSearchIcon}))),te("ul",{class:"language-list",role:"listbox",onKeydown:m=>{if(m.key==="Enter"){const y=document.activeElement;y instanceof HTMLElement&&y.dataset.language&&n(y.dataset.language)}}},d.value.length?d.value.map(m=>te("li",{role:"listitem",tabindex:"0",class:"language-list-item","aria-selected":m.name.toLowerCase()===t.value.toLowerCase(),"data-language":m.name,onClick:()=>{n(m.name),s.value=!1}},e.renderLanguage(m.name,m.name.toLowerCase()===t.value.toLowerCase()))):te("li",{class:"language-list-item no-result"},e.noResultText))):null))}}),XDe=Yr({props:{text:{type:Object,required:!0},language:{type:Object,required:!0},config:{type:Object,required:!0},previewOnlyMode:{type:Object,required:!0},preview:{type:Object,required:!0}},setup(t){const{previewOnlyMode:e,config:n,preview:r}=t,i=Ze();return am(()=>{const o=i.value;if(!o)return;for(;o.firstChild;)o.removeChild(o.firstChild);const s=r.value;(typeof s=="string"||s instanceof Element)&&(o.innerHTML=dl.sanitize(s))}),()=>r.value?te("div",{class:"preview-panel"},!e.value&&te(ii,null,te("div",{class:"preview-divider"}),te("div",{class:gi("preview-label",e&&"hidden")},n.previewLabel)),te("div",{ref:i,class:"preview"})):null}}),JDe=Yr({props:{text:{type:Object,required:!0},selected:{type:Object,required:!0},getReadOnly:{type:Function,required:!0},codemirror:{type:Object,required:!0},language:{type:Object,required:!0},getAllLanguages:{type:Function,required:!0},setLanguage:{type:Function,required:!0},config:{type:Object,required:!0}},setup(t){const e=Ze(!1),n=Ze();t2(()=>{for(var o;(o=n.value)!=null&&o.firstChild;)n.value.removeChild(n.value.firstChild);n.value&&n.value.appendChild(t.codemirror.dom)});const r=Yf(()=>{const o=t.text.value,s=t.language.value;return t.config.renderPreview(s,o)}),i=()=>{};return()=>{var o;return te(ii,null,te("div",{class:"tools"},te(YDe,{language:t.language,config:t.config,setLanguage:t.setLanguage,getAllLanguages:t.getAllLanguages,getReadOnly:t.getReadOnly}),te("div",{class:"tools-button-group"},te(GDe,{copyIcon:t.config.copyIcon,copyText:t.config.copyText,onCopy:(o=t.config.onCopy)!=null?o:i,text:t.text.value}),r.value?te("button",{class:"preview-toggle-button",onClick:()=>e.value=!e.value},te(E0,{icon:t.config.previewToggleButton(e.value)})):null)),te("div",{ref:n,class:gi("codemirror-host",r.value&&e.value&&"hidden")}),te(XDe,{text:t.text,language:t.language,config:t.config,previewOnlyMode:e,preview:r}))}}});class ZDe{constructor(e,n,r,i,o){this.node=e,this.view=n,this.getPos=r,this.loader=i,this.config=o,this.selected=Ze(!1),this.language=Ze(""),this.text=Ze(""),this.updating=!1,this.languageName="",this.forwardUpdate=s=>{var l;if(this.updating||!this.cm.hasFocus)return;let a=((l=this.getPos())!=null?l:0)+1;const{main:u}=s.state.selection,c=a+u.from,h=a+u.to,f=this.view.state.selection;if(s.docChanged||f.from!==c||f.to!==h){const d=this.view.state.tr;s.changes.iterChanges((p,m,y,g,v)=>{v.length?d.replaceWith(a+p,a+m,this.view.state.schema.text(v.toString())):d.delete(a+p,a+m),a+=g-y-(m-p)}),d.setSelection(nt.create(d.doc,c,h)),this.view.dispatch(d)}},this.createApp=()=>fl(JDe,{text:this.text,selected:this.selected,codemirror:this.cm,language:this.language,getAllLanguages:this.getAllLanguages,getReadOnly:()=>!this.view.editable,setLanguage:this.setLanguage,config:this.config}),this.codeMirrorKeymap=()=>{const s=this.view;return[{key:"ArrowUp",run:()=>this.maybeEscape("line",-1)},{key:"ArrowLeft",run:()=>this.maybeEscape("char",-1)},{key:"ArrowDown",run:()=>this.maybeEscape("line",1)},{key:"ArrowRight",run:()=>this.maybeEscape("char",1)},{key:"Mod-Enter",run:()=>oJ(s.state,s.dispatch)?(s.focus(),!0):!1},{key:"Mod-z",run:()=>n6(s.state,s.dispatch)},{key:"Shift-Mod-z",run:()=>Np(s.state,s.dispatch)},{key:"Mod-y",run:()=>Np(s.state,s.dispatch)},{key:"Backspace",run:()=>{var l;const a=this.cm.state.selection.ranges;if(a.length>1)return!1;const u=a[0];if(u&&(!u.empty||u.anchor>0)||this.cm.state.doc.lines>=2)return!1;const c=this.view.state,h=(l=this.getPos())!=null?l:0,f=c.tr.replaceWith(h,h+this.node.nodeSize,c.schema.nodes.paragraph.createChecked({},this.node.content));return f.setSelection(nt.near(f.doc.resolve(h))),this.view.dispatch(f),this.view.focus(),!0}}]},this.maybeEscape=(s,l)=>{var a;const{state:u}=this.cm;let c=u.selection.main;if(!c.empty||(s==="line"&&(c=u.doc.lineAt(c.head)),l<0?c.from>0:c.to<u.doc.length))return!1;const h=((a=this.getPos())!=null?a:0)+(l<0?0:this.node.nodeSize),f=nt.near(this.view.state.doc.resolve(h),l),d=this.view.state.tr.setSelection(f).scrollIntoView();return this.view.dispatch(d),this.view.focus(),!0},this.setLanguage=s=>{var l;this.view.dispatch(this.view.state.tr.setNodeAttribute((l=this.getPos())!=null?l:0,"language",s))},this.getAllLanguages=()=>this.loader.getAll(),this.languageConf=new kp,this.readOnlyConf=new kp,this.cm=new Ge({doc:this.node.textContent,root:this.view.root,extensions:[this.readOnlyConf.of(Fn.readOnly.of(!this.view.editable)),pY(),em.of(this.codeMirrorKeymap()),this.languageConf.of([]),Fn.changeFilter.of(()=>this.view.editable),...o.extensions,Ge.updateListener.of(this.forwardUpdate)]}),this.app=this.createApp(),this.dom=this.createDom(this.app),this.disposeSelectedWatcher=am(()=>{this.selected.value?this.dom.classList.add("selected"):this.dom.classList.remove("selected")}),this.updateLanguage()}createDom(e){const n=document.createElement("div");return n.className="milkdown-code-block",this.text.value=this.node.textContent,e.mount(n),n}updateLanguage(){const e=this.node.attrs.language;if(e===this.languageName)return;this.language.value=e,this.loader.load(e??"").then(r=>{r&&(this.cm.dispatch({effects:this.languageConf.reconfigure(r)}),this.languageName=e)}).catch(console.error)}setSelection(e,n){this.cm.dom.isConnected&&(this.cm.focus(),this.updating=!0,this.cm.dispatch({selection:{anchor:e,head:n}}),this.updating=!1)}update(e){if(e.type!==this.node.type)return!1;if(this.updating)return!0;this.node=e,this.text.value=e.textContent,this.updateLanguage(),this.view.editable===this.cm.state.readOnly&&this.cm.dispatch({effects:this.readOnlyConf.reconfigure(Fn.readOnly.of(!this.view.editable))});const n=QDe(this.cm.state.doc.toString(),e.textContent);return n&&(this.updating=!0,this.cm.dispatch({changes:{from:n.from,to:n.to,insert:n.text},scrollIntoView:!0}),this.updating=!1),!0}selectNode(){this.selected.value=!0,this.cm.focus()}deselectNode(){this.selected.value=!1}stopEvent(){return!0}destroy(){this.app.unmount(),this.cm.destroy(),this.disposeSelectedWatcher()}}function QDe(t,e){if(t===e)return null;let n=0,r=t.length,i=e.length;for(;n<r&&t.charCodeAt(n)===e.charCodeAt(n);)++n;for(;r>n&&i>n&&t.charCodeAt(r-1)===e.charCodeAt(i-1);)r--,i--;return{from:n,to:r,text:e.slice(n,i)}}const rte=Xv(na.node,t=>{const e=t.get(c2.key),n=new UDe(e.languages);return(r,i,o)=>new ZDe(r,i,o,n,e)});nte(rte,{displayName:"NodeView<code-block>",group:"CodeBlock"});const e_e=[rte,c2],VF=typeof String.prototype.normalize=="function"?t=>t.normalize("NFKD"):t=>t;class Lp{constructor(e,n,r=0,i=e.length,o,s){this.test=s,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=e.iterRange(r,i),this.bufferStart=r,this.normalize=o?l=>o(VF(l)):VF,this.query=this.normalize(n)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return Ji(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let e=this.peek();if(e<0)return this.done=!0,this;let n=_A(e),r=this.bufferStart+this.bufferPos;this.bufferPos+=Nl(e);let i=this.normalize(n);if(i.length)for(let o=0,s=r;;o++){let l=i.charCodeAt(o),a=this.match(l,s,this.bufferPos+this.bufferStart);if(o==i.length-1){if(a)return this.value=a,this;break}s==r&&o<n.length&&n.charCodeAt(o)==l&&s++}}}match(e,n,r){let i=null;for(let o=0;o<this.matches.length;o+=2){let s=this.matches[o],l=!1;this.query.charCodeAt(s)==e&&(s==this.query.length-1?i={from:this.matches[o+1],to:r}:(this.matches[o]++,l=!0)),l||(this.matches.splice(o,2),o-=2)}return this.query.charCodeAt(0)==e&&(this.query.length==1?i={from:n,to:r}:this.matches.push(1,n)),i&&this.test&&!this.test(i.from,i.to,this.buffer,this.bufferStart)&&(i=null),i}}typeof Symbol<"u"&&(Lp.prototype[Symbol.iterator]=function(){return this});const ite={from:-1,to:-1,match:/.*/.exec("")},mP="gm"+(/x/.unicode==null?"":"u");class ote{constructor(e,n,r,i=0,o=e.length){if(this.text=e,this.to=o,this.curLine="",this.done=!1,this.value=ite,/\\[sWDnr]|\n|\r|\[\^/.test(n))return new ste(e,n,r,i,o);this.re=new RegExp(n,mP+(r!=null&&r.ignoreCase?"i":"")),this.test=r==null?void 0:r.test,this.iter=e.iter();let s=e.lineAt(i);this.curLineStart=s.from,this.matchPos=Qx(e,i),this.getLine(this.curLineStart)}getLine(e){this.iter.next(e),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let e=this.matchPos-this.curLineStart;;){this.re.lastIndex=e;let n=this.matchPos<=this.to&&this.re.exec(this.curLine);if(n){let r=this.curLineStart+n.index,i=r+n[0].length;if(this.matchPos=Qx(this.text,i+(r==i?1:0)),r==this.curLineStart+this.curLine.length&&this.nextLine(),(r<i||r>this.value.to)&&(!this.test||this.test(r,i,n)))return this.value={from:r,to:i,match:n},this;e=this.matchPos-this.curLineStart}else if(this.curLineStart+this.curLine.length<this.to)this.nextLine(),e=0;else return this.done=!0,this}}}const Zk=new WeakMap;class O0{constructor(e,n){this.from=e,this.text=n}get to(){return this.from+this.text.length}static get(e,n,r){let i=Zk.get(e);if(!i||i.from>=r||i.to<=n){let l=new O0(n,e.sliceString(n,r));return Zk.set(e,l),l}if(i.from==n&&i.to==r)return i;let{text:o,from:s}=i;return s>n&&(o=e.sliceString(n,s)+o,s=n),i.to<r&&(o+=e.sliceString(i.to,r)),Zk.set(e,new O0(s,o)),new O0(n,o.slice(n-s,r-s))}}class ste{constructor(e,n,r,i,o){this.text=e,this.to=o,this.done=!1,this.value=ite,this.matchPos=Qx(e,i),this.re=new RegExp(n,mP+(r!=null&&r.ignoreCase?"i":"")),this.test=r==null?void 0:r.test,this.flat=O0.get(e,i,this.chunkEnd(i+5e3))}chunkEnd(e){return e>=this.to?this.to:this.text.lineAt(e).to}next(){for(;;){let e=this.re.lastIndex=this.matchPos-this.flat.from,n=this.re.exec(this.flat.text);if(n&&!n[0]&&n.index==e&&(this.re.lastIndex=e+1,n=this.re.exec(this.flat.text)),n){let r=this.flat.from+n.index,i=r+n[0].length;if((this.flat.to>=this.to||n.index+n[0].length<=this.flat.text.length-10)&&(!this.test||this.test(r,i,n)))return this.value={from:r,to:i,match:n},this.matchPos=Qx(this.text,i+(r==i?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=O0.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+this.flat.text.length*2))}}}typeof Symbol<"u"&&(ote.prototype[Symbol.iterator]=ste.prototype[Symbol.iterator]=function(){return this});function t_e(t){try{return new RegExp(t,mP),!0}catch{return!1}}function Qx(t,e){if(e>=t.length)return e;let n=t.lineAt(e),r;for(;e<n.to&&(r=n.text.charCodeAt(e-n.from))>=56320&&r<57344;)e++;return e}function QC(t){let e=String(t.state.doc.lineAt(t.state.selection.main.head).number),n=un("input",{class:"cm-textfield",name:"line",value:e}),r=un("form",{class:"cm-gotoLine",onkeydown:o=>{o.keyCode==27?(o.preventDefault(),t.dispatch({effects:L1.of(!1)}),t.focus()):o.keyCode==13&&(o.preventDefault(),i())},onsubmit:o=>{o.preventDefault(),i()}},un("label",t.state.phrase("Go to line"),": ",n)," ",un("button",{class:"cm-button",type:"submit"},t.state.phrase("go")),un("button",{name:"close",onclick:()=>{t.dispatch({effects:L1.of(!1)}),t.focus()},"aria-label":t.state.phrase("close"),type:"button"},[""]));function i(){let o=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(n.value);if(!o)return;let{state:s}=t,l=s.doc.lineAt(s.selection.main.head),[,a,u,c,h]=o,f=c?+c.slice(1):0,d=u?+u:l.number;if(u&&h){let y=d/100;a&&(y=y*(a=="-"?-1:1)+l.number/s.doc.lines),d=Math.round(s.doc.lines*y)}else u&&a&&(d=d*(a=="-"?-1:1)+l.number);let p=s.doc.line(Math.max(1,Math.min(s.doc.lines,d))),m=fe.cursor(p.from+Math.max(0,Math.min(f,p.length)));t.dispatch({effects:[L1.of(!1),Ge.scrollIntoView(m.from,{y:"center"})],selection:m}),t.focus()}return{dom:r}}const L1=Tt.define(),HF=Rr.define({create(){return!0},update(t,e){for(let n of e.effects)n.is(L1)&&(t=n.value);return t},provide:t=>ky.from(t,e=>e?QC:null)}),n_e=t=>{let e=by(t,QC);if(!e){let n=[L1.of(!0)];t.state.field(HF,!1)==null&&n.push(Tt.appendConfig.of([HF,r_e])),t.dispatch({effects:n}),e=by(t,QC)}return e&&e.dom.querySelector("input").select(),!0},r_e=Ge.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px",position:"relative","& label":{fontSize:"80%"},"& [name=close]":{position:"absolute",top:"0",bottom:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:"0"}}}),i_e={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},o_e=Ue.define({combine(t){return oa(t,i_e,{highlightWordAroundCursor:(e,n)=>e||n,minSelectionLength:Math.min,maxMatches:Math.min})}});function s_e(t){return[h_e,c_e]}const l_e=st.mark({class:"cm-selectionMatch"}),a_e=st.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function jF(t,e,n,r){return(n==0||t(e.sliceDoc(n-1,n))!=zn.Word)&&(r==e.doc.length||t(e.sliceDoc(r,r+1))!=zn.Word)}function u_e(t,e,n,r){return t(e.sliceDoc(n,n+1))==zn.Word&&t(e.sliceDoc(r-1,r))==zn.Word}const c_e=yr.fromClass(class{constructor(t){this.decorations=this.getDeco(t)}update(t){(t.selectionSet||t.docChanged||t.viewportChanged)&&(this.decorations=this.getDeco(t.view))}getDeco(t){let e=t.state.facet(o_e),{state:n}=t,r=n.selection;if(r.ranges.length>1)return st.none;let i=r.main,o,s=null;if(i.empty){if(!e.highlightWordAroundCursor)return st.none;let a=n.wordAt(i.head);if(!a)return st.none;s=n.charCategorizer(i.head),o=n.sliceDoc(a.from,a.to)}else{let a=i.to-i.from;if(a<e.minSelectionLength||a>200)return st.none;if(e.wholeWords){if(o=n.sliceDoc(i.from,i.to),s=n.charCategorizer(i.head),!(jF(s,n,i.from,i.to)&&u_e(s,n,i.from,i.to)))return st.none}else if(o=n.sliceDoc(i.from,i.to),!o)return st.none}let l=[];for(let a of t.visibleRanges){let u=new Lp(n.doc,o,a.from,a.to);for(;!u.next().done;){let{from:c,to:h}=u.value;if((!s||jF(s,n,c,h))&&(i.empty&&c<=i.from&&h>=i.to?l.push(a_e.range(c,h)):(c>=i.to||h<=i.from)&&l.push(l_e.range(c,h)),l.length>e.maxMatches))return st.none}}return st.set(l)}},{decorations:t=>t.decorations}),h_e=Ge.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}}),f_e=({state:t,dispatch:e})=>{let{selection:n}=t,r=fe.create(n.ranges.map(i=>t.wordAt(i.head)||fe.cursor(i.head)),n.mainIndex);return r.eq(n)?!1:(e(t.update({selection:r})),!0)};function d_e(t,e){let{main:n,ranges:r}=t.selection,i=t.wordAt(n.head),o=i&&i.from==n.from&&i.to==n.to;for(let s=!1,l=new Lp(t.doc,e,r[r.length-1].to);;)if(l.next(),l.done){if(s)return null;l=new Lp(t.doc,e,0,Math.max(0,r[r.length-1].from-1)),s=!0}else{if(s&&r.some(a=>a.from==l.value.from))continue;if(o){let a=t.wordAt(l.value.from);if(!a||a.from!=l.value.from||a.to!=l.value.to)continue}return l.value}}const p_e=({state:t,dispatch:e})=>{let{ranges:n}=t.selection;if(n.some(o=>o.from===o.to))return f_e({state:t,dispatch:e});let r=t.sliceDoc(n[0].from,n[0].to);if(t.selection.ranges.some(o=>t.sliceDoc(o.from,o.to)!=r))return!1;let i=d_e(t,r);return i?(e(t.update({selection:t.selection.addRange(fe.range(i.from,i.to),!1),effects:Ge.scrollIntoView(i.to)})),!0):!1},fm=Ue.define({combine(t){return oa(t,{top:!1,caseSensitive:!1,literal:!1,regexp:!1,wholeWord:!1,createPanel:e=>new M_e(e),scrollToMatch:e=>Ge.scrollIntoView(e)})}});class lte{constructor(e){this.search=e.search,this.caseSensitive=!!e.caseSensitive,this.literal=!!e.literal,this.regexp=!!e.regexp,this.replace=e.replace||"",this.valid=!!this.search&&(!this.regexp||t_e(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!e.wholeWord}unquote(e){return this.literal?e:e.replace(/\\([nrt\\])/g,(n,r)=>r=="n"?`
`:r=="r"?"\r":r=="t"?"	":"\\")}eq(e){return this.search==e.search&&this.replace==e.replace&&this.caseSensitive==e.caseSensitive&&this.regexp==e.regexp&&this.wholeWord==e.wholeWord}create(){return this.regexp?new v_e(this):new g_e(this)}getCursor(e,n=0,r){let i=e.doc?e:Fn.create({doc:e});return r==null&&(r=i.doc.length),this.regexp?Ld(this,i,n,r):Nd(this,i,n,r)}}class ate{constructor(e){this.spec=e}}function Nd(t,e,n,r){return new Lp(e.doc,t.unquoted,n,r,t.caseSensitive?void 0:i=>i.toLowerCase(),t.wholeWord?m_e(e.doc,e.charCategorizer(e.selection.main.head)):void 0)}function m_e(t,e){return(n,r,i,o)=>((o>n||o+i.length<r)&&(o=Math.max(0,n-2),i=t.sliceString(o,Math.min(t.length,r+2))),(e(eb(i,n-o))!=zn.Word||e(tb(i,n-o))!=zn.Word)&&(e(tb(i,r-o))!=zn.Word||e(eb(i,r-o))!=zn.Word))}class g_e extends ate{constructor(e){super(e)}nextMatch(e,n,r){let i=Nd(this.spec,e,r,e.doc.length).nextOverlapping();if(i.done){let o=Math.min(e.doc.length,n+this.spec.unquoted.length);i=Nd(this.spec,e,0,o).nextOverlapping()}return i.done||i.value.from==n&&i.value.to==r?null:i.value}prevMatchInRange(e,n,r){for(let i=r;;){let o=Math.max(n,i-1e4-this.spec.unquoted.length),s=Nd(this.spec,e,o,i),l=null;for(;!s.nextOverlapping().done;)l=s.value;if(l)return l;if(o==n)return null;i-=1e4}}prevMatch(e,n,r){let i=this.prevMatchInRange(e,0,n);return i||(i=this.prevMatchInRange(e,Math.max(0,r-this.spec.unquoted.length),e.doc.length)),i&&(i.from!=n||i.to!=r)?i:null}getReplacement(e){return this.spec.unquote(this.spec.replace)}matchAll(e,n){let r=Nd(this.spec,e,0,e.doc.length),i=[];for(;!r.next().done;){if(i.length>=n)return null;i.push(r.value)}return i}highlight(e,n,r,i){let o=Nd(this.spec,e,Math.max(0,n-this.spec.unquoted.length),Math.min(r+this.spec.unquoted.length,e.doc.length));for(;!o.next().done;)i(o.value.from,o.value.to)}}function Ld(t,e,n,r){return new ote(e.doc,t.search,{ignoreCase:!t.caseSensitive,test:t.wholeWord?y_e(e.charCategorizer(e.selection.main.head)):void 0},n,r)}function eb(t,e){return t.slice(Ur(t,e,!1),e)}function tb(t,e){return t.slice(e,Ur(t,e))}function y_e(t){return(e,n,r)=>!r[0].length||(t(eb(r.input,r.index))!=zn.Word||t(tb(r.input,r.index))!=zn.Word)&&(t(tb(r.input,r.index+r[0].length))!=zn.Word||t(eb(r.input,r.index+r[0].length))!=zn.Word)}class v_e extends ate{nextMatch(e,n,r){let i=Ld(this.spec,e,r,e.doc.length).next();return i.done&&(i=Ld(this.spec,e,0,n).next()),i.done?null:i.value}prevMatchInRange(e,n,r){for(let i=1;;i++){let o=Math.max(n,r-i*1e4),s=Ld(this.spec,e,o,r),l=null;for(;!s.next().done;)l=s.value;if(l&&(o==n||l.from>o+10))return l;if(o==n)return null}}prevMatch(e,n,r){return this.prevMatchInRange(e,0,n)||this.prevMatchInRange(e,r,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace).replace(/\$([$&]|\d+)/g,(n,r)=>{if(r=="&")return e.match[0];if(r=="$")return"$";for(let i=r.length;i>0;i--){let o=+r.slice(0,i);if(o>0&&o<e.match.length)return e.match[o]+r.slice(i)}return n})}matchAll(e,n){let r=Ld(this.spec,e,0,e.doc.length),i=[];for(;!r.next().done;){if(i.length>=n)return null;i.push(r.value)}return i}highlight(e,n,r,i){let o=Ld(this.spec,e,Math.max(0,n-250),Math.min(r+250,e.doc.length));for(;!o.next().done;)i(o.value.from,o.value.to)}}const Hy=Tt.define(),gP=Tt.define(),_c=Rr.define({create(t){return new Qk(eT(t).create(),null)},update(t,e){for(let n of e.effects)n.is(Hy)?t=new Qk(n.value.create(),t.panel):n.is(gP)&&(t=new Qk(t.query,n.value?yP:null));return t},provide:t=>ky.from(t,e=>e.panel)});class Qk{constructor(e,n){this.query=e,this.panel=n}}const w_e=st.mark({class:"cm-searchMatch"}),x_e=st.mark({class:"cm-searchMatch cm-searchMatch-selected"}),b_e=yr.fromClass(class{constructor(t){this.view=t,this.decorations=this.highlight(t.state.field(_c))}update(t){let e=t.state.field(_c);(e!=t.startState.field(_c)||t.docChanged||t.selectionSet||t.viewportChanged)&&(this.decorations=this.highlight(e))}highlight({query:t,panel:e}){if(!e||!t.spec.valid)return st.none;let{view:n}=this,r=new cu;for(let i=0,o=n.visibleRanges,s=o.length;i<s;i++){let{from:l,to:a}=o[i];for(;i<s-1&&a>o[i+1].from-2*250;)a=o[++i].to;t.highlight(n.state,l,a,(u,c)=>{let h=n.state.selection.ranges.some(f=>f.from==u&&f.to==c);r.add(u,c,h?x_e:w_e)})}return r.finish()}},{decorations:t=>t.decorations});function h2(t){return e=>{let n=e.state.field(_c,!1);return n&&n.query.spec.valid?t(e,n):hte(e)}}const nb=h2((t,{query:e})=>{let{to:n}=t.state.selection.main,r=e.nextMatch(t.state,n,n);if(!r)return!1;let i=fe.single(r.from,r.to),o=t.state.facet(fm);return t.dispatch({selection:i,effects:[vP(t,r),o.scrollToMatch(i.main,t)],userEvent:"select.search"}),cte(t),!0}),rb=h2((t,{query:e})=>{let{state:n}=t,{from:r}=n.selection.main,i=e.prevMatch(n,r,r);if(!i)return!1;let o=fe.single(i.from,i.to),s=t.state.facet(fm);return t.dispatch({selection:o,effects:[vP(t,i),s.scrollToMatch(o.main,t)],userEvent:"select.search"}),cte(t),!0}),k_e=h2((t,{query:e})=>{let n=e.matchAll(t.state,1e3);return!n||!n.length?!1:(t.dispatch({selection:fe.create(n.map(r=>fe.range(r.from,r.to))),userEvent:"select.search.matches"}),!0)}),S_e=({state:t,dispatch:e})=>{let n=t.selection;if(n.ranges.length>1||n.main.empty)return!1;let{from:r,to:i}=n.main,o=[],s=0;for(let l=new Lp(t.doc,t.sliceDoc(r,i));!l.next().done;){if(o.length>1e3)return!1;l.value.from==r&&(s=o.length),o.push(fe.range(l.value.from,l.value.to))}return e(t.update({selection:fe.create(o,s),userEvent:"select.search.matches"})),!0},WF=h2((t,{query:e})=>{let{state:n}=t,{from:r,to:i}=n.selection.main;if(n.readOnly)return!1;let o=e.nextMatch(n,r,r);if(!o)return!1;let s=o,l=[],a,u,c=[];s.from==r&&s.to==i&&(u=n.toText(e.getReplacement(s)),l.push({from:s.from,to:s.to,insert:u}),s=e.nextMatch(n,s.from,s.to),c.push(Ge.announce.of(n.phrase("replaced match on line $",n.doc.lineAt(r).number)+".")));let h=t.state.changes(l);return s&&(a=fe.single(s.from,s.to).map(h),c.push(vP(t,s)),c.push(n.facet(fm).scrollToMatch(a.main,t))),t.dispatch({changes:h,selection:a,effects:c,userEvent:"input.replace"}),!0}),C_e=h2((t,{query:e})=>{if(t.state.readOnly)return!1;let n=e.matchAll(t.state,1e9).map(i=>{let{from:o,to:s}=i;return{from:o,to:s,insert:e.getReplacement(i)}});if(!n.length)return!1;let r=t.state.phrase("replaced $ matches",n.length)+".";return t.dispatch({changes:n,effects:Ge.announce.of(r),userEvent:"input.replace.all"}),!0});function yP(t){return t.state.facet(fm).createPanel(t)}function eT(t,e){var n,r,i,o,s;let l=t.selection.main,a=l.empty||l.to>l.from+100?"":t.sliceDoc(l.from,l.to);if(e&&!a)return e;let u=t.facet(fm);return new lte({search:((n=e==null?void 0:e.literal)!==null&&n!==void 0?n:u.literal)?a:a.replace(/\n/g,"\\n"),caseSensitive:(r=e==null?void 0:e.caseSensitive)!==null&&r!==void 0?r:u.caseSensitive,literal:(i=e==null?void 0:e.literal)!==null&&i!==void 0?i:u.literal,regexp:(o=e==null?void 0:e.regexp)!==null&&o!==void 0?o:u.regexp,wholeWord:(s=e==null?void 0:e.wholeWord)!==null&&s!==void 0?s:u.wholeWord})}function ute(t){let e=by(t,yP);return e&&e.dom.querySelector("[main-field]")}function cte(t){let e=ute(t);e&&e==t.root.activeElement&&e.select()}const hte=t=>{let e=t.state.field(_c,!1);if(e&&e.panel){let n=ute(t);if(n&&n!=t.root.activeElement){let r=eT(t.state,e.query.spec);r.valid&&t.dispatch({effects:Hy.of(r)}),n.focus(),n.select()}}else t.dispatch({effects:[gP.of(!0),e?Hy.of(eT(t.state,e.query.spec)):Tt.appendConfig.of(E_e)]});return!0},fte=t=>{let e=t.state.field(_c,!1);if(!e||!e.panel)return!1;let n=by(t,yP);return n&&n.dom.contains(t.root.activeElement)&&t.focus(),t.dispatch({effects:gP.of(!1)}),!0},T_e=[{key:"Mod-f",run:hte,scope:"editor search-panel"},{key:"F3",run:nb,shift:rb,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:nb,shift:rb,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:fte,scope:"editor search-panel"},{key:"Mod-Shift-l",run:S_e},{key:"Mod-Alt-g",run:n_e},{key:"Mod-d",run:p_e,preventDefault:!0}];class M_e{constructor(e){this.view=e;let n=this.query=e.state.field(_c).query.spec;this.commit=this.commit.bind(this),this.searchField=un("input",{value:n.search,placeholder:go(e,"Find"),"aria-label":go(e,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=un("input",{value:n.replace,placeholder:go(e,"Replace"),"aria-label":go(e,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=un("input",{type:"checkbox",name:"case",form:"",checked:n.caseSensitive,onchange:this.commit}),this.reField=un("input",{type:"checkbox",name:"re",form:"",checked:n.regexp,onchange:this.commit}),this.wordField=un("input",{type:"checkbox",name:"word",form:"",checked:n.wholeWord,onchange:this.commit});function r(i,o,s){return un("button",{class:"cm-button",name:i,onclick:o,type:"button"},s)}this.dom=un("div",{onkeydown:i=>this.keydown(i),class:"cm-search"},[this.searchField,r("next",()=>nb(e),[go(e,"next")]),r("prev",()=>rb(e),[go(e,"previous")]),r("select",()=>k_e(e),[go(e,"all")]),un("label",null,[this.caseField,go(e,"match case")]),un("label",null,[this.reField,go(e,"regexp")]),un("label",null,[this.wordField,go(e,"by word")]),...e.state.readOnly?[]:[un("br"),this.replaceField,r("replace",()=>WF(e),[go(e,"replace")]),r("replaceAll",()=>C_e(e),[go(e,"replace all")])],un("button",{name:"close",onclick:()=>fte(e),"aria-label":go(e,"close"),type:"button"},[""])])}commit(){let e=new lte({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});e.eq(this.query)||(this.query=e,this.view.dispatch({effects:Hy.of(e)}))}keydown(e){Bxe(this.view,e,"search-panel")?e.preventDefault():e.keyCode==13&&e.target==this.searchField?(e.preventDefault(),(e.shiftKey?rb:nb)(this.view)):e.keyCode==13&&e.target==this.replaceField&&(e.preventDefault(),WF(this.view))}update(e){for(let n of e.transactions)for(let r of n.effects)r.is(Hy)&&!r.value.eq(this.query)&&this.setQuery(r.value)}setQuery(e){this.query=e,this.searchField.value=e.search,this.replaceField.value=e.replace,this.caseField.checked=e.caseSensitive,this.reField.checked=e.regexp,this.wordField.checked=e.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(fm).top}}function go(t,e){return t.state.phrase(e)}const M4=30,A4=/[\s\.,:;?!]/;function vP(t,{from:e,to:n}){let r=t.state.doc.lineAt(e),i=t.state.doc.lineAt(n).to,o=Math.max(r.from,e-M4),s=Math.min(i,n+M4),l=t.state.sliceDoc(o,s);if(o!=r.from){for(let a=0;a<M4;a++)if(!A4.test(l[a+1])&&A4.test(l[a])){l=l.slice(a);break}}if(s!=i){for(let a=l.length-1;a>l.length-M4;a--)if(!A4.test(l[a-1])&&A4.test(l[a])){l=l.slice(0,a);break}}return Ge.announce.of(`${t.state.phrase("current match")}. ${l} ${t.state.phrase("on line")} ${r.number}.`)}const A_e=Ge.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),E_e=[_c,ih.low(b_e),A_e];class dte{constructor(e,n,r,i){this.state=e,this.pos=n,this.explicit=r,this.view=i,this.abortListeners=[],this.abortOnDocChange=!1}tokenBefore(e){let n=Gr(this.state).resolveInner(this.pos,-1);for(;n&&e.indexOf(n.name)<0;)n=n.parent;return n?{from:n.from,to:this.pos,text:this.state.sliceDoc(n.from,this.pos),type:n.type}:null}matchBefore(e){let n=this.state.doc.lineAt(this.pos),r=Math.max(n.from,this.pos-250),i=n.text.slice(r-n.from,this.pos-n.from),o=i.search(pte(e,!1));return o<0?null:{from:r+o,to:this.pos,text:i.slice(o)}}get aborted(){return this.abortListeners==null}addEventListener(e,n,r){e=="abort"&&this.abortListeners&&(this.abortListeners.push(n),r&&r.onDocChange&&(this.abortOnDocChange=!0))}}function UF(t){let e=Object.keys(t).join(""),n=/\w/.test(e);return n&&(e=e.replace(/\w/g,"")),`[${n?"\\w":""}${e.replace(/[^\w\s]/g,"\\$&")}]`}function O_e(t){let e=Object.create(null),n=Object.create(null);for(let{label:i}of t){e[i[0]]=!0;for(let o=1;o<i.length;o++)n[i[o]]=!0}let r=UF(e)+UF(n)+"*$";return[new RegExp("^"+r),new RegExp(r)]}function P_e(t){let e=t.map(i=>typeof i=="string"?{label:i}:i),[n,r]=e.every(i=>/^\w+$/.test(i.label))?[/\w*$/,/\w+$/]:O_e(e);return i=>{let o=i.matchBefore(r);return o||i.explicit?{from:o?o.from:i.pos,options:e,validFor:n}:null}}function jFe(t,e){return n=>{for(let r=Gr(n.state).resolveInner(n.pos,-1);r;r=r.parent){if(t.indexOf(r.name)>-1)return null;if(r.type.isTop)break}return e(n)}}class qF{constructor(e,n,r,i){this.completion=e,this.source=n,this.match=r,this.score=i}}function Ef(t){return t.selection.main.from}function pte(t,e){var n;let{source:r}=t,i=e&&r[0]!="^",o=r[r.length-1]!="$";return!i&&!o?t:new RegExp(`${i?"^":""}(?:${r})${o?"$":""}`,(n=t.flags)!==null&&n!==void 0?n:t.ignoreCase?"i":"")}const wP=ku.define();function D_e(t,e,n,r){let{main:i}=t.selection,o=n-i.from,s=r-i.from;return{...t.changeByRange(l=>{if(l!=i&&n!=r&&t.sliceDoc(l.from+o,l.from+s)!=t.sliceDoc(n,r))return{range:l};let a=t.toText(e);return{changes:{from:l.from+o,to:r==i.from?l.to:l.from+s,insert:a},range:fe.cursor(l.from+o+a.length)}}),scrollIntoView:!0,userEvent:"input.complete"}}const KF=new WeakMap;function __e(t){if(!Array.isArray(t))return t;let e=KF.get(t);return e||KF.set(t,e=P_e(t)),e}const ib=Tt.define(),jy=Tt.define();class I_e{constructor(e){this.pattern=e,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[],this.score=0,this.matched=[];for(let n=0;n<e.length;){let r=Ji(e,n),i=Nl(r);this.chars.push(r);let o=e.slice(n,n+i),s=o.toUpperCase();this.folded.push(Ji(s==o?o.toLowerCase():s,0)),n+=i}this.astral=e.length!=this.chars.length}ret(e,n){return this.score=e,this.matched=n,this}match(e){if(this.pattern.length==0)return this.ret(-100,[]);if(e.length<this.pattern.length)return null;let{chars:n,folded:r,any:i,precise:o,byWord:s}=this;if(n.length==1){let v=Ji(e,0),w=Nl(v),b=w==e.length?0:-100;if(v!=n[0])if(v==r[0])b+=-200;else return null;return this.ret(b,[0,w])}let l=e.indexOf(this.pattern);if(l==0)return this.ret(e.length==this.pattern.length?0:-100,[0,this.pattern.length]);let a=n.length,u=0;if(l<0){for(let v=0,w=Math.min(e.length,200);v<w&&u<a;){let b=Ji(e,v);(b==n[u]||b==r[u])&&(i[u++]=v),v+=Nl(b)}if(u<a)return null}let c=0,h=0,f=!1,d=0,p=-1,m=-1,y=/[a-z]/.test(e),g=!0;for(let v=0,w=Math.min(e.length,200),b=0;v<w&&h<a;){let S=Ji(e,v);l<0&&(c<a&&S==n[c]&&(o[c++]=v),d<a&&(S==n[d]||S==r[d]?(d==0&&(p=v),m=v+1,d++):d=0));let k,T=S<255?S>=48&&S<=57||S>=97&&S<=122?2:S>=65&&S<=90?1:0:(k=_A(S))!=k.toLowerCase()?1:k!=k.toUpperCase()?2:0;(!v||T==1&&y||b==0&&T!=0)&&(n[h]==S||r[h]==S&&(f=!0)?s[h++]=v:s.length&&(g=!1)),b=T,v+=Nl(S)}return h==a&&s[0]==0&&g?this.result(-100+(f?-200:0),s,e):d==a&&p==0?this.ret(-200-e.length+(m==e.length?0:-100),[0,m]):l>-1?this.ret(-700-e.length,[l,l+this.pattern.length]):d==a?this.ret(-900-e.length,[p,m]):h==a?this.result(-100+(f?-200:0)+-700+(g?0:-1100),s,e):n.length==2?null:this.result((i[0]?-700:0)+-200+-1100,i,e)}result(e,n,r){let i=[],o=0;for(let s of n){let l=s+(this.astral?Nl(Ji(r,s)):1);o&&i[o-1]==s?i[o-1]=l:(i[o++]=s,i[o++]=l)}return this.ret(e-r.length,i)}}class R_e{constructor(e){this.pattern=e,this.matched=[],this.score=0,this.folded=e.toLowerCase()}match(e){if(e.length<this.pattern.length)return null;let n=e.slice(0,this.pattern.length),r=n==this.pattern?0:n.toLowerCase()==this.folded?-200:null;return r==null?null:(this.matched=[0,n.length],this.score=r+(e.length==this.pattern.length?0:-100),this)}}const Or=Ue.define({combine(t){return oa(t,{activateOnTyping:!0,activateOnCompletion:()=>!1,activateOnTypingDelay:100,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:N_e,filterStrict:!1,compareCompletions:(e,n)=>e.label.localeCompare(n.label),interactionDelay:75,updateSyncTime:100},{defaultKeymap:(e,n)=>e&&n,closeOnBlur:(e,n)=>e&&n,icons:(e,n)=>e&&n,tooltipClass:(e,n)=>r=>GF(e(r),n(r)),optionClass:(e,n)=>r=>GF(e(r),n(r)),addToOptions:(e,n)=>e.concat(n),filterStrict:(e,n)=>e||n})}});function GF(t,e){return t?e?t+" "+e:t:e}function N_e(t,e,n,r,i,o){let s=t.textDirection==In.RTL,l=s,a=!1,u="top",c,h,f=e.left-i.left,d=i.right-e.right,p=r.right-r.left,m=r.bottom-r.top;if(l&&f<Math.min(p,d)?l=!1:!l&&d<Math.min(p,f)&&(l=!0),p<=(l?f:d))c=Math.max(i.top,Math.min(n.top,i.bottom-m))-e.top,h=Math.min(400,l?f:d);else{a=!0,h=Math.min(400,(s?e.right:i.right-e.left)-30);let v=i.bottom-e.bottom;v>=m||v>e.top?c=n.bottom-e.top:(u="bottom",c=e.bottom-n.top)}let y=(e.bottom-e.top)/o.offsetHeight,g=(e.right-e.left)/o.offsetWidth;return{style:`${u}: ${c/y}px; max-width: ${h/g}px`,class:"cm-completionInfo-"+(a?s?"left-narrow":"right-narrow":l?"left":"right")}}function L_e(t){let e=t.addToOptions.slice();return t.icons&&e.push({render(n){let r=document.createElement("div");return r.classList.add("cm-completionIcon"),n.type&&r.classList.add(...n.type.split(/\s+/g).map(i=>"cm-completionIcon-"+i)),r.setAttribute("aria-hidden","true"),r},position:20}),e.push({render(n,r,i,o){let s=document.createElement("span");s.className="cm-completionLabel";let l=n.displayLabel||n.label,a=0;for(let u=0;u<o.length;){let c=o[u++],h=o[u++];c>a&&s.appendChild(document.createTextNode(l.slice(a,c)));let f=s.appendChild(document.createElement("span"));f.appendChild(document.createTextNode(l.slice(c,h))),f.className="cm-completionMatchedText",a=h}return a<l.length&&s.appendChild(document.createTextNode(l.slice(a))),s},position:50},{render(n){if(!n.detail)return null;let r=document.createElement("span");return r.className="cm-completionDetail",r.textContent=n.detail,r},position:80}),e.sort((n,r)=>n.position-r.position).map(n=>n.render)}function e8(t,e,n){if(t<=n)return{from:0,to:t};if(e<0&&(e=0),e<=t>>1){let i=Math.floor(e/n);return{from:i*n,to:(i+1)*n}}let r=Math.floor((t-e)/n);return{from:t-(r+1)*n,to:t-r*n}}class B_e{constructor(e,n,r){this.view=e,this.stateField=n,this.applyCompletion=r,this.info=null,this.infoDestroy=null,this.placeInfoReq={read:()=>this.measureInfo(),write:a=>this.placeInfo(a),key:this},this.space=null,this.currentClass="";let i=e.state.field(n),{options:o,selected:s}=i.open,l=e.state.facet(Or);this.optionContent=L_e(l),this.optionClass=l.optionClass,this.tooltipClass=l.tooltipClass,this.range=e8(o.length,s,l.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(e.state),this.dom.addEventListener("mousedown",a=>{let{options:u}=e.state.field(n).open;for(let c=a.target,h;c&&c!=this.dom;c=c.parentNode)if(c.nodeName=="LI"&&(h=/-(\d+)$/.exec(c.id))&&+h[1]<u.length){this.applyCompletion(e,u[+h[1]]),a.preventDefault();return}}),this.dom.addEventListener("focusout",a=>{let u=e.state.field(this.stateField,!1);u&&u.tooltip&&e.state.facet(Or).closeOnBlur&&a.relatedTarget!=e.contentDOM&&e.dispatch({effects:jy.of(null)})}),this.showOptions(o,i.id)}mount(){this.updateSel()}showOptions(e,n){this.list&&this.list.remove(),this.list=this.dom.appendChild(this.createListBox(e,n,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)})}update(e){var n;let r=e.state.field(this.stateField),i=e.startState.field(this.stateField);if(this.updateTooltipClass(e.state),r!=i){let{options:o,selected:s,disabled:l}=r.open;(!i.open||i.open.options!=o)&&(this.range=e8(o.length,s,e.state.facet(Or).maxRenderedOptions),this.showOptions(o,r.id)),this.updateSel(),l!=((n=i.open)===null||n===void 0?void 0:n.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!l)}}updateTooltipClass(e){let n=this.tooltipClass(e);if(n!=this.currentClass){for(let r of this.currentClass.split(" "))r&&this.dom.classList.remove(r);for(let r of n.split(" "))r&&this.dom.classList.add(r);this.currentClass=n}}positioned(e){this.space=e,this.info&&this.view.requestMeasure(this.placeInfoReq)}updateSel(){let e=this.view.state.field(this.stateField),n=e.open;if((n.selected>-1&&n.selected<this.range.from||n.selected>=this.range.to)&&(this.range=e8(n.options.length,n.selected,this.view.state.facet(Or).maxRenderedOptions),this.showOptions(n.options,e.id)),this.updateSelectedOption(n.selected)){this.destroyInfo();let{completion:r}=n.options[n.selected],{info:i}=r;if(!i)return;let o=typeof i=="string"?document.createTextNode(i):i(r);if(!o)return;"then"in o?o.then(s=>{s&&this.view.state.field(this.stateField,!1)==e&&this.addInfoPane(s,r)}).catch(s=>no(this.view.state,s,"completion info")):this.addInfoPane(o,r)}}addInfoPane(e,n){this.destroyInfo();let r=this.info=document.createElement("div");if(r.className="cm-tooltip cm-completionInfo",e.nodeType!=null)r.appendChild(e),this.infoDestroy=null;else{let{dom:i,destroy:o}=e;r.appendChild(i),this.infoDestroy=o||null}this.dom.appendChild(r),this.view.requestMeasure(this.placeInfoReq)}updateSelectedOption(e){let n=null;for(let r=this.list.firstChild,i=this.range.from;r;r=r.nextSibling,i++)r.nodeName!="LI"||!r.id?i--:i==e?r.hasAttribute("aria-selected")||(r.setAttribute("aria-selected","true"),n=r):r.hasAttribute("aria-selected")&&r.removeAttribute("aria-selected");return n&&F_e(this.list,n),n}measureInfo(){let e=this.dom.querySelector("[aria-selected]");if(!e||!this.info)return null;let n=this.dom.getBoundingClientRect(),r=this.info.getBoundingClientRect(),i=e.getBoundingClientRect(),o=this.space;if(!o){let s=this.dom.ownerDocument.documentElement;o={left:0,top:0,right:s.clientWidth,bottom:s.clientHeight}}return i.top>Math.min(o.bottom,n.bottom)-10||i.bottom<Math.max(o.top,n.top)+10?null:this.view.state.facet(Or).positionInfo(this.view,n,i,r,o,this.dom)}placeInfo(e){this.info&&(e?(e.style&&(this.info.style.cssText=e.style),this.info.className="cm-tooltip cm-completionInfo "+(e.class||"")):this.info.style.cssText="top: -1e6px")}createListBox(e,n,r){const i=document.createElement("ul");i.id=n,i.setAttribute("role","listbox"),i.setAttribute("aria-expanded","true"),i.setAttribute("aria-label",this.view.state.phrase("Completions")),i.addEventListener("mousedown",s=>{s.target==i&&s.preventDefault()});let o=null;for(let s=r.from;s<r.to;s++){let{completion:l,match:a}=e[s],{section:u}=l;if(u){let f=typeof u=="string"?u:u.name;if(f!=o&&(s>r.from||r.from==0))if(o=f,typeof u!="string"&&u.header)i.appendChild(u.header(u));else{let d=i.appendChild(document.createElement("completion-section"));d.textContent=f}}const c=i.appendChild(document.createElement("li"));c.id=n+"-"+s,c.setAttribute("role","option");let h=this.optionClass(l);h&&(c.className=h);for(let f of this.optionContent){let d=f(l,this.view.state,this.view,a);d&&c.appendChild(d)}}return r.from&&i.classList.add("cm-completionListIncompleteTop"),r.to<e.length&&i.classList.add("cm-completionListIncompleteBottom"),i}destroyInfo(){this.info&&(this.infoDestroy&&this.infoDestroy(),this.info.remove(),this.info=null)}destroy(){this.destroyInfo()}}function z_e(t,e){return n=>new B_e(n,t,e)}function F_e(t,e){let n=t.getBoundingClientRect(),r=e.getBoundingClientRect(),i=n.height/t.offsetHeight;r.top<n.top?t.scrollTop-=(n.top-r.top)/i:r.bottom>n.bottom&&(t.scrollTop+=(r.bottom-n.bottom)/i)}function YF(t){return(t.boost||0)*100+(t.apply?10:0)+(t.info?5:0)+(t.type?1:0)}function $_e(t,e){let n=[],r=null,i=u=>{n.push(u);let{section:c}=u.completion;if(c){r||(r=[]);let h=typeof c=="string"?c:c.name;r.some(f=>f.name==h)||r.push(typeof c=="string"?{name:h}:c)}},o=e.facet(Or);for(let u of t)if(u.hasResult()){let c=u.result.getMatch;if(u.result.filter===!1)for(let h of u.result.options)i(new qF(h,u.source,c?c(h):[],1e9-n.length));else{let h=e.sliceDoc(u.from,u.to),f,d=o.filterStrict?new R_e(h):new I_e(h);for(let p of u.result.options)if(f=d.match(p.label)){let m=p.displayLabel?c?c(p,f.matched):[]:f.matched;i(new qF(p,u.source,m,f.score+(p.boost||0)))}}}if(r){let u=Object.create(null),c=0,h=(f,d)=>{var p,m;return((p=f.rank)!==null&&p!==void 0?p:1e9)-((m=d.rank)!==null&&m!==void 0?m:1e9)||(f.name<d.name?-1:1)};for(let f of r.sort(h))c-=1e5,u[f.name]=c;for(let f of n){let{section:d}=f.completion;d&&(f.score+=u[typeof d=="string"?d:d.name])}}let s=[],l=null,a=o.compareCompletions;for(let u of n.sort((c,h)=>h.score-c.score||a(c.completion,h.completion))){let c=u.completion;!l||l.label!=c.label||l.detail!=c.detail||l.type!=null&&c.type!=null&&l.type!=c.type||l.apply!=c.apply||l.boost!=c.boost?s.push(u):YF(u.completion)>YF(l)&&(s[s.length-1]=u),l=u.completion}return s}class s0{constructor(e,n,r,i,o,s){this.options=e,this.attrs=n,this.tooltip=r,this.timestamp=i,this.selected=o,this.disabled=s}setSelected(e,n){return e==this.selected||e>=this.options.length?this:new s0(this.options,XF(n,e),this.tooltip,this.timestamp,e,this.disabled)}static build(e,n,r,i,o,s){if(i&&!s&&e.some(u=>u.isPending))return i.setDisabled();let l=$_e(e,n);if(!l.length)return i&&e.some(u=>u.isPending)?i.setDisabled():null;let a=n.facet(Or).selectOnOpen?0:-1;if(i&&i.selected!=a&&i.selected!=-1){let u=i.options[i.selected].completion;for(let c=0;c<l.length;c++)if(l[c].completion==u){a=c;break}}return new s0(l,XF(r,a),{pos:e.reduce((u,c)=>c.hasResult()?Math.min(u,c.from):u,1e8),create:q_e,above:o.aboveCursor},i?i.timestamp:Date.now(),a,!1)}map(e){return new s0(this.options,this.attrs,{...this.tooltip,pos:e.mapPos(this.tooltip.pos)},this.timestamp,this.selected,this.disabled)}setDisabled(){return new s0(this.options,this.attrs,this.tooltip,this.timestamp,this.selected,!0)}}class ob{constructor(e,n,r){this.active=e,this.id=n,this.open=r}static start(){return new ob(W_e,"cm-ac-"+Math.floor(Math.random()*2e6).toString(36),null)}update(e){let{state:n}=e,r=n.facet(Or),o=(r.override||n.languageDataAt("autocomplete",Ef(n)).map(__e)).map(a=>(this.active.find(c=>c.source==a)||new ds(a,this.active.some(c=>c.state!=0)?1:0)).update(e,r));o.length==this.active.length&&o.every((a,u)=>a==this.active[u])&&(o=this.active);let s=this.open,l=e.effects.some(a=>a.is(xP));s&&e.docChanged&&(s=s.map(e.changes)),e.selection||o.some(a=>a.hasResult()&&e.changes.touchesRange(a.from,a.to))||!V_e(o,this.active)||l?s=s0.build(o,n,this.id,s,r,l):s&&s.disabled&&!o.some(a=>a.isPending)&&(s=null),!s&&o.every(a=>!a.isPending)&&o.some(a=>a.hasResult())&&(o=o.map(a=>a.hasResult()?new ds(a.source,0):a));for(let a of e.effects)a.is(gte)&&(s=s&&s.setSelected(a.value,this.id));return o==this.active&&s==this.open?this:new ob(o,this.id,s)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:this.active.length?H_e:j_e}}function V_e(t,e){if(t==e)return!0;for(let n=0,r=0;;){for(;n<t.length&&!t[n].hasResult();)n++;for(;r<e.length&&!e[r].hasResult();)r++;let i=n==t.length,o=r==e.length;if(i||o)return i==o;if(t[n++].result!=e[r++].result)return!1}}const H_e={"aria-autocomplete":"list"},j_e={};function XF(t,e){let n={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":t};return e>-1&&(n["aria-activedescendant"]=t+"-"+e),n}const W_e=[];function mte(t,e){if(t.isUserEvent("input.complete")){let r=t.annotation(wP);if(r&&e.activateOnCompletion(r))return 12}let n=t.isUserEvent("input.type");return n&&e.activateOnTyping?5:n?1:t.isUserEvent("delete.backward")?2:t.selection?8:t.docChanged?16:0}class ds{constructor(e,n,r=!1){this.source=e,this.state=n,this.explicit=r}hasResult(){return!1}get isPending(){return this.state==1}update(e,n){let r=mte(e,n),i=this;(r&8||r&16&&this.touches(e))&&(i=new ds(i.source,0)),r&4&&i.state==0&&(i=new ds(this.source,1)),i=i.updateFor(e,r);for(let o of e.effects)if(o.is(ib))i=new ds(i.source,1,o.value);else if(o.is(jy))i=new ds(i.source,0);else if(o.is(xP))for(let s of o.value)s.source==i.source&&(i=s);return i}updateFor(e,n){return this.map(e.changes)}map(e){return this}touches(e){return e.changes.touchesRange(Ef(e.state))}}class P0 extends ds{constructor(e,n,r,i,o,s){super(e,3,n),this.limit=r,this.result=i,this.from=o,this.to=s}hasResult(){return!0}updateFor(e,n){var r;if(!(n&3))return this.map(e.changes);let i=this.result;i.map&&!e.changes.empty&&(i=i.map(i,e.changes));let o=e.changes.mapPos(this.from),s=e.changes.mapPos(this.to,1),l=Ef(e.state);if(l>s||!i||n&2&&(Ef(e.startState)==this.from||l<this.limit))return new ds(this.source,n&4?1:0);let a=e.changes.mapPos(this.limit);return U_e(i.validFor,e.state,o,s)?new P0(this.source,this.explicit,a,i,o,s):i.update&&(i=i.update(i,o,s,new dte(e.state,l,!1)))?new P0(this.source,this.explicit,a,i,i.from,(r=i.to)!==null&&r!==void 0?r:Ef(e.state)):new ds(this.source,1,this.explicit)}map(e){return e.empty?this:(this.result.map?this.result.map(this.result,e):this.result)?new P0(this.source,this.explicit,e.mapPos(this.limit),this.result,e.mapPos(this.from),e.mapPos(this.to,1)):new ds(this.source,0)}touches(e){return e.changes.touchesRange(this.from,this.to)}}function U_e(t,e,n,r){if(!t)return!1;let i=e.sliceDoc(n,r);return typeof t=="function"?t(i,n,r,e):pte(t,!0).test(i)}const xP=Tt.define({map(t,e){return t.map(n=>n.map(e))}}),gte=Tt.define(),Qi=Rr.define({create(){return ob.start()},update(t,e){return t.update(e)},provide:t=>[qA.from(t,e=>e.tooltip),Ge.contentAttributes.from(t,e=>e.attrs)]});function bP(t,e){const n=e.completion.apply||e.completion.label;let r=t.state.field(Qi).active.find(i=>i.source==e.source);return r instanceof P0?(typeof n=="string"?t.dispatch({...D_e(t.state,n,r.from,r.to),annotations:wP.of(e.completion)}):n(t,e.completion,r.from,r.to),!0):!1}const q_e=z_e(Qi,bP);function E4(t,e="option"){return n=>{let r=n.state.field(Qi,!1);if(!r||!r.open||r.open.disabled||Date.now()-r.open.timestamp<n.state.facet(Or).interactionDelay)return!1;let i=1,o;e=="page"&&(o=vY(n,r.open.tooltip))&&(i=Math.max(2,Math.floor(o.dom.offsetHeight/o.dom.querySelector("li").offsetHeight)-1));let{length:s}=r.open.options,l=r.open.selected>-1?r.open.selected+i*(t?1:-1):t?0:s-1;return l<0?l=e=="page"?0:s-1:l>=s&&(l=e=="page"?s-1:0),n.dispatch({effects:gte.of(l)}),!0}}const K_e=t=>{let e=t.state.field(Qi,!1);return t.state.readOnly||!e||!e.open||e.open.selected<0||e.open.disabled||Date.now()-e.open.timestamp<t.state.facet(Or).interactionDelay?!1:bP(t,e.open.options[e.open.selected])},t8=t=>t.state.field(Qi,!1)?(t.dispatch({effects:ib.of(!0)}),!0):!1,G_e=t=>{let e=t.state.field(Qi,!1);return!e||!e.active.some(n=>n.state!=0)?!1:(t.dispatch({effects:jy.of(null)}),!0)};class Y_e{constructor(e,n){this.active=e,this.context=n,this.time=Date.now(),this.updates=[],this.done=void 0}}const X_e=50,J_e=1e3,Z_e=yr.fromClass(class{constructor(t){this.view=t,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.pendingStart=!1,this.composing=0;for(let e of t.state.field(Qi).active)e.isPending&&this.startQuery(e)}update(t){let e=t.state.field(Qi),n=t.state.facet(Or);if(!t.selectionSet&&!t.docChanged&&t.startState.field(Qi)==e)return;let r=t.transactions.some(o=>{let s=mte(o,n);return s&8||(o.selection||o.docChanged)&&!(s&3)});for(let o=0;o<this.running.length;o++){let s=this.running[o];if(r||s.context.abortOnDocChange&&t.docChanged||s.updates.length+t.transactions.length>X_e&&Date.now()-s.time>J_e){for(let l of s.context.abortListeners)try{l()}catch(a){no(this.view.state,a)}s.context.abortListeners=null,this.running.splice(o--,1)}else s.updates.push(...t.transactions)}this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),t.transactions.some(o=>o.effects.some(s=>s.is(ib)))&&(this.pendingStart=!0);let i=this.pendingStart?50:n.activateOnTypingDelay;if(this.debounceUpdate=e.active.some(o=>o.isPending&&!this.running.some(s=>s.active.source==o.source))?setTimeout(()=>this.startUpdate(),i):-1,this.composing!=0)for(let o of t.transactions)o.isUserEvent("input.type")?this.composing=2:this.composing==2&&o.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1,this.pendingStart=!1;let{state:t}=this.view,e=t.field(Qi);for(let n of e.active)n.isPending&&!this.running.some(r=>r.active.source==n.source)&&this.startQuery(n);this.running.length&&e.open&&e.open.disabled&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(Or).updateSyncTime))}startQuery(t){let{state:e}=this.view,n=Ef(e),r=new dte(e,n,t.explicit,this.view),i=new Y_e(t,r);this.running.push(i),Promise.resolve(t.source(r)).then(o=>{i.context.aborted||(i.done=o||null,this.scheduleAccept())},o=>{this.view.dispatch({effects:jy.of(null)}),no(this.view.state,o)})}scheduleAccept(){this.running.every(t=>t.done!==void 0)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(Or).updateSyncTime))}accept(){var t;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let e=[],n=this.view.state.facet(Or),r=this.view.state.field(Qi);for(let i=0;i<this.running.length;i++){let o=this.running[i];if(o.done===void 0)continue;if(this.running.splice(i--,1),o.done){let l=Ef(o.updates.length?o.updates[0].startState:this.view.state),a=Math.min(l,o.done.from+(o.active.explicit?0:1)),u=new P0(o.active.source,o.active.explicit,a,o.done,o.done.from,(t=o.done.to)!==null&&t!==void 0?t:l);for(let c of o.updates)u=u.update(c,n);if(u.hasResult()){e.push(u);continue}}let s=r.active.find(l=>l.source==o.active.source);if(s&&s.isPending)if(o.done==null){let l=new ds(o.active.source,0);for(let a of o.updates)l=l.update(a,n);l.isPending||e.push(l)}else this.startQuery(s)}(e.length||r.open&&r.open.disabled)&&this.view.dispatch({effects:xP.of(e)})}},{eventHandlers:{blur(t){let e=this.view.state.field(Qi,!1);if(e&&e.tooltip&&this.view.state.facet(Or).closeOnBlur){let n=e.open&&vY(this.view,e.open.tooltip);(!n||!n.dom.contains(t.relatedTarget))&&setTimeout(()=>this.view.dispatch({effects:jy.of(null)}),10)}},compositionstart(){this.composing=1},compositionend(){this.composing==3&&setTimeout(()=>this.view.dispatch({effects:ib.of(!1)}),20),this.composing=0}}}),Q_e=typeof navigator=="object"&&/Win/.test(navigator.platform),eIe=ih.highest(Ge.domEventHandlers({keydown(t,e){let n=e.state.field(Qi,!1);if(!n||!n.open||n.open.disabled||n.open.selected<0||t.key.length>1||t.ctrlKey&&!(Q_e&&t.altKey)||t.metaKey)return!1;let r=n.open.options[n.open.selected],i=n.active.find(s=>s.source==r.source),o=r.completion.commitCharacters||i.result.commitCharacters;return o&&o.indexOf(t.key)>-1&&bP(e,r),!1}})),yte=Ge.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'""',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box",whiteSpace:"pre-line"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"''"}},".cm-completionIcon-class":{"&:after":{content:"''"}},".cm-completionIcon-interface":{"&:after":{content:"''"}},".cm-completionIcon-variable":{"&:after":{content:"''"}},".cm-completionIcon-constant":{"&:after":{content:"''"}},".cm-completionIcon-type":{"&:after":{content:"''"}},".cm-completionIcon-enum":{"&:after":{content:"''"}},".cm-completionIcon-property":{"&:after":{content:"''"}},".cm-completionIcon-keyword":{"&:after":{content:"''"}},".cm-completionIcon-namespace":{"&:after":{content:"''"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}});class tIe{constructor(e,n,r,i){this.field=e,this.line=n,this.from=r,this.to=i}}class kP{constructor(e,n,r){this.field=e,this.from=n,this.to=r}map(e){let n=e.mapPos(this.from,-1,Wr.TrackDel),r=e.mapPos(this.to,1,Wr.TrackDel);return n==null||r==null?null:new kP(this.field,n,r)}}class SP{constructor(e,n){this.lines=e,this.fieldPositions=n}instantiate(e,n){let r=[],i=[n],o=e.doc.lineAt(n),s=/^\s*/.exec(o.text)[0];for(let a of this.lines){if(r.length){let u=s,c=/^\t*/.exec(a)[0].length;for(let h=0;h<c;h++)u+=e.facet(l3);i.push(n+u.length-c),a=u+a.slice(c)}r.push(a),n+=a.length+1}let l=this.fieldPositions.map(a=>new kP(a.field,i[a.line]+a.from,i[a.line]+a.to));return{text:r,ranges:l}}static parse(e){let n=[],r=[],i=[],o;for(let s of e.split(/\r\n?|\n/)){for(;o=/[#$]\{(?:(\d+)(?::([^{}]*))?|((?:\\[{}]|[^{}])*))\}/.exec(s);){let l=o[1]?+o[1]:null,a=o[2]||o[3]||"",u=-1,c=a.replace(/\\[{}]/g,h=>h[1]);for(let h=0;h<n.length;h++)(l!=null?n[h].seq==l:c&&n[h].name==c)&&(u=h);if(u<0){let h=0;for(;h<n.length&&(l==null||n[h].seq!=null&&n[h].seq<l);)h++;n.splice(h,0,{seq:l,name:c}),u=h;for(let f of i)f.field>=u&&f.field++}for(let h of i)if(h.line==r.length&&h.from>o.index){let f=o[2]?3+(o[1]||"").length:2;h.from-=f,h.to-=f}i.push(new tIe(u,r.length,o.index,o.index+c.length)),s=s.slice(0,o.index)+a+s.slice(o.index+o[0].length)}s=s.replace(/\\([{}])/g,(l,a,u)=>{for(let c of i)c.line==r.length&&c.from>u&&(c.from--,c.to--);return a}),r.push(s)}return new SP(r,i)}}let nIe=st.widget({widget:new class extends Su{toDOM(){let t=document.createElement("span");return t.className="cm-snippetFieldPosition",t}ignoreEvent(){return!1}}}),rIe=st.mark({class:"cm-snippetField"});class dm{constructor(e,n){this.ranges=e,this.active=n,this.deco=st.set(e.map(r=>(r.from==r.to?nIe:rIe).range(r.from,r.to)),!0)}map(e){let n=[];for(let r of this.ranges){let i=r.map(e);if(!i)return null;n.push(i)}return new dm(n,this.active)}selectionInsideField(e){return e.ranges.every(n=>this.ranges.some(r=>r.field==this.active&&r.from<=n.from&&r.to>=n.to))}}const f2=Tt.define({map(t,e){return t&&t.map(e)}}),iIe=Tt.define(),Wy=Rr.define({create(){return null},update(t,e){for(let n of e.effects){if(n.is(f2))return n.value;if(n.is(iIe)&&t)return new dm(t.ranges,n.value)}return t&&e.docChanged&&(t=t.map(e.changes)),t&&e.selection&&!t.selectionInsideField(e.selection)&&(t=null),t},provide:t=>Ge.decorations.from(t,e=>e?e.deco:st.none)});function CP(t,e){return fe.create(t.filter(n=>n.field==e).map(n=>fe.range(n.from,n.to)))}function oIe(t){let e=SP.parse(t);return(n,r,i,o)=>{let{text:s,ranges:l}=e.instantiate(n.state,i),{main:a}=n.state.selection,u={changes:{from:i,to:o==a.from?a.to:o,insert:Yt.of(s)},scrollIntoView:!0,annotations:r?[wP.of(r),Ii.userEvent.of("input.complete")]:void 0};if(l.length&&(u.selection=CP(l,0)),l.some(c=>c.field>0)){let c=new dm(l,0),h=u.effects=[f2.of(c)];n.state.field(Wy,!1)===void 0&&h.push(Tt.appendConfig.of([Wy,cIe,hIe,yte]))}n.dispatch(n.state.update(u))}}function vte(t){return({state:e,dispatch:n})=>{let r=e.field(Wy,!1);if(!r||t<0&&r.active==0)return!1;let i=r.active+t,o=t>0&&!r.ranges.some(s=>s.field==i+t);return n(e.update({selection:CP(r.ranges,i),effects:f2.of(o?null:new dm(r.ranges,i)),scrollIntoView:!0})),!0}}const sIe=({state:t,dispatch:e})=>t.field(Wy,!1)?(e(t.update({effects:f2.of(null)})),!0):!1,lIe=vte(1),aIe=vte(-1),uIe=[{key:"Tab",run:lIe,shift:aIe},{key:"Escape",run:sIe}],JF=Ue.define({combine(t){return t.length?t[0]:uIe}}),cIe=ih.highest(em.compute([JF],t=>t.facet(JF)));function WFe(t,e){return{...e,apply:oIe(t)}}const hIe=Ge.domEventHandlers({mousedown(t,e){let n=e.state.field(Wy,!1),r;if(!n||(r=e.posAtCoords({x:t.clientX,y:t.clientY}))==null)return!1;let i=n.ranges.find(o=>o.from<=r&&o.to>=r);return!i||i.field==n.active?!1:(e.dispatch({selection:CP(n.ranges,i.field),effects:f2.of(n.ranges.some(o=>o.field>i.field)?new dm(n.ranges,i.field):null),scrollIntoView:!0}),!0)}}),Uy={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},Jh=Tt.define({map(t,e){let n=e.mapPos(t,-1,Wr.TrackAfter);return n??void 0}}),TP=new class extends Lf{};TP.startSide=1;TP.endSide=-1;const wte=Rr.define({create(){return qt.empty},update(t,e){if(t=t.map(e.changes),e.selection){let n=e.state.doc.lineAt(e.selection.main.head);t=t.update({filter:r=>r>=n.from&&r<=n.to})}for(let n of e.effects)n.is(Jh)&&(t=t.update({add:[TP.range(n.value,n.value+1)]}));return t}});function fIe(){return[pIe,wte]}const n8="()[]{}<>";function xte(t){for(let e=0;e<n8.length;e+=2)if(n8.charCodeAt(e)==t)return n8.charAt(e+1);return _A(t<128?t:t+1)}function bte(t,e){return t.languageDataAt("closeBrackets",e)[0]||Uy}const dIe=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),pIe=Ge.inputHandler.of((t,e,n,r)=>{if((dIe?t.composing:t.compositionStarted)||t.state.readOnly)return!1;let i=t.state.selection.main;if(r.length>2||r.length==2&&Nl(Ji(r,0))==1||e!=i.from||n!=i.to)return!1;let o=yIe(t.state,r);return o?(t.dispatch(o),!0):!1}),mIe=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let r=bte(t,t.selection.main.head).brackets||Uy.brackets,i=null,o=t.changeByRange(s=>{if(s.empty){let l=vIe(t.doc,s.head);for(let a of r)if(a==l&&r6(t.doc,s.head)==xte(Ji(a,0)))return{changes:{from:s.head-a.length,to:s.head+a.length},range:fe.cursor(s.head-a.length)}}return{range:i=s}});return i||e(t.update(o,{scrollIntoView:!0,userEvent:"delete.backward"})),!i},gIe=[{key:"Backspace",run:mIe}];function yIe(t,e){let n=bte(t,t.selection.main.head),r=n.brackets||Uy.brackets;for(let i of r){let o=xte(Ji(i,0));if(e==i)return o==i?bIe(t,i,r.indexOf(i+i+i)>-1,n):wIe(t,i,o,n.before||Uy.before);if(e==o&&kte(t,t.selection.main.from))return xIe(t,i,o)}return null}function kte(t,e){let n=!1;return t.field(wte).between(0,t.doc.length,r=>{r==e&&(n=!0)}),n}function r6(t,e){let n=t.sliceString(e,e+2);return n.slice(0,Nl(Ji(n,0)))}function vIe(t,e){let n=t.sliceString(e-2,e);return Nl(Ji(n,0))==n.length?n:n.slice(1)}function wIe(t,e,n,r){let i=null,o=t.changeByRange(s=>{if(!s.empty)return{changes:[{insert:e,from:s.from},{insert:n,from:s.to}],effects:Jh.of(s.to+e.length),range:fe.range(s.anchor+e.length,s.head+e.length)};let l=r6(t.doc,s.head);return!l||/\s/.test(l)||r.indexOf(l)>-1?{changes:{insert:e+n,from:s.head},effects:Jh.of(s.head+e.length),range:fe.cursor(s.head+e.length)}:{range:i=s}});return i?null:t.update(o,{scrollIntoView:!0,userEvent:"input.type"})}function xIe(t,e,n){let r=null,i=t.changeByRange(o=>o.empty&&r6(t.doc,o.head)==n?{changes:{from:o.head,to:o.head+n.length,insert:n},range:fe.cursor(o.head+n.length)}:r={range:o});return r?null:t.update(i,{scrollIntoView:!0,userEvent:"input.type"})}function bIe(t,e,n,r){let i=r.stringPrefixes||Uy.stringPrefixes,o=null,s=t.changeByRange(l=>{if(!l.empty)return{changes:[{insert:e,from:l.from},{insert:e,from:l.to}],effects:Jh.of(l.to+e.length),range:fe.range(l.anchor+e.length,l.head+e.length)};let a=l.head,u=r6(t.doc,a),c;if(u==e){if(ZF(t,a))return{changes:{insert:e+e,from:a},effects:Jh.of(a+e.length),range:fe.cursor(a+e.length)};if(kte(t,a)){let f=n&&t.sliceDoc(a,a+e.length*3)==e+e+e?e+e+e:e;return{changes:{from:a,to:a+f.length,insert:f},range:fe.cursor(a+f.length)}}}else{if(n&&t.sliceDoc(a-2*e.length,a)==e+e&&(c=QF(t,a-2*e.length,i))>-1&&ZF(t,c))return{changes:{insert:e+e+e+e,from:a},effects:Jh.of(a+e.length),range:fe.cursor(a+e.length)};if(t.charCategorizer(a)(u)!=zn.Word&&QF(t,a,i)>-1&&!kIe(t,a,e,i))return{changes:{insert:e+e,from:a},effects:Jh.of(a+e.length),range:fe.cursor(a+e.length)}}return{range:o=l}});return o?null:t.update(s,{scrollIntoView:!0,userEvent:"input.type"})}function ZF(t,e){let n=Gr(t).resolveInner(e+1);return n.parent&&n.from==e}function kIe(t,e,n,r){let i=Gr(t).resolveInner(e,-1),o=r.reduce((s,l)=>Math.max(s,l.length),0);for(let s=0;s<5;s++){let l=t.sliceDoc(i.from,Math.min(i.to,i.from+n.length+o)),a=l.indexOf(n);if(!a||a>-1&&r.indexOf(l.slice(0,a))>-1){let c=i.firstChild;for(;c&&c.from==i.from&&c.to-c.from>n.length+a;){if(t.sliceDoc(c.to-n.length,c.to)==n)return!1;c=c.firstChild}return!0}let u=i.to==e&&i.parent;if(!u)break;i=u}return!1}function QF(t,e,n){let r=t.charCategorizer(e);if(r(t.sliceDoc(e-1,e))!=zn.Word)return e;for(let i of n){let o=e-i.length;if(t.sliceDoc(o,e)==i&&r(t.sliceDoc(o-1,o))!=zn.Word)return o}return-1}function SIe(t={}){return[eIe,Qi,Or.of(t),Z_e,CIe,yte]}const Ste=[{key:"Ctrl-Space",run:t8},{mac:"Alt-`",run:t8},{mac:"Alt-i",run:t8},{key:"Escape",run:G_e},{key:"ArrowDown",run:E4(!0)},{key:"ArrowUp",run:E4(!1)},{key:"PageDown",run:E4(!0,"page")},{key:"PageUp",run:E4(!1,"page")},{key:"Enter",run:K_e}],CIe=ih.highest(em.computeN([Or],t=>t.facet(Or).defaultKeymap?[Ste]:[]));class e${constructor(e,n,r){this.from=e,this.to=n,this.diagnostic=r}}class zh{constructor(e,n,r){this.diagnostics=e,this.panel=n,this.selected=r}static init(e,n,r){let i=r.facet(qy).markerFilter;i&&(e=i(e,r));let o=e.slice().sort((c,h)=>c.from-h.from||c.to-h.to),s=new cu,l=[],a=0;for(let c=0;;){let h=c==o.length?null:o[c];if(!h&&!l.length)break;let f,d;for(l.length?(f=a,d=l.reduce((m,y)=>Math.min(m,y.to),h&&h.from>f?h.from:1e8)):(f=h.from,d=h.to,l.push(h),c++);c<o.length;){let m=o[c];if(m.from==f&&(m.to>m.from||m.to==f))l.push(m),c++,d=Math.min(m.to,d);else{d=Math.min(m.from,d);break}}let p=BIe(l);if(l.some(m=>m.from==m.to||m.from==m.to-1&&r.doc.lineAt(m.from).to==m.from))s.add(f,f,st.widget({widget:new IIe(p),diagnostics:l.slice()}));else{let m=l.reduce((y,g)=>g.markClass?y+" "+g.markClass:y,"");s.add(f,d,st.mark({class:"cm-lintRange cm-lintRange-"+p+m,diagnostics:l.slice(),inclusiveEnd:l.some(y=>y.to>d)}))}a=d;for(let m=0;m<l.length;m++)l[m].to<=a&&l.splice(m--,1)}let u=s.finish();return new zh(u,n,Bp(u))}}function Bp(t,e=null,n=0){let r=null;return t.between(n,1e9,(i,o,{spec:s})=>{if(!(e&&s.diagnostics.indexOf(e)<0))if(!r)r=new e$(i,o,e||s.diagnostics[0]);else{if(s.diagnostics.indexOf(r.diagnostic)<0)return!1;r=new e$(r.from,o,r.diagnostic)}}),r}function TIe(t,e){let n=e.pos,r=e.end||n,i=t.state.facet(qy).hideOn(t,n,r);if(i!=null)return i;let o=t.startState.doc.lineAt(e.pos);return!!(t.effects.some(s=>s.is(Cte))||t.changes.touchesRange(o.from,Math.max(o.to,r)))}function MIe(t,e){return t.field(Io,!1)?e:e.concat(Tt.appendConfig.of(zIe))}const Cte=Tt.define(),MP=Tt.define(),Tte=Tt.define(),Io=Rr.define({create(){return new zh(st.none,null,null)},update(t,e){if(e.docChanged&&t.diagnostics.size){let n=t.diagnostics.map(e.changes),r=null,i=t.panel;if(t.selected){let o=e.changes.mapPos(t.selected.from,1);r=Bp(n,t.selected.diagnostic,o)||Bp(n,null,o)}!n.size&&i&&e.state.facet(qy).autoPanel&&(i=null),t=new zh(n,i,r)}for(let n of e.effects)if(n.is(Cte)){let r=e.state.facet(qy).autoPanel?n.value.length?Ky.open:null:t.panel;t=zh.init(n.value,r,e.state)}else n.is(MP)?t=new zh(t.diagnostics,n.value?Ky.open:null,t.selected):n.is(Tte)&&(t=new zh(t.diagnostics,t.panel,n.value));return t},provide:t=>[ky.from(t,e=>e.panel),Ge.decorations.from(t,e=>e.diagnostics)]}),AIe=st.mark({class:"cm-lintRange cm-lintRange-active"});function EIe(t,e,n){let{diagnostics:r}=t.state.field(Io),i,o=-1,s=-1;r.between(e-(n<0?1:0),e+(n>0?1:0),(a,u,{spec:c})=>{if(e>=a&&e<=u&&(a==u||(e>a||n>0)&&(e<u||n<0)))return i=c.diagnostics,o=a,s=u,!1});let l=t.state.facet(qy).tooltipFilter;return i&&l&&(i=l(i,t.state)),i?{pos:o,end:s,above:t.state.doc.lineAt(o).to<s,create(){return{dom:OIe(t,i)}}}:null}function OIe(t,e){return un("ul",{class:"cm-tooltip-lint"},e.map(n=>Ate(t,n,!1)))}const PIe=t=>{let e=t.state.field(Io,!1);(!e||!e.panel)&&t.dispatch({effects:MIe(t.state,[MP.of(!0)])});let n=by(t,Ky.open);return n&&n.dom.querySelector(".cm-panel-lint ul").focus(),!0},t$=t=>{let e=t.state.field(Io,!1);return!e||!e.panel?!1:(t.dispatch({effects:MP.of(!1)}),!0)},DIe=t=>{let e=t.state.field(Io,!1);if(!e)return!1;let n=t.state.selection.main,r=e.diagnostics.iter(n.to+1);return!r.value&&(r=e.diagnostics.iter(0),!r.value||r.from==n.from&&r.to==n.to)?!1:(t.dispatch({selection:{anchor:r.from,head:r.to},scrollIntoView:!0}),!0)},_Ie=[{key:"Mod-Shift-m",run:PIe,preventDefault:!0},{key:"F8",run:DIe}],qy=Ue.define({combine(t){return Object.assign({sources:t.map(e=>e.source).filter(e=>e!=null)},oa(t.map(e=>e.config),{delay:750,markerFilter:null,tooltipFilter:null,needsRefresh:null,hideOn:()=>null},{needsRefresh:(e,n)=>e?n?r=>e(r)||n(r):e:n}))}});function Mte(t){let e=[];if(t)e:for(let{name:n}of t){for(let r=0;r<n.length;r++){let i=n[r];if(/[a-zA-Z]/.test(i)&&!e.some(o=>o.toLowerCase()==i.toLowerCase())){e.push(i);continue e}}e.push("")}return e}function Ate(t,e,n){var r;let i=n?Mte(e.actions):[];return un("li",{class:"cm-diagnostic cm-diagnostic-"+e.severity},un("span",{class:"cm-diagnosticText"},e.renderMessage?e.renderMessage(t):e.message),(r=e.actions)===null||r===void 0?void 0:r.map((o,s)=>{let l=!1,a=f=>{if(f.preventDefault(),l)return;l=!0;let d=Bp(t.state.field(Io).diagnostics,e);d&&o.apply(t,d.from,d.to)},{name:u}=o,c=i[s]?u.indexOf(i[s]):-1,h=c<0?u:[u.slice(0,c),un("u",u.slice(c,c+1)),u.slice(c+1)];return un("button",{type:"button",class:"cm-diagnosticAction",onclick:a,onmousedown:a,"aria-label":` Action: ${u}${c<0?"":` (access key "${i[s]})"`}.`},h)}),e.source&&un("div",{class:"cm-diagnosticSource"},e.source))}class IIe extends Su{constructor(e){super(),this.sev=e}eq(e){return e.sev==this.sev}toDOM(){return un("span",{class:"cm-lintPoint cm-lintPoint-"+this.sev})}}class n${constructor(e,n){this.diagnostic=n,this.id="item_"+Math.floor(Math.random()*4294967295).toString(16),this.dom=Ate(e,n,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class Ky{constructor(e){this.view=e,this.items=[];let n=i=>{if(i.keyCode==27)t$(this.view),this.view.focus();else if(i.keyCode==38||i.keyCode==33)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(i.keyCode==40||i.keyCode==34)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(i.keyCode==36)this.moveSelection(0);else if(i.keyCode==35)this.moveSelection(this.items.length-1);else if(i.keyCode==13)this.view.focus();else if(i.keyCode>=65&&i.keyCode<=90&&this.selectedIndex>=0){let{diagnostic:o}=this.items[this.selectedIndex],s=Mte(o.actions);for(let l=0;l<s.length;l++)if(s[l].toUpperCase().charCodeAt(0)==i.keyCode){let a=Bp(this.view.state.field(Io).diagnostics,o);a&&o.actions[l].apply(e,a.from,a.to)}}else return;i.preventDefault()},r=i=>{for(let o=0;o<this.items.length;o++)this.items[o].dom.contains(i.target)&&this.moveSelection(o)};this.list=un("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:n,onclick:r}),this.dom=un("div",{class:"cm-panel-lint"},this.list,un("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>t$(this.view)},"")),this.update()}get selectedIndex(){let e=this.view.state.field(Io).selected;if(!e)return-1;for(let n=0;n<this.items.length;n++)if(this.items[n].diagnostic==e.diagnostic)return n;return-1}update(){let{diagnostics:e,selected:n}=this.view.state.field(Io),r=0,i=!1,o=null,s=new Set;for(e.between(0,this.view.state.doc.length,(l,a,{spec:u})=>{for(let c of u.diagnostics){if(s.has(c))continue;s.add(c);let h=-1,f;for(let d=r;d<this.items.length;d++)if(this.items[d].diagnostic==c){h=d;break}h<0?(f=new n$(this.view,c),this.items.splice(r,0,f),i=!0):(f=this.items[h],h>r&&(this.items.splice(r,h-r),i=!0)),n&&f.diagnostic==n.diagnostic?f.dom.hasAttribute("aria-selected")||(f.dom.setAttribute("aria-selected","true"),o=f):f.dom.hasAttribute("aria-selected")&&f.dom.removeAttribute("aria-selected"),r++}});r<this.items.length&&!(this.items.length==1&&this.items[0].diagnostic.from<0);)i=!0,this.items.pop();this.items.length==0&&(this.items.push(new n$(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),i=!0),o?(this.list.setAttribute("aria-activedescendant",o.id),this.view.requestMeasure({key:this,read:()=>({sel:o.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:l,panel:a})=>{let u=a.height/this.list.offsetHeight;l.top<a.top?this.list.scrollTop-=(a.top-l.top)/u:l.bottom>a.bottom&&(this.list.scrollTop+=(l.bottom-a.bottom)/u)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),i&&this.sync()}sync(){let e=this.list.firstChild;function n(){let r=e;e=r.nextSibling,r.remove()}for(let r of this.items)if(r.dom.parentNode==this.list){for(;e!=r.dom;)n();e=r.dom.nextSibling}else this.list.insertBefore(r.dom,e);for(;e;)n()}moveSelection(e){if(this.selectedIndex<0)return;let n=this.view.state.field(Io),r=Bp(n.diagnostics,this.items[e].diagnostic);r&&this.view.dispatch({selection:{anchor:r.from,head:r.to},scrollIntoView:!0,effects:Tte.of(r)})}static open(e){return new Ky(e)}}function RIe(t,e='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${e}>${encodeURIComponent(t)}</svg>')`}function O4(t){return RIe(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${t}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}const NIe=Ge.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnostic-hint":{borderLeft:"5px solid #66d"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px",cursor:"pointer"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:O4("#d11")},".cm-lintRange-warning":{backgroundImage:O4("orange")},".cm-lintRange-info":{backgroundImage:O4("#999")},".cm-lintRange-hint":{backgroundImage:O4("#66d")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-lintPoint-hint":{"&:after":{borderBottomColor:"#66d"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}});function LIe(t){return t=="error"?4:t=="warning"?3:t=="info"?2:1}function BIe(t){let e="hint",n=1;for(let r of t){let i=LIe(r.severity);i>n&&(n=i,e=r.severity)}return e}const zIe=[Io,Ge.decorations.compute([Io],t=>{let{selected:e,panel:n}=t.field(Io);return!e||!n||e.from==e.to?st.none:st.set([AIe.range(e.from,e.to)])}),kbe(EIe,{hideOn:TIe}),NIe],FIe=[Ibe(),Lbe(),Qxe(),PPe(),v3e(),pY(),Kxe(),Fn.allowMultipleSelections.of(!0),i3e(),BY(k3e,{fallback:!0}),O3e(),fIe(),SIe(),hbe(),pbe(),obe(),s_e(),em.of([...gIe,...Qee,...T_e,...FPe,...p3e,...Ste,..._Ie])];function $Ie(t={}){return new $n({view(e){return new VIe(e,t)}})}class VIe{constructor(e,n){var r;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(r=n.width)!==null&&r!==void 0?r:1,this.color=n.color===!1?void 0:n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(i=>{let o=s=>{this[i](s)};return e.dom.addEventListener(i,o),{name:i,handler:o}})}destroy(){this.handlers.forEach(({name:e,handler:n})=>this.editorView.dom.removeEventListener(e,n))}update(e,n){this.cursorPos!=null&&n.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),n=!e.parent.inlineContent,r,i=this.editorView.dom,o=i.getBoundingClientRect(),s=o.width/i.offsetWidth,l=o.height/i.offsetHeight;if(n){let h=e.nodeBefore,f=e.nodeAfter;if(h||f){let d=this.editorView.nodeDOM(this.cursorPos-(h?h.nodeSize:0));if(d){let p=d.getBoundingClientRect(),m=h?p.bottom:p.top;h&&f&&(m=(m+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let y=this.width/2*l;r={left:p.left,right:p.right,top:m-y,bottom:m+y}}}}if(!r){let h=this.editorView.coordsAtPos(this.cursorPos),f=this.width/2*s;r={left:h.left-f,right:h.left+f,top:h.top,bottom:h.bottom}}let a=this.editorView.dom.offsetParent;this.element||(this.element=a.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n);let u,c;if(!a||a==document.body&&getComputedStyle(a).position=="static")u=-pageXOffset,c=-pageYOffset;else{let h=a.getBoundingClientRect(),f=h.width/a.offsetWidth,d=h.height/a.offsetHeight;u=h.left-a.scrollLeft*f,c=h.top-a.scrollTop*d}this.element.style.left=(r.left-u)/s+"px",this.element.style.top=(r.top-c)/l+"px",this.element.style.width=(r.right-r.left)/s+"px",this.element.style.height=(r.bottom-r.top)/l+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let n=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),r=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),i=r&&r.type.spec.disableDropCursor,o=typeof i=="function"?i(this.editorView,n,e):i;if(n&&!o){let s=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let l=wX(this.editorView.state.doc,s,this.editorView.dragging.slice);l!=null&&(s=l)}this.setCursor(s),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)}}class er extends yt{constructor(e){super(e,e)}map(e,n){let r=e.resolve(n.map(this.head));return er.valid(r)?new er(r):yt.near(r)}content(){return He.empty}eq(e){return e instanceof er&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new er(e.resolve(n.pos))}getBookmark(){return new AP(this.anchor)}static valid(e){let n=e.parent;if(n.isTextblock||!HIe(e)||!jIe(e))return!1;let r=n.type.spec.allowGapCursor;if(r!=null)return r;let i=n.contentMatchAt(e.index()).defaultType;return i&&i.isTextblock}static findGapCursorFrom(e,n,r=!1){e:for(;;){if(!r&&er.valid(e))return e;let i=e.pos,o=null;for(let s=e.depth;;s--){let l=e.node(s);if(n>0?e.indexAfter(s)<l.childCount:e.index(s)>0){o=l.child(n>0?e.indexAfter(s):e.index(s)-1);break}else if(s==0)return null;i+=n;let a=e.doc.resolve(i);if(er.valid(a))return a}for(;;){let s=n>0?o.firstChild:o.lastChild;if(!s){if(o.isAtom&&!o.isText&&!ut.isSelectable(o)){e=e.doc.resolve(i+o.nodeSize*n),r=!1;continue e}break}o=s,i+=n;let l=e.doc.resolve(i);if(er.valid(l))return l}return null}}}er.prototype.visible=!1;er.findFrom=er.findGapCursorFrom;yt.jsonID("gapcursor",er);class AP{constructor(e){this.pos=e}map(e){return new AP(e.map(this.pos))}resolve(e){let n=e.resolve(this.pos);return er.valid(n)?new er(n):yt.near(n)}}function HIe(t){for(let e=t.depth;e>=0;e--){let n=t.index(e),r=t.node(e);if(n==0){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n-1);;i=i.lastChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function jIe(t){for(let e=t.depth;e>=0;e--){let n=t.indexAfter(e),r=t.node(e);if(n==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n);;i=i.firstChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function WIe(){return new $n({props:{decorations:GIe,createSelectionBetween(t,e,n){return e.pos==n.pos&&er.valid(n)?new er(n):null},handleClick:qIe,handleKeyDown:UIe,handleDOMEvents:{beforeinput:KIe}}})}const UIe=dE({ArrowLeft:P4("horiz",-1),ArrowRight:P4("horiz",1),ArrowUp:P4("vert",-1),ArrowDown:P4("vert",1)});function P4(t,e){const n=t=="vert"?e>0?"down":"up":e>0?"right":"left";return function(r,i,o){let s=r.selection,l=e>0?s.$to:s.$from,a=s.empty;if(s instanceof nt){if(!o.endOfTextblock(n)||l.depth==0)return!1;a=!1,l=r.doc.resolve(e>0?l.after():l.before())}let u=er.findGapCursorFrom(l,e,a);return u?(i&&i(r.tr.setSelection(new er(u))),!0):!1}}function qIe(t,e,n){if(!t||!t.editable)return!1;let r=t.state.doc.resolve(e);if(!er.valid(r))return!1;let i=t.posAtCoords({left:n.clientX,top:n.clientY});return i&&i.inside>-1&&ut.isSelectable(t.state.doc.nodeAt(i.inside))?!1:(t.dispatch(t.state.tr.setSelection(new er(r))),!0)}function KIe(t,e){if(e.inputType!="insertCompositionText"||!(t.state.selection instanceof er))return!1;let{$from:n}=t.state.selection,r=n.parent.contentMatchAt(n.index()).findWrapping(t.state.schema.nodes.text);if(!r)return!1;let i=_e.empty;for(let s=r.length-1;s>=0;s--)i=_e.from(r[s].createAndFill(null,i));let o=t.state.tr.replace(n.pos,n.pos,new He(i,0,0));return o.setSelection(nt.near(o.doc.resolve(n.pos+1))),t.dispatch(o),!1}function GIe(t){if(!(t.selection instanceof er))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",hn.create(t.doc,[gr.widget(t.selection.head,e,{key:"gapcursor"})])}function EP(t,e){return Object.assign(t,{meta:{package:"@milkdown/plugin-cursor",...e}}),t}const i6=ln({},"dropCursorConfig");EP(i6,{displayName:"Ctx<dropCursor>"});const Ete=Cr(t=>$Ie(t.get(i6.key)));EP(Ete,{displayName:"Prose<dropCursor>"});const Ote=Cr(()=>WIe());EP(Ote,{displayName:"Prose<gapCursor>"});const YIe=[i6,Ete,Ote];function XIe(t){var e;const n=(e=void 0)!=null?e:!1;let r=typeof document>"u"?null:document.createElement("div");return new $n({key:JIe,view:i=>{n!==!0&&tRe(i.state.schema,n||[]);const o=i.dom.ownerDocument;r=r||document.createElement("div");const s=r,l=()=>{QIe(i,s)};let a;return window.ResizeObserver&&(a=new window.ResizeObserver(()=>l()),a.observe(i.dom)),o.addEventListener("selectionchange",l),{update:()=>{l()},destroy:()=>{o.removeEventListener("selectionchange",l),a&&a.unobserve(i.dom)}}},props:{handleKeyDown:(i,o)=>{var s;const{selection:l}=i.state;if(o.altKey||o.ctrlKey||o.metaKey||o.shiftKey||o.isComposing||!["ArrowLeft","ArrowRight"].includes(o.key)||!tT(l)||!l.empty)return!1;const a=l.$head,[u,c]=Pte(a),h=i.state.storedMarks||a.marks();if(u&&c&&!It.sameSet(u,c)){if(o.key==="ArrowLeft"&&!It.sameSet(u,h))return i.dispatch(i.state.tr.setStoredMarks(u)),!0;if(o.key==="ArrowRight"&&!It.sameSet(c,h))return i.dispatch(i.state.tr.setStoredMarks(c)),!0}return o.key==="ArrowLeft"&&a.textOffset===1?(i.dispatch(i.state.tr.setSelection(nt.create(i.state.doc,a.pos-1)).setStoredMarks(a.marks())),!0):o.key==="ArrowRight"&&a.textOffset+1===((s=a.parent.maybeChild(a.index()))==null?void 0:s.nodeSize)?(i.dispatch(i.state.tr.setSelection(nt.create(i.state.doc,a.pos+1)).setStoredMarks(a.marks())),!0):!1},decorations:i=>{if(!(!r||!tT(i.selection)||!i.selection.empty))return hn.create(i.doc,[gr.widget(0,r,{key:"prosemirror-virtual-cursor"})])},attributes:{class:"virtual-cursor-enabled"}}})}var JIe=new Xn("prosemirror-virtual-cursor");function ZIe(t,e){var n;const r=window.getSelection();if(!r||!r.rangeCount)return null;const i=(n=r==null?void 0:r.getRangeAt(0))==null?void 0:n.cloneRange();if(!i)return null;i.collapse(e);const o=i.getClientRects(),s=o!=null&&o.length?o[o.length-1]:null;return s!=null&&s.height?s:t.coordsAtPos(t.state.selection.head)}function Pte(t){const e=t.index(),n=t.parent.maybeChild(e);let r=t.textOffset?n:null;return!r&&e>0&&(r=t.parent.maybeChild(e-1)),[r==null?void 0:r.marks,n==null?void 0:n.marks]}function tT(t){return t&&typeof t=="object"&&"$cursor"in t}function QIe(t,e){if(!t||!t.dom||t.isDestroyed||!e)return;const{state:n,dom:r}=t,{selection:i}=n;if(!tT(i))return;const o=ZIe(t,i.$head===i.$from);if(!o)return e;const s=r.getBoundingClientRect();let l="prosemirror-virtual-cursor";const a=n.selection.$head,[u,c]=Pte(a),h=n.storedMarks||a.marks();i.$cursor&&u&&c&&h&&!It.sameSet(u,c)&&(It.sameSet(u,h)?l+=" prosemirror-virtual-cursor-left":It.sameSet(c,h)&&(l+=" prosemirror-virtual-cursor-right")),e.className=l,eRe(e,"prosemirror-virtual-cursor-animation"),e.style.height=`${o.bottom-o.top}px`,e.style.left=`${o.left-s.left}px`,e.style.top=`${o.top-s.top}px`}function eRe(t,e){t.classList.remove(e),t.offsetWidth,t.classList.add(e)}function tRe(t,e){for(const[n,r]of Object.entries(t.marks))r.spec.inclusive===!1&&!e.includes(n)&&console.warn(`[prosemirror-virtual-cursor] Virtual cursor does not work well with marks that have inclusive set to false. Please consider removing the inclusive option from the "${n}" mark or adding it to the "skipWarning" option.`)}var nRe=Object.defineProperty,r$=Object.getOwnPropertySymbols,rRe=Object.prototype.hasOwnProperty,iRe=Object.prototype.propertyIsEnumerable,i$=(t,e,n)=>e in t?nRe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,oRe=(t,e)=>{for(var n in e||(e={}))rRe.call(e,n)&&i$(t,n,e[n]);if(r$)for(var n of r$(e))iRe.call(e,n)&&i$(t,n,e[n]);return t};function Dte(t,e){return Object.assign(t,{meta:oRe({package:"@milkdown/components"},e)}),t}const sRe={imageIcon:"",uploadButton:"Upload",confirmButton:"",uploadPlaceholderText:"/Paste",onUpload:t=>Promise.resolve(URL.createObjectURL(t))},o6=ln(sRe,"inlineImageConfigCtx");Dte(o6,{displayName:"Config<image-inline>",group:"ImageInline"});function Jw({icon:t,class:e,onClick:n}){return te("span",{class:gi("milkdown-icon",e),onPointerdown:n,ref:r=>{r&&t&&(r.innerHTML=dl.sanitize(t.trim()))}})}Jw.props={icon:{type:String,required:!1},class:{type:String,required:!1},onClick:{type:Function,required:!1}};const lRe=$Q("abcdefg",8),aRe=Yr({props:{src:{type:Object,required:!0},selected:{type:Object,required:!0},readonly:{type:Object,required:!0},setLink:{type:Function,required:!0},imageIcon:{type:String,required:!1},uploadButton:{type:String,required:!1},confirmButton:{type:String,required:!1},uploadPlaceholderText:{type:String,required:!1},onUpload:{type:Function,required:!0}},setup({readonly:t,src:e,setLink:n,onUpload:r,imageIcon:i,uploadButton:o,confirmButton:s,uploadPlaceholderText:l,className:a}){var u,c;const h=Ze(!1),f=Ze(),d=Ze((u=e.value)!=null?u:""),p=Ze(lRe()),m=Ze(((c=e.value)==null?void 0:c.length)!==0),y=b=>{const k=b.target.value;m.value=k.length!==0,d.value=k},g=b=>{var S,k;b.key==="Enter"&&n((k=(S=f.value)==null?void 0:S.value)!=null?k:"")},v=()=>{var b,S;n((S=(b=f.value)==null?void 0:b.value)!=null?S:"")},w=b=>{var S;const k=(S=b.target.files)==null?void 0:S[0];k&&r(k).then(T=>{T&&(n(T),m.value=!0)}).catch(T=>{console.error("An error occurred while uploading image"),console.error(T)})};return()=>te("div",{class:gi("image-edit",a)},te(Jw,{icon:i,class:"image-icon"}),te("div",{class:gi("link-importer",h.value&&"focus")},te("input",{ref:f,draggable:"true",onDragstart:b=>{b.preventDefault(),b.stopPropagation()},disabled:t.value,class:"link-input-area",value:d.value,onInput:y,onKeydown:g,onFocus:()=>h.value=!0,onBlur:()=>h.value=!1}),!m.value&&te("div",{class:"placeholder"},te("input",{disabled:t.value,class:"hidden",id:p.value,type:"file",accept:"image/*",onChange:w}),te("label",{class:"uploader",for:p.value},te(Jw,{icon:o})),te("span",{class:"text",onClick:()=>{var b;return(b=f.value)==null?void 0:b.focus()}},l))),d.value&&te("div",{class:"confirm",onClick:()=>v()},te(Jw,{icon:s})))}}),uRe=Yr({props:{src:{type:Object,required:!0},alt:{type:Object,required:!0},title:{type:Object,required:!0},selected:{type:Object,required:!0},readonly:{type:Object,required:!0},setAttr:{type:Function,required:!0},config:{type:Object,required:!0}},setup(t){const{src:e,alt:n,title:r}=t;return()=>{var i;return(i=e.value)!=null&&i.length?te("img",{class:"image-inline",src:e.value,alt:n.value,title:r.value}):te(aRe,{src:t.src,selected:t.selected,readonly:t.readonly,setLink:o=>t.setAttr("src",o),imageIcon:t.config.imageIcon,uploadButton:t.config.uploadButton,confirmButton:t.config.confirmButton,uploadPlaceholderText:t.config.uploadPlaceholderText,onUpload:t.config.onUpload,className:"empty-image-inline"})}}}),_te=Xv(id.node,t=>(e,n,r)=>{const i=Ze(e.attrs.src),o=Ze(e.attrs.alt),s=Ze(e.attrs.title),l=Ze(!1),a=Ze(!n.editable),u=(y,g)=>{if(!n.editable)return;const v=r();v!=null&&n.dispatch(n.state.tr.setNodeAttribute(v,y,y==="src"?dl.sanitize(g):g))},c=t.get(o6.key),h=fl(uRe,{src:i,alt:o,title:s,selected:l,readonly:a,setAttr:u,config:c}),f=document.createElement("span");f.className="milkdown-image-inline",h.mount(f);const d=am(()=>{l.value?f.classList.add("selected"):f.classList.remove("selected")}),p=c.proxyDomURL,m=y=>{if(!p)i.value=y.attrs.src;else{const g=p(y.attrs.src);typeof g=="string"?i.value=g:g.then(v=>{i.value=v}).catch(console.error)}o.value=y.attrs.alt,s.value=y.attrs.title};return m(e),{dom:f,update:y=>y.type!==e.type?!1:(m(y),!0),stopEvent:y=>y.target instanceof HTMLInputElement,selectNode:()=>{l.value=!0},deselectNode:()=>{l.value=!1},destroy:()=>{d(),h.unmount(),f.remove()}}});Dte(_te,{displayName:"NodeView<image-inline>",group:"ImageInline"});const cRe=[o6,_te];class Ao{constructor(e,n,r){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=e,this.start=n,this.end=r}static range(e,n){return n?!e||!e.loc||!n.loc||e.loc.lexer!==n.loc.lexer?null:new Ao(e.loc.lexer,e.loc.start,n.loc.end):e&&e.loc}}class xs{constructor(e,n){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=e,this.loc=n}range(e,n){return new xs(n,Ao.range(this,e))}}class Ee{constructor(e,n){this.name=void 0,this.position=void 0,this.length=void 0,this.rawMessage=void 0;var r="KaTeX parse error: "+e,i,o,s=n&&n.loc;if(s&&s.start<=s.end){var l=s.lexer.input;i=s.start,o=s.end,i===l.length?r+=" at end of input: ":r+=" at position "+(i+1)+": ";var a=l.slice(i,o).replace(/[^]/g,"$&"),u;i>15?u=""+l.slice(i-15,i):u=l.slice(0,i);var c;o+15<l.length?c=l.slice(o,o+15)+"":c=l.slice(o),r+=u+a+c}var h=new Error(r);return h.name="ParseError",h.__proto__=Ee.prototype,h.position=i,i!=null&&o!=null&&(h.length=o-i),h.rawMessage=e,h}}Ee.prototype.__proto__=Error.prototype;var hRe=function(e,n){return e.indexOf(n)!==-1},fRe=function(e,n){return e===void 0?n:e},dRe=/([A-Z])/g,pRe=function(e){return e.replace(dRe,"-$1").toLowerCase()},mRe={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},gRe=/[&><"']/g;function yRe(t){return String(t).replace(gRe,e=>mRe[e])}var Ite=function t(e){return e.type==="ordgroup"||e.type==="color"?e.body.length===1?t(e.body[0]):e:e.type==="font"?t(e.body):e},vRe=function(e){var n=Ite(e);return n.type==="mathord"||n.type==="textord"||n.type==="atom"},wRe=function(e){if(!e)throw new Error("Expected non-null, but got "+String(e));return e},xRe=function(e){var n=/^[\x00-\x20]*([^\\/#?]*?)(:|&#0*58|&#x0*3a|&colon)/i.exec(e);return n?n[2]!==":"||!/^[a-zA-Z][a-zA-Z0-9+\-.]*$/.test(n[1])?null:n[1].toLowerCase():"_relative"},lt={contains:hRe,deflt:fRe,escape:yRe,hyphenate:pRe,getBaseElem:Ite,isCharacterBox:vRe,protocolFromUrl:xRe},Zw={displayMode:{type:"boolean",description:"Render math in display mode, which puts the math in display style (so \\int and \\sum are large, for example), and centers the math on the page on its own line.",cli:"-d, --display-mode"},output:{type:{enum:["htmlAndMathml","html","mathml"]},description:"Determines the markup language of the output.",cli:"-F, --format <type>"},leqno:{type:"boolean",description:"Render display math in leqno style (left-justified tags)."},fleqn:{type:"boolean",description:"Render display math flush left."},throwOnError:{type:"boolean",default:!0,cli:"-t, --no-throw-on-error",cliDescription:"Render errors (in the color given by --error-color) instead of throwing a ParseError exception when encountering an error."},errorColor:{type:"string",default:"#cc0000",cli:"-c, --error-color <color>",cliDescription:"A color string given in the format 'rgb' or 'rrggbb' (no #). This option determines the color of errors rendered by the -t option.",cliProcessor:t=>"#"+t},macros:{type:"object",cli:"-m, --macro <def>",cliDescription:"Define custom macro of the form '\\foo:expansion' (use multiple -m arguments for multiple macros).",cliDefault:[],cliProcessor:(t,e)=>(e.push(t),e)},minRuleThickness:{type:"number",description:"Specifies a minimum thickness, in ems, for fraction lines, `\\sqrt` top lines, `{array}` vertical lines, `\\hline`, `\\hdashline`, `\\underline`, `\\overline`, and the borders of `\\fbox`, `\\boxed`, and `\\fcolorbox`.",processor:t=>Math.max(0,t),cli:"--min-rule-thickness <size>",cliProcessor:parseFloat},colorIsTextColor:{type:"boolean",description:"Makes \\color behave like LaTeX's 2-argument \\textcolor, instead of LaTeX's one-argument \\color mode change.",cli:"-b, --color-is-text-color"},strict:{type:[{enum:["warn","ignore","error"]},"boolean","function"],description:"Turn on strict / LaTeX faithfulness mode, which throws an error if the input uses features that are not supported by LaTeX.",cli:"-S, --strict",cliDefault:!1},trust:{type:["boolean","function"],description:"Trust the input, enabling all HTML features such as \\url.",cli:"-T, --trust"},maxSize:{type:"number",default:1/0,description:"If non-zero, all user-specified sizes, e.g. in \\rule{500em}{500em}, will be capped to maxSize ems. Otherwise, elements and spaces can be arbitrarily large",processor:t=>Math.max(0,t),cli:"-s, --max-size <n>",cliProcessor:parseInt},maxExpand:{type:"number",default:1e3,description:"Limit the number of macro expansions to the specified number, to prevent e.g. infinite macro loops. If set to Infinity, the macro expander will try to fully expand as in LaTeX.",processor:t=>Math.max(0,t),cli:"-e, --max-expand <n>",cliProcessor:t=>t==="Infinity"?1/0:parseInt(t)},globalGroup:{type:"boolean",cli:!1}};function bRe(t){if(t.default)return t.default;var e=t.type,n=Array.isArray(e)?e[0]:e;if(typeof n!="string")return n.enum[0];switch(n){case"boolean":return!1;case"string":return"";case"number":return 0;case"object":return{}}}class OP{constructor(e){this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,e=e||{};for(var n in Zw)if(Zw.hasOwnProperty(n)){var r=Zw[n];this[n]=e[n]!==void 0?r.processor?r.processor(e[n]):e[n]:bRe(r)}}reportNonstrict(e,n,r){var i=this.strict;if(typeof i=="function"&&(i=i(e,n,r)),!(!i||i==="ignore")){if(i===!0||i==="error")throw new Ee("LaTeX-incompatible input and strict mode is set to 'error': "+(n+" ["+e+"]"),r);i==="warn"?typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(n+" ["+e+"]")):typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+i+"': "+n+" ["+e+"]"))}}useStrictBehavior(e,n,r){var i=this.strict;if(typeof i=="function")try{i=i(e,n,r)}catch{i="error"}return!i||i==="ignore"?!1:i===!0||i==="error"?!0:i==="warn"?(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(n+" ["+e+"]")),!1):(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+i+"': "+n+" ["+e+"]")),!1)}isTrusted(e){if(e.url&&!e.protocol){var n=lt.protocolFromUrl(e.url);if(n==null)return!1;e.protocol=n}var r=typeof this.trust=="function"?this.trust(e):this.trust;return!!r}}class Lu{constructor(e,n,r){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=e,this.size=n,this.cramped=r}sup(){return _l[kRe[this.id]]}sub(){return _l[SRe[this.id]]}fracNum(){return _l[CRe[this.id]]}fracDen(){return _l[TRe[this.id]]}cramp(){return _l[MRe[this.id]]}text(){return _l[ARe[this.id]]}isTight(){return this.size>=2}}var PP=0,sb=1,D0=2,iu=3,Gy=4,ps=5,zp=6,Di=7,_l=[new Lu(PP,0,!1),new Lu(sb,0,!0),new Lu(D0,1,!1),new Lu(iu,1,!0),new Lu(Gy,2,!1),new Lu(ps,2,!0),new Lu(zp,3,!1),new Lu(Di,3,!0)],kRe=[Gy,ps,Gy,ps,zp,Di,zp,Di],SRe=[ps,ps,ps,ps,Di,Di,Di,Di],CRe=[D0,iu,Gy,ps,zp,Di,zp,Di],TRe=[iu,iu,ps,ps,Di,Di,Di,Di],MRe=[sb,sb,iu,iu,ps,ps,Di,Di],ARe=[PP,sb,D0,iu,D0,iu,D0,iu],ft={DISPLAY:_l[PP],TEXT:_l[D0],SCRIPT:_l[Gy],SCRIPTSCRIPT:_l[zp]},nT=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}];function ERe(t){for(var e=0;e<nT.length;e++)for(var n=nT[e],r=0;r<n.blocks.length;r++){var i=n.blocks[r];if(t>=i[0]&&t<=i[1])return n.name}return null}var Qw=[];nT.forEach(t=>t.blocks.forEach(e=>Qw.push(...e)));function Rte(t){for(var e=0;e<Qw.length;e+=2)if(t>=Qw[e]&&t<=Qw[e+1])return!0;return!1}var Sd=80,ORe=function(e,n){return"M95,"+(622+e+n)+`
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l`+e/2.075+" -"+e+`
c5.3,-9.3,12,-14,20,-14
H400000v`+(40+e)+`H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M`+(834+e)+" "+n+"h400000v"+(40+e)+"h-400000z"},PRe=function(e,n){return"M263,"+(601+e+n)+`c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l`+e/2.084+" -"+e+`
c4.7,-7.3,11,-11,19,-11
H40000v`+(40+e)+`H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M`+(1001+e)+" "+n+"h400000v"+(40+e)+"h-400000z"},DRe=function(e,n){return"M983 "+(10+e+n)+`
l`+e/3.13+" -"+e+`
c4,-6.7,10,-10,18,-10 H400000v`+(40+e)+`
H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7
s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744
c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30
c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722
c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5
c53.7,-170.3,84.5,-266.8,92.5,-289.5z
M`+(1001+e)+" "+n+"h400000v"+(40+e)+"h-400000z"},_Re=function(e,n){return"M424,"+(2398+e+n)+`
c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514
c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20
s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121
s209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081
l`+e/4.223+" -"+e+`c4,-6.7,10,-10,18,-10 H400000
v`+(40+e)+`H1014.6
s-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185
c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2z M`+(1001+e)+" "+n+`
h400000v`+(40+e)+"h-400000z"},IRe=function(e,n){return"M473,"+(2713+e+n)+`
c339.3,-1799.3,509.3,-2700,510,-2702 l`+e/5.298+" -"+e+`
c3.3,-7.3,9.3,-11,18,-11 H400000v`+(40+e)+`H1017.7
s-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200
c0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26
s76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,
606zM`+(1001+e)+" "+n+"h400000v"+(40+e)+"H1017.7z"},RRe=function(e){var n=e/2;return"M400000 "+e+" H0 L"+n+" 0 l65 45 L145 "+(e-80)+" H400000z"},NRe=function(e,n,r){var i=r-54-n-e;return"M702 "+(e+n)+"H400000"+(40+e)+`
H742v`+i+`l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1
h-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170
c-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667
219 661 l218 661zM702 `+n+"H400000v"+(40+e)+"H742z"},LRe=function(e,n,r){n=1e3*n;var i="";switch(e){case"sqrtMain":i=ORe(n,Sd);break;case"sqrtSize1":i=PRe(n,Sd);break;case"sqrtSize2":i=DRe(n,Sd);break;case"sqrtSize3":i=_Re(n,Sd);break;case"sqrtSize4":i=IRe(n,Sd);break;case"sqrtTall":i=NRe(n,Sd,r)}return i},BRe=function(e,n){switch(e){case"":return"M291 0 H417 V"+n+" H291z M291 0 H417 V"+n+" H291z";case"":return"M145 0 H188 V"+n+" H145z M145 0 H188 V"+n+" H145z";case"":return"M145 0 H188 V"+n+" H145z M145 0 H188 V"+n+" H145z"+("M367 0 H410 V"+n+" H367z M367 0 H410 V"+n+" H367z");case"":return"M457 0 H583 V"+n+" H457z M457 0 H583 V"+n+" H457z";case"":return"M319 0 H403 V"+n+" H319z M319 0 H403 V"+n+" H319z";case"":return"M263 0 H347 V"+n+" H263z M263 0 H347 V"+n+" H263z";case"":return"M384 0 H504 V"+n+" H384z M384 0 H504 V"+n+" H384z";case"":return"M312 0 H355 V"+n+" H312z M312 0 H355 V"+n+" H312z";case"":return"M257 0 H300 V"+n+" H257z M257 0 H300 V"+n+" H257z"+("M478 0 H521 V"+n+" H478z M478 0 H521 V"+n+" H478z");default:return""}},o$={doubleleftarrow:`M262 157
l10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3
 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28
 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5
c2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5
 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87
-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7
-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z
m8 0v40h399730v-40zm0 194v40h399730v-40z`,doublerightarrow:`M399738 392l
-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5
 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88
-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68
-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18
-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782
c-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3
-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z`,leftarrow:`M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z`,leftbrace:`M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117
-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7
 5-6 9-10 13-.7 1-7.3 1-20 1H6z`,leftbraceunder:`M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z`,leftgroup:`M400000 80
H435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0
 435 0h399565z`,leftgroupunder:`M400000 262
H435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219
 435 219h399565z`,leftharpoon:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3
-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5
-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7
-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z`,leftharpoonplus:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5
 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3
-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7
-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z
m0 0v40h400000v-40z`,leftharpoondown:`M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333
 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5
 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667
-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z`,leftharpoondownplus:`M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12
 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7
-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0
v40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z`,lefthook:`M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5
-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3
-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21
 71.5 23h399859zM103 281v-40h399897v40z`,leftlinesegment:`M40 281 V428 H0 V94 H40 V241 H400000 v40z
M40 281 V428 H0 V94 H40 V241 H400000 v40z`,leftmapsto:`M40 281 V448H0V74H40V241H400000v40z
M40 281 V448H0V74H40V241H400000v40z`,leftToFrom:`M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23
-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8
c28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3
 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z`,longequal:`M0 50 h400000 v40H0z m0 194h40000v40H0z
M0 50 h400000 v40H0z m0 194h40000v40H0z`,midbrace:`M200428 334
c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14
-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7
 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11
 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z`,midbraceunder:`M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z`,oiintSize1:`M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6
-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z
m368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8
60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z`,oiintSize2:`M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8
-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z
m502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2
c0 110 84 276 504 276s502.4-166 502.4-276z`,oiiintSize1:`M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6
-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z
m525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0
85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z`,oiiintSize2:`M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8
-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z
m770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1
c0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z`,rightarrow:`M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z`,rightbrace:`M400000 542l
-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5
s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1
c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z`,rightbraceunder:`M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z`,rightgroup:`M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0
 3-1 3-3v-38c-76-158-257-219-435-219H0z`,rightgroupunder:`M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18
 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z`,rightharpoon:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3
-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2
-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58
 69.2 92 94.5zm0 0v40h399900v-40z`,rightharpoonplus:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11
-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7
 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z
m0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z`,rightharpoondown:`M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8
 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5
-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95
-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z`,rightharpoondownplus:`M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8
 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3
 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3
-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z
m0-194v40h400000v-40zm0 0v40h400000v-40z`,righthook:`M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3
 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0
-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21
 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z`,rightlinesegment:`M399960 241 V94 h40 V428 h-40 V281 H0 v-40z
M399960 241 V94 h40 V428 h-40 V281 H0 v-40z`,rightToFrom:`M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23
 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32
-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142
-167z M100 147v40h399900v-40zM0 341v40h399900v-40z`,twoheadleftarrow:`M0 167c68 40
 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69
-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3
-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19
-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101
 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z`,twoheadrightarrow:`M400000 167
c-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3
 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42
 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333
-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70
 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z`,tilde1:`M200 55.538c-77 0-168 73.953-177 73.953-3 0-7
-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0
 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0
 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128
-68.267.847-113-73.952-191-73.952z`,tilde2:`M344 55.266c-142 0-300.638 81.316-311.5 86.418
-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9
 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114
c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751
 181.476 676 181.476c-149 0-189-126.21-332-126.21z`,tilde3:`M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457
-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0
 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697
 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696
 -338 0-409-156.573-744-156.573z`,tilde4:`M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345
-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409
 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9
 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409
 -175.236-744-175.236z`,vec:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`,widehat1:`M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z`,widehat2:`M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat3:`M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat4:`M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widecheck1:`M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,
-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z`,widecheck2:`M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck3:`M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck4:`M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,baraboveleftarrow:`M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202
c4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5
c-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130
s-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47
121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6
s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11
c0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z
M100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z`,rightarrowabovebar:`M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32
-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0
13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39
-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5
-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z`,baraboveshortleftharpoon:`M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17
c2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21
c-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40
c-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z
M0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z`,rightharpoonaboveshortbar:`M0,241 l0,40c399126,0,399993,0,399993,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z`,shortbaraboveleftharpoon:`M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,
1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,
-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z
M93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z`,shortrightharpoonabovebar:`M53,241l0,40c398570,0,399437,0,399437,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z`},zRe=function(e,n){switch(e){case"lbrack":return"M403 1759 V84 H666 V0 H319 V1759 v"+n+` v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v`+n+" v1759 h84z";case"rbrack":return"M347 1759 V0 H0 V84 H263 V1759 v"+n+` v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v`+n+" v1759 h84z";case"vert":return"M145 15 v585 v"+n+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-n+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+n+" v585 h43z";case"doublevert":return"M145 15 v585 v"+n+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-n+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+n+` v585 h43z
M367 15 v585 v`+n+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-n+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M410 15 H367 v585 v`+n+" v585 h43z";case"lfloor":return"M319 602 V0 H403 V602 v"+n+` v1715 h263 v84 H319z
MM319 602 V0 H403 V602 v`+n+" v1715 H319z";case"rfloor":return"M319 602 V0 H403 V602 v"+n+` v1799 H0 v-84 H319z
MM319 602 V0 H403 V602 v`+n+" v1715 H319z";case"lceil":return"M403 1759 V84 H666 V0 H319 V1759 v"+n+` v602 h84z
M403 1759 V0 H319 V1759 v`+n+" v602 h84z";case"rceil":return"M347 1759 V0 H0 V84 H263 V1759 v"+n+` v602 h84z
M347 1759 V0 h-84 V1759 v`+n+" v602 h84z";case"lparen":return`M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,`+(n+84)+`c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-`+(n+92)+`c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z`;case"rparen":return`M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,`+(n+9)+`
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-`+(n+144)+`c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z`;default:throw new Error("Unknown stretchy delimiter.")}};class d2{constructor(e){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=e,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}hasClass(e){return lt.contains(this.classes,e)}toNode(){for(var e=document.createDocumentFragment(),n=0;n<this.children.length;n++)e.appendChild(this.children[n].toNode());return e}toMarkup(){for(var e="",n=0;n<this.children.length;n++)e+=this.children[n].toMarkup();return e}toText(){var e=n=>n.toText();return this.children.map(e).join("")}}var Vl={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8773:[.027,.638,0,0,.894],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.123,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,.778],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.673,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.903,0,0,.278],8943:[-.19,.313,0,0,1.172],8945:[-.1,.823,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.745,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.745,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}},D4={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},s$={:"A",:"D",:"o",:"a",:"d",:"o",:"A",:"B",:"B",:"F",:"A",:"E",:"K",:"3",:"N",:"N",:"K",:"N",:"M",:"H",:"O",:"N",:"P",:"C",:"T",:"y",:"O",:"X",:"U",:"h",:"W",:"W",:"B",:"X",:"B",:"3",:"X",:"R",:"a",:"b",:"a",:"r",:"y",:"e",:"m",:"e",:"n",:"n",:"n",:"n",:"m",:"n",:"o",:"n",:"p",:"c",:"o",:"y",:"b",:"x",:"n",:"n",:"w",:"w",:"a",:"m",:"a",:"e",:"m",:"r"};function FRe(t,e){Vl[t]=e}function DP(t,e,n){if(!Vl[e])throw new Error("Font metrics not found for font: "+e+".");var r=t.charCodeAt(0),i=Vl[e][r];if(!i&&t[0]in s$&&(r=s$[t[0]].charCodeAt(0),i=Vl[e][r]),!i&&n==="text"&&Rte(r)&&(i=Vl[e][77]),i)return{depth:i[0],height:i[1],italic:i[2],skew:i[3],width:i[4]}}var r8={};function $Re(t){var e;if(t>=5?e=0:t>=3?e=1:e=2,!r8[e]){var n=r8[e]={cssEmPerMu:D4.quad[e]/18};for(var r in D4)D4.hasOwnProperty(r)&&(n[r]=D4[r][e])}return r8[e]}var VRe=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],l$=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],a$=function(e,n){return n.size<2?e:VRe[e-1][n.size-1]};class _a{constructor(e){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=e.style,this.color=e.color,this.size=e.size||_a.BASESIZE,this.textSize=e.textSize||this.size,this.phantom=!!e.phantom,this.font=e.font||"",this.fontFamily=e.fontFamily||"",this.fontWeight=e.fontWeight||"",this.fontShape=e.fontShape||"",this.sizeMultiplier=l$[this.size-1],this.maxSize=e.maxSize,this.minRuleThickness=e.minRuleThickness,this._fontMetrics=void 0}extend(e){var n={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(var r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);return new _a(n)}havingStyle(e){return this.style===e?this:this.extend({style:e,size:a$(this.textSize,e)})}havingCrampedStyle(){return this.havingStyle(this.style.cramp())}havingSize(e){return this.size===e&&this.textSize===e?this:this.extend({style:this.style.text(),size:e,textSize:e,sizeMultiplier:l$[e-1]})}havingBaseStyle(e){e=e||this.style.text();var n=a$(_a.BASESIZE,e);return this.size===n&&this.textSize===_a.BASESIZE&&this.style===e?this:this.extend({style:e,size:n})}havingBaseSizing(){var e;switch(this.style.id){case 4:case 5:e=3;break;case 6:case 7:e=1;break;default:e=6}return this.extend({style:this.style.text(),size:e})}withColor(e){return this.extend({color:e})}withPhantom(){return this.extend({phantom:!0})}withFont(e){return this.extend({font:e})}withTextFontFamily(e){return this.extend({fontFamily:e,font:""})}withTextFontWeight(e){return this.extend({fontWeight:e,font:""})}withTextFontShape(e){return this.extend({fontShape:e,font:""})}sizingClasses(e){return e.size!==this.size?["sizing","reset-size"+e.size,"size"+this.size]:[]}baseSizingClasses(){return this.size!==_a.BASESIZE?["sizing","reset-size"+this.size,"size"+_a.BASESIZE]:[]}fontMetrics(){return this._fontMetrics||(this._fontMetrics=$Re(this.size)),this._fontMetrics}getColor(){return this.phantom?"transparent":this.color}}_a.BASESIZE=6;var rT={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:803/800,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:803/800},HRe={ex:!0,em:!0,mu:!0},Nte=function(e){return typeof e!="string"&&(e=e.unit),e in rT||e in HRe||e==="ex"},qn=function(e,n){var r;if(e.unit in rT)r=rT[e.unit]/n.fontMetrics().ptPerEm/n.sizeMultiplier;else if(e.unit==="mu")r=n.fontMetrics().cssEmPerMu;else{var i;if(n.style.isTight()?i=n.havingStyle(n.style.text()):i=n,e.unit==="ex")r=i.fontMetrics().xHeight;else if(e.unit==="em")r=i.fontMetrics().quad;else throw new Ee("Invalid unit: '"+e.unit+"'");i!==n&&(r*=i.sizeMultiplier/n.sizeMultiplier)}return Math.min(e.number*r,n.maxSize)},Re=function(e){return+e.toFixed(4)+"em"},Kc=function(e){return e.filter(n=>n).join(" ")},Lte=function(e,n,r){if(this.classes=e||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=r||{},n){n.style.isTight()&&this.classes.push("mtight");var i=n.getColor();i&&(this.style.color=i)}},Bte=function(e){var n=document.createElement(e);n.className=Kc(this.classes);for(var r in this.style)this.style.hasOwnProperty(r)&&(n.style[r]=this.style[r]);for(var i in this.attributes)this.attributes.hasOwnProperty(i)&&n.setAttribute(i,this.attributes[i]);for(var o=0;o<this.children.length;o++)n.appendChild(this.children[o].toNode());return n},jRe=/[\s"'>/=\x00-\x1f]/,zte=function(e){var n="<"+e;this.classes.length&&(n+=' class="'+lt.escape(Kc(this.classes))+'"');var r="";for(var i in this.style)this.style.hasOwnProperty(i)&&(r+=lt.hyphenate(i)+":"+this.style[i]+";");r&&(n+=' style="'+lt.escape(r)+'"');for(var o in this.attributes)if(this.attributes.hasOwnProperty(o)){if(jRe.test(o))throw new Ee("Invalid attribute name '"+o+"'");n+=" "+o+'="'+lt.escape(this.attributes[o])+'"'}n+=">";for(var s=0;s<this.children.length;s++)n+=this.children[s].toMarkup();return n+="</"+e+">",n};class p2{constructor(e,n,r,i){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,Lte.call(this,e,r,i),this.children=n||[]}setAttribute(e,n){this.attributes[e]=n}hasClass(e){return lt.contains(this.classes,e)}toNode(){return Bte.call(this,"span")}toMarkup(){return zte.call(this,"span")}}class _P{constructor(e,n,r,i){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,Lte.call(this,n,i),this.children=r||[],this.setAttribute("href",e)}setAttribute(e,n){this.attributes[e]=n}hasClass(e){return lt.contains(this.classes,e)}toNode(){return Bte.call(this,"a")}toMarkup(){return zte.call(this,"a")}}class WRe{constructor(e,n,r){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=n,this.src=e,this.classes=["mord"],this.style=r}hasClass(e){return lt.contains(this.classes,e)}toNode(){var e=document.createElement("img");e.src=this.src,e.alt=this.alt,e.className="mord";for(var n in this.style)this.style.hasOwnProperty(n)&&(e.style[n]=this.style[n]);return e}toMarkup(){var e='<img src="'+lt.escape(this.src)+'"'+(' alt="'+lt.escape(this.alt)+'"'),n="";for(var r in this.style)this.style.hasOwnProperty(r)&&(n+=lt.hyphenate(r)+":"+this.style[r]+";");return n&&(e+=' style="'+lt.escape(n)+'"'),e+="'/>",e}}var URe={:"",:"",:"",:""};class As{constructor(e,n,r,i,o,s,l,a){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=e,this.height=n||0,this.depth=r||0,this.italic=i||0,this.skew=o||0,this.width=s||0,this.classes=l||[],this.style=a||{},this.maxFontSize=0;var u=ERe(this.text.charCodeAt(0));u&&this.classes.push(u+"_fallback"),/[]/.test(this.text)&&(this.text=URe[this.text])}hasClass(e){return lt.contains(this.classes,e)}toNode(){var e=document.createTextNode(this.text),n=null;this.italic>0&&(n=document.createElement("span"),n.style.marginRight=Re(this.italic)),this.classes.length>0&&(n=n||document.createElement("span"),n.className=Kc(this.classes));for(var r in this.style)this.style.hasOwnProperty(r)&&(n=n||document.createElement("span"),n.style[r]=this.style[r]);return n?(n.appendChild(e),n):e}toMarkup(){var e=!1,n="<span";this.classes.length&&(e=!0,n+=' class="',n+=lt.escape(Kc(this.classes)),n+='"');var r="";this.italic>0&&(r+="margin-right:"+this.italic+"em;");for(var i in this.style)this.style.hasOwnProperty(i)&&(r+=lt.hyphenate(i)+":"+this.style[i]+";");r&&(e=!0,n+=' style="'+lt.escape(r)+'"');var o=lt.escape(this.text);return e?(n+=">",n+=o,n+="</span>",n):o}}class gu{constructor(e,n){this.children=void 0,this.attributes=void 0,this.children=e||[],this.attributes=n||{}}toNode(){var e="http://www.w3.org/2000/svg",n=document.createElementNS(e,"svg");for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&n.setAttribute(r,this.attributes[r]);for(var i=0;i<this.children.length;i++)n.appendChild(this.children[i].toNode());return n}toMarkup(){var e='<svg xmlns="http://www.w3.org/2000/svg"';for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(e+=" "+n+'="'+lt.escape(this.attributes[n])+'"');e+=">";for(var r=0;r<this.children.length;r++)e+=this.children[r].toMarkup();return e+="</svg>",e}}class Gc{constructor(e,n){this.pathName=void 0,this.alternate=void 0,this.pathName=e,this.alternate=n}toNode(){var e="http://www.w3.org/2000/svg",n=document.createElementNS(e,"path");return this.alternate?n.setAttribute("d",this.alternate):n.setAttribute("d",o$[this.pathName]),n}toMarkup(){return this.alternate?'<path d="'+lt.escape(this.alternate)+'"/>':'<path d="'+lt.escape(o$[this.pathName])+'"/>'}}class iT{constructor(e){this.attributes=void 0,this.attributes=e||{}}toNode(){var e="http://www.w3.org/2000/svg",n=document.createElementNS(e,"line");for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&n.setAttribute(r,this.attributes[r]);return n}toMarkup(){var e="<line";for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(e+=" "+n+'="'+lt.escape(this.attributes[n])+'"');return e+="/>",e}}function u$(t){if(t instanceof As)return t;throw new Error("Expected symbolNode but got "+String(t)+".")}function qRe(t){if(t instanceof p2)return t;throw new Error("Expected span<HtmlDomNode> but got "+String(t)+".")}var KRe={bin:1,close:1,inner:1,open:1,punct:1,rel:1},GRe={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},Sn={math:{},text:{}};function x(t,e,n,r,i,o){Sn[t][i]={font:e,group:n,replace:r},o&&r&&(Sn[t][r]=Sn[t][i])}var C="math",ve="text",M="main",N="ams",Vn="accent-token",Ke="bin",ji="close",pm="inner",ht="mathord",vr="op-token",Uo="open",s6="punct",F="rel",Eu="spacing",U="textord";x(C,M,F,"","\\equiv",!0);x(C,M,F,"","\\prec",!0);x(C,M,F,"","\\succ",!0);x(C,M,F,"","\\sim",!0);x(C,M,F,"","\\perp");x(C,M,F,"","\\preceq",!0);x(C,M,F,"","\\succeq",!0);x(C,M,F,"","\\simeq",!0);x(C,M,F,"","\\mid",!0);x(C,M,F,"","\\ll",!0);x(C,M,F,"","\\gg",!0);x(C,M,F,"","\\asymp",!0);x(C,M,F,"","\\parallel");x(C,M,F,"","\\bowtie",!0);x(C,M,F,"","\\smile",!0);x(C,M,F,"","\\sqsubseteq",!0);x(C,M,F,"","\\sqsupseteq",!0);x(C,M,F,"","\\doteq",!0);x(C,M,F,"","\\frown",!0);x(C,M,F,"","\\ni",!0);x(C,M,F,"","\\propto",!0);x(C,M,F,"","\\vdash",!0);x(C,M,F,"","\\dashv",!0);x(C,M,F,"","\\owns");x(C,M,s6,".","\\ldotp");x(C,M,s6,"","\\cdotp");x(C,M,U,"#","\\#");x(ve,M,U,"#","\\#");x(C,M,U,"&","\\&");x(ve,M,U,"&","\\&");x(C,M,U,"","\\aleph",!0);x(C,M,U,"","\\forall",!0);x(C,M,U,"","\\hbar",!0);x(C,M,U,"","\\exists",!0);x(C,M,U,"","\\nabla",!0);x(C,M,U,"","\\flat",!0);x(C,M,U,"","\\ell",!0);x(C,M,U,"","\\natural",!0);x(C,M,U,"","\\clubsuit",!0);x(C,M,U,"","\\wp",!0);x(C,M,U,"","\\sharp",!0);x(C,M,U,"","\\diamondsuit",!0);x(C,M,U,"","\\Re",!0);x(C,M,U,"","\\heartsuit",!0);x(C,M,U,"","\\Im",!0);x(C,M,U,"","\\spadesuit",!0);x(C,M,U,"","\\S",!0);x(ve,M,U,"","\\S");x(C,M,U,"","\\P",!0);x(ve,M,U,"","\\P");x(C,M,U,"","\\dag");x(ve,M,U,"","\\dag");x(ve,M,U,"","\\textdagger");x(C,M,U,"","\\ddag");x(ve,M,U,"","\\ddag");x(ve,M,U,"","\\textdaggerdbl");x(C,M,ji,"","\\rmoustache",!0);x(C,M,Uo,"","\\lmoustache",!0);x(C,M,ji,"","\\rgroup",!0);x(C,M,Uo,"","\\lgroup",!0);x(C,M,Ke,"","\\mp",!0);x(C,M,Ke,"","\\ominus",!0);x(C,M,Ke,"","\\uplus",!0);x(C,M,Ke,"","\\sqcap",!0);x(C,M,Ke,"","\\ast");x(C,M,Ke,"","\\sqcup",!0);x(C,M,Ke,"","\\bigcirc",!0);x(C,M,Ke,"","\\bullet",!0);x(C,M,Ke,"","\\ddagger");x(C,M,Ke,"","\\wr",!0);x(C,M,Ke,"","\\amalg");x(C,M,Ke,"&","\\And");x(C,M,F,"","\\longleftarrow",!0);x(C,M,F,"","\\Leftarrow",!0);x(C,M,F,"","\\Longleftarrow",!0);x(C,M,F,"","\\longrightarrow",!0);x(C,M,F,"","\\Rightarrow",!0);x(C,M,F,"","\\Longrightarrow",!0);x(C,M,F,"","\\leftrightarrow",!0);x(C,M,F,"","\\longleftrightarrow",!0);x(C,M,F,"","\\Leftrightarrow",!0);x(C,M,F,"","\\Longleftrightarrow",!0);x(C,M,F,"","\\mapsto",!0);x(C,M,F,"","\\longmapsto",!0);x(C,M,F,"","\\nearrow",!0);x(C,M,F,"","\\hookleftarrow",!0);x(C,M,F,"","\\hookrightarrow",!0);x(C,M,F,"","\\searrow",!0);x(C,M,F,"","\\leftharpoonup",!0);x(C,M,F,"","\\rightharpoonup",!0);x(C,M,F,"","\\swarrow",!0);x(C,M,F,"","\\leftharpoondown",!0);x(C,M,F,"","\\rightharpoondown",!0);x(C,M,F,"","\\nwarrow",!0);x(C,M,F,"","\\rightleftharpoons",!0);x(C,N,F,"","\\nless",!0);x(C,N,F,"","\\@nleqslant");x(C,N,F,"","\\@nleqq");x(C,N,F,"","\\lneq",!0);x(C,N,F,"","\\lneqq",!0);x(C,N,F,"","\\@lvertneqq");x(C,N,F,"","\\lnsim",!0);x(C,N,F,"","\\lnapprox",!0);x(C,N,F,"","\\nprec",!0);x(C,N,F,"","\\npreceq",!0);x(C,N,F,"","\\precnsim",!0);x(C,N,F,"","\\precnapprox",!0);x(C,N,F,"","\\nsim",!0);x(C,N,F,"","\\@nshortmid");x(C,N,F,"","\\nmid",!0);x(C,N,F,"","\\nvdash",!0);x(C,N,F,"","\\nvDash",!0);x(C,N,F,"","\\ntriangleleft");x(C,N,F,"","\\ntrianglelefteq",!0);x(C,N,F,"","\\subsetneq",!0);x(C,N,F,"","\\@varsubsetneq");x(C,N,F,"","\\subsetneqq",!0);x(C,N,F,"","\\@varsubsetneqq");x(C,N,F,"","\\ngtr",!0);x(C,N,F,"","\\@ngeqslant");x(C,N,F,"","\\@ngeqq");x(C,N,F,"","\\gneq",!0);x(C,N,F,"","\\gneqq",!0);x(C,N,F,"","\\@gvertneqq");x(C,N,F,"","\\gnsim",!0);x(C,N,F,"","\\gnapprox",!0);x(C,N,F,"","\\nsucc",!0);x(C,N,F,"","\\nsucceq",!0);x(C,N,F,"","\\succnsim",!0);x(C,N,F,"","\\succnapprox",!0);x(C,N,F,"","\\ncong",!0);x(C,N,F,"","\\@nshortparallel");x(C,N,F,"","\\nparallel",!0);x(C,N,F,"","\\nVDash",!0);x(C,N,F,"","\\ntriangleright");x(C,N,F,"","\\ntrianglerighteq",!0);x(C,N,F,"","\\@nsupseteqq");x(C,N,F,"","\\supsetneq",!0);x(C,N,F,"","\\@varsupsetneq");x(C,N,F,"","\\supsetneqq",!0);x(C,N,F,"","\\@varsupsetneqq");x(C,N,F,"","\\nVdash",!0);x(C,N,F,"","\\precneqq",!0);x(C,N,F,"","\\succneqq",!0);x(C,N,F,"","\\@nsubseteqq");x(C,N,Ke,"","\\unlhd");x(C,N,Ke,"","\\unrhd");x(C,N,F,"","\\nleftarrow",!0);x(C,N,F,"","\\nrightarrow",!0);x(C,N,F,"","\\nLeftarrow",!0);x(C,N,F,"","\\nRightarrow",!0);x(C,N,F,"","\\nleftrightarrow",!0);x(C,N,F,"","\\nLeftrightarrow",!0);x(C,N,F,"","\\vartriangle");x(C,N,U,"","\\hslash");x(C,N,U,"","\\triangledown");x(C,N,U,"","\\lozenge");x(C,N,U,"","\\circledS");x(C,N,U,"","\\circledR");x(ve,N,U,"","\\circledR");x(C,N,U,"","\\measuredangle",!0);x(C,N,U,"","\\nexists");x(C,N,U,"","\\mho");x(C,N,U,"","\\Finv",!0);x(C,N,U,"","\\Game",!0);x(C,N,U,"","\\backprime");x(C,N,U,"","\\blacktriangle");x(C,N,U,"","\\blacktriangledown");x(C,N,U,"","\\blacksquare");x(C,N,U,"","\\blacklozenge");x(C,N,U,"","\\bigstar");x(C,N,U,"","\\sphericalangle",!0);x(C,N,U,"","\\complement",!0);x(C,N,U,"","\\eth",!0);x(ve,M,U,"","");x(C,N,U,"","\\diagup");x(C,N,U,"","\\diagdown");x(C,N,U,"","\\square");x(C,N,U,"","\\Box");x(C,N,U,"","\\Diamond");x(C,N,U,"","\\yen",!0);x(ve,N,U,"","\\yen",!0);x(C,N,U,"","\\checkmark",!0);x(ve,N,U,"","\\checkmark");x(C,N,U,"","\\beth",!0);x(C,N,U,"","\\daleth",!0);x(C,N,U,"","\\gimel",!0);x(C,N,U,"","\\digamma",!0);x(C,N,U,"","\\varkappa");x(C,N,Uo,"","\\@ulcorner",!0);x(C,N,ji,"","\\@urcorner",!0);x(C,N,Uo,"","\\@llcorner",!0);x(C,N,ji,"","\\@lrcorner",!0);x(C,N,F,"","\\leqq",!0);x(C,N,F,"","\\leqslant",!0);x(C,N,F,"","\\eqslantless",!0);x(C,N,F,"","\\lesssim",!0);x(C,N,F,"","\\lessapprox",!0);x(C,N,F,"","\\approxeq",!0);x(C,N,Ke,"","\\lessdot");x(C,N,F,"","\\lll",!0);x(C,N,F,"","\\lessgtr",!0);x(C,N,F,"","\\lesseqgtr",!0);x(C,N,F,"","\\lesseqqgtr",!0);x(C,N,F,"","\\doteqdot");x(C,N,F,"","\\risingdotseq",!0);x(C,N,F,"","\\fallingdotseq",!0);x(C,N,F,"","\\backsim",!0);x(C,N,F,"","\\backsimeq",!0);x(C,N,F,"","\\subseteqq",!0);x(C,N,F,"","\\Subset",!0);x(C,N,F,"","\\sqsubset",!0);x(C,N,F,"","\\preccurlyeq",!0);x(C,N,F,"","\\curlyeqprec",!0);x(C,N,F,"","\\precsim",!0);x(C,N,F,"","\\precapprox",!0);x(C,N,F,"","\\vartriangleleft");x(C,N,F,"","\\trianglelefteq");x(C,N,F,"","\\vDash",!0);x(C,N,F,"","\\Vvdash",!0);x(C,N,F,"","\\smallsmile");x(C,N,F,"","\\smallfrown");x(C,N,F,"","\\bumpeq",!0);x(C,N,F,"","\\Bumpeq",!0);x(C,N,F,"","\\geqq",!0);x(C,N,F,"","\\geqslant",!0);x(C,N,F,"","\\eqslantgtr",!0);x(C,N,F,"","\\gtrsim",!0);x(C,N,F,"","\\gtrapprox",!0);x(C,N,Ke,"","\\gtrdot");x(C,N,F,"","\\ggg",!0);x(C,N,F,"","\\gtrless",!0);x(C,N,F,"","\\gtreqless",!0);x(C,N,F,"","\\gtreqqless",!0);x(C,N,F,"","\\eqcirc",!0);x(C,N,F,"","\\circeq",!0);x(C,N,F,"","\\triangleq",!0);x(C,N,F,"","\\thicksim");x(C,N,F,"","\\thickapprox");x(C,N,F,"","\\supseteqq",!0);x(C,N,F,"","\\Supset",!0);x(C,N,F,"","\\sqsupset",!0);x(C,N,F,"","\\succcurlyeq",!0);x(C,N,F,"","\\curlyeqsucc",!0);x(C,N,F,"","\\succsim",!0);x(C,N,F,"","\\succapprox",!0);x(C,N,F,"","\\vartriangleright");x(C,N,F,"","\\trianglerighteq");x(C,N,F,"","\\Vdash",!0);x(C,N,F,"","\\shortmid");x(C,N,F,"","\\shortparallel");x(C,N,F,"","\\between",!0);x(C,N,F,"","\\pitchfork",!0);x(C,N,F,"","\\varpropto");x(C,N,F,"","\\blacktriangleleft");x(C,N,F,"","\\therefore",!0);x(C,N,F,"","\\backepsilon");x(C,N,F,"","\\blacktriangleright");x(C,N,F,"","\\because",!0);x(C,N,F,"","\\llless");x(C,N,F,"","\\gggtr");x(C,N,Ke,"","\\lhd");x(C,N,Ke,"","\\rhd");x(C,N,F,"","\\eqsim",!0);x(C,M,F,"","\\Join");x(C,N,F,"","\\Doteq",!0);x(C,N,Ke,"","\\dotplus",!0);x(C,N,Ke,"","\\smallsetminus");x(C,N,Ke,"","\\Cap",!0);x(C,N,Ke,"","\\Cup",!0);x(C,N,Ke,"","\\doublebarwedge",!0);x(C,N,Ke,"","\\boxminus",!0);x(C,N,Ke,"","\\boxplus",!0);x(C,N,Ke,"","\\divideontimes",!0);x(C,N,Ke,"","\\ltimes",!0);x(C,N,Ke,"","\\rtimes",!0);x(C,N,Ke,"","\\leftthreetimes",!0);x(C,N,Ke,"","\\rightthreetimes",!0);x(C,N,Ke,"","\\curlywedge",!0);x(C,N,Ke,"","\\curlyvee",!0);x(C,N,Ke,"","\\circleddash",!0);x(C,N,Ke,"","\\circledast",!0);x(C,N,Ke,"","\\centerdot");x(C,N,Ke,"","\\intercal",!0);x(C,N,Ke,"","\\doublecap");x(C,N,Ke,"","\\doublecup");x(C,N,Ke,"","\\boxtimes",!0);x(C,N,F,"","\\dashrightarrow",!0);x(C,N,F,"","\\dashleftarrow",!0);x(C,N,F,"","\\leftleftarrows",!0);x(C,N,F,"","\\leftrightarrows",!0);x(C,N,F,"","\\Lleftarrow",!0);x(C,N,F,"","\\twoheadleftarrow",!0);x(C,N,F,"","\\leftarrowtail",!0);x(C,N,F,"","\\looparrowleft",!0);x(C,N,F,"","\\leftrightharpoons",!0);x(C,N,F,"","\\curvearrowleft",!0);x(C,N,F,"","\\circlearrowleft",!0);x(C,N,F,"","\\Lsh",!0);x(C,N,F,"","\\upuparrows",!0);x(C,N,F,"","\\upharpoonleft",!0);x(C,N,F,"","\\downharpoonleft",!0);x(C,M,F,"","\\origof",!0);x(C,M,F,"","\\imageof",!0);x(C,N,F,"","\\multimap",!0);x(C,N,F,"","\\leftrightsquigarrow",!0);x(C,N,F,"","\\rightrightarrows",!0);x(C,N,F,"","\\rightleftarrows",!0);x(C,N,F,"","\\twoheadrightarrow",!0);x(C,N,F,"","\\rightarrowtail",!0);x(C,N,F,"","\\looparrowright",!0);x(C,N,F,"","\\curvearrowright",!0);x(C,N,F,"","\\circlearrowright",!0);x(C,N,F,"","\\Rsh",!0);x(C,N,F,"","\\downdownarrows",!0);x(C,N,F,"","\\upharpoonright",!0);x(C,N,F,"","\\downharpoonright",!0);x(C,N,F,"","\\rightsquigarrow",!0);x(C,N,F,"","\\leadsto");x(C,N,F,"","\\Rrightarrow",!0);x(C,N,F,"","\\restriction");x(C,M,U,"","`");x(C,M,U,"$","\\$");x(ve,M,U,"$","\\$");x(ve,M,U,"$","\\textdollar");x(C,M,U,"%","\\%");x(ve,M,U,"%","\\%");x(C,M,U,"_","\\_");x(ve,M,U,"_","\\_");x(ve,M,U,"_","\\textunderscore");x(C,M,U,"","\\angle",!0);x(C,M,U,"","\\infty",!0);x(C,M,U,"","\\prime");x(C,M,U,"","\\triangle");x(C,M,U,"","\\Gamma",!0);x(C,M,U,"","\\Delta",!0);x(C,M,U,"","\\Theta",!0);x(C,M,U,"","\\Lambda",!0);x(C,M,U,"","\\Xi",!0);x(C,M,U,"","\\Pi",!0);x(C,M,U,"","\\Sigma",!0);x(C,M,U,"","\\Upsilon",!0);x(C,M,U,"","\\Phi",!0);x(C,M,U,"","\\Psi",!0);x(C,M,U,"","\\Omega",!0);x(C,M,U,"A","");x(C,M,U,"B","");x(C,M,U,"E","");x(C,M,U,"Z","");x(C,M,U,"H","");x(C,M,U,"I","");x(C,M,U,"K","");x(C,M,U,"M","");x(C,M,U,"N","");x(C,M,U,"O","");x(C,M,U,"P","");x(C,M,U,"T","");x(C,M,U,"X","");x(C,M,U,"","\\neg",!0);x(C,M,U,"","\\lnot");x(C,M,U,"","\\top");x(C,M,U,"","\\bot");x(C,M,U,"","\\emptyset");x(C,N,U,"","\\varnothing");x(C,M,ht,"","\\alpha",!0);x(C,M,ht,"","\\beta",!0);x(C,M,ht,"","\\gamma",!0);x(C,M,ht,"","\\delta",!0);x(C,M,ht,"","\\epsilon",!0);x(C,M,ht,"","\\zeta",!0);x(C,M,ht,"","\\eta",!0);x(C,M,ht,"","\\theta",!0);x(C,M,ht,"","\\iota",!0);x(C,M,ht,"","\\kappa",!0);x(C,M,ht,"","\\lambda",!0);x(C,M,ht,"","\\mu",!0);x(C,M,ht,"","\\nu",!0);x(C,M,ht,"","\\xi",!0);x(C,M,ht,"","\\omicron",!0);x(C,M,ht,"","\\pi",!0);x(C,M,ht,"","\\rho",!0);x(C,M,ht,"","\\sigma",!0);x(C,M,ht,"","\\tau",!0);x(C,M,ht,"","\\upsilon",!0);x(C,M,ht,"","\\phi",!0);x(C,M,ht,"","\\chi",!0);x(C,M,ht,"","\\psi",!0);x(C,M,ht,"","\\omega",!0);x(C,M,ht,"","\\varepsilon",!0);x(C,M,ht,"","\\vartheta",!0);x(C,M,ht,"","\\varpi",!0);x(C,M,ht,"","\\varrho",!0);x(C,M,ht,"","\\varsigma",!0);x(C,M,ht,"","\\varphi",!0);x(C,M,Ke,"","*",!0);x(C,M,Ke,"+","+");x(C,M,Ke,"","-",!0);x(C,M,Ke,"","\\cdot",!0);x(C,M,Ke,"","\\circ",!0);x(C,M,Ke,"","\\div",!0);x(C,M,Ke,"","\\pm",!0);x(C,M,Ke,"","\\times",!0);x(C,M,Ke,"","\\cap",!0);x(C,M,Ke,"","\\cup",!0);x(C,M,Ke,"","\\setminus",!0);x(C,M,Ke,"","\\land");x(C,M,Ke,"","\\lor");x(C,M,Ke,"","\\wedge",!0);x(C,M,Ke,"","\\vee",!0);x(C,M,U,"","\\surd");x(C,M,Uo,"","\\langle",!0);x(C,M,Uo,"","\\lvert");x(C,M,Uo,"","\\lVert");x(C,M,ji,"?","?");x(C,M,ji,"!","!");x(C,M,ji,"","\\rangle",!0);x(C,M,ji,"","\\rvert");x(C,M,ji,"","\\rVert");x(C,M,F,"=","=");x(C,M,F,":",":");x(C,M,F,"","\\approx",!0);x(C,M,F,"","\\cong",!0);x(C,M,F,"","\\ge");x(C,M,F,"","\\geq",!0);x(C,M,F,"","\\gets");x(C,M,F,">","\\gt",!0);x(C,M,F,"","\\in",!0);x(C,M,F,"","\\@not");x(C,M,F,"","\\subset",!0);x(C,M,F,"","\\supset",!0);x(C,M,F,"","\\subseteq",!0);x(C,M,F,"","\\supseteq",!0);x(C,N,F,"","\\nsubseteq",!0);x(C,N,F,"","\\nsupseteq",!0);x(C,M,F,"","\\models");x(C,M,F,"","\\leftarrow",!0);x(C,M,F,"","\\le");x(C,M,F,"","\\leq",!0);x(C,M,F,"<","\\lt",!0);x(C,M,F,"","\\rightarrow",!0);x(C,M,F,"","\\to");x(C,N,F,"","\\ngeq",!0);x(C,N,F,"","\\nleq",!0);x(C,M,Eu,"","\\ ");x(C,M,Eu,"","\\space");x(C,M,Eu,"","\\nobreakspace");x(ve,M,Eu,"","\\ ");x(ve,M,Eu,""," ");x(ve,M,Eu,"","\\space");x(ve,M,Eu,"","\\nobreakspace");x(C,M,Eu,null,"\\nobreak");x(C,M,Eu,null,"\\allowbreak");x(C,M,s6,",",",");x(C,M,s6,";",";");x(C,N,Ke,"","\\barwedge",!0);x(C,N,Ke,"","\\veebar",!0);x(C,M,Ke,"","\\odot",!0);x(C,M,Ke,"","\\oplus",!0);x(C,M,Ke,"","\\otimes",!0);x(C,M,U,"","\\partial",!0);x(C,M,Ke,"","\\oslash",!0);x(C,N,Ke,"","\\circledcirc",!0);x(C,N,Ke,"","\\boxdot",!0);x(C,M,Ke,"","\\bigtriangleup");x(C,M,Ke,"","\\bigtriangledown");x(C,M,Ke,"","\\dagger");x(C,M,Ke,"","\\diamond");x(C,M,Ke,"","\\star");x(C,M,Ke,"","\\triangleleft");x(C,M,Ke,"","\\triangleright");x(C,M,Uo,"{","\\{");x(ve,M,U,"{","\\{");x(ve,M,U,"{","\\textbraceleft");x(C,M,ji,"}","\\}");x(ve,M,U,"}","\\}");x(ve,M,U,"}","\\textbraceright");x(C,M,Uo,"{","\\lbrace");x(C,M,ji,"}","\\rbrace");x(C,M,Uo,"[","\\lbrack",!0);x(ve,M,U,"[","\\lbrack",!0);x(C,M,ji,"]","\\rbrack",!0);x(ve,M,U,"]","\\rbrack",!0);x(C,M,Uo,"(","\\lparen",!0);x(C,M,ji,")","\\rparen",!0);x(ve,M,U,"<","\\textless",!0);x(ve,M,U,">","\\textgreater",!0);x(C,M,Uo,"","\\lfloor",!0);x(C,M,ji,"","\\rfloor",!0);x(C,M,Uo,"","\\lceil",!0);x(C,M,ji,"","\\rceil",!0);x(C,M,U,"\\","\\backslash");x(C,M,U,"","|");x(C,M,U,"","\\vert");x(ve,M,U,"|","\\textbar",!0);x(C,M,U,"","\\|");x(C,M,U,"","\\Vert");x(ve,M,U,"","\\textbardbl");x(ve,M,U,"~","\\textasciitilde");x(ve,M,U,"\\","\\textbackslash");x(ve,M,U,"^","\\textasciicircum");x(C,M,F,"","\\uparrow",!0);x(C,M,F,"","\\Uparrow",!0);x(C,M,F,"","\\downarrow",!0);x(C,M,F,"","\\Downarrow",!0);x(C,M,F,"","\\updownarrow",!0);x(C,M,F,"","\\Updownarrow",!0);x(C,M,vr,"","\\coprod");x(C,M,vr,"","\\bigvee");x(C,M,vr,"","\\bigwedge");x(C,M,vr,"","\\biguplus");x(C,M,vr,"","\\bigcap");x(C,M,vr,"","\\bigcup");x(C,M,vr,"","\\int");x(C,M,vr,"","\\intop");x(C,M,vr,"","\\iint");x(C,M,vr,"","\\iiint");x(C,M,vr,"","\\prod");x(C,M,vr,"","\\sum");x(C,M,vr,"","\\bigotimes");x(C,M,vr,"","\\bigoplus");x(C,M,vr,"","\\bigodot");x(C,M,vr,"","\\oint");x(C,M,vr,"","\\oiint");x(C,M,vr,"","\\oiiint");x(C,M,vr,"","\\bigsqcup");x(C,M,vr,"","\\smallint");x(ve,M,pm,"","\\textellipsis");x(C,M,pm,"","\\mathellipsis");x(ve,M,pm,"","\\ldots",!0);x(C,M,pm,"","\\ldots",!0);x(C,M,pm,"","\\@cdots",!0);x(C,M,pm,"","\\ddots",!0);x(C,M,U,"","\\varvdots");x(ve,M,U,"","\\varvdots");x(C,M,Vn,"","\\acute");x(C,M,Vn,"","\\grave");x(C,M,Vn,"","\\ddot");x(C,M,Vn,"~","\\tilde");x(C,M,Vn,"","\\bar");x(C,M,Vn,"","\\breve");x(C,M,Vn,"","\\check");x(C,M,Vn,"^","\\hat");x(C,M,Vn,"","\\vec");x(C,M,Vn,"","\\dot");x(C,M,Vn,"","\\mathring");x(C,M,ht,"","\\@imath");x(C,M,ht,"","\\@jmath");x(C,M,U,"","");x(C,M,U,"","");x(ve,M,U,"","\\i",!0);x(ve,M,U,"","\\j",!0);x(ve,M,U,"","\\ss",!0);x(ve,M,U,"","\\ae",!0);x(ve,M,U,"","\\oe",!0);x(ve,M,U,"","\\o",!0);x(ve,M,U,"","\\AE",!0);x(ve,M,U,"","\\OE",!0);x(ve,M,U,"","\\O",!0);x(ve,M,Vn,"","\\'");x(ve,M,Vn,"","\\`");x(ve,M,Vn,"","\\^");x(ve,M,Vn,"","\\~");x(ve,M,Vn,"","\\=");x(ve,M,Vn,"","\\u");x(ve,M,Vn,"","\\.");x(ve,M,Vn,"","\\c");x(ve,M,Vn,"","\\r");x(ve,M,Vn,"","\\v");x(ve,M,Vn,"",'\\"');x(ve,M,Vn,"","\\H");x(ve,M,Vn,"","\\textcircled");var Fte={"--":!0,"---":!0,"``":!0,"''":!0};x(ve,M,U,"","--",!0);x(ve,M,U,"","\\textendash");x(ve,M,U,"","---",!0);x(ve,M,U,"","\\textemdash");x(ve,M,U,"","`",!0);x(ve,M,U,"","\\textquoteleft");x(ve,M,U,"","'",!0);x(ve,M,U,"","\\textquoteright");x(ve,M,U,"","``",!0);x(ve,M,U,"","\\textquotedblleft");x(ve,M,U,"","''",!0);x(ve,M,U,"","\\textquotedblright");x(C,M,U,"","\\degree",!0);x(ve,M,U,"","\\degree");x(ve,M,U,"","\\textdegree",!0);x(C,M,U,"","\\pounds");x(C,M,U,"","\\mathsterling",!0);x(ve,M,U,"","\\pounds");x(ve,M,U,"","\\textsterling",!0);x(C,N,U,"","\\maltese");x(ve,N,U,"","\\maltese");var c$='0123456789/@."';for(var i8=0;i8<c$.length;i8++){var h$=c$.charAt(i8);x(C,M,U,h$,h$)}var f$='0123456789!@*()-=+";:?/.,';for(var o8=0;o8<f$.length;o8++){var d$=f$.charAt(o8);x(ve,M,U,d$,d$)}var lb="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";for(var s8=0;s8<lb.length;s8++){var _4=lb.charAt(s8);x(C,M,ht,_4,_4),x(ve,M,U,_4,_4)}x(C,N,U,"C","");x(ve,N,U,"C","");x(C,N,U,"H","");x(ve,N,U,"H","");x(C,N,U,"N","");x(ve,N,U,"N","");x(C,N,U,"P","");x(ve,N,U,"P","");x(C,N,U,"Q","");x(ve,N,U,"Q","");x(C,N,U,"R","");x(ve,N,U,"R","");x(C,N,U,"Z","");x(ve,N,U,"Z","");x(C,M,ht,"h","");x(ve,M,ht,"h","");var gt="";for(var Si=0;Si<lb.length;Si++){var Zn=lb.charAt(Si);gt=String.fromCharCode(55349,56320+Si),x(C,M,ht,Zn,gt),x(ve,M,U,Zn,gt),gt=String.fromCharCode(55349,56372+Si),x(C,M,ht,Zn,gt),x(ve,M,U,Zn,gt),gt=String.fromCharCode(55349,56424+Si),x(C,M,ht,Zn,gt),x(ve,M,U,Zn,gt),gt=String.fromCharCode(55349,56580+Si),x(C,M,ht,Zn,gt),x(ve,M,U,Zn,gt),gt=String.fromCharCode(55349,56684+Si),x(C,M,ht,Zn,gt),x(ve,M,U,Zn,gt),gt=String.fromCharCode(55349,56736+Si),x(C,M,ht,Zn,gt),x(ve,M,U,Zn,gt),gt=String.fromCharCode(55349,56788+Si),x(C,M,ht,Zn,gt),x(ve,M,U,Zn,gt),gt=String.fromCharCode(55349,56840+Si),x(C,M,ht,Zn,gt),x(ve,M,U,Zn,gt),gt=String.fromCharCode(55349,56944+Si),x(C,M,ht,Zn,gt),x(ve,M,U,Zn,gt),Si<26&&(gt=String.fromCharCode(55349,56632+Si),x(C,M,ht,Zn,gt),x(ve,M,U,Zn,gt),gt=String.fromCharCode(55349,56476+Si),x(C,M,ht,Zn,gt),x(ve,M,U,Zn,gt))}gt="";x(C,M,ht,"k",gt);x(ve,M,U,"k",gt);for(var wh=0;wh<10;wh++){var Bu=wh.toString();gt=String.fromCharCode(55349,57294+wh),x(C,M,ht,Bu,gt),x(ve,M,U,Bu,gt),gt=String.fromCharCode(55349,57314+wh),x(C,M,ht,Bu,gt),x(ve,M,U,Bu,gt),gt=String.fromCharCode(55349,57324+wh),x(C,M,ht,Bu,gt),x(ve,M,U,Bu,gt),gt=String.fromCharCode(55349,57334+wh),x(C,M,ht,Bu,gt),x(ve,M,U,Bu,gt)}var oT="";for(var l8=0;l8<oT.length;l8++){var I4=oT.charAt(l8);x(C,M,ht,I4,I4),x(ve,M,U,I4,I4)}var R4=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],p$=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],YRe=function(e,n){var r=e.charCodeAt(0),i=e.charCodeAt(1),o=(r-55296)*1024+(i-56320)+65536,s=n==="math"?0:1;if(119808<=o&&o<120484){var l=Math.floor((o-119808)/26);return[R4[l][2],R4[l][s]]}else if(120782<=o&&o<=120831){var a=Math.floor((o-120782)/10);return[p$[a][2],p$[a][s]]}else{if(o===120485||o===120486)return[R4[0][2],R4[0][s]];if(120486<o&&o<120782)return["",""];throw new Ee("Unsupported character: "+e)}},l6=function(e,n,r){return Sn[r][e]&&Sn[r][e].replace&&(e=Sn[r][e].replace),{value:e,metrics:DP(e,n,r)}},Us=function(e,n,r,i,o){var s=l6(e,n,r),l=s.metrics;e=s.value;var a;if(l){var u=l.italic;(r==="text"||i&&i.font==="mathit")&&(u=0),a=new As(e,l.height,l.depth,u,l.skew,l.width,o)}else typeof console<"u"&&console.warn("No character metrics "+("for '"+e+"' in style '"+n+"' and mode '"+r+"'")),a=new As(e,0,0,0,0,0,o);if(i){a.maxFontSize=i.sizeMultiplier,i.style.isTight()&&a.classes.push("mtight");var c=i.getColor();c&&(a.style.color=c)}return a},XRe=function(e,n,r,i){return i===void 0&&(i=[]),r.font==="boldsymbol"&&l6(e,"Main-Bold",n).metrics?Us(e,"Main-Bold",n,r,i.concat(["mathbf"])):e==="\\"||Sn[n][e].font==="main"?Us(e,"Main-Regular",n,r,i):Us(e,"AMS-Regular",n,r,i.concat(["amsrm"]))},JRe=function(e,n,r,i,o){return o!=="textord"&&l6(e,"Math-BoldItalic",n).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}},ZRe=function(e,n,r){var i=e.mode,o=e.text,s=["mord"],l=i==="math"||i==="text"&&n.font,a=l?n.font:n.fontFamily,u="",c="";if(o.charCodeAt(0)===55349&&([u,c]=YRe(o,i)),u.length>0)return Us(o,u,i,n,s.concat(c));if(a){var h,f;if(a==="boldsymbol"){var d=JRe(o,i,n,s,r);h=d.fontName,f=[d.fontClass]}else l?(h=Hte[a].fontName,f=[a]):(h=N4(a,n.fontWeight,n.fontShape),f=[a,n.fontWeight,n.fontShape]);if(l6(o,h,i).metrics)return Us(o,h,i,n,s.concat(f));if(Fte.hasOwnProperty(o)&&h.slice(0,10)==="Typewriter"){for(var p=[],m=0;m<o.length;m++)p.push(Us(o[m],h,i,n,s.concat(f)));return Vte(p)}}if(r==="mathord")return Us(o,"Math-Italic",i,n,s.concat(["mathnormal"]));if(r==="textord"){var y=Sn[i][o]&&Sn[i][o].font;if(y==="ams"){var g=N4("amsrm",n.fontWeight,n.fontShape);return Us(o,g,i,n,s.concat("amsrm",n.fontWeight,n.fontShape))}else if(y==="main"||!y){var v=N4("textrm",n.fontWeight,n.fontShape);return Us(o,v,i,n,s.concat(n.fontWeight,n.fontShape))}else{var w=N4(y,n.fontWeight,n.fontShape);return Us(o,w,i,n,s.concat(w,n.fontWeight,n.fontShape))}}else throw new Error("unexpected type: "+r+" in makeOrd")},QRe=(t,e)=>{if(Kc(t.classes)!==Kc(e.classes)||t.skew!==e.skew||t.maxFontSize!==e.maxFontSize)return!1;if(t.classes.length===1){var n=t.classes[0];if(n==="mbin"||n==="mord")return!1}for(var r in t.style)if(t.style.hasOwnProperty(r)&&t.style[r]!==e.style[r])return!1;for(var i in e.style)if(e.style.hasOwnProperty(i)&&t.style[i]!==e.style[i])return!1;return!0},eNe=t=>{for(var e=0;e<t.length-1;e++){var n=t[e],r=t[e+1];n instanceof As&&r instanceof As&&QRe(n,r)&&(n.text+=r.text,n.height=Math.max(n.height,r.height),n.depth=Math.max(n.depth,r.depth),n.italic=r.italic,t.splice(e+1,1),e--)}return t},IP=function(e){for(var n=0,r=0,i=0,o=0;o<e.children.length;o++){var s=e.children[o];s.height>n&&(n=s.height),s.depth>r&&(r=s.depth),s.maxFontSize>i&&(i=s.maxFontSize)}e.height=n,e.depth=r,e.maxFontSize=i},Yi=function(e,n,r,i){var o=new p2(e,n,r,i);return IP(o),o},$te=(t,e,n,r)=>new p2(t,e,n,r),tNe=function(e,n,r){var i=Yi([e],[],n);return i.height=Math.max(r||n.fontMetrics().defaultRuleThickness,n.minRuleThickness),i.style.borderBottomWidth=Re(i.height),i.maxFontSize=1,i},nNe=function(e,n,r,i){var o=new _P(e,n,r,i);return IP(o),o},Vte=function(e){var n=new d2(e);return IP(n),n},rNe=function(e,n){return e instanceof d2?Yi([],[e],n):e},iNe=function(e){if(e.positionType==="individualShift"){for(var n=e.children,r=[n[0]],i=-n[0].shift-n[0].elem.depth,o=i,s=1;s<n.length;s++){var l=-n[s].shift-o-n[s].elem.depth,a=l-(n[s-1].elem.height+n[s-1].elem.depth);o=o+l,r.push({type:"kern",size:a}),r.push(n[s])}return{children:r,depth:i}}var u;if(e.positionType==="top"){for(var c=e.positionData,h=0;h<e.children.length;h++){var f=e.children[h];c-=f.type==="kern"?f.size:f.elem.height+f.elem.depth}u=c}else if(e.positionType==="bottom")u=-e.positionData;else{var d=e.children[0];if(d.type!=="elem")throw new Error('First child must have type "elem".');if(e.positionType==="shift")u=-d.elem.depth-e.positionData;else if(e.positionType==="firstBaseline")u=-d.elem.depth;else throw new Error("Invalid positionType "+e.positionType+".")}return{children:e.children,depth:u}},oNe=function(e,n){for(var{children:r,depth:i}=iNe(e),o=0,s=0;s<r.length;s++){var l=r[s];if(l.type==="elem"){var a=l.elem;o=Math.max(o,a.maxFontSize,a.height)}}o+=2;var u=Yi(["pstrut"],[]);u.style.height=Re(o);for(var c=[],h=i,f=i,d=i,p=0;p<r.length;p++){var m=r[p];if(m.type==="kern")d+=m.size;else{var y=m.elem,g=m.wrapperClasses||[],v=m.wrapperStyle||{},w=Yi(g,[u,y],void 0,v);w.style.top=Re(-o-d-y.depth),m.marginLeft&&(w.style.marginLeft=m.marginLeft),m.marginRight&&(w.style.marginRight=m.marginRight),c.push(w),d+=y.height+y.depth}h=Math.min(h,d),f=Math.max(f,d)}var b=Yi(["vlist"],c);b.style.height=Re(f);var S;if(h<0){var k=Yi([],[]),T=Yi(["vlist"],[k]);T.style.height=Re(-h);var A=Yi(["vlist-s"],[new As("")]);S=[Yi(["vlist-r"],[b,A]),Yi(["vlist-r"],[T])]}else S=[Yi(["vlist-r"],[b])];var z=Yi(["vlist-t"],S);return S.length===2&&z.classes.push("vlist-t2"),z.height=f,z.depth=-h,z},sNe=(t,e)=>{var n=Yi(["mspace"],[],e),r=qn(t,e);return n.style.marginRight=Re(r),n},N4=function(e,n,r){var i="";switch(e){case"amsrm":i="AMS";break;case"textrm":i="Main";break;case"textsf":i="SansSerif";break;case"texttt":i="Typewriter";break;default:i=e}var o;return n==="textbf"&&r==="textit"?o="BoldItalic":n==="textbf"?o="Bold":n==="textit"?o="Italic":o="Regular",i+"-"+o},Hte={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathsfit:{variant:"sans-serif-italic",fontName:"SansSerif-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},jte={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]},lNe=function(e,n){var[r,i,o]=jte[e],s=new Gc(r),l=new gu([s],{width:Re(i),height:Re(o),style:"width:"+Re(i),viewBox:"0 0 "+1e3*i+" "+1e3*o,preserveAspectRatio:"xMinYMin"}),a=$te(["overlay"],[l],n);return a.height=o,a.style.height=Re(o),a.style.width=Re(i),a},J={fontMap:Hte,makeSymbol:Us,mathsym:XRe,makeSpan:Yi,makeSvgSpan:$te,makeLineSpan:tNe,makeAnchor:nNe,makeFragment:Vte,wrapFragment:rNe,makeVList:oNe,makeOrd:ZRe,makeGlue:sNe,staticSvg:lNe,svgData:jte,tryCombineChars:eNe},jn={number:3,unit:"mu"},xh={number:4,unit:"mu"},wa={number:5,unit:"mu"},aNe={mord:{mop:jn,mbin:xh,mrel:wa,minner:jn},mop:{mord:jn,mop:jn,mrel:wa,minner:jn},mbin:{mord:xh,mop:xh,mopen:xh,minner:xh},mrel:{mord:wa,mop:wa,mopen:wa,minner:wa},mopen:{},mclose:{mop:jn,mbin:xh,mrel:wa,minner:jn},mpunct:{mord:jn,mop:jn,mrel:wa,mopen:jn,mclose:jn,mpunct:jn,minner:jn},minner:{mord:jn,mop:jn,mbin:xh,mrel:wa,mopen:jn,mpunct:jn,minner:jn}},uNe={mord:{mop:jn},mop:{mord:jn,mop:jn},mbin:{},mrel:{},mopen:{},mclose:{mop:jn},mpunct:{},minner:{mop:jn}},Wte={},ab={},ub={};function Ve(t){for(var{type:e,names:n,props:r,handler:i,htmlBuilder:o,mathmlBuilder:s}=t,l={type:e,numArgs:r.numArgs,argTypes:r.argTypes,allowedInArgument:!!r.allowedInArgument,allowedInText:!!r.allowedInText,allowedInMath:r.allowedInMath===void 0?!0:r.allowedInMath,numOptionalArgs:r.numOptionalArgs||0,infix:!!r.infix,primitive:!!r.primitive,handler:i},a=0;a<n.length;++a)Wte[n[a]]=l;e&&(o&&(ab[e]=o),s&&(ub[e]=s))}function ud(t){var{type:e,htmlBuilder:n,mathmlBuilder:r}=t;Ve({type:e,names:[],props:{numArgs:0},handler(){throw new Error("Should never be called.")},htmlBuilder:n,mathmlBuilder:r})}var cb=function(e){return e.type==="ordgroup"&&e.body.length===1?e.body[0]:e},or=function(e){return e.type==="ordgroup"?e.body:[e]},yu=J.makeSpan,cNe=["leftmost","mbin","mopen","mrel","mop","mpunct"],hNe=["rightmost","mrel","mclose","mpunct"],fNe={display:ft.DISPLAY,text:ft.TEXT,script:ft.SCRIPT,scriptscript:ft.SCRIPTSCRIPT},dNe={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},Sr=function(e,n,r,i){i===void 0&&(i=[null,null]);for(var o=[],s=0;s<e.length;s++){var l=Gt(e[s],n);if(l instanceof d2){var a=l.children;o.push(...a)}else o.push(l)}if(J.tryCombineChars(o),!r)return o;var u=n;if(e.length===1){var c=e[0];c.type==="sizing"?u=n.havingSize(c.size):c.type==="styling"&&(u=n.havingStyle(fNe[c.style]))}var h=yu([i[0]||"leftmost"],[],n),f=yu([i[1]||"rightmost"],[],n),d=r==="root";return m$(o,(p,m)=>{var y=m.classes[0],g=p.classes[0];y==="mbin"&&lt.contains(hNe,g)?m.classes[0]="mord":g==="mbin"&&lt.contains(cNe,y)&&(p.classes[0]="mord")},{node:h},f,d),m$(o,(p,m)=>{var y=sT(m),g=sT(p),v=y&&g?p.hasClass("mtight")?uNe[y][g]:aNe[y][g]:null;if(v)return J.makeGlue(v,u)},{node:h},f,d),o},m$=function t(e,n,r,i,o){i&&e.push(i);for(var s=0;s<e.length;s++){var l=e[s],a=Ute(l);if(a){t(a.children,n,r,null,o);continue}var u=!l.hasClass("mspace");if(u){var c=n(l,r.node);c&&(r.insertAfter?r.insertAfter(c):(e.unshift(c),s++))}u?r.node=l:o&&l.hasClass("newline")&&(r.node=yu(["leftmost"])),r.insertAfter=(h=>f=>{e.splice(h+1,0,f),s++})(s)}i&&e.pop()},Ute=function(e){return e instanceof d2||e instanceof _P||e instanceof p2&&e.hasClass("enclosing")?e:null},pNe=function t(e,n){var r=Ute(e);if(r){var i=r.children;if(i.length){if(n==="right")return t(i[i.length-1],"right");if(n==="left")return t(i[0],"left")}}return e},sT=function(e,n){return e?(n&&(e=pNe(e,n)),dNe[e.classes[0]]||null):null},Yy=function(e,n){var r=["nulldelimiter"].concat(e.baseSizingClasses());return yu(n.concat(r))},Gt=function(e,n,r){if(!e)return yu();if(ab[e.type]){var i=ab[e.type](e,n);if(r&&n.size!==r.size){i=yu(n.sizingClasses(r),[i],n);var o=n.sizeMultiplier/r.sizeMultiplier;i.height*=o,i.depth*=o}return i}else throw new Ee("Got group of unknown type: '"+e.type+"'")};function L4(t,e){var n=yu(["base"],t,e),r=yu(["strut"]);return r.style.height=Re(n.height+n.depth),n.depth&&(r.style.verticalAlign=Re(-n.depth)),n.children.unshift(r),n}function lT(t,e){var n=null;t.length===1&&t[0].type==="tag"&&(n=t[0].tag,t=t[0].body);var r=Sr(t,e,"root"),i;r.length===2&&r[1].hasClass("tag")&&(i=r.pop());for(var o=[],s=[],l=0;l<r.length;l++)if(s.push(r[l]),r[l].hasClass("mbin")||r[l].hasClass("mrel")||r[l].hasClass("allowbreak")){for(var a=!1;l<r.length-1&&r[l+1].hasClass("mspace")&&!r[l+1].hasClass("newline");)l++,s.push(r[l]),r[l].hasClass("nobreak")&&(a=!0);a||(o.push(L4(s,e)),s=[])}else r[l].hasClass("newline")&&(s.pop(),s.length>0&&(o.push(L4(s,e)),s=[]),o.push(r[l]));s.length>0&&o.push(L4(s,e));var u;n?(u=L4(Sr(n,e,!0)),u.classes=["tag"],o.push(u)):i&&o.push(i);var c=yu(["katex-html"],o);if(c.setAttribute("aria-hidden","true"),u){var h=u.children[0];h.style.height=Re(c.height+c.depth),c.depth&&(h.style.verticalAlign=Re(-c.depth))}return c}function qte(t){return new d2(t)}class Do{constructor(e,n,r){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=e,this.attributes={},this.children=n||[],this.classes=r||[]}setAttribute(e,n){this.attributes[e]=n}getAttribute(e){return this.attributes[e]}toNode(){var e=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&e.setAttribute(n,this.attributes[n]);this.classes.length>0&&(e.className=Kc(this.classes));for(var r=0;r<this.children.length;r++)if(this.children[r]instanceof Hl&&this.children[r+1]instanceof Hl){for(var i=this.children[r].toText()+this.children[++r].toText();this.children[r+1]instanceof Hl;)i+=this.children[++r].toText();e.appendChild(new Hl(i).toNode())}else e.appendChild(this.children[r].toNode());return e}toMarkup(){var e="<"+this.type;for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(e+=" "+n+'="',e+=lt.escape(this.attributes[n]),e+='"');this.classes.length>0&&(e+=' class ="'+lt.escape(Kc(this.classes))+'"'),e+=">";for(var r=0;r<this.children.length;r++)e+=this.children[r].toMarkup();return e+="</"+this.type+">",e}toText(){return this.children.map(e=>e.toText()).join("")}}class Hl{constructor(e){this.text=void 0,this.text=e}toNode(){return document.createTextNode(this.text)}toMarkup(){return lt.escape(this.toText())}toText(){return this.text}}class mNe{constructor(e){this.width=void 0,this.character=void 0,this.width=e,e>=.05555&&e<=.05556?this.character="":e>=.1666&&e<=.1667?this.character="":e>=.2222&&e<=.2223?this.character="":e>=.2777&&e<=.2778?this.character="":e>=-.05556&&e<=-.05555?this.character="":e>=-.1667&&e<=-.1666?this.character="":e>=-.2223&&e<=-.2222?this.character="":e>=-.2778&&e<=-.2777?this.character="":this.character=null}toNode(){if(this.character)return document.createTextNode(this.character);var e=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return e.setAttribute("width",Re(this.width)),e}toMarkup(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+Re(this.width)+'"/>'}toText(){return this.character?this.character:" "}}var Ce={MathNode:Do,TextNode:Hl,SpaceNode:mNe,newDocumentFragment:qte},Es=function(e,n,r){return Sn[n][e]&&Sn[n][e].replace&&e.charCodeAt(0)!==55349&&!(Fte.hasOwnProperty(e)&&r&&(r.fontFamily&&r.fontFamily.slice(4,6)==="tt"||r.font&&r.font.slice(4,6)==="tt"))&&(e=Sn[n][e].replace),new Ce.TextNode(e)},RP=function(e){return e.length===1?e[0]:new Ce.MathNode("mrow",e)},NP=function(e,n){if(n.fontFamily==="texttt")return"monospace";if(n.fontFamily==="textsf")return n.fontShape==="textit"&&n.fontWeight==="textbf"?"sans-serif-bold-italic":n.fontShape==="textit"?"sans-serif-italic":n.fontWeight==="textbf"?"bold-sans-serif":"sans-serif";if(n.fontShape==="textit"&&n.fontWeight==="textbf")return"bold-italic";if(n.fontShape==="textit")return"italic";if(n.fontWeight==="textbf")return"bold";var r=n.font;if(!r||r==="mathnormal")return null;var i=e.mode;if(r==="mathit")return"italic";if(r==="boldsymbol")return e.type==="textord"?"bold":"bold-italic";if(r==="mathbf")return"bold";if(r==="mathbb")return"double-struck";if(r==="mathsfit")return"sans-serif-italic";if(r==="mathfrak")return"fraktur";if(r==="mathscr"||r==="mathcal")return"script";if(r==="mathsf")return"sans-serif";if(r==="mathtt")return"monospace";var o=e.text;if(lt.contains(["\\imath","\\jmath"],o))return null;Sn[i][o]&&Sn[i][o].replace&&(o=Sn[i][o].replace);var s=J.fontMap[r].fontName;return DP(o,s,i)?J.fontMap[r].variant:null};function a8(t){if(!t)return!1;if(t.type==="mi"&&t.children.length===1){var e=t.children[0];return e instanceof Hl&&e.text==="."}else if(t.type==="mo"&&t.children.length===1&&t.getAttribute("separator")==="true"&&t.getAttribute("lspace")==="0em"&&t.getAttribute("rspace")==="0em"){var n=t.children[0];return n instanceof Hl&&n.text===","}else return!1}var po=function(e,n,r){if(e.length===1){var i=mn(e[0],n);return r&&i instanceof Do&&i.type==="mo"&&(i.setAttribute("lspace","0em"),i.setAttribute("rspace","0em")),[i]}for(var o=[],s,l=0;l<e.length;l++){var a=mn(e[l],n);if(a instanceof Do&&s instanceof Do){if(a.type==="mtext"&&s.type==="mtext"&&a.getAttribute("mathvariant")===s.getAttribute("mathvariant")){s.children.push(...a.children);continue}else if(a.type==="mn"&&s.type==="mn"){s.children.push(...a.children);continue}else if(a8(a)&&s.type==="mn"){s.children.push(...a.children);continue}else if(a.type==="mn"&&a8(s))a.children=[...s.children,...a.children],o.pop();else if((a.type==="msup"||a.type==="msub")&&a.children.length>=1&&(s.type==="mn"||a8(s))){var u=a.children[0];u instanceof Do&&u.type==="mn"&&(u.children=[...s.children,...u.children],o.pop())}else if(s.type==="mi"&&s.children.length===1){var c=s.children[0];if(c instanceof Hl&&c.text===""&&(a.type==="mo"||a.type==="mi"||a.type==="mn")){var h=a.children[0];h instanceof Hl&&h.text.length>0&&(h.text=h.text.slice(0,1)+""+h.text.slice(1),o.pop())}}}o.push(a),s=a}return o},Yc=function(e,n,r){return RP(po(e,n,r))},mn=function(e,n){if(!e)return new Ce.MathNode("mrow");if(ub[e.type]){var r=ub[e.type](e,n);return r}else throw new Ee("Got group of unknown type: '"+e.type+"'")};function g$(t,e,n,r,i){var o=po(t,n),s;o.length===1&&o[0]instanceof Do&&lt.contains(["mrow","mtable"],o[0].type)?s=o[0]:s=new Ce.MathNode("mrow",o);var l=new Ce.MathNode("annotation",[new Ce.TextNode(e)]);l.setAttribute("encoding","application/x-tex");var a=new Ce.MathNode("semantics",[s,l]),u=new Ce.MathNode("math",[a]);u.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),r&&u.setAttribute("display","block");var c=i?"katex":"katex-mathml";return J.makeSpan([c],[u])}var Kte=function(e){return new _a({style:e.displayMode?ft.DISPLAY:ft.TEXT,maxSize:e.maxSize,minRuleThickness:e.minRuleThickness})},Gte=function(e,n){if(n.displayMode){var r=["katex-display"];n.leqno&&r.push("leqno"),n.fleqn&&r.push("fleqn"),e=J.makeSpan(r,[e])}return e},gNe=function(e,n,r){var i=Kte(r),o;if(r.output==="mathml")return g$(e,n,i,r.displayMode,!0);if(r.output==="html"){var s=lT(e,i);o=J.makeSpan(["katex"],[s])}else{var l=g$(e,n,i,r.displayMode,!1),a=lT(e,i);o=J.makeSpan(["katex"],[l,a])}return Gte(o,r)},yNe=function(e,n,r){var i=Kte(r),o=lT(e,i),s=J.makeSpan(["katex"],[o]);return Gte(s,r)},vNe={widehat:"^",widecheck:"",widetilde:"~",utilde:"~",overleftarrow:"",underleftarrow:"",xleftarrow:"",overrightarrow:"",underrightarrow:"",xrightarrow:"",underbrace:"",overbrace:"",overgroup:"",undergroup:"",overleftrightarrow:"",underleftrightarrow:"",xleftrightarrow:"",Overrightarrow:"",xRightarrow:"",overleftharpoon:"",xleftharpoonup:"",overrightharpoon:"",xrightharpoonup:"",xLeftarrow:"",xLeftrightarrow:"",xhookleftarrow:"",xhookrightarrow:"",xmapsto:"",xrightharpoondown:"",xleftharpoondown:"",xrightleftharpoons:"",xleftrightharpoons:"",xtwoheadleftarrow:"",xtwoheadrightarrow:"",xlongequal:"=",xtofrom:"",xrightleftarrows:"",xrightequilibrium:"",xleftequilibrium:"","\\cdrightarrow":"","\\cdleftarrow":"","\\cdlongequal":"="},wNe=function(e){var n=new Ce.MathNode("mo",[new Ce.TextNode(vNe[e.replace(/^\\/,"")])]);return n.setAttribute("stretchy","true"),n},xNe={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},bNe=function(e){return e.type==="ordgroup"?e.body.length:1},kNe=function(e,n){function r(){var l=4e5,a=e.label.slice(1);if(lt.contains(["widehat","widecheck","widetilde","utilde"],a)){var u=e,c=bNe(u.base),h,f,d;if(c>5)a==="widehat"||a==="widecheck"?(h=420,l=2364,d=.42,f=a+"4"):(h=312,l=2340,d=.34,f="tilde4");else{var p=[1,1,2,2,3,3][c];a==="widehat"||a==="widecheck"?(l=[0,1062,2364,2364,2364][p],h=[0,239,300,360,420][p],d=[0,.24,.3,.3,.36,.42][p],f=a+p):(l=[0,600,1033,2339,2340][p],h=[0,260,286,306,312][p],d=[0,.26,.286,.3,.306,.34][p],f="tilde"+p)}var m=new Gc(f),y=new gu([m],{width:"100%",height:Re(d),viewBox:"0 0 "+l+" "+h,preserveAspectRatio:"none"});return{span:J.makeSvgSpan([],[y],n),minWidth:0,height:d}}else{var g=[],v=xNe[a],[w,b,S]=v,k=S/1e3,T=w.length,A,z;if(T===1){var E=v[3];A=["hide-tail"],z=[E]}else if(T===2)A=["halfarrow-left","halfarrow-right"],z=["xMinYMin","xMaxYMin"];else if(T===3)A=["brace-left","brace-center","brace-right"],z=["xMinYMin","xMidYMin","xMaxYMin"];else throw new Error(`Correct katexImagesData or update code here to support
                    `+T+" children.");for(var B=0;B<T;B++){var $=new Gc(w[B]),ae=new gu([$],{width:"400em",height:Re(k),viewBox:"0 0 "+l+" "+S,preserveAspectRatio:z[B]+" slice"}),G=J.makeSvgSpan([A[B]],[ae],n);if(T===1)return{span:G,minWidth:b,height:k};G.style.height=Re(k),g.push(G)}return{span:J.makeSpan(["stretchy"],g,n),minWidth:b,height:k}}}var{span:i,minWidth:o,height:s}=r();return i.height=s,i.style.height=Re(s),o>0&&(i.style.minWidth=Re(o)),i},SNe=function(e,n,r,i,o){var s,l=e.height+e.depth+r+i;if(/fbox|color|angl/.test(n)){if(s=J.makeSpan(["stretchy",n],[],o),n==="fbox"){var a=o.color&&o.getColor();a&&(s.style.borderColor=a)}}else{var u=[];/^[bx]cancel$/.test(n)&&u.push(new iT({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(n)&&u.push(new iT({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));var c=new gu(u,{width:"100%",height:Re(l)});s=J.makeSvgSpan([],[c],o)}return s.height=l,s.style.height=Re(l),s},vu={encloseSpan:SNe,mathMLnode:wNe,svgSpan:kNe};function Ot(t,e){if(!t||t.type!==e)throw new Error("Expected node of type "+e+", but got "+(t?"node of type "+t.type:String(t)));return t}function LP(t){var e=a6(t);if(!e)throw new Error("Expected node of symbol group type, but got "+(t?"node of type "+t.type:String(t)));return e}function a6(t){return t&&(t.type==="atom"||GRe.hasOwnProperty(t.type))?t:null}var BP=(t,e)=>{var n,r,i;t&&t.type==="supsub"?(r=Ot(t.base,"accent"),n=r.base,t.base=n,i=qRe(Gt(t,e)),t.base=r):(r=Ot(t,"accent"),n=r.base);var o=Gt(n,e.havingCrampedStyle()),s=r.isShifty&&lt.isCharacterBox(n),l=0;if(s){var a=lt.getBaseElem(n),u=Gt(a,e.havingCrampedStyle());l=u$(u).skew}var c=r.label==="\\c",h=c?o.height+o.depth:Math.min(o.height,e.fontMetrics().xHeight),f;if(r.isStretchy)f=vu.svgSpan(r,e),f=J.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:o},{type:"elem",elem:f,wrapperClasses:["svg-align"],wrapperStyle:l>0?{width:"calc(100% - "+Re(2*l)+")",marginLeft:Re(2*l)}:void 0}]},e);else{var d,p;r.label==="\\vec"?(d=J.staticSvg("vec",e),p=J.svgData.vec[1]):(d=J.makeOrd({mode:r.mode,text:r.label},e,"textord"),d=u$(d),d.italic=0,p=d.width,c&&(h+=d.depth)),f=J.makeSpan(["accent-body"],[d]);var m=r.label==="\\textcircled";m&&(f.classes.push("accent-full"),h=o.height);var y=l;m||(y-=p/2),f.style.left=Re(y),r.label==="\\textcircled"&&(f.style.top=".2em"),f=J.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:o},{type:"kern",size:-h},{type:"elem",elem:f}]},e)}var g=J.makeSpan(["mord","accent"],[f],e);return i?(i.children[0]=g,i.height=Math.max(g.height,i.height),i.classes[0]="mord",i):g},Yte=(t,e)=>{var n=t.isStretchy?vu.mathMLnode(t.label):new Ce.MathNode("mo",[Es(t.label,t.mode)]),r=new Ce.MathNode("mover",[mn(t.base,e),n]);return r.setAttribute("accent","true"),r},CNe=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map(t=>"\\"+t).join("|"));Ve({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:(t,e)=>{var n=cb(e[0]),r=!CNe.test(t.funcName),i=!r||t.funcName==="\\widehat"||t.funcName==="\\widetilde"||t.funcName==="\\widecheck";return{type:"accent",mode:t.parser.mode,label:t.funcName,isStretchy:r,isShifty:i,base:n}},htmlBuilder:BP,mathmlBuilder:Yte});Ve({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\c","\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:(t,e)=>{var n=e[0],r=t.parser.mode;return r==="math"&&(t.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+t.funcName+" works only in text mode"),r="text"),{type:"accent",mode:r,label:t.funcName,isStretchy:!1,isShifty:!0,base:n}},htmlBuilder:BP,mathmlBuilder:Yte});Ve({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=e[0];return{type:"accentUnder",mode:n.mode,label:r,base:i}},htmlBuilder:(t,e)=>{var n=Gt(t.base,e),r=vu.svgSpan(t,e),i=t.label==="\\utilde"?.12:0,o=J.makeVList({positionType:"top",positionData:n.height,children:[{type:"elem",elem:r,wrapperClasses:["svg-align"]},{type:"kern",size:i},{type:"elem",elem:n}]},e);return J.makeSpan(["mord","accentunder"],[o],e)},mathmlBuilder:(t,e)=>{var n=vu.mathMLnode(t.label),r=new Ce.MathNode("munder",[mn(t.base,e),n]);return r.setAttribute("accentunder","true"),r}});var B4=t=>{var e=new Ce.MathNode("mpadded",t?[t]:[]);return e.setAttribute("width","+0.6em"),e.setAttribute("lspace","0.3em"),e};Ve({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler(t,e,n){var{parser:r,funcName:i}=t;return{type:"xArrow",mode:r.mode,label:i,body:e[0],below:n[0]}},htmlBuilder(t,e){var n=e.style,r=e.havingStyle(n.sup()),i=J.wrapFragment(Gt(t.body,r,e),e),o=t.label.slice(0,2)==="\\x"?"x":"cd";i.classes.push(o+"-arrow-pad");var s;t.below&&(r=e.havingStyle(n.sub()),s=J.wrapFragment(Gt(t.below,r,e),e),s.classes.push(o+"-arrow-pad"));var l=vu.svgSpan(t,e),a=-e.fontMetrics().axisHeight+.5*l.height,u=-e.fontMetrics().axisHeight-.5*l.height-.111;(i.depth>.25||t.label==="\\xleftequilibrium")&&(u-=i.depth);var c;if(s){var h=-e.fontMetrics().axisHeight+s.height+.5*l.height+.111;c=J.makeVList({positionType:"individualShift",children:[{type:"elem",elem:i,shift:u},{type:"elem",elem:l,shift:a},{type:"elem",elem:s,shift:h}]},e)}else c=J.makeVList({positionType:"individualShift",children:[{type:"elem",elem:i,shift:u},{type:"elem",elem:l,shift:a}]},e);return c.children[0].children[0].children[1].classes.push("svg-align"),J.makeSpan(["mrel","x-arrow"],[c],e)},mathmlBuilder(t,e){var n=vu.mathMLnode(t.label);n.setAttribute("minsize",t.label.charAt(0)==="x"?"1.75em":"3.0em");var r;if(t.body){var i=B4(mn(t.body,e));if(t.below){var o=B4(mn(t.below,e));r=new Ce.MathNode("munderover",[n,o,i])}else r=new Ce.MathNode("mover",[n,i])}else if(t.below){var s=B4(mn(t.below,e));r=new Ce.MathNode("munder",[n,s])}else r=B4(),r=new Ce.MathNode("mover",[n,r]);return r}});var TNe=J.makeSpan;function Xte(t,e){var n=Sr(t.body,e,!0);return TNe([t.mclass],n,e)}function Jte(t,e){var n,r=po(t.body,e);return t.mclass==="minner"?n=new Ce.MathNode("mpadded",r):t.mclass==="mord"?t.isCharacterBox?(n=r[0],n.type="mi"):n=new Ce.MathNode("mi",r):(t.isCharacterBox?(n=r[0],n.type="mo"):n=new Ce.MathNode("mo",r),t.mclass==="mbin"?(n.attributes.lspace="0.22em",n.attributes.rspace="0.22em"):t.mclass==="mpunct"?(n.attributes.lspace="0em",n.attributes.rspace="0.17em"):t.mclass==="mopen"||t.mclass==="mclose"?(n.attributes.lspace="0em",n.attributes.rspace="0em"):t.mclass==="minner"&&(n.attributes.lspace="0.0556em",n.attributes.width="+0.1111em")),n}Ve({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler(t,e){var{parser:n,funcName:r}=t,i=e[0];return{type:"mclass",mode:n.mode,mclass:"m"+r.slice(5),body:or(i),isCharacterBox:lt.isCharacterBox(i)}},htmlBuilder:Xte,mathmlBuilder:Jte});var u6=t=>{var e=t.type==="ordgroup"&&t.body.length?t.body[0]:t;return e.type==="atom"&&(e.family==="bin"||e.family==="rel")?"m"+e.family:"mord"};Ve({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler(t,e){var{parser:n}=t;return{type:"mclass",mode:n.mode,mclass:u6(e[0]),body:or(e[1]),isCharacterBox:lt.isCharacterBox(e[1])}}});Ve({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler(t,e){var{parser:n,funcName:r}=t,i=e[1],o=e[0],s;r!=="\\stackrel"?s=u6(i):s="mrel";var l={type:"op",mode:i.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:r!=="\\stackrel",body:or(i)},a={type:"supsub",mode:o.mode,base:l,sup:r==="\\underset"?null:o,sub:r==="\\underset"?o:null};return{type:"mclass",mode:n.mode,mclass:s,body:[a],isCharacterBox:lt.isCharacterBox(a)}},htmlBuilder:Xte,mathmlBuilder:Jte});Ve({type:"pmb",names:["\\pmb"],props:{numArgs:1,allowedInText:!0},handler(t,e){var{parser:n}=t;return{type:"pmb",mode:n.mode,mclass:u6(e[0]),body:or(e[0])}},htmlBuilder(t,e){var n=Sr(t.body,e,!0),r=J.makeSpan([t.mclass],n,e);return r.style.textShadow="0.02em 0.01em 0.04px",r},mathmlBuilder(t,e){var n=po(t.body,e),r=new Ce.MathNode("mstyle",n);return r.setAttribute("style","text-shadow: 0.02em 0.01em 0.04px"),r}});var MNe={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},y$=()=>({type:"styling",body:[],mode:"math",style:"display"}),v$=t=>t.type==="textord"&&t.text==="@",ANe=(t,e)=>(t.type==="mathord"||t.type==="atom")&&t.text===e;function ENe(t,e,n){var r=MNe[t];switch(r){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return n.callFunction(r,[e[0]],[e[1]]);case"\\uparrow":case"\\downarrow":{var i=n.callFunction("\\\\cdleft",[e[0]],[]),o={type:"atom",text:r,mode:"math",family:"rel"},s=n.callFunction("\\Big",[o],[]),l=n.callFunction("\\\\cdright",[e[1]],[]),a={type:"ordgroup",mode:"math",body:[i,s,l]};return n.callFunction("\\\\cdparent",[a],[])}case"\\\\cdlongequal":return n.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":{var u={type:"textord",text:"\\Vert",mode:"math"};return n.callFunction("\\Big",[u],[])}default:return{type:"textord",text:" ",mode:"math"}}}function ONe(t){var e=[];for(t.gullet.beginGroup(),t.gullet.macros.set("\\cr","\\\\\\relax"),t.gullet.beginGroup();;){e.push(t.parseExpression(!1,"\\\\")),t.gullet.endGroup(),t.gullet.beginGroup();var n=t.fetch().text;if(n==="&"||n==="\\\\")t.consume();else if(n==="\\end"){e[e.length-1].length===0&&e.pop();break}else throw new Ee("Expected \\\\ or \\cr or \\end",t.nextToken)}for(var r=[],i=[r],o=0;o<e.length;o++){for(var s=e[o],l=y$(),a=0;a<s.length;a++)if(!v$(s[a]))l.body.push(s[a]);else{r.push(l),a+=1;var u=LP(s[a]).text,c=new Array(2);if(c[0]={type:"ordgroup",mode:"math",body:[]},c[1]={type:"ordgroup",mode:"math",body:[]},!("=|.".indexOf(u)>-1))if("<>AV".indexOf(u)>-1)for(var h=0;h<2;h++){for(var f=!0,d=a+1;d<s.length;d++){if(ANe(s[d],u)){f=!1,a=d;break}if(v$(s[d]))throw new Ee("Missing a "+u+" character to complete a CD arrow.",s[d]);c[h].body.push(s[d])}if(f)throw new Ee("Missing a "+u+" character to complete a CD arrow.",s[a])}else throw new Ee('Expected one of "<>AV=|." after @',s[a]);var p=ENe(u,c,t),m={type:"styling",body:[p],mode:"math",style:"display"};r.push(m),l=y$()}o%2===0?r.push(l):r.shift(),r=[],i.push(r)}t.gullet.endGroup(),t.gullet.endGroup();var y=new Array(i[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25});return{type:"array",mode:"math",body:i,arraystretch:1,addJot:!0,rowGaps:[null],cols:y,colSeparationType:"CD",hLinesBeforeRow:new Array(i.length+1).fill([])}}Ve({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler(t,e){var{parser:n,funcName:r}=t;return{type:"cdlabel",mode:n.mode,side:r.slice(4),label:e[0]}},htmlBuilder(t,e){var n=e.havingStyle(e.style.sup()),r=J.wrapFragment(Gt(t.label,n,e),e);return r.classes.push("cd-label-"+t.side),r.style.bottom=Re(.8-r.depth),r.height=0,r.depth=0,r},mathmlBuilder(t,e){var n=new Ce.MathNode("mrow",[mn(t.label,e)]);return n=new Ce.MathNode("mpadded",[n]),n.setAttribute("width","0"),t.side==="left"&&n.setAttribute("lspace","-1width"),n.setAttribute("voffset","0.7em"),n=new Ce.MathNode("mstyle",[n]),n.setAttribute("displaystyle","false"),n.setAttribute("scriptlevel","1"),n}});Ve({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler(t,e){var{parser:n}=t;return{type:"cdlabelparent",mode:n.mode,fragment:e[0]}},htmlBuilder(t,e){var n=J.wrapFragment(Gt(t.fragment,e),e);return n.classes.push("cd-vert-arrow"),n},mathmlBuilder(t,e){return new Ce.MathNode("mrow",[mn(t.fragment,e)])}});Ve({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler(t,e){for(var{parser:n}=t,r=Ot(e[0],"ordgroup"),i=r.body,o="",s=0;s<i.length;s++){var l=Ot(i[s],"textord");o+=l.text}var a=parseInt(o),u;if(isNaN(a))throw new Ee("\\@char has non-numeric argument "+o);if(a<0||a>=1114111)throw new Ee("\\@char with invalid code point "+o);return a<=65535?u=String.fromCharCode(a):(a-=65536,u=String.fromCharCode((a>>10)+55296,(a&1023)+56320)),{type:"textord",mode:n.mode,text:u}}});var Zte=(t,e)=>{var n=Sr(t.body,e.withColor(t.color),!1);return J.makeFragment(n)},Qte=(t,e)=>{var n=po(t.body,e.withColor(t.color)),r=new Ce.MathNode("mstyle",n);return r.setAttribute("mathcolor",t.color),r};Ve({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler(t,e){var{parser:n}=t,r=Ot(e[0],"color-token").color,i=e[1];return{type:"color",mode:n.mode,color:r,body:or(i)}},htmlBuilder:Zte,mathmlBuilder:Qte});Ve({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler(t,e){var{parser:n,breakOnTokenText:r}=t,i=Ot(e[0],"color-token").color;n.gullet.macros.set("\\current@color",i);var o=n.parseExpression(!0,r);return{type:"color",mode:n.mode,color:i,body:o}},htmlBuilder:Zte,mathmlBuilder:Qte});Ve({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:0,allowedInText:!0},handler(t,e,n){var{parser:r}=t,i=r.gullet.future().text==="["?r.parseSizeGroup(!0):null,o=!r.settings.displayMode||!r.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:r.mode,newLine:o,size:i&&Ot(i,"size").value}},htmlBuilder(t,e){var n=J.makeSpan(["mspace"],[],e);return t.newLine&&(n.classes.push("newline"),t.size&&(n.style.marginTop=Re(qn(t.size,e)))),n},mathmlBuilder(t,e){var n=new Ce.MathNode("mspace");return t.newLine&&(n.setAttribute("linebreak","newline"),t.size&&n.setAttribute("height",Re(qn(t.size,e)))),n}});var aT={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},ene=t=>{var e=t.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(e))throw new Ee("Expected a control sequence",t);return e},PNe=t=>{var e=t.gullet.popToken();return e.text==="="&&(e=t.gullet.popToken(),e.text===" "&&(e=t.gullet.popToken())),e},tne=(t,e,n,r)=>{var i=t.gullet.macros.get(n.text);i==null&&(n.noexpand=!0,i={tokens:[n],numArgs:0,unexpandable:!t.gullet.isExpandable(n.text)}),t.gullet.macros.set(e,i,r)};Ve({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler(t){var{parser:e,funcName:n}=t;e.consumeSpaces();var r=e.fetch();if(aT[r.text])return(n==="\\global"||n==="\\\\globallong")&&(r.text=aT[r.text]),Ot(e.parseFunction(),"internal");throw new Ee("Invalid token after macro prefix",r)}});Ve({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:n}=t,r=e.gullet.popToken(),i=r.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(i))throw new Ee("Expected a control sequence",r);for(var o=0,s,l=[[]];e.gullet.future().text!=="{";)if(r=e.gullet.popToken(),r.text==="#"){if(e.gullet.future().text==="{"){s=e.gullet.future(),l[o].push("{");break}if(r=e.gullet.popToken(),!/^[1-9]$/.test(r.text))throw new Ee('Invalid argument number "'+r.text+'"');if(parseInt(r.text)!==o+1)throw new Ee('Argument number "'+r.text+'" out of order');o++,l.push([])}else{if(r.text==="EOF")throw new Ee("Expected a macro definition");l[o].push(r.text)}var{tokens:a}=e.gullet.consumeArg();return s&&a.unshift(s),(n==="\\edef"||n==="\\xdef")&&(a=e.gullet.expandTokens(a),a.reverse()),e.gullet.macros.set(i,{tokens:a,numArgs:o,delimiters:l},n===aT[n]),{type:"internal",mode:e.mode}}});Ve({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:n}=t,r=ene(e.gullet.popToken());e.gullet.consumeSpaces();var i=PNe(e);return tne(e,r,i,n==="\\\\globallet"),{type:"internal",mode:e.mode}}});Ve({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:n}=t,r=ene(e.gullet.popToken()),i=e.gullet.popToken(),o=e.gullet.popToken();return tne(e,r,o,n==="\\\\globalfuture"),e.gullet.pushToken(o),e.gullet.pushToken(i),{type:"internal",mode:e.mode}}});var Mg=function(e,n,r){var i=Sn.math[e]&&Sn.math[e].replace,o=DP(i||e,n,r);if(!o)throw new Error("Unsupported symbol "+e+" and font size "+n+".");return o},zP=function(e,n,r,i){var o=r.havingBaseStyle(n),s=J.makeSpan(i.concat(o.sizingClasses(r)),[e],r),l=o.sizeMultiplier/r.sizeMultiplier;return s.height*=l,s.depth*=l,s.maxFontSize=o.sizeMultiplier,s},nne=function(e,n,r){var i=n.havingBaseStyle(r),o=(1-n.sizeMultiplier/i.sizeMultiplier)*n.fontMetrics().axisHeight;e.classes.push("delimcenter"),e.style.top=Re(o),e.height-=o,e.depth+=o},DNe=function(e,n,r,i,o,s){var l=J.makeSymbol(e,"Main-Regular",o,i),a=zP(l,n,i,s);return r&&nne(a,i,n),a},_Ne=function(e,n,r,i){return J.makeSymbol(e,"Size"+n+"-Regular",r,i)},rne=function(e,n,r,i,o,s){var l=_Ne(e,n,o,i),a=zP(J.makeSpan(["delimsizing","size"+n],[l],i),ft.TEXT,i,s);return r&&nne(a,i,ft.TEXT),a},u8=function(e,n,r){var i;n==="Size1-Regular"?i="delim-size1":i="delim-size4";var o=J.makeSpan(["delimsizinginner",i],[J.makeSpan([],[J.makeSymbol(e,n,r)])]);return{type:"elem",elem:o}},c8=function(e,n,r){var i=Vl["Size4-Regular"][e.charCodeAt(0)]?Vl["Size4-Regular"][e.charCodeAt(0)][4]:Vl["Size1-Regular"][e.charCodeAt(0)][4],o=new Gc("inner",BRe(e,Math.round(1e3*n))),s=new gu([o],{width:Re(i),height:Re(n),style:"width:"+Re(i),viewBox:"0 0 "+1e3*i+" "+Math.round(1e3*n),preserveAspectRatio:"xMinYMin"}),l=J.makeSvgSpan([],[s],r);return l.height=n,l.style.height=Re(n),l.style.width=Re(i),{type:"elem",elem:l}},uT=.008,z4={type:"kern",size:-1*uT},INe=["|","\\lvert","\\rvert","\\vert"],RNe=["\\|","\\lVert","\\rVert","\\Vert"],ine=function(e,n,r,i,o,s){var l,a,u,c,h="",f=0;l=u=c=e,a=null;var d="Size1-Regular";e==="\\uparrow"?u=c="":e==="\\Uparrow"?u=c="":e==="\\downarrow"?l=u="":e==="\\Downarrow"?l=u="":e==="\\updownarrow"?(l="\\uparrow",u="",c="\\downarrow"):e==="\\Updownarrow"?(l="\\Uparrow",u="",c="\\Downarrow"):lt.contains(INe,e)?(u="",h="vert",f=333):lt.contains(RNe,e)?(u="",h="doublevert",f=556):e==="["||e==="\\lbrack"?(l="",u="",c="",d="Size4-Regular",h="lbrack",f=667):e==="]"||e==="\\rbrack"?(l="",u="",c="",d="Size4-Regular",h="rbrack",f=667):e==="\\lfloor"||e===""?(u=l="",c="",d="Size4-Regular",h="lfloor",f=667):e==="\\lceil"||e===""?(l="",u=c="",d="Size4-Regular",h="lceil",f=667):e==="\\rfloor"||e===""?(u=l="",c="",d="Size4-Regular",h="rfloor",f=667):e==="\\rceil"||e===""?(l="",u=c="",d="Size4-Regular",h="rceil",f=667):e==="("||e==="\\lparen"?(l="",u="",c="",d="Size4-Regular",h="lparen",f=875):e===")"||e==="\\rparen"?(l="",u="",c="",d="Size4-Regular",h="rparen",f=875):e==="\\{"||e==="\\lbrace"?(l="",a="",c="",u="",d="Size4-Regular"):e==="\\}"||e==="\\rbrace"?(l="",a="",c="",u="",d="Size4-Regular"):e==="\\lgroup"||e===""?(l="",c="",u="",d="Size4-Regular"):e==="\\rgroup"||e===""?(l="",c="",u="",d="Size4-Regular"):e==="\\lmoustache"||e===""?(l="",c="",u="",d="Size4-Regular"):(e==="\\rmoustache"||e==="")&&(l="",c="",u="",d="Size4-Regular");var p=Mg(l,d,o),m=p.height+p.depth,y=Mg(u,d,o),g=y.height+y.depth,v=Mg(c,d,o),w=v.height+v.depth,b=0,S=1;if(a!==null){var k=Mg(a,d,o);b=k.height+k.depth,S=2}var T=m+w+b,A=Math.max(0,Math.ceil((n-T)/(S*g))),z=T+A*S*g,E=i.fontMetrics().axisHeight;r&&(E*=i.sizeMultiplier);var B=z/2-E,$=[];if(h.length>0){var ae=z-m-w,G=Math.round(z*1e3),q=zRe(h,Math.round(ae*1e3)),K=new Gc(h,q),Y=(f/1e3).toFixed(3)+"em",L=(G/1e3).toFixed(3)+"em",X=new gu([K],{width:Y,height:L,viewBox:"0 0 "+f+" "+G}),O=J.makeSvgSpan([],[X],i);O.height=G/1e3,O.style.width=Y,O.style.height=L,$.push({type:"elem",elem:O})}else{if($.push(u8(c,d,o)),$.push(z4),a===null){var re=z-m-w+2*uT;$.push(c8(u,re,i))}else{var ce=(z-m-w-b)/2+2*uT;$.push(c8(u,ce,i)),$.push(z4),$.push(u8(a,d,o)),$.push(z4),$.push(c8(u,ce,i))}$.push(z4),$.push(u8(l,d,o))}var _=i.havingBaseStyle(ft.TEXT),Le=J.makeVList({positionType:"bottom",positionData:B,children:$},_);return zP(J.makeSpan(["delimsizing","mult"],[Le],_),ft.TEXT,i,s)},h8=80,f8=.08,d8=function(e,n,r,i,o){var s=LRe(e,i,r),l=new Gc(e,s),a=new gu([l],{width:"400em",height:Re(n),viewBox:"0 0 400000 "+r,preserveAspectRatio:"xMinYMin slice"});return J.makeSvgSpan(["hide-tail"],[a],o)},NNe=function(e,n){var r=n.havingBaseSizing(),i=ane("\\surd",e*r.sizeMultiplier,lne,r),o=r.sizeMultiplier,s=Math.max(0,n.minRuleThickness-n.fontMetrics().sqrtRuleThickness),l,a=0,u=0,c=0,h;return i.type==="small"?(c=1e3+1e3*s+h8,e<1?o=1:e<1.4&&(o=.7),a=(1+s+f8)/o,u=(1+s)/o,l=d8("sqrtMain",a,c,s,n),l.style.minWidth="0.853em",h=.833/o):i.type==="large"?(c=(1e3+h8)*B1[i.size],u=(B1[i.size]+s)/o,a=(B1[i.size]+s+f8)/o,l=d8("sqrtSize"+i.size,a,c,s,n),l.style.minWidth="1.02em",h=1/o):(a=e+s+f8,u=e+s,c=Math.floor(1e3*e+s)+h8,l=d8("sqrtTall",a,c,s,n),l.style.minWidth="0.742em",h=1.056),l.height=u,l.style.height=Re(a),{span:l,advanceWidth:h,ruleWidth:(n.fontMetrics().sqrtRuleThickness+s)*o}},one=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","\\surd"],LNe=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","",""],sne=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],B1=[0,1.2,1.8,2.4,3],BNe=function(e,n,r,i,o){if(e==="<"||e==="\\lt"||e===""?e="\\langle":(e===">"||e==="\\gt"||e==="")&&(e="\\rangle"),lt.contains(one,e)||lt.contains(sne,e))return rne(e,n,!1,r,i,o);if(lt.contains(LNe,e))return ine(e,B1[n],!1,r,i,o);throw new Ee("Illegal delimiter: '"+e+"'")},zNe=[{type:"small",style:ft.SCRIPTSCRIPT},{type:"small",style:ft.SCRIPT},{type:"small",style:ft.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],FNe=[{type:"small",style:ft.SCRIPTSCRIPT},{type:"small",style:ft.SCRIPT},{type:"small",style:ft.TEXT},{type:"stack"}],lne=[{type:"small",style:ft.SCRIPTSCRIPT},{type:"small",style:ft.SCRIPT},{type:"small",style:ft.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],$Ne=function(e){if(e.type==="small")return"Main-Regular";if(e.type==="large")return"Size"+e.size+"-Regular";if(e.type==="stack")return"Size4-Regular";throw new Error("Add support for delim type '"+e.type+"' here.")},ane=function(e,n,r,i){for(var o=Math.min(2,3-i.style.size),s=o;s<r.length&&r[s].type!=="stack";s++){var l=Mg(e,$Ne(r[s]),"math"),a=l.height+l.depth;if(r[s].type==="small"){var u=i.havingBaseStyle(r[s].style);a*=u.sizeMultiplier}if(a>n)return r[s]}return r[r.length-1]},une=function(e,n,r,i,o,s){e==="<"||e==="\\lt"||e===""?e="\\langle":(e===">"||e==="\\gt"||e==="")&&(e="\\rangle");var l;lt.contains(sne,e)?l=zNe:lt.contains(one,e)?l=lne:l=FNe;var a=ane(e,n,l,i);return a.type==="small"?DNe(e,a.style,r,i,o,s):a.type==="large"?rne(e,a.size,r,i,o,s):ine(e,n,r,i,o,s)},VNe=function(e,n,r,i,o,s){var l=i.fontMetrics().axisHeight*i.sizeMultiplier,a=901,u=5/i.fontMetrics().ptPerEm,c=Math.max(n-l,r+l),h=Math.max(c/500*a,2*c-u);return une(e,h,!0,i,o,s)},ou={sqrtImage:NNe,sizedDelim:BNe,sizeToMaxHeight:B1,customSizedDelim:une,leftRightDelim:VNe},w$={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},HNe=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","<",">","\\langle","","\\rangle","","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","","","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function c6(t,e){var n=a6(t);if(n&&lt.contains(HNe,n.text))return n;throw n?new Ee("Invalid delimiter '"+n.text+"' after '"+e.funcName+"'",t):new Ee("Invalid delimiter type '"+t.type+"'",t)}Ve({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:(t,e)=>{var n=c6(e[0],t);return{type:"delimsizing",mode:t.parser.mode,size:w$[t.funcName].size,mclass:w$[t.funcName].mclass,delim:n.text}},htmlBuilder:(t,e)=>t.delim==="."?J.makeSpan([t.mclass]):ou.sizedDelim(t.delim,t.size,e,t.mode,[t.mclass]),mathmlBuilder:t=>{var e=[];t.delim!=="."&&e.push(Es(t.delim,t.mode));var n=new Ce.MathNode("mo",e);t.mclass==="mopen"||t.mclass==="mclose"?n.setAttribute("fence","true"):n.setAttribute("fence","false"),n.setAttribute("stretchy","true");var r=Re(ou.sizeToMaxHeight[t.size]);return n.setAttribute("minsize",r),n.setAttribute("maxsize",r),n}});function x$(t){if(!t.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}Ve({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var n=t.parser.gullet.macros.get("\\current@color");if(n&&typeof n!="string")throw new Ee("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:t.parser.mode,delim:c6(e[0],t).text,color:n}}});Ve({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var n=c6(e[0],t),r=t.parser;++r.leftrightDepth;var i=r.parseExpression(!1);--r.leftrightDepth,r.expect("\\right",!1);var o=Ot(r.parseFunction(),"leftright-right");return{type:"leftright",mode:r.mode,body:i,left:n.text,right:o.delim,rightColor:o.color}},htmlBuilder:(t,e)=>{x$(t);for(var n=Sr(t.body,e,!0,["mopen","mclose"]),r=0,i=0,o=!1,s=0;s<n.length;s++)n[s].isMiddle?o=!0:(r=Math.max(n[s].height,r),i=Math.max(n[s].depth,i));r*=e.sizeMultiplier,i*=e.sizeMultiplier;var l;if(t.left==="."?l=Yy(e,["mopen"]):l=ou.leftRightDelim(t.left,r,i,e,t.mode,["mopen"]),n.unshift(l),o)for(var a=1;a<n.length;a++){var u=n[a],c=u.isMiddle;c&&(n[a]=ou.leftRightDelim(c.delim,r,i,c.options,t.mode,[]))}var h;if(t.right===".")h=Yy(e,["mclose"]);else{var f=t.rightColor?e.withColor(t.rightColor):e;h=ou.leftRightDelim(t.right,r,i,f,t.mode,["mclose"])}return n.push(h),J.makeSpan(["minner"],n,e)},mathmlBuilder:(t,e)=>{x$(t);var n=po(t.body,e);if(t.left!=="."){var r=new Ce.MathNode("mo",[Es(t.left,t.mode)]);r.setAttribute("fence","true"),n.unshift(r)}if(t.right!=="."){var i=new Ce.MathNode("mo",[Es(t.right,t.mode)]);i.setAttribute("fence","true"),t.rightColor&&i.setAttribute("mathcolor",t.rightColor),n.push(i)}return RP(n)}});Ve({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var n=c6(e[0],t);if(!t.parser.leftrightDepth)throw new Ee("\\middle without preceding \\left",n);return{type:"middle",mode:t.parser.mode,delim:n.text}},htmlBuilder:(t,e)=>{var n;if(t.delim===".")n=Yy(e,[]);else{n=ou.sizedDelim(t.delim,1,e,t.mode,[]);var r={delim:t.delim,options:e};n.isMiddle=r}return n},mathmlBuilder:(t,e)=>{var n=t.delim==="\\vert"||t.delim==="|"?Es("|","text"):Es(t.delim,t.mode),r=new Ce.MathNode("mo",[n]);return r.setAttribute("fence","true"),r.setAttribute("lspace","0.05em"),r.setAttribute("rspace","0.05em"),r}});var FP=(t,e)=>{var n=J.wrapFragment(Gt(t.body,e),e),r=t.label.slice(1),i=e.sizeMultiplier,o,s=0,l=lt.isCharacterBox(t.body);if(r==="sout")o=J.makeSpan(["stretchy","sout"]),o.height=e.fontMetrics().defaultRuleThickness/i,s=-.5*e.fontMetrics().xHeight;else if(r==="phase"){var a=qn({number:.6,unit:"pt"},e),u=qn({number:.35,unit:"ex"},e),c=e.havingBaseSizing();i=i/c.sizeMultiplier;var h=n.height+n.depth+a+u;n.style.paddingLeft=Re(h/2+a);var f=Math.floor(1e3*h*i),d=RRe(f),p=new gu([new Gc("phase",d)],{width:"400em",height:Re(f/1e3),viewBox:"0 0 400000 "+f,preserveAspectRatio:"xMinYMin slice"});o=J.makeSvgSpan(["hide-tail"],[p],e),o.style.height=Re(h),s=n.depth+a+u}else{/cancel/.test(r)?l||n.classes.push("cancel-pad"):r==="angl"?n.classes.push("anglpad"):n.classes.push("boxpad");var m=0,y=0,g=0;/box/.test(r)?(g=Math.max(e.fontMetrics().fboxrule,e.minRuleThickness),m=e.fontMetrics().fboxsep+(r==="colorbox"?0:g),y=m):r==="angl"?(g=Math.max(e.fontMetrics().defaultRuleThickness,e.minRuleThickness),m=4*g,y=Math.max(0,.25-n.depth)):(m=l?.2:0,y=m),o=vu.encloseSpan(n,r,m,y,e),/fbox|boxed|fcolorbox/.test(r)?(o.style.borderStyle="solid",o.style.borderWidth=Re(g)):r==="angl"&&g!==.049&&(o.style.borderTopWidth=Re(g),o.style.borderRightWidth=Re(g)),s=n.depth+y,t.backgroundColor&&(o.style.backgroundColor=t.backgroundColor,t.borderColor&&(o.style.borderColor=t.borderColor))}var v;if(t.backgroundColor)v=J.makeVList({positionType:"individualShift",children:[{type:"elem",elem:o,shift:s},{type:"elem",elem:n,shift:0}]},e);else{var w=/cancel|phase/.test(r)?["svg-align"]:[];v=J.makeVList({positionType:"individualShift",children:[{type:"elem",elem:n,shift:0},{type:"elem",elem:o,shift:s,wrapperClasses:w}]},e)}return/cancel/.test(r)&&(v.height=n.height,v.depth=n.depth),/cancel/.test(r)&&!l?J.makeSpan(["mord","cancel-lap"],[v],e):J.makeSpan(["mord"],[v],e)},$P=(t,e)=>{var n=0,r=new Ce.MathNode(t.label.indexOf("colorbox")>-1?"mpadded":"menclose",[mn(t.body,e)]);switch(t.label){case"\\cancel":r.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":r.setAttribute("notation","downdiagonalstrike");break;case"\\phase":r.setAttribute("notation","phasorangle");break;case"\\sout":r.setAttribute("notation","horizontalstrike");break;case"\\fbox":r.setAttribute("notation","box");break;case"\\angl":r.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(n=e.fontMetrics().fboxsep*e.fontMetrics().ptPerEm,r.setAttribute("width","+"+2*n+"pt"),r.setAttribute("height","+"+2*n+"pt"),r.setAttribute("lspace",n+"pt"),r.setAttribute("voffset",n+"pt"),t.label==="\\fcolorbox"){var i=Math.max(e.fontMetrics().fboxrule,e.minRuleThickness);r.setAttribute("style","border: "+i+"em solid "+String(t.borderColor))}break;case"\\xcancel":r.setAttribute("notation","updiagonalstrike downdiagonalstrike");break}return t.backgroundColor&&r.setAttribute("mathbackground",t.backgroundColor),r};Ve({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler(t,e,n){var{parser:r,funcName:i}=t,o=Ot(e[0],"color-token").color,s=e[1];return{type:"enclose",mode:r.mode,label:i,backgroundColor:o,body:s}},htmlBuilder:FP,mathmlBuilder:$P});Ve({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler(t,e,n){var{parser:r,funcName:i}=t,o=Ot(e[0],"color-token").color,s=Ot(e[1],"color-token").color,l=e[2];return{type:"enclose",mode:r.mode,label:i,backgroundColor:s,borderColor:o,body:l}},htmlBuilder:FP,mathmlBuilder:$P});Ve({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler(t,e){var{parser:n}=t;return{type:"enclose",mode:n.mode,label:"\\fbox",body:e[0]}}});Ve({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler(t,e){var{parser:n,funcName:r}=t,i=e[0];return{type:"enclose",mode:n.mode,label:r,body:i}},htmlBuilder:FP,mathmlBuilder:$P});Ve({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler(t,e){var{parser:n}=t;return{type:"enclose",mode:n.mode,label:"\\angl",body:e[0]}}});var cne={};function ca(t){for(var{type:e,names:n,props:r,handler:i,htmlBuilder:o,mathmlBuilder:s}=t,l={type:e,numArgs:r.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:i},a=0;a<n.length;++a)cne[n[a]]=l;o&&(ab[e]=o),s&&(ub[e]=s)}var hne={};function D(t,e){hne[t]=e}function b$(t){var e=[];t.consumeSpaces();var n=t.fetch().text;for(n==="\\relax"&&(t.consume(),t.consumeSpaces(),n=t.fetch().text);n==="\\hline"||n==="\\hdashline";)t.consume(),e.push(n==="\\hdashline"),t.consumeSpaces(),n=t.fetch().text;return e}var h6=t=>{var e=t.parser.settings;if(!e.displayMode)throw new Ee("{"+t.envName+"} can be used only in display mode.")};function VP(t){if(t.indexOf("ed")===-1)return t.indexOf("*")===-1}function ch(t,e,n){var{hskipBeforeAndAfter:r,addJot:i,cols:o,arraystretch:s,colSeparationType:l,autoTag:a,singleRow:u,emptySingleRow:c,maxNumCols:h,leqno:f}=e;if(t.gullet.beginGroup(),u||t.gullet.macros.set("\\cr","\\\\\\relax"),!s){var d=t.gullet.expandMacroAsText("\\arraystretch");if(d==null)s=1;else if(s=parseFloat(d),!s||s<0)throw new Ee("Invalid \\arraystretch: "+d)}t.gullet.beginGroup();var p=[],m=[p],y=[],g=[],v=a!=null?[]:void 0;function w(){a&&t.gullet.macros.set("\\@eqnsw","1",!0)}function b(){v&&(t.gullet.macros.get("\\df@tag")?(v.push(t.subparse([new xs("\\df@tag")])),t.gullet.macros.set("\\df@tag",void 0,!0)):v.push(!!a&&t.gullet.macros.get("\\@eqnsw")==="1"))}for(w(),g.push(b$(t));;){var S=t.parseExpression(!1,u?"\\end":"\\\\");t.gullet.endGroup(),t.gullet.beginGroup(),S={type:"ordgroup",mode:t.mode,body:S},n&&(S={type:"styling",mode:t.mode,style:n,body:[S]}),p.push(S);var k=t.fetch().text;if(k==="&"){if(h&&p.length===h){if(u||l)throw new Ee("Too many tab characters: &",t.nextToken);t.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}t.consume()}else if(k==="\\end"){b(),p.length===1&&S.type==="styling"&&S.body[0].body.length===0&&(m.length>1||!c)&&m.pop(),g.length<m.length+1&&g.push([]);break}else if(k==="\\\\"){t.consume();var T=void 0;t.gullet.future().text!==" "&&(T=t.parseSizeGroup(!0)),y.push(T?T.value:null),b(),g.push(b$(t)),p=[],m.push(p),w()}else throw new Ee("Expected & or \\\\ or \\cr or \\end",t.nextToken)}return t.gullet.endGroup(),t.gullet.endGroup(),{type:"array",mode:t.mode,addJot:i,arraystretch:s,body:m,cols:o,rowGaps:y,hskipBeforeAndAfter:r,hLinesBeforeRow:g,colSeparationType:l,tags:v,leqno:f}}function HP(t){return t.slice(0,1)==="d"?"display":"text"}var ha=function(e,n){var r,i,o=e.body.length,s=e.hLinesBeforeRow,l=0,a=new Array(o),u=[],c=Math.max(n.fontMetrics().arrayRuleWidth,n.minRuleThickness),h=1/n.fontMetrics().ptPerEm,f=5*h;if(e.colSeparationType&&e.colSeparationType==="small"){var d=n.havingStyle(ft.SCRIPT).sizeMultiplier;f=.2778*(d/n.sizeMultiplier)}var p=e.colSeparationType==="CD"?qn({number:3,unit:"ex"},n):12*h,m=3*h,y=e.arraystretch*p,g=.7*y,v=.3*y,w=0;function b(se){for(var ye=0;ye<se.length;++ye)ye>0&&(w+=.25),u.push({pos:w,isDashed:se[ye]})}for(b(s[0]),r=0;r<e.body.length;++r){var S=e.body[r],k=g,T=v;l<S.length&&(l=S.length);var A=new Array(S.length);for(i=0;i<S.length;++i){var z=Gt(S[i],n);T<z.depth&&(T=z.depth),k<z.height&&(k=z.height),A[i]=z}var E=e.rowGaps[r],B=0;E&&(B=qn(E,n),B>0&&(B+=v,T<B&&(T=B),B=0)),e.addJot&&(T+=m),A.height=k,A.depth=T,w+=k,A.pos=w,w+=T+B,a[r]=A,b(s[r+1])}var $=w/2+n.fontMetrics().axisHeight,ae=e.cols||[],G=[],q,K,Y=[];if(e.tags&&e.tags.some(se=>se))for(r=0;r<o;++r){var L=a[r],X=L.pos-$,O=e.tags[r],re=void 0;O===!0?re=J.makeSpan(["eqn-num"],[],n):O===!1?re=J.makeSpan([],[],n):re=J.makeSpan([],Sr(O,n,!0),n),re.depth=L.depth,re.height=L.height,Y.push({type:"elem",elem:re,shift:X})}for(i=0,K=0;i<l||K<ae.length;++i,++K){for(var ce=ae[K]||{},_=!0;ce.type==="separator";){if(_||(q=J.makeSpan(["arraycolsep"],[]),q.style.width=Re(n.fontMetrics().doubleRuleSep),G.push(q)),ce.separator==="|"||ce.separator===":"){var Le=ce.separator==="|"?"solid":"dashed",Ie=J.makeSpan(["vertical-separator"],[],n);Ie.style.height=Re(w),Ie.style.borderRightWidth=Re(c),Ie.style.borderRightStyle=Le,Ie.style.margin="0 "+Re(-c/2);var qe=w-$;qe&&(Ie.style.verticalAlign=Re(-qe)),G.push(Ie)}else throw new Ee("Invalid separator type: "+ce.separator);K++,ce=ae[K]||{},_=!1}if(!(i>=l)){var ct=void 0;(i>0||e.hskipBeforeAndAfter)&&(ct=lt.deflt(ce.pregap,f),ct!==0&&(q=J.makeSpan(["arraycolsep"],[]),q.style.width=Re(ct),G.push(q)));var St=[];for(r=0;r<o;++r){var Mt=a[r],mt=Mt[i];if(mt){var Rt=Mt.pos-$;mt.depth=Mt.depth,mt.height=Mt.height,St.push({type:"elem",elem:mt,shift:Rt})}}St=J.makeVList({positionType:"individualShift",children:St},n),St=J.makeSpan(["col-align-"+(ce.align||"c")],[St]),G.push(St),(i<l-1||e.hskipBeforeAndAfter)&&(ct=lt.deflt(ce.postgap,f),ct!==0&&(q=J.makeSpan(["arraycolsep"],[]),q.style.width=Re(ct),G.push(q)))}}if(a=J.makeSpan(["mtable"],G),u.length>0){for(var dt=J.makeLineSpan("hline",n,c),R=J.makeLineSpan("hdashline",n,c),H=[{type:"elem",elem:a,shift:0}];u.length>0;){var Q=u.pop(),me=Q.pos-$;Q.isDashed?H.push({type:"elem",elem:R,shift:me}):H.push({type:"elem",elem:dt,shift:me})}a=J.makeVList({positionType:"individualShift",children:H},n)}if(Y.length===0)return J.makeSpan(["mord"],[a],n);var oe=J.makeVList({positionType:"individualShift",children:Y},n);return oe=J.makeSpan(["tag"],[oe],n),J.makeFragment([a,oe])},jNe={c:"center ",l:"left ",r:"right "},fa=function(e,n){for(var r=[],i=new Ce.MathNode("mtd",[],["mtr-glue"]),o=new Ce.MathNode("mtd",[],["mml-eqn-num"]),s=0;s<e.body.length;s++){for(var l=e.body[s],a=[],u=0;u<l.length;u++)a.push(new Ce.MathNode("mtd",[mn(l[u],n)]));e.tags&&e.tags[s]&&(a.unshift(i),a.push(i),e.leqno?a.unshift(o):a.push(o)),r.push(new Ce.MathNode("mtr",a))}var c=new Ce.MathNode("mtable",r),h=e.arraystretch===.5?.1:.16+e.arraystretch-1+(e.addJot?.09:0);c.setAttribute("rowspacing",Re(h));var f="",d="";if(e.cols&&e.cols.length>0){var p=e.cols,m="",y=!1,g=0,v=p.length;p[0].type==="separator"&&(f+="top ",g=1),p[p.length-1].type==="separator"&&(f+="bottom ",v-=1);for(var w=g;w<v;w++)p[w].type==="align"?(d+=jNe[p[w].align],y&&(m+="none "),y=!0):p[w].type==="separator"&&y&&(m+=p[w].separator==="|"?"solid ":"dashed ",y=!1);c.setAttribute("columnalign",d.trim()),/[sd]/.test(m)&&c.setAttribute("columnlines",m.trim())}if(e.colSeparationType==="align"){for(var b=e.cols||[],S="",k=1;k<b.length;k++)S+=k%2?"0em ":"1em ";c.setAttribute("columnspacing",S.trim())}else e.colSeparationType==="alignat"||e.colSeparationType==="gather"?c.setAttribute("columnspacing","0em"):e.colSeparationType==="small"?c.setAttribute("columnspacing","0.2778em"):e.colSeparationType==="CD"?c.setAttribute("columnspacing","0.5em"):c.setAttribute("columnspacing","1em");var T="",A=e.hLinesBeforeRow;f+=A[0].length>0?"left ":"",f+=A[A.length-1].length>0?"right ":"";for(var z=1;z<A.length-1;z++)T+=A[z].length===0?"none ":A[z][0]?"dashed ":"solid ";return/[sd]/.test(T)&&c.setAttribute("rowlines",T.trim()),f!==""&&(c=new Ce.MathNode("menclose",[c]),c.setAttribute("notation",f.trim())),e.arraystretch&&e.arraystretch<1&&(c=new Ce.MathNode("mstyle",[c]),c.setAttribute("scriptlevel","1")),c},fne=function(e,n){e.envName.indexOf("ed")===-1&&h6(e);var r=[],i=e.envName.indexOf("at")>-1?"alignat":"align",o=e.envName==="split",s=ch(e.parser,{cols:r,addJot:!0,autoTag:o?void 0:VP(e.envName),emptySingleRow:!0,colSeparationType:i,maxNumCols:o?2:void 0,leqno:e.parser.settings.leqno},"display"),l,a=0,u={type:"ordgroup",mode:e.mode,body:[]};if(n[0]&&n[0].type==="ordgroup"){for(var c="",h=0;h<n[0].body.length;h++){var f=Ot(n[0].body[h],"textord");c+=f.text}l=Number(c),a=l*2}var d=!a;s.body.forEach(function(g){for(var v=1;v<g.length;v+=2){var w=Ot(g[v],"styling"),b=Ot(w.body[0],"ordgroup");b.body.unshift(u)}if(d)a<g.length&&(a=g.length);else{var S=g.length/2;if(l<S)throw new Ee("Too many math in a row: "+("expected "+l+", but got "+S),g[0])}});for(var p=0;p<a;++p){var m="r",y=0;p%2===1?m="l":p>0&&d&&(y=1),r[p]={type:"align",align:m,pregap:y,postgap:0}}return s.colSeparationType=d?"align":"alignat",s};ca({type:"array",names:["array","darray"],props:{numArgs:1},handler(t,e){var n=a6(e[0]),r=n?[e[0]]:Ot(e[0],"ordgroup").body,i=r.map(function(s){var l=LP(s),a=l.text;if("lcr".indexOf(a)!==-1)return{type:"align",align:a};if(a==="|")return{type:"separator",separator:"|"};if(a===":")return{type:"separator",separator:":"};throw new Ee("Unknown column alignment: "+a,s)}),o={cols:i,hskipBeforeAndAfter:!0,maxNumCols:i.length};return ch(t.parser,o,HP(t.envName))},htmlBuilder:ha,mathmlBuilder:fa});ca({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler(t){var e={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[t.envName.replace("*","")],n="c",r={hskipBeforeAndAfter:!1,cols:[{type:"align",align:n}]};if(t.envName.charAt(t.envName.length-1)==="*"){var i=t.parser;if(i.consumeSpaces(),i.fetch().text==="["){if(i.consume(),i.consumeSpaces(),n=i.fetch().text,"lcr".indexOf(n)===-1)throw new Ee("Expected l or c or r",i.nextToken);i.consume(),i.consumeSpaces(),i.expect("]"),i.consume(),r.cols=[{type:"align",align:n}]}}var o=ch(t.parser,r,HP(t.envName)),s=Math.max(0,...o.body.map(l=>l.length));return o.cols=new Array(s).fill({type:"align",align:n}),e?{type:"leftright",mode:t.mode,body:[o],left:e[0],right:e[1],rightColor:void 0}:o},htmlBuilder:ha,mathmlBuilder:fa});ca({type:"array",names:["smallmatrix"],props:{numArgs:0},handler(t){var e={arraystretch:.5},n=ch(t.parser,e,"script");return n.colSeparationType="small",n},htmlBuilder:ha,mathmlBuilder:fa});ca({type:"array",names:["subarray"],props:{numArgs:1},handler(t,e){var n=a6(e[0]),r=n?[e[0]]:Ot(e[0],"ordgroup").body,i=r.map(function(s){var l=LP(s),a=l.text;if("lc".indexOf(a)!==-1)return{type:"align",align:a};throw new Ee("Unknown column alignment: "+a,s)});if(i.length>1)throw new Ee("{subarray} can contain only one column");var o={cols:i,hskipBeforeAndAfter:!1,arraystretch:.5};if(o=ch(t.parser,o,"script"),o.body.length>0&&o.body[0].length>1)throw new Ee("{subarray} can contain only one column");return o},htmlBuilder:ha,mathmlBuilder:fa});ca({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler(t){var e={arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},n=ch(t.parser,e,HP(t.envName));return{type:"leftright",mode:t.mode,body:[n],left:t.envName.indexOf("r")>-1?".":"\\{",right:t.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:ha,mathmlBuilder:fa});ca({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:fne,htmlBuilder:ha,mathmlBuilder:fa});ca({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler(t){lt.contains(["gather","gather*"],t.envName)&&h6(t);var e={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",autoTag:VP(t.envName),emptySingleRow:!0,leqno:t.parser.settings.leqno};return ch(t.parser,e,"display")},htmlBuilder:ha,mathmlBuilder:fa});ca({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:fne,htmlBuilder:ha,mathmlBuilder:fa});ca({type:"array",names:["equation","equation*"],props:{numArgs:0},handler(t){h6(t);var e={autoTag:VP(t.envName),emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:t.parser.settings.leqno};return ch(t.parser,e,"display")},htmlBuilder:ha,mathmlBuilder:fa});ca({type:"array",names:["CD"],props:{numArgs:0},handler(t){return h6(t),ONe(t.parser)},htmlBuilder:ha,mathmlBuilder:fa});D("\\nonumber","\\gdef\\@eqnsw{0}");D("\\notag","\\nonumber");Ve({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler(t,e){throw new Ee(t.funcName+" valid only within array environment")}});var k$=cne;Ve({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler(t,e){var{parser:n,funcName:r}=t,i=e[0];if(i.type!=="ordgroup")throw new Ee("Invalid environment name",i);for(var o="",s=0;s<i.body.length;++s)o+=Ot(i.body[s],"textord").text;if(r==="\\begin"){if(!k$.hasOwnProperty(o))throw new Ee("No such environment: "+o,i);var l=k$[o],{args:a,optArgs:u}=n.parseArguments("\\begin{"+o+"}",l),c={mode:n.mode,envName:o,parser:n},h=l.handler(c,a,u);n.expect("\\end",!1);var f=n.nextToken,d=Ot(n.parseFunction(),"environment");if(d.name!==o)throw new Ee("Mismatch: \\begin{"+o+"} matched by \\end{"+d.name+"}",f);return h}return{type:"environment",mode:n.mode,name:o,nameGroup:i}}});var dne=(t,e)=>{var n=t.font,r=e.withFont(n);return Gt(t.body,r)},pne=(t,e)=>{var n=t.font,r=e.withFont(n);return mn(t.body,r)},S$={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};Ve({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathsfit","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=cb(e[0]),o=r;return o in S$&&(o=S$[o]),{type:"font",mode:n.mode,font:o.slice(1),body:i}},htmlBuilder:dne,mathmlBuilder:pne});Ve({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:(t,e)=>{var{parser:n}=t,r=e[0],i=lt.isCharacterBox(r);return{type:"mclass",mode:n.mode,mclass:u6(r),body:[{type:"font",mode:n.mode,font:"boldsymbol",body:r}],isCharacterBox:i}}});Ve({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:(t,e)=>{var{parser:n,funcName:r,breakOnTokenText:i}=t,{mode:o}=n,s=n.parseExpression(!0,i),l="math"+r.slice(1);return{type:"font",mode:o,font:l,body:{type:"ordgroup",mode:n.mode,body:s}}},htmlBuilder:dne,mathmlBuilder:pne});var mne=(t,e)=>{var n=e;return t==="display"?n=n.id>=ft.SCRIPT.id?n.text():ft.DISPLAY:t==="text"&&n.size===ft.DISPLAY.size?n=ft.TEXT:t==="script"?n=ft.SCRIPT:t==="scriptscript"&&(n=ft.SCRIPTSCRIPT),n},jP=(t,e)=>{var n=mne(t.size,e.style),r=n.fracNum(),i=n.fracDen(),o;o=e.havingStyle(r);var s=Gt(t.numer,o,e);if(t.continued){var l=8.5/e.fontMetrics().ptPerEm,a=3.5/e.fontMetrics().ptPerEm;s.height=s.height<l?l:s.height,s.depth=s.depth<a?a:s.depth}o=e.havingStyle(i);var u=Gt(t.denom,o,e),c,h,f;t.hasBarLine?(t.barSize?(h=qn(t.barSize,e),c=J.makeLineSpan("frac-line",e,h)):c=J.makeLineSpan("frac-line",e),h=c.height,f=c.height):(c=null,h=0,f=e.fontMetrics().defaultRuleThickness);var d,p,m;n.size===ft.DISPLAY.size||t.size==="display"?(d=e.fontMetrics().num1,h>0?p=3*f:p=7*f,m=e.fontMetrics().denom1):(h>0?(d=e.fontMetrics().num2,p=f):(d=e.fontMetrics().num3,p=3*f),m=e.fontMetrics().denom2);var y;if(c){var v=e.fontMetrics().axisHeight;d-s.depth-(v+.5*h)<p&&(d+=p-(d-s.depth-(v+.5*h))),v-.5*h-(u.height-m)<p&&(m+=p-(v-.5*h-(u.height-m)));var w=-(v-.5*h);y=J.makeVList({positionType:"individualShift",children:[{type:"elem",elem:u,shift:m},{type:"elem",elem:c,shift:w},{type:"elem",elem:s,shift:-d}]},e)}else{var g=d-s.depth-(u.height-m);g<p&&(d+=.5*(p-g),m+=.5*(p-g)),y=J.makeVList({positionType:"individualShift",children:[{type:"elem",elem:u,shift:m},{type:"elem",elem:s,shift:-d}]},e)}o=e.havingStyle(n),y.height*=o.sizeMultiplier/e.sizeMultiplier,y.depth*=o.sizeMultiplier/e.sizeMultiplier;var b;n.size===ft.DISPLAY.size?b=e.fontMetrics().delim1:n.size===ft.SCRIPTSCRIPT.size?b=e.havingStyle(ft.SCRIPT).fontMetrics().delim2:b=e.fontMetrics().delim2;var S,k;return t.leftDelim==null?S=Yy(e,["mopen"]):S=ou.customSizedDelim(t.leftDelim,b,!0,e.havingStyle(n),t.mode,["mopen"]),t.continued?k=J.makeSpan([]):t.rightDelim==null?k=Yy(e,["mclose"]):k=ou.customSizedDelim(t.rightDelim,b,!0,e.havingStyle(n),t.mode,["mclose"]),J.makeSpan(["mord"].concat(o.sizingClasses(e)),[S,J.makeSpan(["mfrac"],[y]),k],e)},WP=(t,e)=>{var n=new Ce.MathNode("mfrac",[mn(t.numer,e),mn(t.denom,e)]);if(!t.hasBarLine)n.setAttribute("linethickness","0px");else if(t.barSize){var r=qn(t.barSize,e);n.setAttribute("linethickness",Re(r))}var i=mne(t.size,e.style);if(i.size!==e.style.size){n=new Ce.MathNode("mstyle",[n]);var o=i.size===ft.DISPLAY.size?"true":"false";n.setAttribute("displaystyle",o),n.setAttribute("scriptlevel","0")}if(t.leftDelim!=null||t.rightDelim!=null){var s=[];if(t.leftDelim!=null){var l=new Ce.MathNode("mo",[new Ce.TextNode(t.leftDelim.replace("\\",""))]);l.setAttribute("fence","true"),s.push(l)}if(s.push(n),t.rightDelim!=null){var a=new Ce.MathNode("mo",[new Ce.TextNode(t.rightDelim.replace("\\",""))]);a.setAttribute("fence","true"),s.push(a)}return RP(s)}return n};Ve({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=e[0],o=e[1],s,l=null,a=null,u="auto";switch(r){case"\\dfrac":case"\\frac":case"\\tfrac":s=!0;break;case"\\\\atopfrac":s=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":s=!1,l="(",a=")";break;case"\\\\bracefrac":s=!1,l="\\{",a="\\}";break;case"\\\\brackfrac":s=!1,l="[",a="]";break;default:throw new Error("Unrecognized genfrac command")}switch(r){case"\\dfrac":case"\\dbinom":u="display";break;case"\\tfrac":case"\\tbinom":u="text";break}return{type:"genfrac",mode:n.mode,continued:!1,numer:i,denom:o,hasBarLine:s,leftDelim:l,rightDelim:a,size:u,barSize:null}},htmlBuilder:jP,mathmlBuilder:WP});Ve({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=e[0],o=e[1];return{type:"genfrac",mode:n.mode,continued:!0,numer:i,denom:o,hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}}});Ve({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler(t){var{parser:e,funcName:n,token:r}=t,i;switch(n){case"\\over":i="\\frac";break;case"\\choose":i="\\binom";break;case"\\atop":i="\\\\atopfrac";break;case"\\brace":i="\\\\bracefrac";break;case"\\brack":i="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:e.mode,replaceWith:i,token:r}}});var C$=["display","text","script","scriptscript"],T$=function(e){var n=null;return e.length>0&&(n=e,n=n==="."?null:n),n};Ve({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler(t,e){var{parser:n}=t,r=e[4],i=e[5],o=cb(e[0]),s=o.type==="atom"&&o.family==="open"?T$(o.text):null,l=cb(e[1]),a=l.type==="atom"&&l.family==="close"?T$(l.text):null,u=Ot(e[2],"size"),c,h=null;u.isBlank?c=!0:(h=u.value,c=h.number>0);var f="auto",d=e[3];if(d.type==="ordgroup"){if(d.body.length>0){var p=Ot(d.body[0],"textord");f=C$[Number(p.text)]}}else d=Ot(d,"textord"),f=C$[Number(d.text)];return{type:"genfrac",mode:n.mode,numer:r,denom:i,continued:!1,hasBarLine:c,barSize:h,leftDelim:s,rightDelim:a,size:f}},htmlBuilder:jP,mathmlBuilder:WP});Ve({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler(t,e){var{parser:n,funcName:r,token:i}=t;return{type:"infix",mode:n.mode,replaceWith:"\\\\abovefrac",size:Ot(e[0],"size").value,token:i}}});Ve({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=e[0],o=wRe(Ot(e[1],"infix").size),s=e[2],l=o.number>0;return{type:"genfrac",mode:n.mode,numer:i,denom:s,continued:!1,hasBarLine:l,barSize:o,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:jP,mathmlBuilder:WP});var gne=(t,e)=>{var n=e.style,r,i;t.type==="supsub"?(r=t.sup?Gt(t.sup,e.havingStyle(n.sup()),e):Gt(t.sub,e.havingStyle(n.sub()),e),i=Ot(t.base,"horizBrace")):i=Ot(t,"horizBrace");var o=Gt(i.base,e.havingBaseStyle(ft.DISPLAY)),s=vu.svgSpan(i,e),l;if(i.isOver?(l=J.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:o},{type:"kern",size:.1},{type:"elem",elem:s}]},e),l.children[0].children[0].children[1].classes.push("svg-align")):(l=J.makeVList({positionType:"bottom",positionData:o.depth+.1+s.height,children:[{type:"elem",elem:s},{type:"kern",size:.1},{type:"elem",elem:o}]},e),l.children[0].children[0].children[0].classes.push("svg-align")),r){var a=J.makeSpan(["mord",i.isOver?"mover":"munder"],[l],e);i.isOver?l=J.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:a},{type:"kern",size:.2},{type:"elem",elem:r}]},e):l=J.makeVList({positionType:"bottom",positionData:a.depth+.2+r.height+r.depth,children:[{type:"elem",elem:r},{type:"kern",size:.2},{type:"elem",elem:a}]},e)}return J.makeSpan(["mord",i.isOver?"mover":"munder"],[l],e)},WNe=(t,e)=>{var n=vu.mathMLnode(t.label);return new Ce.MathNode(t.isOver?"mover":"munder",[mn(t.base,e),n])};Ve({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler(t,e){var{parser:n,funcName:r}=t;return{type:"horizBrace",mode:n.mode,label:r,isOver:/^\\over/.test(r),base:e[0]}},htmlBuilder:gne,mathmlBuilder:WNe});Ve({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,r=e[1],i=Ot(e[0],"url").url;return n.settings.isTrusted({command:"\\href",url:i})?{type:"href",mode:n.mode,href:i,body:or(r)}:n.formatUnsupportedCmd("\\href")},htmlBuilder:(t,e)=>{var n=Sr(t.body,e,!1);return J.makeAnchor(t.href,[],n,e)},mathmlBuilder:(t,e)=>{var n=Yc(t.body,e);return n instanceof Do||(n=new Do("mrow",[n])),n.setAttribute("href",t.href),n}});Ve({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,r=Ot(e[0],"url").url;if(!n.settings.isTrusted({command:"\\url",url:r}))return n.formatUnsupportedCmd("\\url");for(var i=[],o=0;o<r.length;o++){var s=r[o];s==="~"&&(s="\\textasciitilde"),i.push({type:"textord",mode:"text",text:s})}var l={type:"text",mode:n.mode,font:"\\texttt",body:i};return{type:"href",mode:n.mode,href:r,body:or(l)}}});Ve({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler(t,e){var{parser:n}=t;return{type:"hbox",mode:n.mode,body:or(e[0])}},htmlBuilder(t,e){var n=Sr(t.body,e,!1);return J.makeFragment(n)},mathmlBuilder(t,e){return new Ce.MathNode("mrow",po(t.body,e))}});Ve({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:(t,e)=>{var{parser:n,funcName:r,token:i}=t,o=Ot(e[0],"raw").string,s=e[1];n.settings.strict&&n.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");var l,a={};switch(r){case"\\htmlClass":a.class=o,l={command:"\\htmlClass",class:o};break;case"\\htmlId":a.id=o,l={command:"\\htmlId",id:o};break;case"\\htmlStyle":a.style=o,l={command:"\\htmlStyle",style:o};break;case"\\htmlData":{for(var u=o.split(","),c=0;c<u.length;c++){var h=u[c].split("=");if(h.length!==2)throw new Ee("Error parsing key-value for \\htmlData");a["data-"+h[0].trim()]=h[1].trim()}l={command:"\\htmlData",attributes:a};break}default:throw new Error("Unrecognized html command")}return n.settings.isTrusted(l)?{type:"html",mode:n.mode,attributes:a,body:or(s)}:n.formatUnsupportedCmd(r)},htmlBuilder:(t,e)=>{var n=Sr(t.body,e,!1),r=["enclosing"];t.attributes.class&&r.push(...t.attributes.class.trim().split(/\s+/));var i=J.makeSpan(r,n,e);for(var o in t.attributes)o!=="class"&&t.attributes.hasOwnProperty(o)&&i.setAttribute(o,t.attributes[o]);return i},mathmlBuilder:(t,e)=>Yc(t.body,e)});Ve({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:(t,e)=>{var{parser:n}=t;return{type:"htmlmathml",mode:n.mode,html:or(e[0]),mathml:or(e[1])}},htmlBuilder:(t,e)=>{var n=Sr(t.html,e,!1);return J.makeFragment(n)},mathmlBuilder:(t,e)=>Yc(t.mathml,e)});var p8=function(e){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(e))return{number:+e,unit:"bp"};var n=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(e);if(!n)throw new Ee("Invalid size: '"+e+"' in \\includegraphics");var r={number:+(n[1]+n[2]),unit:n[3]};if(!Nte(r))throw new Ee("Invalid unit: '"+r.unit+"' in \\includegraphics.");return r};Ve({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:(t,e,n)=>{var{parser:r}=t,i={number:0,unit:"em"},o={number:.9,unit:"em"},s={number:0,unit:"em"},l="";if(n[0])for(var a=Ot(n[0],"raw").string,u=a.split(","),c=0;c<u.length;c++){var h=u[c].split("=");if(h.length===2){var f=h[1].trim();switch(h[0].trim()){case"alt":l=f;break;case"width":i=p8(f);break;case"height":o=p8(f);break;case"totalheight":s=p8(f);break;default:throw new Ee("Invalid key: '"+h[0]+"' in \\includegraphics.")}}}var d=Ot(e[0],"url").url;return l===""&&(l=d,l=l.replace(/^.*[\\/]/,""),l=l.substring(0,l.lastIndexOf("."))),r.settings.isTrusted({command:"\\includegraphics",url:d})?{type:"includegraphics",mode:r.mode,alt:l,width:i,height:o,totalheight:s,src:d}:r.formatUnsupportedCmd("\\includegraphics")},htmlBuilder:(t,e)=>{var n=qn(t.height,e),r=0;t.totalheight.number>0&&(r=qn(t.totalheight,e)-n);var i=0;t.width.number>0&&(i=qn(t.width,e));var o={height:Re(n+r)};i>0&&(o.width=Re(i)),r>0&&(o.verticalAlign=Re(-r));var s=new WRe(t.src,t.alt,o);return s.height=n,s.depth=r,s},mathmlBuilder:(t,e)=>{var n=new Ce.MathNode("mglyph",[]);n.setAttribute("alt",t.alt);var r=qn(t.height,e),i=0;if(t.totalheight.number>0&&(i=qn(t.totalheight,e)-r,n.setAttribute("valign",Re(-i))),n.setAttribute("height",Re(r+i)),t.width.number>0){var o=qn(t.width,e);n.setAttribute("width",Re(o))}return n.setAttribute("src",t.src),n}});Ve({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler(t,e){var{parser:n,funcName:r}=t,i=Ot(e[0],"size");if(n.settings.strict){var o=r[1]==="m",s=i.value.unit==="mu";o?(s||n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+r+" supports only mu units, "+("not "+i.value.unit+" units")),n.mode!=="math"&&n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+r+" works only in math mode")):s&&n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+r+" doesn't support mu units")}return{type:"kern",mode:n.mode,dimension:i.value}},htmlBuilder(t,e){return J.makeGlue(t.dimension,e)},mathmlBuilder(t,e){var n=qn(t.dimension,e);return new Ce.SpaceNode(n)}});Ve({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=e[0];return{type:"lap",mode:n.mode,alignment:r.slice(5),body:i}},htmlBuilder:(t,e)=>{var n;t.alignment==="clap"?(n=J.makeSpan([],[Gt(t.body,e)]),n=J.makeSpan(["inner"],[n],e)):n=J.makeSpan(["inner"],[Gt(t.body,e)]);var r=J.makeSpan(["fix"],[]),i=J.makeSpan([t.alignment],[n,r],e),o=J.makeSpan(["strut"]);return o.style.height=Re(i.height+i.depth),i.depth&&(o.style.verticalAlign=Re(-i.depth)),i.children.unshift(o),i=J.makeSpan(["thinbox"],[i],e),J.makeSpan(["mord","vbox"],[i],e)},mathmlBuilder:(t,e)=>{var n=new Ce.MathNode("mpadded",[mn(t.body,e)]);if(t.alignment!=="rlap"){var r=t.alignment==="llap"?"-1":"-0.5";n.setAttribute("lspace",r+"width")}return n.setAttribute("width","0px"),n}});Ve({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(t,e){var{funcName:n,parser:r}=t,i=r.mode;r.switchMode("math");var o=n==="\\("?"\\)":"$",s=r.parseExpression(!1,o);return r.expect(o),r.switchMode(i),{type:"styling",mode:r.mode,style:"text",body:s}}});Ve({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(t,e){throw new Ee("Mismatched "+t.funcName)}});var M$=(t,e)=>{switch(e.style.size){case ft.DISPLAY.size:return t.display;case ft.TEXT.size:return t.text;case ft.SCRIPT.size:return t.script;case ft.SCRIPTSCRIPT.size:return t.scriptscript;default:return t.text}};Ve({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:(t,e)=>{var{parser:n}=t;return{type:"mathchoice",mode:n.mode,display:or(e[0]),text:or(e[1]),script:or(e[2]),scriptscript:or(e[3])}},htmlBuilder:(t,e)=>{var n=M$(t,e),r=Sr(n,e,!1);return J.makeFragment(r)},mathmlBuilder:(t,e)=>{var n=M$(t,e);return Yc(n,e)}});var yne=(t,e,n,r,i,o,s)=>{t=J.makeSpan([],[t]);var l=n&&lt.isCharacterBox(n),a,u;if(e){var c=Gt(e,r.havingStyle(i.sup()),r);u={elem:c,kern:Math.max(r.fontMetrics().bigOpSpacing1,r.fontMetrics().bigOpSpacing3-c.depth)}}if(n){var h=Gt(n,r.havingStyle(i.sub()),r);a={elem:h,kern:Math.max(r.fontMetrics().bigOpSpacing2,r.fontMetrics().bigOpSpacing4-h.height)}}var f;if(u&&a){var d=r.fontMetrics().bigOpSpacing5+a.elem.height+a.elem.depth+a.kern+t.depth+s;f=J.makeVList({positionType:"bottom",positionData:d,children:[{type:"kern",size:r.fontMetrics().bigOpSpacing5},{type:"elem",elem:a.elem,marginLeft:Re(-o)},{type:"kern",size:a.kern},{type:"elem",elem:t},{type:"kern",size:u.kern},{type:"elem",elem:u.elem,marginLeft:Re(o)},{type:"kern",size:r.fontMetrics().bigOpSpacing5}]},r)}else if(a){var p=t.height-s;f=J.makeVList({positionType:"top",positionData:p,children:[{type:"kern",size:r.fontMetrics().bigOpSpacing5},{type:"elem",elem:a.elem,marginLeft:Re(-o)},{type:"kern",size:a.kern},{type:"elem",elem:t}]},r)}else if(u){var m=t.depth+s;f=J.makeVList({positionType:"bottom",positionData:m,children:[{type:"elem",elem:t},{type:"kern",size:u.kern},{type:"elem",elem:u.elem,marginLeft:Re(o)},{type:"kern",size:r.fontMetrics().bigOpSpacing5}]},r)}else return t;var y=[f];if(a&&o!==0&&!l){var g=J.makeSpan(["mspace"],[],r);g.style.marginRight=Re(o),y.unshift(g)}return J.makeSpan(["mop","op-limits"],y,r)},vne=["\\smallint"],mm=(t,e)=>{var n,r,i=!1,o;t.type==="supsub"?(n=t.sup,r=t.sub,o=Ot(t.base,"op"),i=!0):o=Ot(t,"op");var s=e.style,l=!1;s.size===ft.DISPLAY.size&&o.symbol&&!lt.contains(vne,o.name)&&(l=!0);var a;if(o.symbol){var u=l?"Size2-Regular":"Size1-Regular",c="";if((o.name==="\\oiint"||o.name==="\\oiiint")&&(c=o.name.slice(1),o.name=c==="oiint"?"\\iint":"\\iiint"),a=J.makeSymbol(o.name,u,"math",e,["mop","op-symbol",l?"large-op":"small-op"]),c.length>0){var h=a.italic,f=J.staticSvg(c+"Size"+(l?"2":"1"),e);a=J.makeVList({positionType:"individualShift",children:[{type:"elem",elem:a,shift:0},{type:"elem",elem:f,shift:l?.08:0}]},e),o.name="\\"+c,a.classes.unshift("mop"),a.italic=h}}else if(o.body){var d=Sr(o.body,e,!0);d.length===1&&d[0]instanceof As?(a=d[0],a.classes[0]="mop"):a=J.makeSpan(["mop"],d,e)}else{for(var p=[],m=1;m<o.name.length;m++)p.push(J.mathsym(o.name[m],o.mode,e));a=J.makeSpan(["mop"],p,e)}var y=0,g=0;return(a instanceof As||o.name==="\\oiint"||o.name==="\\oiiint")&&!o.suppressBaseShift&&(y=(a.height-a.depth)/2-e.fontMetrics().axisHeight,g=a.italic),i?yne(a,n,r,e,s,g,y):(y&&(a.style.position="relative",a.style.top=Re(y)),a)},m2=(t,e)=>{var n;if(t.symbol)n=new Do("mo",[Es(t.name,t.mode)]),lt.contains(vne,t.name)&&n.setAttribute("largeop","false");else if(t.body)n=new Do("mo",po(t.body,e));else{n=new Do("mi",[new Hl(t.name.slice(1))]);var r=new Do("mo",[Es("","text")]);t.parentIsSupSub?n=new Do("mrow",[n,r]):n=qte([n,r])}return n},UNe={"":"\\prod","":"\\coprod","":"\\sum","":"\\bigwedge","":"\\bigvee","":"\\bigcap","":"\\bigcup","":"\\bigodot","":"\\bigoplus","":"\\bigotimes","":"\\biguplus","":"\\bigsqcup"};Ve({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","","","","","","","","","","","",""],props:{numArgs:0},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=r;return i.length===1&&(i=UNe[i]),{type:"op",mode:n.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:i}},htmlBuilder:mm,mathmlBuilder:m2});Ve({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var{parser:n}=t,r=e[0];return{type:"op",mode:n.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:or(r)}},htmlBuilder:mm,mathmlBuilder:m2});var qNe={"":"\\int","":"\\iint","":"\\iiint","":"\\oint","":"\\oiint","":"\\oiiint"};Ve({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler(t){var{parser:e,funcName:n}=t;return{type:"op",mode:e.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:n}},htmlBuilder:mm,mathmlBuilder:m2});Ve({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler(t){var{parser:e,funcName:n}=t;return{type:"op",mode:e.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:n}},htmlBuilder:mm,mathmlBuilder:m2});Ve({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","","","","","",""],props:{numArgs:0},handler(t){var{parser:e,funcName:n}=t,r=n;return r.length===1&&(r=qNe[r]),{type:"op",mode:e.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:r}},htmlBuilder:mm,mathmlBuilder:m2});var wne=(t,e)=>{var n,r,i=!1,o;t.type==="supsub"?(n=t.sup,r=t.sub,o=Ot(t.base,"operatorname"),i=!0):o=Ot(t,"operatorname");var s;if(o.body.length>0){for(var l=o.body.map(h=>{var f=h.text;return typeof f=="string"?{type:"textord",mode:h.mode,text:f}:h}),a=Sr(l,e.withFont("mathrm"),!0),u=0;u<a.length;u++){var c=a[u];c instanceof As&&(c.text=c.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}s=J.makeSpan(["mop"],a,e)}else s=J.makeSpan(["mop"],[],e);return i?yne(s,n,r,e,e.style,0,0):s},KNe=(t,e)=>{for(var n=po(t.body,e.withFont("mathrm")),r=!0,i=0;i<n.length;i++){var o=n[i];if(!(o instanceof Ce.SpaceNode))if(o instanceof Ce.MathNode)switch(o.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":{var s=o.children[0];o.children.length===1&&s instanceof Ce.TextNode?s.text=s.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):r=!1;break}default:r=!1}else r=!1}if(r){var l=n.map(c=>c.toText()).join("");n=[new Ce.TextNode(l)]}var a=new Ce.MathNode("mi",n);a.setAttribute("mathvariant","normal");var u=new Ce.MathNode("mo",[Es("","text")]);return t.parentIsSupSub?new Ce.MathNode("mrow",[a,u]):Ce.newDocumentFragment([a,u])};Ve({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=e[0];return{type:"operatorname",mode:n.mode,body:or(i),alwaysHandleSupSub:r==="\\operatornamewithlimits",limits:!1,parentIsSupSub:!1}},htmlBuilder:wne,mathmlBuilder:KNe});D("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@");ud({type:"ordgroup",htmlBuilder(t,e){return t.semisimple?J.makeFragment(Sr(t.body,e,!1)):J.makeSpan(["mord"],Sr(t.body,e,!0),e)},mathmlBuilder(t,e){return Yc(t.body,e,!0)}});Ve({type:"overline",names:["\\overline"],props:{numArgs:1},handler(t,e){var{parser:n}=t,r=e[0];return{type:"overline",mode:n.mode,body:r}},htmlBuilder(t,e){var n=Gt(t.body,e.havingCrampedStyle()),r=J.makeLineSpan("overline-line",e),i=e.fontMetrics().defaultRuleThickness,o=J.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n},{type:"kern",size:3*i},{type:"elem",elem:r},{type:"kern",size:i}]},e);return J.makeSpan(["mord","overline"],[o],e)},mathmlBuilder(t,e){var n=new Ce.MathNode("mo",[new Ce.TextNode("")]);n.setAttribute("stretchy","true");var r=new Ce.MathNode("mover",[mn(t.body,e),n]);return r.setAttribute("accent","true"),r}});Ve({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,r=e[0];return{type:"phantom",mode:n.mode,body:or(r)}},htmlBuilder:(t,e)=>{var n=Sr(t.body,e.withPhantom(),!1);return J.makeFragment(n)},mathmlBuilder:(t,e)=>{var n=po(t.body,e);return new Ce.MathNode("mphantom",n)}});Ve({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,r=e[0];return{type:"hphantom",mode:n.mode,body:r}},htmlBuilder:(t,e)=>{var n=J.makeSpan([],[Gt(t.body,e.withPhantom())]);if(n.height=0,n.depth=0,n.children)for(var r=0;r<n.children.length;r++)n.children[r].height=0,n.children[r].depth=0;return n=J.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n}]},e),J.makeSpan(["mord"],[n],e)},mathmlBuilder:(t,e)=>{var n=po(or(t.body),e),r=new Ce.MathNode("mphantom",n),i=new Ce.MathNode("mpadded",[r]);return i.setAttribute("height","0px"),i.setAttribute("depth","0px"),i}});Ve({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,r=e[0];return{type:"vphantom",mode:n.mode,body:r}},htmlBuilder:(t,e)=>{var n=J.makeSpan(["inner"],[Gt(t.body,e.withPhantom())]),r=J.makeSpan(["fix"],[]);return J.makeSpan(["mord","rlap"],[n,r],e)},mathmlBuilder:(t,e)=>{var n=po(or(t.body),e),r=new Ce.MathNode("mphantom",n),i=new Ce.MathNode("mpadded",[r]);return i.setAttribute("width","0px"),i}});Ve({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler(t,e){var{parser:n}=t,r=Ot(e[0],"size").value,i=e[1];return{type:"raisebox",mode:n.mode,dy:r,body:i}},htmlBuilder(t,e){var n=Gt(t.body,e),r=qn(t.dy,e);return J.makeVList({positionType:"shift",positionData:-r,children:[{type:"elem",elem:n}]},e)},mathmlBuilder(t,e){var n=new Ce.MathNode("mpadded",[mn(t.body,e)]),r=t.dy.number+t.dy.unit;return n.setAttribute("voffset",r),n}});Ve({type:"internal",names:["\\relax"],props:{numArgs:0,allowedInText:!0,allowedInArgument:!0},handler(t){var{parser:e}=t;return{type:"internal",mode:e.mode}}});Ve({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["size","size","size"]},handler(t,e,n){var{parser:r}=t,i=n[0],o=Ot(e[0],"size"),s=Ot(e[1],"size");return{type:"rule",mode:r.mode,shift:i&&Ot(i,"size").value,width:o.value,height:s.value}},htmlBuilder(t,e){var n=J.makeSpan(["mord","rule"],[],e),r=qn(t.width,e),i=qn(t.height,e),o=t.shift?qn(t.shift,e):0;return n.style.borderRightWidth=Re(r),n.style.borderTopWidth=Re(i),n.style.bottom=Re(o),n.width=r,n.height=i+o,n.depth=-o,n.maxFontSize=i*1.125*e.sizeMultiplier,n},mathmlBuilder(t,e){var n=qn(t.width,e),r=qn(t.height,e),i=t.shift?qn(t.shift,e):0,o=e.color&&e.getColor()||"black",s=new Ce.MathNode("mspace");s.setAttribute("mathbackground",o),s.setAttribute("width",Re(n)),s.setAttribute("height",Re(r));var l=new Ce.MathNode("mpadded",[s]);return i>=0?l.setAttribute("height",Re(i)):(l.setAttribute("height",Re(i)),l.setAttribute("depth",Re(-i))),l.setAttribute("voffset",Re(i)),l}});function xne(t,e,n){for(var r=Sr(t,e,!1),i=e.sizeMultiplier/n.sizeMultiplier,o=0;o<r.length;o++){var s=r[o].classes.indexOf("sizing");s<0?Array.prototype.push.apply(r[o].classes,e.sizingClasses(n)):r[o].classes[s+1]==="reset-size"+e.size&&(r[o].classes[s+1]="reset-size"+n.size),r[o].height*=i,r[o].depth*=i}return J.makeFragment(r)}var A$=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"],GNe=(t,e)=>{var n=e.havingSize(t.size);return xne(t.body,n,e)};Ve({type:"sizing",names:A$,props:{numArgs:0,allowedInText:!0},handler:(t,e)=>{var{breakOnTokenText:n,funcName:r,parser:i}=t,o=i.parseExpression(!1,n);return{type:"sizing",mode:i.mode,size:A$.indexOf(r)+1,body:o}},htmlBuilder:GNe,mathmlBuilder:(t,e)=>{var n=e.havingSize(t.size),r=po(t.body,n),i=new Ce.MathNode("mstyle",r);return i.setAttribute("mathsize",Re(n.sizeMultiplier)),i}});Ve({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:(t,e,n)=>{var{parser:r}=t,i=!1,o=!1,s=n[0]&&Ot(n[0],"ordgroup");if(s)for(var l="",a=0;a<s.body.length;++a){var u=s.body[a];if(l=u.text,l==="t")i=!0;else if(l==="b")o=!0;else{i=!1,o=!1;break}}else i=!0,o=!0;var c=e[0];return{type:"smash",mode:r.mode,body:c,smashHeight:i,smashDepth:o}},htmlBuilder:(t,e)=>{var n=J.makeSpan([],[Gt(t.body,e)]);if(!t.smashHeight&&!t.smashDepth)return n;if(t.smashHeight&&(n.height=0,n.children))for(var r=0;r<n.children.length;r++)n.children[r].height=0;if(t.smashDepth&&(n.depth=0,n.children))for(var i=0;i<n.children.length;i++)n.children[i].depth=0;var o=J.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n}]},e);return J.makeSpan(["mord"],[o],e)},mathmlBuilder:(t,e)=>{var n=new Ce.MathNode("mpadded",[mn(t.body,e)]);return t.smashHeight&&n.setAttribute("height","0px"),t.smashDepth&&n.setAttribute("depth","0px"),n}});Ve({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler(t,e,n){var{parser:r}=t,i=n[0],o=e[0];return{type:"sqrt",mode:r.mode,body:o,index:i}},htmlBuilder(t,e){var n=Gt(t.body,e.havingCrampedStyle());n.height===0&&(n.height=e.fontMetrics().xHeight),n=J.wrapFragment(n,e);var r=e.fontMetrics(),i=r.defaultRuleThickness,o=i;e.style.id<ft.TEXT.id&&(o=e.fontMetrics().xHeight);var s=i+o/4,l=n.height+n.depth+s+i,{span:a,ruleWidth:u,advanceWidth:c}=ou.sqrtImage(l,e),h=a.height-u;h>n.height+n.depth+s&&(s=(s+h-n.height-n.depth)/2);var f=a.height-n.height-s-u;n.style.paddingLeft=Re(c);var d=J.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n,wrapperClasses:["svg-align"]},{type:"kern",size:-(n.height+f)},{type:"elem",elem:a},{type:"kern",size:u}]},e);if(t.index){var p=e.havingStyle(ft.SCRIPTSCRIPT),m=Gt(t.index,p,e),y=.6*(d.height-d.depth),g=J.makeVList({positionType:"shift",positionData:-y,children:[{type:"elem",elem:m}]},e),v=J.makeSpan(["root"],[g]);return J.makeSpan(["mord","sqrt"],[v,d],e)}else return J.makeSpan(["mord","sqrt"],[d],e)},mathmlBuilder(t,e){var{body:n,index:r}=t;return r?new Ce.MathNode("mroot",[mn(n,e),mn(r,e)]):new Ce.MathNode("msqrt",[mn(n,e)])}});var E$={display:ft.DISPLAY,text:ft.TEXT,script:ft.SCRIPT,scriptscript:ft.SCRIPTSCRIPT};Ve({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t,e){var{breakOnTokenText:n,funcName:r,parser:i}=t,o=i.parseExpression(!0,n),s=r.slice(1,r.length-5);return{type:"styling",mode:i.mode,style:s,body:o}},htmlBuilder(t,e){var n=E$[t.style],r=e.havingStyle(n).withFont("");return xne(t.body,r,e)},mathmlBuilder(t,e){var n=E$[t.style],r=e.havingStyle(n),i=po(t.body,r),o=new Ce.MathNode("mstyle",i),s={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]},l=s[t.style];return o.setAttribute("scriptlevel",l[0]),o.setAttribute("displaystyle",l[1]),o}});var YNe=function(e,n){var r=e.base;if(r)if(r.type==="op"){var i=r.limits&&(n.style.size===ft.DISPLAY.size||r.alwaysHandleSupSub);return i?mm:null}else if(r.type==="operatorname"){var o=r.alwaysHandleSupSub&&(n.style.size===ft.DISPLAY.size||r.limits);return o?wne:null}else{if(r.type==="accent")return lt.isCharacterBox(r.base)?BP:null;if(r.type==="horizBrace"){var s=!e.sub;return s===r.isOver?gne:null}else return null}else return null};ud({type:"supsub",htmlBuilder(t,e){var n=YNe(t,e);if(n)return n(t,e);var{base:r,sup:i,sub:o}=t,s=Gt(r,e),l,a,u=e.fontMetrics(),c=0,h=0,f=r&&lt.isCharacterBox(r);if(i){var d=e.havingStyle(e.style.sup());l=Gt(i,d,e),f||(c=s.height-d.fontMetrics().supDrop*d.sizeMultiplier/e.sizeMultiplier)}if(o){var p=e.havingStyle(e.style.sub());a=Gt(o,p,e),f||(h=s.depth+p.fontMetrics().subDrop*p.sizeMultiplier/e.sizeMultiplier)}var m;e.style===ft.DISPLAY?m=u.sup1:e.style.cramped?m=u.sup3:m=u.sup2;var y=e.sizeMultiplier,g=Re(.5/u.ptPerEm/y),v=null;if(a){var w=t.base&&t.base.type==="op"&&t.base.name&&(t.base.name==="\\oiint"||t.base.name==="\\oiiint");(s instanceof As||w)&&(v=Re(-s.italic))}var b;if(l&&a){c=Math.max(c,m,l.depth+.25*u.xHeight),h=Math.max(h,u.sub2);var S=u.defaultRuleThickness,k=4*S;if(c-l.depth-(a.height-h)<k){h=k-(c-l.depth)+a.height;var T=.8*u.xHeight-(c-l.depth);T>0&&(c+=T,h-=T)}var A=[{type:"elem",elem:a,shift:h,marginRight:g,marginLeft:v},{type:"elem",elem:l,shift:-c,marginRight:g}];b=J.makeVList({positionType:"individualShift",children:A},e)}else if(a){h=Math.max(h,u.sub1,a.height-.8*u.xHeight);var z=[{type:"elem",elem:a,marginLeft:v,marginRight:g}];b=J.makeVList({positionType:"shift",positionData:h,children:z},e)}else if(l)c=Math.max(c,m,l.depth+.25*u.xHeight),b=J.makeVList({positionType:"shift",positionData:-c,children:[{type:"elem",elem:l,marginRight:g}]},e);else throw new Error("supsub must have either sup or sub.");var E=sT(s,"right")||"mord";return J.makeSpan([E],[s,J.makeSpan(["msupsub"],[b])],e)},mathmlBuilder(t,e){var n=!1,r,i;t.base&&t.base.type==="horizBrace"&&(i=!!t.sup,i===t.base.isOver&&(n=!0,r=t.base.isOver)),t.base&&(t.base.type==="op"||t.base.type==="operatorname")&&(t.base.parentIsSupSub=!0);var o=[mn(t.base,e)];t.sub&&o.push(mn(t.sub,e)),t.sup&&o.push(mn(t.sup,e));var s;if(n)s=r?"mover":"munder";else if(t.sub)if(t.sup){var u=t.base;u&&u.type==="op"&&u.limits&&e.style===ft.DISPLAY||u&&u.type==="operatorname"&&u.alwaysHandleSupSub&&(e.style===ft.DISPLAY||u.limits)?s="munderover":s="msubsup"}else{var a=t.base;a&&a.type==="op"&&a.limits&&(e.style===ft.DISPLAY||a.alwaysHandleSupSub)||a&&a.type==="operatorname"&&a.alwaysHandleSupSub&&(a.limits||e.style===ft.DISPLAY)?s="munder":s="msub"}else{var l=t.base;l&&l.type==="op"&&l.limits&&(e.style===ft.DISPLAY||l.alwaysHandleSupSub)||l&&l.type==="operatorname"&&l.alwaysHandleSupSub&&(l.limits||e.style===ft.DISPLAY)?s="mover":s="msup"}return new Ce.MathNode(s,o)}});ud({type:"atom",htmlBuilder(t,e){return J.mathsym(t.text,t.mode,e,["m"+t.family])},mathmlBuilder(t,e){var n=new Ce.MathNode("mo",[Es(t.text,t.mode)]);if(t.family==="bin"){var r=NP(t,e);r==="bold-italic"&&n.setAttribute("mathvariant",r)}else t.family==="punct"?n.setAttribute("separator","true"):(t.family==="open"||t.family==="close")&&n.setAttribute("stretchy","false");return n}});var bne={mi:"italic",mn:"normal",mtext:"normal"};ud({type:"mathord",htmlBuilder(t,e){return J.makeOrd(t,e,"mathord")},mathmlBuilder(t,e){var n=new Ce.MathNode("mi",[Es(t.text,t.mode,e)]),r=NP(t,e)||"italic";return r!==bne[n.type]&&n.setAttribute("mathvariant",r),n}});ud({type:"textord",htmlBuilder(t,e){return J.makeOrd(t,e,"textord")},mathmlBuilder(t,e){var n=Es(t.text,t.mode,e),r=NP(t,e)||"normal",i;return t.mode==="text"?i=new Ce.MathNode("mtext",[n]):/[0-9]/.test(t.text)?i=new Ce.MathNode("mn",[n]):t.text==="\\prime"?i=new Ce.MathNode("mo",[n]):i=new Ce.MathNode("mi",[n]),r!==bne[i.type]&&i.setAttribute("mathvariant",r),i}});var m8={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},g8={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};ud({type:"spacing",htmlBuilder(t,e){if(g8.hasOwnProperty(t.text)){var n=g8[t.text].className||"";if(t.mode==="text"){var r=J.makeOrd(t,e,"textord");return r.classes.push(n),r}else return J.makeSpan(["mspace",n],[J.mathsym(t.text,t.mode,e)],e)}else{if(m8.hasOwnProperty(t.text))return J.makeSpan(["mspace",m8[t.text]],[],e);throw new Ee('Unknown type of space "'+t.text+'"')}},mathmlBuilder(t,e){var n;if(g8.hasOwnProperty(t.text))n=new Ce.MathNode("mtext",[new Ce.TextNode("")]);else{if(m8.hasOwnProperty(t.text))return new Ce.MathNode("mspace");throw new Ee('Unknown type of space "'+t.text+'"')}return n}});var O$=()=>{var t=new Ce.MathNode("mtd",[]);return t.setAttribute("width","50%"),t};ud({type:"tag",mathmlBuilder(t,e){var n=new Ce.MathNode("mtable",[new Ce.MathNode("mtr",[O$(),new Ce.MathNode("mtd",[Yc(t.body,e)]),O$(),new Ce.MathNode("mtd",[Yc(t.tag,e)])])]);return n.setAttribute("width","100%"),n}});var P$={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},D$={"\\textbf":"textbf","\\textmd":"textmd"},XNe={"\\textit":"textit","\\textup":"textup"},_$=(t,e)=>{var n=t.font;if(n){if(P$[n])return e.withTextFontFamily(P$[n]);if(D$[n])return e.withTextFontWeight(D$[n]);if(n==="\\emph")return e.fontShape==="textit"?e.withTextFontShape("textup"):e.withTextFontShape("textit")}else return e;return e.withTextFontShape(XNe[n])};Ve({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup","\\emph"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler(t,e){var{parser:n,funcName:r}=t,i=e[0];return{type:"text",mode:n.mode,body:or(i),font:r}},htmlBuilder(t,e){var n=_$(t,e),r=Sr(t.body,n,!0);return J.makeSpan(["mord","text"],r,n)},mathmlBuilder(t,e){var n=_$(t,e);return Yc(t.body,n)}});Ve({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler(t,e){var{parser:n}=t;return{type:"underline",mode:n.mode,body:e[0]}},htmlBuilder(t,e){var n=Gt(t.body,e),r=J.makeLineSpan("underline-line",e),i=e.fontMetrics().defaultRuleThickness,o=J.makeVList({positionType:"top",positionData:n.height,children:[{type:"kern",size:i},{type:"elem",elem:r},{type:"kern",size:3*i},{type:"elem",elem:n}]},e);return J.makeSpan(["mord","underline"],[o],e)},mathmlBuilder(t,e){var n=new Ce.MathNode("mo",[new Ce.TextNode("")]);n.setAttribute("stretchy","true");var r=new Ce.MathNode("munder",[mn(t.body,e),n]);return r.setAttribute("accentunder","true"),r}});Ve({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler(t,e){var{parser:n}=t;return{type:"vcenter",mode:n.mode,body:e[0]}},htmlBuilder(t,e){var n=Gt(t.body,e),r=e.fontMetrics().axisHeight,i=.5*(n.height-r-(n.depth+r));return J.makeVList({positionType:"shift",positionData:i,children:[{type:"elem",elem:n}]},e)},mathmlBuilder(t,e){return new Ce.MathNode("mpadded",[mn(t.body,e)],["vcenter"])}});Ve({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler(t,e,n){throw new Ee("\\verb ended by end of line instead of matching delimiter")},htmlBuilder(t,e){for(var n=I$(t),r=[],i=e.havingStyle(e.style.text()),o=0;o<n.length;o++){var s=n[o];s==="~"&&(s="\\textasciitilde"),r.push(J.makeSymbol(s,"Typewriter-Regular",t.mode,i,["mord","texttt"]))}return J.makeSpan(["mord","text"].concat(i.sizingClasses(e)),J.tryCombineChars(r),i)},mathmlBuilder(t,e){var n=new Ce.TextNode(I$(t)),r=new Ce.MathNode("mtext",[n]);return r.setAttribute("mathvariant","monospace"),r}});var I$=t=>t.body.replace(/ /g,t.star?"":""),wc=Wte,kne=`[ \r
	]`,JNe="\\\\[a-zA-Z@]+",ZNe="\\\\[^\uD800-\uDFFF]",QNe="("+JNe+")"+kne+"*",eLe=`\\\\(
|[ \r	]+
?)[ \r	]*`,cT="[-]",tLe=new RegExp(cT+"+$"),nLe="("+kne+"+)|"+(eLe+"|")+"([!-\\[\\]---]"+(cT+"*")+"|[\uD800-\uDBFF][\uDC00-\uDFFF]"+(cT+"*")+"|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5"+("|"+QNe)+("|"+ZNe+")");class R${constructor(e,n){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=e,this.settings=n,this.tokenRegex=new RegExp(nLe,"g"),this.catcodes={"%":14,"~":13}}setCatcode(e,n){this.catcodes[e]=n}lex(){var e=this.input,n=this.tokenRegex.lastIndex;if(n===e.length)return new xs("EOF",new Ao(this,n,n));var r=this.tokenRegex.exec(e);if(r===null||r.index!==n)throw new Ee("Unexpected character: '"+e[n]+"'",new xs(e[n],new Ao(this,n,n+1)));var i=r[6]||r[3]||(r[2]?"\\ ":" ");if(this.catcodes[i]===14){var o=e.indexOf(`
`,this.tokenRegex.lastIndex);return o===-1?(this.tokenRegex.lastIndex=e.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=o+1,this.lex()}return new xs(i,new Ao(this,n,this.tokenRegex.lastIndex))}}class rLe{constructor(e,n){e===void 0&&(e={}),n===void 0&&(n={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=n,this.builtins=e,this.undefStack=[]}beginGroup(){this.undefStack.push({})}endGroup(){if(this.undefStack.length===0)throw new Ee("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");var e=this.undefStack.pop();for(var n in e)e.hasOwnProperty(n)&&(e[n]==null?delete this.current[n]:this.current[n]=e[n])}endGroups(){for(;this.undefStack.length>0;)this.endGroup()}has(e){return this.current.hasOwnProperty(e)||this.builtins.hasOwnProperty(e)}get(e){return this.current.hasOwnProperty(e)?this.current[e]:this.builtins[e]}set(e,n,r){if(r===void 0&&(r=!1),r){for(var i=0;i<this.undefStack.length;i++)delete this.undefStack[i][e];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][e]=n)}else{var o=this.undefStack[this.undefStack.length-1];o&&!o.hasOwnProperty(e)&&(o[e]=this.current[e])}n==null?delete this.current[e]:this.current[e]=n}}var iLe=hne;D("\\noexpand",function(t){var e=t.popToken();return t.isExpandable(e.text)&&(e.noexpand=!0,e.treatAsRelax=!0),{tokens:[e],numArgs:0}});D("\\expandafter",function(t){var e=t.popToken();return t.expandOnce(!0),{tokens:[e],numArgs:0}});D("\\@firstoftwo",function(t){var e=t.consumeArgs(2);return{tokens:e[0],numArgs:0}});D("\\@secondoftwo",function(t){var e=t.consumeArgs(2);return{tokens:e[1],numArgs:0}});D("\\@ifnextchar",function(t){var e=t.consumeArgs(3);t.consumeSpaces();var n=t.future();return e[0].length===1&&e[0][0].text===n.text?{tokens:e[1],numArgs:0}:{tokens:e[2],numArgs:0}});D("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}");D("\\TextOrMath",function(t){var e=t.consumeArgs(2);return t.mode==="text"?{tokens:e[0],numArgs:0}:{tokens:e[1],numArgs:0}});var N$={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};D("\\char",function(t){var e=t.popToken(),n,r="";if(e.text==="'")n=8,e=t.popToken();else if(e.text==='"')n=16,e=t.popToken();else if(e.text==="`")if(e=t.popToken(),e.text[0]==="\\")r=e.text.charCodeAt(1);else{if(e.text==="EOF")throw new Ee("\\char` missing argument");r=e.text.charCodeAt(0)}else n=10;if(n){if(r=N$[e.text],r==null||r>=n)throw new Ee("Invalid base-"+n+" digit "+e.text);for(var i;(i=N$[t.future().text])!=null&&i<n;)r*=n,r+=i,t.popToken()}return"\\@char{"+r+"}"});var UP=(t,e,n,r)=>{var i=t.consumeArg().tokens;if(i.length!==1)throw new Ee("\\newcommand's first argument must be a macro name");var o=i[0].text,s=t.isDefined(o);if(s&&!e)throw new Ee("\\newcommand{"+o+"} attempting to redefine "+(o+"; use \\renewcommand"));if(!s&&!n)throw new Ee("\\renewcommand{"+o+"} when command "+o+" does not yet exist; use \\newcommand");var l=0;if(i=t.consumeArg().tokens,i.length===1&&i[0].text==="["){for(var a="",u=t.expandNextToken();u.text!=="]"&&u.text!=="EOF";)a+=u.text,u=t.expandNextToken();if(!a.match(/^\s*[0-9]+\s*$/))throw new Ee("Invalid number of arguments: "+a);l=parseInt(a),i=t.consumeArg().tokens}return s&&r||t.macros.set(o,{tokens:i,numArgs:l}),""};D("\\newcommand",t=>UP(t,!1,!0,!1));D("\\renewcommand",t=>UP(t,!0,!1,!1));D("\\providecommand",t=>UP(t,!0,!0,!0));D("\\message",t=>{var e=t.consumeArgs(1)[0];return console.log(e.reverse().map(n=>n.text).join("")),""});D("\\errmessage",t=>{var e=t.consumeArgs(1)[0];return console.error(e.reverse().map(n=>n.text).join("")),""});D("\\show",t=>{var e=t.popToken(),n=e.text;return console.log(e,t.macros.get(n),wc[n],Sn.math[n],Sn.text[n]),""});D("\\bgroup","{");D("\\egroup","}");D("~","\\nobreakspace");D("\\lq","`");D("\\rq","'");D("\\aa","\\r a");D("\\AA","\\r A");D("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`}");D("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}");D("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`}");D("","\\mathscr{B}");D("","\\mathscr{E}");D("","\\mathscr{F}");D("","\\mathscr{H}");D("","\\mathscr{I}");D("","\\mathscr{L}");D("","\\mathscr{M}");D("","\\mathscr{R}");D("","\\mathfrak{C}");D("","\\mathfrak{H}");D("","\\mathfrak{Z}");D("\\Bbbk","\\Bbb{k}");D("","\\cdotp");D("\\llap","\\mathllap{\\textrm{#1}}");D("\\rlap","\\mathrlap{\\textrm{#1}}");D("\\clap","\\mathclap{\\textrm{#1}}");D("\\mathstrut","\\vphantom{(}");D("\\underbar","\\underline{\\text{#1}}");D("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}');D("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`}}");D("\\ne","\\neq");D("","\\neq");D("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`}}");D("","\\notin");D("","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`}}");D("","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`}}");D("","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`}}");D("","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`}}");D("","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`}}");D("","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`}}");D("","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`}}");D("","\\perp");D("","\\mathclose{!\\mkern-0.8mu!}");D("","\\notni");D("","\\ulcorner");D("","\\urcorner");D("","\\llcorner");D("","\\lrcorner");D("","\\copyright");D("","\\textregistered");D("","\\textregistered");D("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}');D("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}');D("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}');D("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}');D("\\vdots","{\\varvdots\\rule{0pt}{15pt}}");D("","\\vdots");D("\\varGamma","\\mathit{\\Gamma}");D("\\varDelta","\\mathit{\\Delta}");D("\\varTheta","\\mathit{\\Theta}");D("\\varLambda","\\mathit{\\Lambda}");D("\\varXi","\\mathit{\\Xi}");D("\\varPi","\\mathit{\\Pi}");D("\\varSigma","\\mathit{\\Sigma}");D("\\varUpsilon","\\mathit{\\Upsilon}");D("\\varPhi","\\mathit{\\Phi}");D("\\varPsi","\\mathit{\\Psi}");D("\\varOmega","\\mathit{\\Omega}");D("\\substack","\\begin{subarray}{c}#1\\end{subarray}");D("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax");D("\\boxed","\\fbox{$\\displaystyle{#1}$}");D("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;");D("\\implies","\\DOTSB\\;\\Longrightarrow\\;");D("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;");D("\\dddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ...}}{#1}}");D("\\ddddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ....}}{#1}}");var L$={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};D("\\dots",function(t){var e="\\dotso",n=t.expandAfterFuture().text;return n in L$?e=L$[n]:(n.slice(0,4)==="\\not"||n in Sn.math&&lt.contains(["bin","rel"],Sn.math[n].group))&&(e="\\dotsb"),e});var qP={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};D("\\dotso",function(t){var e=t.future().text;return e in qP?"\\ldots\\,":"\\ldots"});D("\\dotsc",function(t){var e=t.future().text;return e in qP&&e!==","?"\\ldots\\,":"\\ldots"});D("\\cdots",function(t){var e=t.future().text;return e in qP?"\\@cdots\\,":"\\@cdots"});D("\\dotsb","\\cdots");D("\\dotsm","\\cdots");D("\\dotsi","\\!\\cdots");D("\\dotsx","\\ldots\\,");D("\\DOTSI","\\relax");D("\\DOTSB","\\relax");D("\\DOTSX","\\relax");D("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax");D("\\,","\\tmspace+{3mu}{.1667em}");D("\\thinspace","\\,");D("\\>","\\mskip{4mu}");D("\\:","\\tmspace+{4mu}{.2222em}");D("\\medspace","\\:");D("\\;","\\tmspace+{5mu}{.2777em}");D("\\thickspace","\\;");D("\\!","\\tmspace-{3mu}{.1667em}");D("\\negthinspace","\\!");D("\\negmedspace","\\tmspace-{4mu}{.2222em}");D("\\negthickspace","\\tmspace-{5mu}{.277em}");D("\\enspace","\\kern.5em ");D("\\enskip","\\hskip.5em\\relax");D("\\quad","\\hskip1em\\relax");D("\\qquad","\\hskip2em\\relax");D("\\tag","\\@ifstar\\tag@literal\\tag@paren");D("\\tag@paren","\\tag@literal{({#1})}");D("\\tag@literal",t=>{if(t.macros.get("\\df@tag"))throw new Ee("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"});D("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}");D("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)");D("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}");D("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1");D("\\newline","\\\\\\relax");D("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");var Sne=Re(Vl["Main-Regular"][84][1]-.7*Vl["Main-Regular"][65][1]);D("\\LaTeX","\\textrm{\\html@mathml{"+("L\\kern-.36em\\raisebox{"+Sne+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{LaTeX}}");D("\\KaTeX","\\textrm{\\html@mathml{"+("K\\kern-.17em\\raisebox{"+Sne+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{KaTeX}}");D("\\hspace","\\@ifstar\\@hspacer\\@hspace");D("\\@hspace","\\hskip #1\\relax");D("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax");D("\\ordinarycolon",":");D("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}");D("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}');D("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}');D("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}');D("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}');D("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}');D("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}');D("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}');D("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}');D("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}');D("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}');D("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}');D("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}');D("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}');D("","\\dblcolon");D("","\\eqcolon");D("","\\coloneqq");D("","\\eqqcolon");D("","\\Coloneqq");D("\\ratio","\\vcentcolon");D("\\coloncolon","\\dblcolon");D("\\colonequals","\\coloneqq");D("\\coloncolonequals","\\Coloneqq");D("\\equalscolon","\\eqqcolon");D("\\equalscoloncolon","\\Eqqcolon");D("\\colonminus","\\coloneq");D("\\coloncolonminus","\\Coloneq");D("\\minuscolon","\\eqcolon");D("\\minuscoloncolon","\\Eqcolon");D("\\coloncolonapprox","\\Colonapprox");D("\\coloncolonsim","\\Colonsim");D("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}");D("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}");D("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}");D("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}");D("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`}}");D("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}");D("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}");D("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}");D("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}");D("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}");D("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}");D("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}");D("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}");D("\\gvertneqq","\\html@mathml{\\@gvertneqq}{}");D("\\lvertneqq","\\html@mathml{\\@lvertneqq}{}");D("\\ngeqq","\\html@mathml{\\@ngeqq}{}");D("\\ngeqslant","\\html@mathml{\\@ngeqslant}{}");D("\\nleqq","\\html@mathml{\\@nleqq}{}");D("\\nleqslant","\\html@mathml{\\@nleqslant}{}");D("\\nshortmid","\\html@mathml{\\@nshortmid}{}");D("\\nshortparallel","\\html@mathml{\\@nshortparallel}{}");D("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{}");D("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{}");D("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{}");D("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{}");D("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{}");D("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{}");D("\\imath","\\html@mathml{\\@imath}{}");D("\\jmath","\\html@mathml{\\@jmath}{}");D("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`}}");D("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`}}");D("","\\llbracket");D("","\\rrbracket");D("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`}}");D("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`}}");D("","\\lBrace");D("","\\rBrace");D("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`}}");D("","\\minuso");D("\\darr","\\downarrow");D("\\dArr","\\Downarrow");D("\\Darr","\\Downarrow");D("\\lang","\\langle");D("\\rang","\\rangle");D("\\uarr","\\uparrow");D("\\uArr","\\Uparrow");D("\\Uarr","\\Uparrow");D("\\N","\\mathbb{N}");D("\\R","\\mathbb{R}");D("\\Z","\\mathbb{Z}");D("\\alef","\\aleph");D("\\alefsym","\\aleph");D("\\Alpha","\\mathrm{A}");D("\\Beta","\\mathrm{B}");D("\\bull","\\bullet");D("\\Chi","\\mathrm{X}");D("\\clubs","\\clubsuit");D("\\cnums","\\mathbb{C}");D("\\Complex","\\mathbb{C}");D("\\Dagger","\\ddagger");D("\\diamonds","\\diamondsuit");D("\\empty","\\emptyset");D("\\Epsilon","\\mathrm{E}");D("\\Eta","\\mathrm{H}");D("\\exist","\\exists");D("\\harr","\\leftrightarrow");D("\\hArr","\\Leftrightarrow");D("\\Harr","\\Leftrightarrow");D("\\hearts","\\heartsuit");D("\\image","\\Im");D("\\infin","\\infty");D("\\Iota","\\mathrm{I}");D("\\isin","\\in");D("\\Kappa","\\mathrm{K}");D("\\larr","\\leftarrow");D("\\lArr","\\Leftarrow");D("\\Larr","\\Leftarrow");D("\\lrarr","\\leftrightarrow");D("\\lrArr","\\Leftrightarrow");D("\\Lrarr","\\Leftrightarrow");D("\\Mu","\\mathrm{M}");D("\\natnums","\\mathbb{N}");D("\\Nu","\\mathrm{N}");D("\\Omicron","\\mathrm{O}");D("\\plusmn","\\pm");D("\\rarr","\\rightarrow");D("\\rArr","\\Rightarrow");D("\\Rarr","\\Rightarrow");D("\\real","\\Re");D("\\reals","\\mathbb{R}");D("\\Reals","\\mathbb{R}");D("\\Rho","\\mathrm{P}");D("\\sdot","\\cdot");D("\\sect","\\S");D("\\spades","\\spadesuit");D("\\sub","\\subset");D("\\sube","\\subseteq");D("\\supe","\\supseteq");D("\\Tau","\\mathrm{T}");D("\\thetasym","\\vartheta");D("\\weierp","\\wp");D("\\Zeta","\\mathrm{Z}");D("\\argmin","\\DOTSB\\operatorname*{arg\\,min}");D("\\argmax","\\DOTSB\\operatorname*{arg\\,max}");D("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits");D("\\bra","\\mathinner{\\langle{#1}|}");D("\\ket","\\mathinner{|{#1}\\rangle}");D("\\braket","\\mathinner{\\langle{#1}\\rangle}");D("\\Bra","\\left\\langle#1\\right|");D("\\Ket","\\left|#1\\right\\rangle");var Cne=t=>e=>{var n=e.consumeArg().tokens,r=e.consumeArg().tokens,i=e.consumeArg().tokens,o=e.consumeArg().tokens,s=e.macros.get("|"),l=e.macros.get("\\|");e.macros.beginGroup();var a=h=>f=>{t&&(f.macros.set("|",s),i.length&&f.macros.set("\\|",l));var d=h;if(!h&&i.length){var p=f.future();p.text==="|"&&(f.popToken(),d=!0)}return{tokens:d?i:r,numArgs:0}};e.macros.set("|",a(!1)),i.length&&e.macros.set("\\|",a(!0));var u=e.consumeArg().tokens,c=e.expandTokens([...o,...u,...n]);return e.macros.endGroup(),{tokens:c.reverse(),numArgs:0}};D("\\bra@ket",Cne(!1));D("\\bra@set",Cne(!0));D("\\Braket","\\bra@ket{\\left\\langle}{\\,\\middle\\vert\\,}{\\,\\middle\\vert\\,}{\\right\\rangle}");D("\\Set","\\bra@set{\\left\\{\\:}{\\;\\middle\\vert\\;}{\\;\\middle\\Vert\\;}{\\:\\right\\}}");D("\\set","\\bra@set{\\{\\,}{\\mid}{}{\\,\\}}");D("\\angln","{\\angl n}");D("\\blue","\\textcolor{##6495ed}{#1}");D("\\orange","\\textcolor{##ffa500}{#1}");D("\\pink","\\textcolor{##ff00af}{#1}");D("\\red","\\textcolor{##df0030}{#1}");D("\\green","\\textcolor{##28ae7b}{#1}");D("\\gray","\\textcolor{gray}{#1}");D("\\purple","\\textcolor{##9d38bd}{#1}");D("\\blueA","\\textcolor{##ccfaff}{#1}");D("\\blueB","\\textcolor{##80f6ff}{#1}");D("\\blueC","\\textcolor{##63d9ea}{#1}");D("\\blueD","\\textcolor{##11accd}{#1}");D("\\blueE","\\textcolor{##0c7f99}{#1}");D("\\tealA","\\textcolor{##94fff5}{#1}");D("\\tealB","\\textcolor{##26edd5}{#1}");D("\\tealC","\\textcolor{##01d1c1}{#1}");D("\\tealD","\\textcolor{##01a995}{#1}");D("\\tealE","\\textcolor{##208170}{#1}");D("\\greenA","\\textcolor{##b6ffb0}{#1}");D("\\greenB","\\textcolor{##8af281}{#1}");D("\\greenC","\\textcolor{##74cf70}{#1}");D("\\greenD","\\textcolor{##1fab54}{#1}");D("\\greenE","\\textcolor{##0d923f}{#1}");D("\\goldA","\\textcolor{##ffd0a9}{#1}");D("\\goldB","\\textcolor{##ffbb71}{#1}");D("\\goldC","\\textcolor{##ff9c39}{#1}");D("\\goldD","\\textcolor{##e07d10}{#1}");D("\\goldE","\\textcolor{##a75a05}{#1}");D("\\redA","\\textcolor{##fca9a9}{#1}");D("\\redB","\\textcolor{##ff8482}{#1}");D("\\redC","\\textcolor{##f9685d}{#1}");D("\\redD","\\textcolor{##e84d39}{#1}");D("\\redE","\\textcolor{##bc2612}{#1}");D("\\maroonA","\\textcolor{##ffbde0}{#1}");D("\\maroonB","\\textcolor{##ff92c6}{#1}");D("\\maroonC","\\textcolor{##ed5fa6}{#1}");D("\\maroonD","\\textcolor{##ca337c}{#1}");D("\\maroonE","\\textcolor{##9e034e}{#1}");D("\\purpleA","\\textcolor{##ddd7ff}{#1}");D("\\purpleB","\\textcolor{##c6b9fc}{#1}");D("\\purpleC","\\textcolor{##aa87ff}{#1}");D("\\purpleD","\\textcolor{##7854ab}{#1}");D("\\purpleE","\\textcolor{##543b78}{#1}");D("\\mintA","\\textcolor{##f5f9e8}{#1}");D("\\mintB","\\textcolor{##edf2df}{#1}");D("\\mintC","\\textcolor{##e0e5cc}{#1}");D("\\grayA","\\textcolor{##f6f7f7}{#1}");D("\\grayB","\\textcolor{##f0f1f2}{#1}");D("\\grayC","\\textcolor{##e3e5e6}{#1}");D("\\grayD","\\textcolor{##d6d8da}{#1}");D("\\grayE","\\textcolor{##babec2}{#1}");D("\\grayF","\\textcolor{##888d93}{#1}");D("\\grayG","\\textcolor{##626569}{#1}");D("\\grayH","\\textcolor{##3b3e40}{#1}");D("\\grayI","\\textcolor{##21242c}{#1}");D("\\kaBlue","\\textcolor{##314453}{#1}");D("\\kaGreen","\\textcolor{##71B307}{#1}");var Tne={"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0};class oLe{constructor(e,n,r){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=n,this.expansionCount=0,this.feed(e),this.macros=new rLe(iLe,n.macros),this.mode=r,this.stack=[]}feed(e){this.lexer=new R$(e,this.settings)}switchMode(e){this.mode=e}beginGroup(){this.macros.beginGroup()}endGroup(){this.macros.endGroup()}endGroups(){this.macros.endGroups()}future(){return this.stack.length===0&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]}popToken(){return this.future(),this.stack.pop()}pushToken(e){this.stack.push(e)}pushTokens(e){this.stack.push(...e)}scanArgument(e){var n,r,i;if(e){if(this.consumeSpaces(),this.future().text!=="[")return null;n=this.popToken(),{tokens:i,end:r}=this.consumeArg(["]"])}else({tokens:i,start:n,end:r}=this.consumeArg());return this.pushToken(new xs("EOF",r.loc)),this.pushTokens(i),n.range(r,"")}consumeSpaces(){for(;;){var e=this.future();if(e.text===" ")this.stack.pop();else break}}consumeArg(e){var n=[],r=e&&e.length>0;r||this.consumeSpaces();var i=this.future(),o,s=0,l=0;do{if(o=this.popToken(),n.push(o),o.text==="{")++s;else if(o.text==="}"){if(--s,s===-1)throw new Ee("Extra }",o)}else if(o.text==="EOF")throw new Ee("Unexpected end of input in a macro argument, expected '"+(e&&r?e[l]:"}")+"'",o);if(e&&r)if((s===0||s===1&&e[l]==="{")&&o.text===e[l]){if(++l,l===e.length){n.splice(-l,l);break}}else l=0}while(s!==0||r);return i.text==="{"&&n[n.length-1].text==="}"&&(n.pop(),n.shift()),n.reverse(),{tokens:n,start:i,end:o}}consumeArgs(e,n){if(n){if(n.length!==e+1)throw new Ee("The length of delimiters doesn't match the number of args!");for(var r=n[0],i=0;i<r.length;i++){var o=this.popToken();if(r[i]!==o.text)throw new Ee("Use of the macro doesn't match its definition",o)}}for(var s=[],l=0;l<e;l++)s.push(this.consumeArg(n&&n[l+1]).tokens);return s}countExpansion(e){if(this.expansionCount+=e,this.expansionCount>this.settings.maxExpand)throw new Ee("Too many expansions: infinite loop or need to increase maxExpand setting")}expandOnce(e){var n=this.popToken(),r=n.text,i=n.noexpand?null:this._getExpansion(r);if(i==null||e&&i.unexpandable){if(e&&i==null&&r[0]==="\\"&&!this.isDefined(r))throw new Ee("Undefined control sequence: "+r);return this.pushToken(n),!1}this.countExpansion(1);var o=i.tokens,s=this.consumeArgs(i.numArgs,i.delimiters);if(i.numArgs){o=o.slice();for(var l=o.length-1;l>=0;--l){var a=o[l];if(a.text==="#"){if(l===0)throw new Ee("Incomplete placeholder at end of macro body",a);if(a=o[--l],a.text==="#")o.splice(l+1,1);else if(/^[1-9]$/.test(a.text))o.splice(l,2,...s[+a.text-1]);else throw new Ee("Not a valid argument number",a)}}}return this.pushTokens(o),o.length}expandAfterFuture(){return this.expandOnce(),this.future()}expandNextToken(){for(;;)if(this.expandOnce()===!1){var e=this.stack.pop();return e.treatAsRelax&&(e.text="\\relax"),e}throw new Error}expandMacro(e){return this.macros.has(e)?this.expandTokens([new xs(e)]):void 0}expandTokens(e){var n=[],r=this.stack.length;for(this.pushTokens(e);this.stack.length>r;)if(this.expandOnce(!0)===!1){var i=this.stack.pop();i.treatAsRelax&&(i.noexpand=!1,i.treatAsRelax=!1),n.push(i)}return this.countExpansion(n.length),n}expandMacroAsText(e){var n=this.expandMacro(e);return n&&n.map(r=>r.text).join("")}_getExpansion(e){var n=this.macros.get(e);if(n==null)return n;if(e.length===1){var r=this.lexer.catcodes[e];if(r!=null&&r!==13)return}var i=typeof n=="function"?n(this):n;if(typeof i=="string"){var o=0;if(i.indexOf("#")!==-1)for(var s=i.replace(/##/g,"");s.indexOf("#"+(o+1))!==-1;)++o;for(var l=new R$(i,this.settings),a=[],u=l.lex();u.text!=="EOF";)a.push(u),u=l.lex();a.reverse();var c={tokens:a,numArgs:o};return c}return i}isDefined(e){return this.macros.has(e)||wc.hasOwnProperty(e)||Sn.math.hasOwnProperty(e)||Sn.text.hasOwnProperty(e)||Tne.hasOwnProperty(e)}isExpandable(e){var n=this.macros.get(e);return n!=null?typeof n=="string"||typeof n=="function"||!n.unexpandable:wc.hasOwnProperty(e)&&!wc[e].primitive}}var B$=/^[]/,F4=Object.freeze({"":"+","":"-","":"=","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"a","":"e","":"h","":"i","":"j","":"k","":"l","":"m","":"n","":"o","":"p","":"r","":"s","":"t","":"u","":"v","":"x","":"","":"","":"","":"","":"","":"+","":"-","":"=","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"A","":"B","":"D","":"E","":"G","":"H","":"I","":"J","":"K","":"L","":"M","":"N","":"O","":"P","":"R","":"T","":"U","":"V","":"W","":"a","":"b","":"c","":"d","":"e","":"f","":"g",:"h","":"i",:"j","":"k",:"l","":"m",:"n","":"o","":"p",:"r",:"s","":"t","":"u","":"v",:"w",:"x",:"y","":"z","":"","":"","":"","":"","":"","":""}),y8={"":{text:"\\'",math:"\\acute"},"":{text:"\\`",math:"\\grave"},"":{text:'\\"',math:"\\ddot"},"":{text:"\\~",math:"\\tilde"},"":{text:"\\=",math:"\\bar"},"":{text:"\\u",math:"\\breve"},"":{text:"\\v",math:"\\check"},"":{text:"\\^",math:"\\hat"},"":{text:"\\.",math:"\\dot"},"":{text:"\\r",math:"\\mathring"},"":{text:"\\H"},"":{text:"\\c"}},z$={:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"b",:"c",:"c",:"c",:"c",:"c",:"c",:"d",:"d",:"d",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"f",:"g",:"g",:"g",:"g",:"g",:"g",:"g",:"h",:"h",:"h",:"h",:"h",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"j",:"j",:"k",:"k",:"k",:"l",:"l",:"l",:"m",:"m",:"n",:"n",:"n",:"n",:"n",:"n",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"p",:"p",:"r",:"r",:"r",:"r",:"s",:"s",:"s",:"s",:"s",:"s",:"s",:"t",:"t",:"t",:"t",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"v",:"w",:"w",:"w",:"w",:"w",:"w",:"x",:"x",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"z",:"z",:"z",:"z",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"B",:"C",:"C",:"C",:"C",:"C",:"C",:"D",:"D",:"D",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"F",:"G",:"G",:"G",:"G",:"G",:"G",:"G",:"H",:"H",:"H",:"H",:"H",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"J",:"K",:"K",:"K",:"L",:"L",:"L",:"M",:"M",:"N",:"N",:"N",:"N",:"N",:"N",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"P",:"P",:"R",:"R",:"R",:"R",:"S",:"S",:"S",:"S",:"S",:"S",:"S",:"T",:"T",:"T",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"V",:"W",:"W",:"W",:"W",:"W",:"X",:"X",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Z",:"Z",:"Z",:"Z",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};class f6{constructor(e,n){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new oLe(e,n,this.mode),this.settings=n,this.leftrightDepth=0}expect(e,n){if(n===void 0&&(n=!0),this.fetch().text!==e)throw new Ee("Expected '"+e+"', got '"+this.fetch().text+"'",this.fetch());n&&this.consume()}consume(){this.nextToken=null}fetch(){return this.nextToken==null&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken}switchMode(e){this.mode=e,this.gullet.switchMode(e)}parse(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");try{var e=this.parseExpression(!1);return this.expect("EOF"),this.settings.globalGroup||this.gullet.endGroup(),e}finally{this.gullet.endGroups()}}subparse(e){var n=this.nextToken;this.consume(),this.gullet.pushToken(new xs("}")),this.gullet.pushTokens(e);var r=this.parseExpression(!1);return this.expect("}"),this.nextToken=n,r}parseExpression(e,n){for(var r=[];;){this.mode==="math"&&this.consumeSpaces();var i=this.fetch();if(f6.endOfExpression.indexOf(i.text)!==-1||n&&i.text===n||e&&wc[i.text]&&wc[i.text].infix)break;var o=this.parseAtom(n);if(o){if(o.type==="internal")continue}else break;r.push(o)}return this.mode==="text"&&this.formLigatures(r),this.handleInfixNodes(r)}handleInfixNodes(e){for(var n=-1,r,i=0;i<e.length;i++)if(e[i].type==="infix"){if(n!==-1)throw new Ee("only one infix operator per group",e[i].token);n=i,r=e[i].replaceWith}if(n!==-1&&r){var o,s,l=e.slice(0,n),a=e.slice(n+1);l.length===1&&l[0].type==="ordgroup"?o=l[0]:o={type:"ordgroup",mode:this.mode,body:l},a.length===1&&a[0].type==="ordgroup"?s=a[0]:s={type:"ordgroup",mode:this.mode,body:a};var u;return r==="\\\\abovefrac"?u=this.callFunction(r,[o,e[n],s],[]):u=this.callFunction(r,[o,s],[]),[u]}else return e}handleSupSubscript(e){var n=this.fetch(),r=n.text;this.consume(),this.consumeSpaces();var i;do{var o;i=this.parseGroup(e)}while(((o=i)==null?void 0:o.type)==="internal");if(!i)throw new Ee("Expected group after '"+r+"'",n);return i}formatUnsupportedCmd(e){for(var n=[],r=0;r<e.length;r++)n.push({type:"textord",mode:"text",text:e[r]});var i={type:"text",mode:this.mode,body:n},o={type:"color",mode:this.mode,color:this.settings.errorColor,body:[i]};return o}parseAtom(e){var n=this.parseGroup("atom",e);if((n==null?void 0:n.type)==="internal"||this.mode==="text")return n;for(var r,i;;){this.consumeSpaces();var o=this.fetch();if(o.text==="\\limits"||o.text==="\\nolimits"){if(n&&n.type==="op"){var s=o.text==="\\limits";n.limits=s,n.alwaysHandleSupSub=!0}else if(n&&n.type==="operatorname")n.alwaysHandleSupSub&&(n.limits=o.text==="\\limits");else throw new Ee("Limit controls must follow a math operator",o);this.consume()}else if(o.text==="^"){if(r)throw new Ee("Double superscript",o);r=this.handleSupSubscript("superscript")}else if(o.text==="_"){if(i)throw new Ee("Double subscript",o);i=this.handleSupSubscript("subscript")}else if(o.text==="'"){if(r)throw new Ee("Double superscript",o);var l={type:"textord",mode:this.mode,text:"\\prime"},a=[l];for(this.consume();this.fetch().text==="'";)a.push(l),this.consume();this.fetch().text==="^"&&a.push(this.handleSupSubscript("superscript")),r={type:"ordgroup",mode:this.mode,body:a}}else if(F4[o.text]){var u=B$.test(o.text),c=[];for(c.push(new xs(F4[o.text])),this.consume();;){var h=this.fetch().text;if(!F4[h]||B$.test(h)!==u)break;c.unshift(new xs(F4[h])),this.consume()}var f=this.subparse(c);u?i={type:"ordgroup",mode:"math",body:f}:r={type:"ordgroup",mode:"math",body:f}}else break}return r||i?{type:"supsub",mode:this.mode,base:n,sup:r,sub:i}:n}parseFunction(e,n){var r=this.fetch(),i=r.text,o=wc[i];if(!o)return null;if(this.consume(),n&&n!=="atom"&&!o.allowedInArgument)throw new Ee("Got function '"+i+"' with no arguments"+(n?" as "+n:""),r);if(this.mode==="text"&&!o.allowedInText)throw new Ee("Can't use function '"+i+"' in text mode",r);if(this.mode==="math"&&o.allowedInMath===!1)throw new Ee("Can't use function '"+i+"' in math mode",r);var{args:s,optArgs:l}=this.parseArguments(i,o);return this.callFunction(i,s,l,r,e)}callFunction(e,n,r,i,o){var s={funcName:e,parser:this,token:i,breakOnTokenText:o},l=wc[e];if(l&&l.handler)return l.handler(s,n,r);throw new Ee("No function handler for "+e)}parseArguments(e,n){var r=n.numArgs+n.numOptionalArgs;if(r===0)return{args:[],optArgs:[]};for(var i=[],o=[],s=0;s<r;s++){var l=n.argTypes&&n.argTypes[s],a=s<n.numOptionalArgs;(n.primitive&&l==null||n.type==="sqrt"&&s===1&&o[0]==null)&&(l="primitive");var u=this.parseGroupOfType("argument to '"+e+"'",l,a);if(a)o.push(u);else if(u!=null)i.push(u);else throw new Ee("Null argument, please report this as a bug")}return{args:i,optArgs:o}}parseGroupOfType(e,n,r){switch(n){case"color":return this.parseColorGroup(r);case"size":return this.parseSizeGroup(r);case"url":return this.parseUrlGroup(r);case"math":case"text":return this.parseArgumentGroup(r,n);case"hbox":{var i=this.parseArgumentGroup(r,"text");return i!=null?{type:"styling",mode:i.mode,body:[i],style:"text"}:null}case"raw":{var o=this.parseStringGroup("raw",r);return o!=null?{type:"raw",mode:"text",string:o.text}:null}case"primitive":{if(r)throw new Ee("A primitive argument cannot be optional");var s=this.parseGroup(e);if(s==null)throw new Ee("Expected group as "+e,this.fetch());return s}case"original":case null:case void 0:return this.parseArgumentGroup(r);default:throw new Ee("Unknown group type as "+e,this.fetch())}}consumeSpaces(){for(;this.fetch().text===" ";)this.consume()}parseStringGroup(e,n){var r=this.gullet.scanArgument(n);if(r==null)return null;for(var i="",o;(o=this.fetch()).text!=="EOF";)i+=o.text,this.consume();return this.consume(),r.text=i,r}parseRegexGroup(e,n){for(var r=this.fetch(),i=r,o="",s;(s=this.fetch()).text!=="EOF"&&e.test(o+s.text);)i=s,o+=i.text,this.consume();if(o==="")throw new Ee("Invalid "+n+": '"+r.text+"'",r);return r.range(i,o)}parseColorGroup(e){var n=this.parseStringGroup("color",e);if(n==null)return null;var r=/^(#[a-f0-9]{3}|#?[a-f0-9]{6}|[a-z]+)$/i.exec(n.text);if(!r)throw new Ee("Invalid color: '"+n.text+"'",n);var i=r[0];return/^[0-9a-f]{6}$/i.test(i)&&(i="#"+i),{type:"color-token",mode:this.mode,color:i}}parseSizeGroup(e){var n,r=!1;if(this.gullet.consumeSpaces(),!e&&this.gullet.future().text!=="{"?n=this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size"):n=this.parseStringGroup("size",e),!n)return null;!e&&n.text.length===0&&(n.text="0pt",r=!0);var i=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(n.text);if(!i)throw new Ee("Invalid size: '"+n.text+"'",n);var o={number:+(i[1]+i[2]),unit:i[3]};if(!Nte(o))throw new Ee("Invalid unit: '"+o.unit+"'",n);return{type:"size",mode:this.mode,value:o,isBlank:r}}parseUrlGroup(e){this.gullet.lexer.setCatcode("%",13),this.gullet.lexer.setCatcode("~",12);var n=this.parseStringGroup("url",e);if(this.gullet.lexer.setCatcode("%",14),this.gullet.lexer.setCatcode("~",13),n==null)return null;var r=n.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:r}}parseArgumentGroup(e,n){var r=this.gullet.scanArgument(e);if(r==null)return null;var i=this.mode;n&&this.switchMode(n),this.gullet.beginGroup();var o=this.parseExpression(!1,"EOF");this.expect("EOF"),this.gullet.endGroup();var s={type:"ordgroup",mode:this.mode,loc:r.loc,body:o};return n&&this.switchMode(i),s}parseGroup(e,n){var r=this.fetch(),i=r.text,o;if(i==="{"||i==="\\begingroup"){this.consume();var s=i==="{"?"}":"\\endgroup";this.gullet.beginGroup();var l=this.parseExpression(!1,s),a=this.fetch();this.expect(s),this.gullet.endGroup(),o={type:"ordgroup",mode:this.mode,loc:Ao.range(r,a),body:l,semisimple:i==="\\begingroup"||void 0}}else if(o=this.parseFunction(n,e)||this.parseSymbol(),o==null&&i[0]==="\\"&&!Tne.hasOwnProperty(i)){if(this.settings.throwOnError)throw new Ee("Undefined control sequence: "+i,r);o=this.formatUnsupportedCmd(i),this.consume()}return o}formLigatures(e){for(var n=e.length-1,r=0;r<n;++r){var i=e[r],o=i.text;o==="-"&&e[r+1].text==="-"&&(r+1<n&&e[r+2].text==="-"?(e.splice(r,3,{type:"textord",mode:"text",loc:Ao.range(i,e[r+2]),text:"---"}),n-=2):(e.splice(r,2,{type:"textord",mode:"text",loc:Ao.range(i,e[r+1]),text:"--"}),n-=1)),(o==="'"||o==="`")&&e[r+1].text===o&&(e.splice(r,2,{type:"textord",mode:"text",loc:Ao.range(i,e[r+1]),text:o+o}),n-=1)}}parseSymbol(){var e=this.fetch(),n=e.text;if(/^\\verb[^a-zA-Z]/.test(n)){this.consume();var r=n.slice(5),i=r.charAt(0)==="*";if(i&&(r=r.slice(1)),r.length<2||r.charAt(0)!==r.slice(-1))throw new Ee(`\\verb assertion failed --
                    please report what input caused this bug`);return r=r.slice(1,-1),{type:"verb",mode:"text",body:r,star:i}}z$.hasOwnProperty(n[0])&&!Sn[this.mode][n[0]]&&(this.settings.strict&&this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+n[0]+'" used in math mode',e),n=z$[n[0]]+n.slice(1));var o=tLe.exec(n);o&&(n=n.substring(0,o.index),n==="i"?n="":n==="j"&&(n=""));var s;if(Sn[this.mode][n]){this.settings.strict&&this.mode==="math"&&oT.indexOf(n)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+n[0]+'" used in math mode',e);var l=Sn[this.mode][n].group,a=Ao.range(e),u;if(KRe.hasOwnProperty(l)){var c=l;u={type:"atom",mode:this.mode,family:c,loc:a,text:n}}else u={type:l,mode:this.mode,loc:a,text:n};s=u}else if(n.charCodeAt(0)>=128)this.settings.strict&&(Rte(n.charCodeAt(0))?this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+n[0]+'" used in math mode',e):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+n[0]+'"'+(" ("+n.charCodeAt(0)+")"),e)),s={type:"textord",mode:"text",loc:Ao.range(e),text:n};else return null;if(this.consume(),o)for(var h=0;h<o[0].length;h++){var f=o[0][h];if(!y8[f])throw new Ee("Unknown accent ' "+f+"'",e);var d=y8[f][this.mode]||y8[f].text;if(!d)throw new Ee("Accent "+f+" unsupported in "+this.mode+" mode",e);s={type:"accent",mode:this.mode,loc:Ao.range(e),label:d,isStretchy:!1,isShifty:!0,base:s}}return s}}f6.endOfExpression=["}","\\endgroup","\\end","\\right","&"];var KP=function(e,n){if(!(typeof e=="string"||e instanceof String))throw new TypeError("KaTeX can only parse string typed expression");var r=new f6(e,n);delete r.gullet.macros.current["\\df@tag"];var i=r.parse();if(delete r.gullet.macros.current["\\current@color"],delete r.gullet.macros.current["\\color"],r.gullet.macros.get("\\df@tag")){if(!n.displayMode)throw new Ee("\\tag works only in display equations");i=[{type:"tag",mode:"text",body:i,tag:r.subparse([new xs("\\df@tag")])}]}return i},Mne=function(e,n,r){n.textContent="";var i=GP(e,r).toNode();n.appendChild(i)};typeof document<"u"&&document.compatMode!=="CSS1Compat"&&(typeof console<"u"&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),Mne=function(){throw new Ee("KaTeX doesn't work in quirks mode.")});var sLe=function(e,n){var r=GP(e,n).toMarkup();return r},lLe=function(e,n){var r=new OP(n);return KP(e,r)},Ane=function(e,n,r){if(r.throwOnError||!(e instanceof Ee))throw e;var i=J.makeSpan(["katex-error"],[new As(n)]);return i.setAttribute("title",e.toString()),i.setAttribute("style","color:"+r.errorColor),i},GP=function(e,n){var r=new OP(n);try{var i=KP(e,r);return gNe(i,e,r)}catch(o){return Ane(o,e,r)}},aLe=function(e,n){var r=new OP(n);try{var i=KP(e,r);return yNe(i,e,r)}catch(o){return Ane(o,e,r)}},uLe="0.16.22",cLe={Span:p2,Anchor:_P,SymbolNode:As,SvgNode:gu,PathNode:Gc,LineNode:iT},Ene={version:uLe,render:Mne,renderToString:sLe,ParseError:Ee,SETTINGS_SCHEMA:Zw,__parse:lLe,__renderToDomTree:GP,__renderToHTMLTree:aLe,__setFontMetrics:FRe,__defineSymbol:x,__defineFunction:Ve,__defineMacro:D,__domTree:cLe},wv,xv,ep,tp,bv,np,rp,ip,op,kv,pb,One;class d6{constructor(e){Pe(this,pb);Pe(this,wv);Pe(this,xv);Pe(this,ep);Pe(this,tp);Pe(this,bv);Pe(this,np);Pe(this,rp);Pe(this,ip);Pe(this,op);Pe(this,kv);ie(this,np,!1),this.onShow=()=>{},this.onHide=()=>{},ie(this,kv,(n,r)=>{const{state:i,composing:o}=n,{selection:s,doc:l}=i,{ranges:a}=s,u=Math.min(...a.map(d=>d.$from.pos)),c=Math.max(...a.map(d=>d.$to.pos)),h=r&&r.doc.eq(l)&&r.selection.eq(s);if(V(this,np)||((V(this,bv)??n.dom.parentElement??document.body).appendChild(this.element),ie(this,np,!0)),o||h)return;if(!V(this,xv).call(this,n,r)){this.hide();return}al({getBoundingClientRect:()=>v3(n,u,c)},this.element,{placement:V(this,tp).placement??"top",middleware:[Vx(),Uc(V(this,rp)),vz(V(this,ip)),...V(this,ep)]}).then(({x:d,y:p})=>{Object.assign(this.element.style,{left:`${d}px`,top:`${p}px`})}).catch(console.error),this.show()}),this.update=(n,r)=>{V(this,op).call(this,n,r)},this.destroy=()=>{V(this,op).cancel()},this.show=n=>{this.element.dataset.show="true",n&&al(n,this.element,{placement:"top",middleware:[Vx(),Uc(V(this,rp)),vz(V(this,ip)),...V(this,ep)],...V(this,tp)}).then(({x:r,y:i})=>{Object.assign(this.element.style,{left:`${r}px`,top:`${i}px`})}).catch(console.error),this.onShow()},this.hide=()=>{this.element.dataset.show!=="false"&&(this.element.dataset.show="false",this.onHide())},this.element=e.content,ie(this,wv,e.debounce??200),ie(this,xv,e.shouldShow??w2(this,pb,One)),ie(this,rp,e.offset),ie(this,ip,e.shift),ie(this,ep,e.middleware??[]),ie(this,tp,e.floatingUIOptions??{}),ie(this,bv,e.root),this.element.dataset.show="false",ie(this,op,t3(V(this,kv),V(this,wv)))}}wv=new WeakMap,xv=new WeakMap,ep=new WeakMap,tp=new WeakMap,bv=new WeakMap,np=new WeakMap,rp=new WeakMap,ip=new WeakMap,op=new WeakMap,kv=new WeakMap,pb=new WeakSet,One=function(e){const{doc:n,selection:r}=e.state,{empty:i,from:o,to:s}=r,l=!n.textBetween(o,s).length&&e.state.selection instanceof nt,a=this.element.contains(document.activeElement),u=!e.hasFocus()&&!a,c=!e.editable;return!(u||i||l||c)};function p6(t){const e=ln({},`${t}_TOOLTIP_SPEC`),n=Cr(i=>{const o=i.get(e.key);return new $n({key:new Xn(`${t}_TOOLTIP`),...o})}),r=[e,n];return r.key=e.key,r.pluginKey=n.key,e.meta={package:"@milkdown/plugin-tooltip",displayName:`Ctx<tooltipSpec>|${t}`},n.meta={package:"@milkdown/plugin-tooltip",displayName:`Prose<tooltip>|${t}`},r}function hLe(){return{enter:{mathFlow:t,mathFlowFenceMeta:e,mathText:o},exit:{mathFlow:i,mathFlowFence:r,mathFlowFenceMeta:n,mathFlowValue:l,mathText:s,mathTextData:l}};function t(a){const u={type:"element",tagName:"code",properties:{className:["language-math","math-display"]},children:[]};this.enter({type:"math",meta:null,value:"",data:{hName:"pre",hChildren:[u]}},a)}function e(){this.buffer()}function n(){const a=this.resume(),u=this.stack[this.stack.length-1];u.type,u.meta=a}function r(){this.data.mathFlowInside||(this.buffer(),this.data.mathFlowInside=!0)}function i(a){const u=this.resume().replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),c=this.stack[this.stack.length-1];c.type,this.exit(a),c.value=u;const h=c.data.hChildren[0];h.type,h.tagName,h.children.push({type:"text",value:u}),this.data.mathFlowInside=void 0}function o(a){this.enter({type:"inlineMath",value:"",data:{hName:"code",hProperties:{className:["language-math","math-inline"]},hChildren:[]}},a),this.buffer()}function s(a){const u=this.resume(),c=this.stack[this.stack.length-1];c.type,this.exit(a),c.value=u,c.data.hChildren.push({type:"text",value:u})}function l(a){this.config.enter.data.call(this,a),this.config.exit.data.call(this,a)}}function fLe(t){let e=(t||{}).singleDollarTextMath;return e==null&&(e=!0),r.peek=i,{unsafe:[{character:"\r",inConstruct:"mathFlowMeta"},{character:`
`,inConstruct:"mathFlowMeta"},{character:"$",after:e?void 0:"\\$",inConstruct:"phrasing"},{character:"$",inConstruct:"mathFlowMeta"},{atBreak:!0,character:"$",after:"\\$"}],handlers:{math:n,inlineMath:r}};function n(o,s,l,a){const u=o.value||"",c=l.createTracker(a),h="$".repeat(Math.max(FX(u,"$")+1,2)),f=l.enter("mathFlow");let d=c.move(h);if(o.meta){const p=l.enter("mathFlowMeta");d+=c.move(l.safe(o.meta,{after:`
`,before:d,encode:["$"],...c.current()})),p()}return d+=c.move(`
`),u&&(d+=c.move(u+`
`)),d+=c.move(h),f(),d}function r(o,s,l){let a=o.value||"",u=1;for(e||u++;new RegExp("(^|[^$])"+"\\$".repeat(u)+"([^$]|$)").test(a);)u++;const c="$".repeat(u);/[^ \r\n]/.test(a)&&(/^[ \r\n]/.test(a)&&/[ \r\n]$/.test(a)||/^\$|\$$/.test(a))&&(a=" "+a+" ");let h=-1;for(;++h<l.unsafe.length;){const f=l.unsafe[h];if(!f.atBreak)continue;const d=l.compilePattern(f);let p;for(;p=d.exec(a);){let m=p.index;a.codePointAt(m)===10&&a.codePointAt(m-1)===13&&m--,a=a.slice(0,m)+" "+a.slice(p.index+1)}}return c+a+c}function i(){return"$"}}const dLe={tokenize:pLe,concrete:!0,name:"mathFlow"},F$={tokenize:mLe,partial:!0};function pLe(t,e,n){const r=this,i=r.events[r.events.length-1],o=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0;let s=0;return l;function l(v){return t.enter("mathFlow"),t.enter("mathFlowFence"),t.enter("mathFlowFenceSequence"),a(v)}function a(v){return v===36?(t.consume(v),s++,a):s<2?n(v):(t.exit("mathFlowFenceSequence"),Bt(t,u,"whitespace")(v))}function u(v){return v===null||rt(v)?h(v):(t.enter("mathFlowFenceMeta"),t.enter("chunkString",{contentType:"string"}),c(v))}function c(v){return v===null||rt(v)?(t.exit("chunkString"),t.exit("mathFlowFenceMeta"),h(v)):v===36?n(v):(t.consume(v),c)}function h(v){return t.exit("mathFlowFence"),r.interrupt?e(v):t.attempt(F$,f,y)(v)}function f(v){return t.attempt({tokenize:g,partial:!0},y,d)(v)}function d(v){return(o?Bt(t,p,"linePrefix",o+1):p)(v)}function p(v){return v===null?y(v):rt(v)?t.attempt(F$,f,y)(v):(t.enter("mathFlowValue"),m(v))}function m(v){return v===null||rt(v)?(t.exit("mathFlowValue"),p(v)):(t.consume(v),m)}function y(v){return t.exit("mathFlow"),e(v)}function g(v,w,b){let S=0;return Bt(v,k,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4);function k(z){return v.enter("mathFlowFence"),v.enter("mathFlowFenceSequence"),T(z)}function T(z){return z===36?(S++,v.consume(z),T):S<s?b(z):(v.exit("mathFlowFenceSequence"),Bt(v,A,"whitespace")(z))}function A(z){return z===null||rt(z)?(v.exit("mathFlowFence"),w(z)):b(z)}}}function mLe(t,e,n){const r=this;return i;function i(s){return s===null?e(s):(t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),o)}function o(s){return r.parser.lazy[r.now().line]?n(s):e(s)}}function gLe(t){let n=(t||{}).singleDollarTextMath;return n==null&&(n=!0),{tokenize:r,resolve:yLe,previous:vLe,name:"mathText"};function r(i,o,s){let l=0,a,u;return c;function c(m){return i.enter("mathText"),i.enter("mathTextSequence"),h(m)}function h(m){return m===36?(i.consume(m),l++,h):l<2&&!n?s(m):(i.exit("mathTextSequence"),f(m))}function f(m){return m===null?s(m):m===36?(u=i.enter("mathTextSequence"),a=0,p(m)):m===32?(i.enter("space"),i.consume(m),i.exit("space"),f):rt(m)?(i.enter("lineEnding"),i.consume(m),i.exit("lineEnding"),f):(i.enter("mathTextData"),d(m))}function d(m){return m===null||m===32||m===36||rt(m)?(i.exit("mathTextData"),f(m)):(i.consume(m),d)}function p(m){return m===36?(i.consume(m),a++,p):a===l?(i.exit("mathTextSequence"),i.exit("mathText"),o(m)):(u.type="mathTextData",d(m))}}}function yLe(t){let e=t.length-4,n=3,r,i;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(r=n;++r<e;)if(t[r][1].type==="mathTextData"){t[e][1].type="mathTextPadding",t[n][1].type="mathTextPadding",n+=2,e-=2;break}}for(r=n-1,e++;++r<=e;)i===void 0?r!==e&&t[r][1].type!=="lineEnding"&&(i=r):(r===e||t[r][1].type==="lineEnding")&&(t[i][1].type="mathTextData",r!==i+2&&(t[i][1].end=t[r-1][1].end,t.splice(i+2,r-i-2),e-=r-i-2,r=i+2),i=void 0);return t}function vLe(t){return t!==36||this.events[this.events.length-1][1].type==="characterEscape"}function wLe(t){return{flow:{36:dLe},text:{36:gLe(t)}}}const xLe={};function bLe(t){const e=this,n=t||xLe,r=e.data(),i=r.micromarkExtensions||(r.micromarkExtensions=[]),o=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),s=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);i.push(wLe(n)),o.push(hLe()),s.push(fLe(n))}var kLe=Object.defineProperty,$$=Object.getOwnPropertySymbols,SLe=Object.prototype.hasOwnProperty,CLe=Object.prototype.propertyIsEnumerable,V$=(t,e,n)=>e in t?kLe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,TLe=(t,e)=>{for(var n in e||(e={}))SLe.call(e,n)&&V$(t,n,e[n]);if($$)for(var n of $$(e))CLe.call(e,n)&&V$(t,n,e[n]);return t};function cd(t,e){return Object.assign(t,{meta:TLe({package:"@milkdown/components"},e)}),t}var MLe=Object.defineProperty,H$=Object.getOwnPropertySymbols,ALe=Object.prototype.hasOwnProperty,ELe=Object.prototype.propertyIsEnumerable,j$=(t,e,n)=>e in t?MLe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,YP=(t,e)=>{for(var n in e||(e={}))ALe.call(e,n)&&j$(t,n,e[n]);if(H$)for(var n of H$(e))ELe.call(e,n)&&j$(t,n,e[n]);return t};const OLe={mode:"preview"},wu=ln(YP({},OLe),"linkTooltipStateCtx");cd(wu,{displayName:"State<link-tooltip>",group:"LinkTooltip"});const PLe={addLink:()=>{},editLink:()=>{},removeLink:()=>{}},Fp=ln(YP({},PLe),"linkTooltipAPICtx");cd(wu,{displayName:"API<link-tooltip>",group:"LinkTooltip"});const DLe={linkIcon:"",editButton:"",removeButton:"",confirmButton:"Confirm ",onCopyLink:()=>{},inputPlaceholder:"Paste link..."},$p=ln(YP({},DLe),"linkTooltipConfigCtx");cd(wu,{displayName:"Config<link-tooltip>",group:"LinkTooltip"});const Pne=vt("ToggleLink",t=>()=>e=>{const{doc:n,selection:r}=e,i=Qs.type(t);return n.rangeHasMark(r.from,r.to,i)?(t.get(Fp.key).removeLink(r.from,r.to),!0):(t.get(Fp.key).addLink(r.from,r.to),!0)}),g2=p6("LINK_PREVIEW");cd(g2[0],{displayName:"PreviewTooltipSpec<link-tooltip>",group:"LinkTooltip"});cd(g2[1],{displayName:"PreviewTooltipPlugin<link-tooltip>",group:"LinkTooltip"});const m6=p6("LINK_EDIT");cd(m6[0],{displayName:"EditTooltipSpec<link-tooltip>",group:"LinkTooltip"});cd(m6[1],{displayName:"EditTooltipPlugin<link-tooltip>",group:"LinkTooltip"});function z1({icon:t,class:e,onClick:n}){return te("span",{class:gi("milkdown-icon",e),onPointerdown:n,ref:r=>{r&&t&&(r.innerHTML=dl.sanitize(t.trim()))}})}z1.props={icon:{type:String,required:!1},class:{type:String,required:!1},onClick:{type:Function,required:!1}};const _Le=Yr({props:{config:{type:Object,required:!0},src:{type:Object,required:!0},onConfirm:{type:Function,required:!0},onCancel:{type:Function,required:!0}},setup({config:t,src:e,onConfirm:n,onCancel:r}){const i=Ze(e);A0(e,l=>{i.value=l});const o=()=>{n(i.value)},s=l=>{l.stopPropagation(),l.key==="Enter"&&(l.preventDefault(),o()),l.key==="Escape"&&(l.preventDefault(),r())};return()=>te("div",{class:"link-edit"},te("input",{class:"input-area",placeholder:t.value.inputPlaceholder,onKeydown:s,onInput:l=>{i.value=l.target.value},value:i.value}),i.value?te(z1,{class:"button confirm",icon:t.value.confirmButton,onClick:o}):null)}});var ILe=Object.defineProperty,RLe=Object.defineProperties,NLe=Object.getOwnPropertyDescriptors,W$=Object.getOwnPropertySymbols,LLe=Object.prototype.hasOwnProperty,BLe=Object.prototype.propertyIsEnumerable,Dne=t=>{throw TypeError(t)},U$=(t,e,n)=>e in t?ILe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,$4=(t,e)=>{for(var n in e||(e={}))LLe.call(e,n)&&U$(t,n,e[n]);if(W$)for(var n of W$(e))BLe.call(e,n)&&U$(t,n,e[n]);return t},q$=(t,e)=>RLe(t,NLe(e)),_ne=(t,e,n)=>e.has(t)||Dne("Cannot "+n),Hn=(t,e,n)=>(_ne(t,e,"read from private field"),n?n.call(t):e.get(t)),xa=(t,e,n)=>e.has(t)?Dne("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),bh=(t,e,n,r)=>(_ne(t,e,"write to private field"),e.set(t,n),n),Ag,Hu,ju,e5,Eg,t5,Dh,hT,n5;const K$={from:-1,to:-1,mark:null};class zLe{constructor(e,n){this.ctx=e,xa(this,Ag),xa(this,Hu),xa(this,ju,$4({},K$)),xa(this,e5),xa(this,Eg),xa(this,t5,Ze("")),xa(this,Dh,()=>{Hn(this,Hu).hide(),this.ctx.update(wu.key,o=>q$($4({},o),{mode:"preview"})),bh(this,ju,$4({},K$))}),xa(this,hT,o=>{const s=this.ctx.get(xn),{from:l,to:a,mark:u}=Hn(this,ju),c=Qs.type(this.ctx),h=dl.sanitize(o);if(u&&u.attrs.href===h){Hn(this,Dh).call(this);return}const f=s.state.tr;u&&f.removeMark(l,a,u),f.addMark(l,a,c.create({href:h})),s.dispatch(f),Hn(this,Dh).call(this)}),xa(this,n5,(o,s,l)=>{const a=this.ctx.get($p.key);Hn(this,Eg).value=a,Hn(this,t5).value=o,this.ctx.update(wu.key,c=>q$($4({},c),{mode:"edit"}));const u=this.ctx.get(xn);u.dispatch(u.state.tr.setSelection(nt.create(u.state.doc,s,l))),Hn(this,Hu).show({getBoundingClientRect:()=>v3(u,s,l)}),requestAnimationFrame(()=>{var c;(c=Hn(this,Ag).querySelector("input"))==null||c.focus()})}),this.update=o=>{const{state:s}=o,{selection:l}=s;if(!(l instanceof nt))return;const{from:a,to:u}=l;a===Hn(this,ju).from&&u===Hn(this,ju).to||Hn(this,Dh).call(this)},this.destroy=()=>{Hn(this,e5).unmount(),Hn(this,Hu).destroy(),Hn(this,Ag).remove()},this.addLink=(o,s)=>{bh(this,ju,{from:o,to:s,mark:null}),Hn(this,n5).call(this,"",o,s)},this.editLink=(o,s,l)=>{bh(this,ju,{from:s,to:l,mark:o}),Hn(this,n5).call(this,o.attrs.href,s,l)},this.removeLink=(o,s)=>{const l=this.ctx.get(xn),a=l.state.tr;a.removeMark(o,s,Qs.type(this.ctx)),l.dispatch(a),Hn(this,Dh).call(this)},bh(this,Eg,Ze(this.ctx.get($p.key)));const r=document.createElement("div");r.className="milkdown-link-edit";const i=fl(_Le,{config:Hn(this,Eg),src:Hn(this,t5),onConfirm:Hn(this,hT),onCancel:Hn(this,Dh)});i.mount(r),bh(this,e5,i),bh(this,Ag,r),bh(this,Hu,new d6({content:r,debounce:0,shouldShow:()=>!1})),Hn(this,Hu).onHide=()=>{requestAnimationFrame(()=>{n.dom.focus({preventScroll:!0})})},Hn(this,Hu).update(n)}}Ag=new WeakMap;Hu=new WeakMap;ju=new WeakMap;e5=new WeakMap;Eg=new WeakMap;t5=new WeakMap;Dh=new WeakMap;hT=new WeakMap;n5=new WeakMap;var FLe=Object.defineProperty,$Le=Object.defineProperties,VLe=Object.getOwnPropertyDescriptors,G$=Object.getOwnPropertySymbols,HLe=Object.prototype.hasOwnProperty,jLe=Object.prototype.propertyIsEnumerable,Y$=(t,e,n)=>e in t?FLe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,WLe=(t,e)=>{for(var n in e||(e={}))HLe.call(e,n)&&Y$(t,n,e[n]);if(G$)for(var n of G$(e))jLe.call(e,n)&&Y$(t,n,e[n]);return t},ULe=(t,e)=>$Le(t,VLe(e));function qLe(t){let e;t.update(Fp.key,n=>ULe(WLe({},n),{addLink:(r,i)=>{e==null||e.addLink(r,i)},editLink:(r,i,o)=>{e==null||e.editLink(r,i,o)},removeLink:(r,i)=>{e==null||e.removeLink(r,i)}})),t.set(m6.key,{view:n=>(e=new zLe(t,n),e)})}function KLe(t,e,n,r,i){let o={start:-1,end:-1};return n.nodesBetween(r,i,(s,l)=>{if(o.start>-1)return!1;o.start===-1&&t.isInSet(s.marks)&&e===s&&(o={start:l,end:l+Math.max(s.textContent.length,1)})}),o}function GLe(t,e,n){const r=e.posAtCoords({left:n.clientX,top:n.clientY});if(!r)return;const{pos:i}=r,o=e.state.doc.nodeAt(i);if(!o)return;const s=o.marks.find(a=>a.type===Qs.mark.type(t));if(!(!s||!g2.pluginKey()))return{show:!0,pos:i,node:o,mark:s}}const YLe=Yr({props:{config:{type:Object,required:!0},src:{type:Object,required:!0},onEdit:{type:Object,required:!0},onRemove:{type:Object,required:!0}},setup({config:t,src:e,onEdit:n,onRemove:r}){const i=l=>{l.preventDefault(),l.stopPropagation(),n.value()},o=l=>{l.preventDefault(),l.stopPropagation(),r.value()},s=l=>{l.preventDefault();const a=e.value;navigator.clipboard&&a&&navigator.clipboard.writeText(a).then(()=>{t.value.onCopyLink(a)}).catch(u=>console.error(u))};return()=>te("div",{class:"link-preview"},te(z1,{class:"button link-icon",icon:t.value.linkIcon,onClick:s}),te("a",{href:e.value,target:"_blank",class:"link-display"},e.value),te(z1,{class:"button link-edit-button",icon:t.value.editButton,onClick:i}),te(z1,{class:"button link-remove-button",icon:t.value.removeButton,onClick:o}))}});var Ine=t=>{throw TypeError(t)},Rne=(t,e,n)=>e.has(t)||Ine("Cannot "+n),Ut=(t,e,n)=>(Rne(t,e,"read from private field"),n?n.call(t):e.get(t)),yo=(t,e,n)=>e.has(t)?Ine("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),kh=(t,e,n,r)=>(Rne(t,e,"write to private field"),e.set(t,n),n),_h,zs,Og,Pg,r5,i5,o5,Dg,_g,s5,l5,a5,Ig;class XLe{constructor(e,n){this.ctx=e,yo(this,_h),yo(this,zs),yo(this,Og,this.ctx.use(wu.key)),yo(this,Pg),yo(this,r5,Ze("")),yo(this,i5,Ze(()=>{})),yo(this,o5,Ze(()=>{})),yo(this,Dg),yo(this,_g,!1),yo(this,s5,({mode:r})=>{r==="edit"&&Ut(this,Ig).call(this)}),yo(this,l5,()=>{kh(this,_g,!0)}),yo(this,a5,()=>{kh(this,_g,!1)}),yo(this,Ig,()=>{Ut(this,zs).hide(),Ut(this,zs).element.removeEventListener("mouseenter",Ut(this,l5)),Ut(this,zs).element.removeEventListener("mouseleave",Ut(this,a5))}),this.show=(r,i,o,s)=>{Ut(this,Pg).value=this.ctx.get($p.key),Ut(this,r5).value=r.attrs.href,Ut(this,i5).value=()=>{this.ctx.get(Fp.key).editLink(r,i,o)},Ut(this,o5).value=()=>{this.ctx.get(Fp.key).removeLink(i,o),Ut(this,Ig).call(this)},Ut(this,zs).show({getBoundingClientRect:()=>s}),Ut(this,zs).element.addEventListener("mouseenter",Ut(this,l5)),Ut(this,zs).element.addEventListener("mouseleave",Ut(this,a5))},this.hide=()=>{Ut(this,_g)||Ut(this,Ig).call(this)},this.update=()=>{},this.destroy=()=>{Ut(this,Dg).unmount(),Ut(this,Og).off(Ut(this,s5)),Ut(this,zs).destroy(),Ut(this,_h).remove()},kh(this,Pg,Ze(this.ctx.get($p.key))),kh(this,Dg,fl(YLe,{config:Ut(this,Pg),src:Ut(this,r5),onEdit:Ut(this,i5),onRemove:Ut(this,o5)})),kh(this,_h,document.createElement("div")),Ut(this,_h).className="milkdown-link-preview",Ut(this,Dg).mount(Ut(this,_h)),kh(this,zs,new d6({debounce:0,content:Ut(this,_h),shouldShow:()=>!1})),Ut(this,zs).update(n),kh(this,Og,e.use(wu.key)),Ut(this,Og).on(Ut(this,s5))}}_h=new WeakMap;zs=new WeakMap;Og=new WeakMap;Pg=new WeakMap;r5=new WeakMap;i5=new WeakMap;o5=new WeakMap;Dg=new WeakMap;_g=new WeakMap;s5=new WeakMap;l5=new WeakMap;a5=new WeakMap;Ig=new WeakMap;function JLe(t){let e;const r=e3((o,s)=>{if(!e||!o.hasFocus()||t.get(wu.key).mode==="edit")return;const a=GLe(t,o,s);if(a){const u=o.state.doc.resolve(a.pos),c=KLe(a.mark,a.node,o.state.doc,u.before(),u.after()),h=c.start,f=c.end;e.show(a.mark,h,f,v3(o,h,f));return}e.hide()},50),i=()=>{setTimeout(()=>{e==null||e.hide()},50)};t.set(g2.key,{props:{handleDOMEvents:{mousemove:r,mouseleave:i}},view:o=>(e=new XLe(t,o),e)})}function ZLe(t){JLe(t),qLe(t)}const QLe=[wu,Fp,$p,g2,m6,Pne].flat();var eBe=Object.defineProperty,X$=Object.getOwnPropertySymbols,tBe=Object.prototype.hasOwnProperty,nBe=Object.prototype.propertyIsEnumerable,J$=(t,e,n)=>e in t?eBe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,rBe=(t,e)=>{for(var n in e||(e={}))tBe.call(e,n)&&J$(t,n,e[n]);if(X$)for(var n of X$(e))nBe.call(e,n)&&J$(t,n,e[n]);return t};function Nne(t,e){return Object.assign(t,{meta:rBe({package:"@milkdown/components"},e)}),t}const iBe={renderLabel:({label:t,listType:e,checked:n})=>n==null?e==="bullet"?"":t:n?"":""},g6=ln(iBe,"listItemBlockConfigCtx");Nne(g6,{displayName:"Config<list-item-block>",group:"ListItemBlock"});function Lne({icon:t,class:e,onClick:n}){return te("span",{class:gi("milkdown-icon",e),onPointerdown:n,ref:r=>{r&&t&&(r.innerHTML=dl.sanitize(t.trim()))}})}Lne.props={icon:{type:String,required:!1},class:{type:String,required:!1},onClick:{type:Function,required:!1}};const oBe=Yr({props:{label:{type:Object,required:!0},checked:{type:Object,required:!0},listType:{type:Object,required:!0},config:{type:Object,required:!0},readonly:{type:Object,required:!0},selected:{type:Object,required:!0},setAttr:{type:Function,required:!0},onMount:{type:Function,required:!0}},setup({label:t,checked:e,listType:n,config:r,readonly:i,setAttr:o,onMount:s,selected:l}){const a=f=>{f!=null&&f instanceof Element&&s(f)},u=f=>{f.stopPropagation(),f.preventDefault(),e.value!=null&&o("checked",!e.value)},c=Yf(()=>r.renderLabel({label:t.value,listType:n.value,checked:e.value,readonly:i.value})),h=Yf(()=>e.value==null?n.value==="bullet"?"bullet":"ordered":e.value?"checked":"unchecked");return()=>te("li",{class:gi("list-item",l.value&&"ProseMirror-selectednode")},te("div",{class:"label-wrapper",onPointerdown:u,contenteditable:!1},te(Lne,{class:gi("label",i.value&&"readonly",h.value),icon:c.value})),te("div",{class:"children",ref:a}))}}),Bne=Xv(hl.node,t=>(e,n,r)=>{const i=document.createElement("div");i.className="milkdown-list-item-block";const o=document.createElement("div");o.setAttribute("data-content-dom","true"),o.classList.add("content-dom");const s=Ze(e.attrs.label),l=Ze(e.attrs.checked),a=Ze(e.attrs.listType),u=Ze(!n.editable),c=t.get(g6.key),h=Ze(!1),f=(w,b)=>{if(!n.editable)return;const S=r();S!=null&&(n.hasFocus()||n.focus(),n.dispatch(n.state.tr.setNodeAttribute(S,w,b)))},d=am(()=>{h.value?i.classList.add("selected"):i.classList.remove("selected")});let p=0;const y=fl(oBe,{label:s,checked:l,listType:a,readonly:u,config:c,selected:h,setAttr:f,onMount:w=>{const{anchor:b,head:S}=n.state.selection;w.appendChild(o);const k=n.state.doc.resolve(b),T=n.state.doc.resolve(S);p=requestAnimationFrame(()=>{if(cancelAnimationFrame(p),!k.doc.eq(n.state.doc))return;const A=new nt(k,T);n.dispatch(n.state.tr.setSelection(A))})}});y.mount(i);const g=w=>{a.value=w.attrs.listType,s.value=w.attrs.label,l.value=w.attrs.checked,u.value=!n.editable};g(e);let v=e;return{dom:i,contentDOM:o,update:w=>w.type!==e.type?!1:(w.sameMarkup(v)&&w.content.eq(v.content)||(v=w,g(w)),!0),ignoreMutation:w=>!i||!o?!0:w.type==="selection"?!1:o===w.target&&w.type==="attributes"?!0:!o.contains(w.target),selectNode:()=>{h.value=!0},deselectNode:()=>{h.value=!1},destroy:()=>{d(),y.unmount(),i.remove(),o.remove()}}});Nne(Bne,{displayName:"NodeView<list-item-block>",group:"ListItemBlock"});const sBe=[g6,Bne];var lBe=Object.defineProperty,Z$=Object.getOwnPropertySymbols,aBe=Object.prototype.hasOwnProperty,uBe=Object.prototype.propertyIsEnumerable,Q$=(t,e,n)=>e in t?lBe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,cBe=(t,e)=>{for(var n in e||(e={}))aBe.call(e,n)&&Q$(t,n,e[n]);if(Z$)for(var n of Z$(e))uBe.call(e,n)&&Q$(t,n,e[n]);return t};function zne(t,e){return Object.assign(t,{meta:cBe({package:"@milkdown/components"},e)}),t}var hBe=Object.defineProperty,eV=Object.getOwnPropertySymbols,fBe=Object.prototype.hasOwnProperty,dBe=Object.prototype.propertyIsEnumerable,tV=(t,e,n)=>e in t?hBe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,pBe=(t,e)=>{for(var n in e||(e={}))fBe.call(e,n)&&tV(t,n,e[n]);if(eV)for(var n of eV(e))dBe.call(e,n)&&tV(t,n,e[n]);return t};const mBe={renderButton:t=>{switch(t){case"add_row":return"+";case"add_col":return"+";case"delete_row":return"-";case"delete_col":return"-";case"align_col_left":return"left";case"align_col_center":return"center";case"align_col_right":return"right";case"col_drag_handle":return"=";case"row_drag_handle":return"="}}},y6=ln(pBe({},mBe),"tableBlockConfigCtx");zne(y6,{displayName:"Config<table-block>",group:"TableBlock"});function Tl({icon:t,class:e,onClick:n}){return te("span",{class:gi("milkdown-icon",e),onPointerdown:n,ref:r=>{r&&t&&(r.innerHTML=dl.sanitize(t.trim()))}})}Tl.props={icon:{type:String,required:!1},class:{type:String,required:!1},onClick:{type:Function,required:!1}};function Fne(t){const{dragPreviewRef:e,tableWrapperRef:n,contentWrapperRef:r,yLineHandleRef:i,xLineHandleRef:o,colHandleRef:s,rowHandleRef:l}=t,a=e.value;if(!a)return;const u=n.value;if(!u)return;const c=r.value;if(!c)return;const h=c.querySelector("tbody");if(!h)return;const f=a.querySelector("tbody");if(!f)return;const d=i.value;if(!d)return;const p=o.value;if(!p)return;const m=s.value;if(!m)return;const y=l.value;return y?{preview:a,wrapper:u,content:c,contentRoot:h,previewRoot:f,yHandle:d,xHandle:p,colHandle:m,rowHandle:y}:void 0}function $ne(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function Vne(t,e,n,r,i){const{width:o,height:s}=r.querySelector("tbody").getBoundingClientRect();if(t==="y"){const a=r.querySelectorAll("tr")[i];if(!a)return;n.appendChild(a.cloneNode(!0));const u=a.getBoundingClientRect().height;Object.assign(e.style,{width:`${o}px`,height:`${u}px`}),e.dataset.show="true";return}if(t==="x"){const l=r.querySelectorAll("tr");let a;Array.from(l).forEach(u=>{const c=u.children[i];if(!c)return;a===void 0&&(a=c.getBoundingClientRect().width);const h=c.parentElement.cloneNode(!1),f=c.cloneNode(!0);h.appendChild(f),n.appendChild(h)}),Object.assign(e.style,{width:`${a}px`,height:`${s}px`}),e.dataset.show="true";return}}function gBe(t,e){return n=>{jne(t,n,e,r=>{Hne("y",n,r,t);const{preview:i,content:o,previewRoot:s}=r;$ne(s);const{hoverIndex:l}=t,[a]=l.value;Vne("y",i,s,o,a)})}}function yBe(t,e){return n=>{jne(t,n,e,r=>{Hne("x",n,r,t);const{preview:i,content:o,previewRoot:s}=r,{hoverIndex:l}=t,[a,u]=l.value;$ne(s),Vne("x",i,s,o,u)})}}function Hne(t,e,n,r){const{xHandle:i,yHandle:o,colHandle:s,rowHandle:l,preview:a}=n;i.dataset.displayType=t==="y"?"indicator":"none",o.dataset.displayType=t==="x"?"indicator":"none",t==="y"?(s.dataset.show="false",nV(l)):(l.dataset.show="false",nV(s));const{hoverIndex:u,dragInfo:c}=r,[h,f]=u.value;c.value={startCoords:[e.clientX,e.clientY],startIndex:t==="y"?h:f,endIndex:t==="y"?h:f,type:t==="y"?"row":"col"},a.dataset.direction=t==="y"?"vertical":"horizontal"}function jne(t,e,n,r){const i=n==null?void 0:n.get(xn);if(!(i!=null&&i.editable))return;e.stopPropagation(),e.dataTransfer&&(e.dataTransfer.effectAllowed="move");const o=Fne(t);o&&requestAnimationFrame(()=>{r(o)})}function nV(t){var e;(e=t.querySelector(".button-group"))==null||e.setAttribute("data-show","false")}function fT(t,e){for(let n=0;n<t.childCount;n++)if(t.child(n)===e)return n;return-1}function vBe(t,e){var n,r,i;if(e)try{const o=e.posAtCoords({left:t.clientX,top:t.clientY});if(!o)return;const s=o==null?void 0:o.inside;if(s==null||s<0)return;const l=e.state.doc.resolve(s),a=e.state.doc.nodeAt(s);if(!a)return;const u=["table_cell","table_header"],c=["table_row","table_header_row"],h=u.includes(a.type.name)?a:(n=Gl(y=>u.includes(y.type.name))(l))==null?void 0:n.node,f=(r=Gl(y=>c.includes(y.type.name))(l))==null?void 0:r.node,d=(i=Gl(y=>y.type.name==="table")(l))==null?void 0:i.node;if(!h||!f||!d)return;const p=fT(f,h);return[fT(d,f),p]}catch{return}}function v6(t,[e,n]){const r=t.value;if(!r)return;const i=r.querySelectorAll("tr"),o=i[e];if(!o)return;const s=i[0];if(!s)return;const l=s.children[n];if(!l)return;const a=o.children[n];if(a)return{row:o,col:a,headerCol:l}}function wBe(t,e,n){if(!n||!e)return;const{selection:r}=e.state;if(!(r instanceof pn))return;const{$from:i}=r,o=cm(i);if(!(!o||o.node!==n)){if(r.isColSelection()){const{$head:s}=r,l=s.index(s.depth-1);XP({refs:t,index:[0,l],before:a=>{var u;(u=a.querySelector(".button-group"))==null||u.setAttribute("data-show","true")}});return}if(r.isRowSelection()){const{$head:s}=r,l=Gl(u=>u.type.name==="table_row"||u.type.name==="table_header_row")(s);if(!l)return;const a=fT(o.node,l.node);JP({refs:t,index:[a,0],before:u=>{var c;a>0&&((c=u.querySelector(".button-group"))==null||c.setAttribute("data-show","true"))}})}}}function XP({refs:t,index:e,before:n,after:r}){const{contentWrapperRef:i,colHandleRef:o,hoverIndex:s}=t,l=o.value;if(!l)return;s.value=e;const a=v6(i,e);if(!a)return;const{headerCol:u}=a;l.dataset.show="true",n&&n(l),al(u,l,{placement:"top"}).then(({x:c,y:h})=>{Object.assign(l.style,{left:`${c}px`,top:`${h}px`}),r&&r(l)}).catch(console.error)}function JP({refs:t,index:e,before:n,after:r}){const{contentWrapperRef:i,rowHandleRef:o,hoverIndex:s}=t,l=o.value;if(!l)return;s.value=e;const a=v6(i,e);if(!a)return;const{row:u}=a;l.dataset.show="true",n&&n(l),al(u,l,{placement:"left"}).then(({x:c,y:h})=>{Object.assign(l.style,{left:`${c}px`,top:`${h}px`}),r&&r(l)}).catch(console.error)}function Wne(t,e,n){const r=n==="x"?"left":"top",i=n==="x"?"right":"bottom",o=t.length-1,s=t.findIndex((a,u)=>{const c=a.getBoundingClientRect(),h=c[r],f=c[i];return h<=e&&e<=f||u===o&&e>f||u===0&&e<h}),l=t[s];return l?[l,s]:void 0}function xBe(t,e){const n=t.querySelector("tr");if(!n)return;const r=Array.from(n.children);return Wne(r,e,"x")}function bBe(t,e){const n=Array.from(t.querySelectorAll("tr"));return Wne(n,e,"y")}function kBe(t){return t3(e=>{const n=Fne(t);if(!n)return;const{preview:r,content:i,contentRoot:o,xHandle:s,yHandle:l}=n,{dragInfo:a,hoverIndex:u}=t;if(r.dataset.show==="false")return;const c=v6(t.contentWrapperRef,u.value);if(!c||!o.querySelector("tr"))return;const f=a.value;if(!f||!o.offsetParent)return;const d=o.offsetParent.offsetTop,p=o.offsetParent.offsetLeft;if(f.type==="col"){const m=c.col.getBoundingClientRect().width,{left:y,width:g}=o.getBoundingClientRect(),v=p-y,w=e.clientX+v-m/2,[b]=f.startCoords,S=b<e.clientX?"right":"left";r.style.top=`${d}px`;const k=w<y+v-20?y+v-20:w>y+g+v-m+20?y+g+v-m+20:w;r.style.left=`${k}px`;const T=xBe(o,e.clientX);if(T){const[A,z]=T,E=l.getBoundingClientRect().width,B=i.getBoundingClientRect();f.endIndex=z,al(A,l,{placement:S==="left"?"left":"right",middleware:[Uc(S==="left"?-1*E:0)]}).then(({x:$})=>{l.dataset.show="true",Object.assign(l.style,{height:`${B.height}px`,left:`${$}px`,top:`${d}px`})}).catch(console.error)}}else if(f.type==="row"){const m=c.row.getBoundingClientRect().height,{top:y,height:g}=o.getBoundingClientRect(),v=d-y,w=e.clientY+v-m/2,[b,S]=f.startCoords,k=S<e.clientY?"down":"up",T=w<y+v-20?y+v-20:w>y+g+v-m+20?y+g+v-m+20:w;r.style.top=`${T}px`,r.style.left=`${p}px`;const A=bBe(o,e.clientY);if(A){const[z,E]=A,B=s.getBoundingClientRect().height,$=i.getBoundingClientRect();f.endIndex=E,al(z,s,{placement:k==="up"?"top":"bottom",middleware:[Uc(k==="up"?-1*B:0)]}).then(({y:ae})=>{s.dataset.show="true",Object.assign(s.style,{width:`${$.width}px`,top:`${ae}px`})}).catch(console.error)}}},20)}function SBe(t,e,n){const{dragPreviewRef:r,yLineHandleRef:i,xLineHandleRef:o,dragInfo:s}=t,l=gBe(t,e),a=yBe(t,e),u=()=>{const f=r.value;if(!f||f.dataset.show==="false")return;const d=f==null?void 0:f.querySelector("tbody");for(;d!=null&&d.firstChild;)d==null||d.removeChild(d.firstChild);f&&(f.dataset.show="false")},c=()=>{var f;const d=r.value;if(!d)return;const p=i.value;if(!p)return;const m=o.value;if(!m)return;const y=s.value;if(!y||!e||d.dataset.show==="false"||!t.colHandleRef.value||!t.rowHandleRef.value||(p.dataset.show="false",m.dataset.show="false",y.startIndex===y.endIndex))return;const w=e.get(Xe),b={from:y.startIndex,to:y.endIndex,pos:((f=n==null?void 0:n())!=null?f:0)+1};if(y.type==="col"){w.call(Xh.key,{pos:b.pos,index:y.startIndex}),w.call(eP.key,b);const S=[0,y.endIndex];XP({refs:t,index:S})}else{w.call(Yh.key,{pos:b.pos,index:y.startIndex}),w.call(QO.key,b);const S=[y.endIndex,0];JP({refs:t,index:S})}requestAnimationFrame(()=>{e.get(xn).focus()})},h=kBe(t);return t2(()=>{window.addEventListener("dragover",h),window.addEventListener("dragend",u),window.addEventListener("drop",c)}),n2(()=>{window.removeEventListener("dragover",h),window.removeEventListener("dragend",u),window.removeEventListener("drop",c)}),{dragRow:l,dragCol:a}}function CBe(t,e,n){const{xLineHandleRef:r,contentWrapperRef:i,colHandleRef:o,rowHandleRef:s,hoverIndex:l,lineHoverIndex:a}=t;return{onAddRow:()=>{var m,y,g;if(!e)return;const v=r.value;if(!v)return;const[w]=a.value;if(w<0||!e.get(xn).editable)return;const b=Array.from((y=(m=i.value)==null?void 0:m.querySelectorAll("tr"))!=null?y:[]),S=e.get(Xe),k=((g=n==null?void 0:n())!=null?g:0)+1;b.length===w?(S.call(Yh.key,{pos:k,index:w-1}),S.call(oP.key)):(S.call(Yh.key,{pos:k,index:w}),S.call(iP.key)),S.call(Yh.key,{pos:k,index:w}),v.dataset.show="false"},onAddCol:()=>{var m,y,g,v;if(!e||!r.value)return;const[b,S]=a.value;if(S<0||!e.get(xn).editable)return;const k=Array.from((g=(y=(m=i.value)==null?void 0:m.querySelector("tr"))==null?void 0:y.children)!=null?g:[]),T=e.get(Xe),A=((v=n==null?void 0:n())!=null?v:0)+1;k.length===S?(T.call(Xh.key,{pos:A,index:S-1}),T.call(rP.key)):(T.call(Xh.key,{pos:A,index:S}),T.call(nP.key)),T.call(Xh.key,{pos:A,index:S})},selectCol:()=>{var m,y;if(!e)return;const[g,v]=l.value,w=e.get(Xe),b=((m=n==null?void 0:n())!=null?m:0)+1;w.call(Xh.key,{pos:b,index:v});const S=(y=o.value)==null?void 0:y.querySelector(".button-group");S&&(S.dataset.show=S.dataset.show==="true"?"false":"true")},selectRow:()=>{var m,y;if(!e)return;const[g,v]=l.value,w=e.get(Xe),b=((m=n==null?void 0:n())!=null?m:0)+1;w.call(Yh.key,{pos:b,index:g});const S=(y=s.value)==null?void 0:y.querySelector(".button-group");S&&g>0&&(S.dataset.show=S.dataset.show==="true"?"false":"true")},deleteSelected:m=>{if(!e||!e.get(xn).editable)return;m.preventDefault(),m.stopPropagation(),e.get(Xe).call(tP.key),requestAnimationFrame(()=>{e.get(xn).focus()})},onAlign:m=>y=>{if(!e||!e.get(xn).editable)return;y.preventDefault(),y.stopPropagation(),e.get(Xe).call(sP.key,m),requestAnimationFrame(()=>{e.get(xn).focus()})}}}function TBe(t,e){return t3(n=>{if(!(e!=null&&e.editable))return;const{contentWrapperRef:r,yLineHandleRef:i,xLineHandleRef:o,colHandleRef:s,rowHandleRef:l,hoverIndex:a,lineHoverIndex:u}=t,c=i.value;if(!c)return;const h=o.value;if(!h)return;const f=r.value;if(!f)return;const d=l.value;if(!d)return;const p=s.value;if(!p)return;const m=vBe(n,e);if(!m)return;const y=v6(r,m);if(!y)return;const[g,v]=m,w=y.col.getBoundingClientRect(),b=Math.abs(n.clientX-w.left)<8,S=Math.abs(w.right-n.clientX)<8,k=Math.abs(n.clientY-w.top)<8,T=Math.abs(w.bottom-n.clientY)<8,A=b||S||k||T,z=d.querySelector(".button-group"),E=p.querySelector(".button-group");if(z&&(z.dataset.show="false"),E&&(E.dataset.show="false"),A){const B=f.getBoundingClientRect();d.dataset.show="false",p.dataset.show="false",h.dataset.displayType="tool",c.dataset.displayType="tool";const $=c.getBoundingClientRect().width,ae=h.getBoundingClientRect().height;b||S?(u.value[1]=b?v:v+1,al(y.col,c,{placement:b?"left":"right",middleware:[Uc(b?-1*$:0)]}).then(({x:G})=>{c.dataset.show="true",Object.assign(c.style,{height:`${B.height}px`,left:`${G}px`})}).catch(console.error)):c.dataset.show="false",m[0]!==0&&(k||T)?(u.value[0]=k?g:g+1,al(y.row,h,{placement:k?"top":"bottom",middleware:[Uc(k?-1*ae:0)]}).then(({y:G})=>{h.dataset.show="true",Object.assign(h.style,{width:`${B.width}px`,top:`${G}px`})}).catch(console.error)):h.dataset.show="false";return}u.value=[-1,-1],c.dataset.show="false",h.dataset.show="false",d.dataset.show="true",p.dataset.show="true",JP({refs:t,index:m}),XP({refs:t,index:m}),a.value=m},20)}function MBe(t){return()=>{const{rowHandleRef:e,colHandleRef:n,yLineHandleRef:r,xLineHandleRef:i}=t;setTimeout(()=>{const o=e.value;if(!o)return;const s=n.value;if(!s)return;const l=r.value;if(!l)return;const a=i.value;a&&(o.dataset.show="false",s.dataset.show="false",l.dataset.show="false",a.dataset.show="false")},200)}}function ABe(t,e){const n=TBe(t,e),r=MBe(t);return{pointerMove:n,pointerLeave:r}}const EBe=Yr({props:{view:{type:Object,required:!0},ctx:{type:Object,required:!0},getPos:{type:Function,required:!0},config:{type:Object,required:!0},onMount:{type:Function,required:!0},node:{type:Object,required:!0}},setup({view:t,node:e,ctx:n,getPos:r,config:i,onMount:o}){const s=Ze(),l=$=>{$!=null&&($ instanceof HTMLElement?(s.value=$,o($)):s.value=void 0)},a=Ze(),u=Ze(),c=Ze(),h=Ze(),f=Ze(),d=Ze(),p=Ze([0,0]),m=Ze([-1,-1]),y=Ze(),g={dragPreviewRef:d,tableWrapperRef:f,contentWrapperRef:s,yLineHandleRef:h,xLineHandleRef:c,colHandleRef:a,rowHandleRef:u,hoverIndex:p,lineHoverIndex:m,dragInfo:y},{pointerLeave:v,pointerMove:w}=ABe(g,t),{dragRow:b,dragCol:S}=SBe(g,n,r),{onAddRow:k,onAddCol:T,selectCol:A,selectRow:z,deleteSelected:E,onAlign:B}=CBe(g,n,r);return t2(()=>{requestAnimationFrame(()=>{t.editable&&wBe(g,t,e.value)})}),()=>te("div",{onDragstart:$=>$.preventDefault(),onDragover:$=>$.preventDefault(),onDragleave:$=>$.preventDefault(),onPointermove:w,onPointerleave:v},te("button",{type:"button","data-show":"false",contenteditable:"false",draggable:"true","data-role":"col-drag-handle",class:"handle cell-handle",onDragstart:S,onClick:A,onPointerdown:$=>$.stopPropagation(),onPointermove:$=>$.stopPropagation(),ref:a},te(Tl,{icon:i.renderButton("col_drag_handle")}),te("div",{"data-show":"false",class:"button-group",onPointermove:$=>$.stopPropagation()},te("button",{type:"button",onPointerdown:B("left")},te(Tl,{icon:i.renderButton("align_col_left")})),te("button",{type:"button",onPointerdown:B("center")},te(Tl,{icon:i.renderButton("align_col_center")})),te("button",{type:"button",onPointerdown:B("right")},te(Tl,{icon:i.renderButton("align_col_right")})),te("button",{type:"button",onPointerdown:E},te(Tl,{icon:i.renderButton("delete_col")})))),te("button",{type:"button","data-show":"false",contenteditable:"false",draggable:"true","data-role":"row-drag-handle",class:"handle cell-handle",onDragstart:b,onClick:z,onPointerdown:$=>$.stopPropagation(),onPointermove:$=>$.stopPropagation(),ref:u},te(Tl,{icon:i.renderButton("row_drag_handle")}),te("div",{"data-show":"false",class:"button-group",onPointermove:$=>$.stopPropagation()},te("button",{type:"button",onPointerdown:E},te(Tl,{icon:i.renderButton("delete_row")})))),te("div",{class:"table-wrapper",ref:f},te("div",{"data-show":"false",class:"drag-preview","data-direction":"vertical",ref:d},te("table",null,te("tbody",null))),te("div",{"data-show":"false",contenteditable:"false","data-display-type":"tool","data-role":"x-line-drag-handle",class:"handle line-handle",onPointermove:$=>$.stopPropagation(),ref:c},te("button",{type:"button",onClick:k,class:"add-button"},te(Tl,{icon:i.renderButton("add_row")}))),te("div",{"data-show":"false",contenteditable:"false","data-display-type":"tool","data-role":"y-line-drag-handle",class:"handle line-handle",onPointermove:$=>$.stopPropagation(),ref:h},te("button",{type:"button",onClick:T,class:"add-button"},te(Tl,{icon:i.renderButton("add_col")}))),te("table",{ref:l,class:"children"})))}});var Une=t=>{throw TypeError(t)},OBe=(t,e,n)=>e.has(t)||Une("Cannot "+n),PBe=(t,e,n)=>e.has(t)?Une("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),DBe=(t,e,n)=>(OBe(t,e,"access private method"),n),dT,qne;class _Be{constructor(e,n,r,i){this.ctx=e,this.node=n,this.view=r,this.getPos=i,PBe(this,dT);const o=document.createElement("div");o.className="milkdown-table-block";const s=document.createElement("tbody");this.contentDOM=s,s.setAttribute("data-content-dom","true"),s.classList.add("content-dom"),this.nodeRef=jx(n);const l=fl(EBe,{view:r,ctx:e,getPos:i,config:e.get(y6.key),onMount:a=>{a.appendChild(s)},node:this.nodeRef});l.mount(o),this.app=l,this.dom=o}update(e){return e.type!==this.node.type||e.sameMarkup(this.node)&&e.content.eq(this.node.content)?!1:(this.node=e,this.nodeRef.value=e,!0)}stopEvent(e){if(e.type==="drop"||e.type.startsWith("drag"))return!0;if(e.type==="mousedown"||e.type==="pointerdown"){if(e.target instanceof Element&&e.target.closest("button"))return!0;const n=e.target;if(n instanceof HTMLElement&&(n.closest("th")||n.closest("td"))){const r=e;return DBe(this,dT,qne).call(this,r)}}return!1}ignoreMutation(e){return!this.dom||!this.contentDOM?!0:e.type==="selection"?!1:this.contentDOM===e.target&&e.type==="attributes"?!0:!this.contentDOM.contains(e.target)}destroy(){this.app.unmount(),this.dom.remove(),this.contentDOM.remove()}}dT=new WeakSet;qne=function(t){const e=this.view;if(!e.editable)return!1;const{state:n,dispatch:r}=e,i=e.posAtCoords({left:t.clientX,top:t.clientY});if(!i)return!1;const o=n.doc.resolve(i.inside),s=Gl(u=>u.type.name==="table_cell"||u.type.name==="table_header")(o);if(!s)return!1;if(n.selection instanceof nt){const u=Gl(c=>c.type.name==="table_cell"||c.type.name==="table_header")(n.selection.$from);if((u==null?void 0:u.node)===s.node)return!1}const{from:l}=s,a=ut.create(n.doc,l+1);return n.selection.eq(a)?!1:(n.selection instanceof pn?setTimeout(()=>{r(n.tr.setSelection(a).scrollIntoView())},20):requestAnimationFrame(()=>{r(n.tr.setSelection(a).scrollIntoView())}),!0)};const Kne=Xv(ad.node,t=>(e,n,r)=>new _Be(t,e,n,r));zne(Kne,{displayName:"NodeView<table-block>",group:"TableBlock"});const IBe=[y6,Kne];function Gne(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=Gne(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function RBe(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=Gne(t))&&(r&&(r+=" "),r+=e);return r}function pT(t){if(!t)return!1;if(Array.isArray(t))return t.length>1?!1:pT(t[0]);const e=t.content;return e?pT(e):t.type==="text"}const Yne=Cr(t=>{const e=t.get(Yl);t.update(C1,i=>({...i,editable:i.editable??(()=>!0)}));const n=new Xn("MILKDOWN_CLIPBOARD");return new $n({key:n,props:{handlePaste:(i,o)=>{var g,v;const s=t.get(k1),l=(v=(g=i.props).editable)==null?void 0:v.call(g,i.state),{clipboardData:a}=o;if(!l||!a||i.state.selection.$from.node().type.spec.code)return!1;const c=a.getData("text/plain"),h=a.getData("vscode-editor-data");if(h){const w=JSON.parse(h),b=w==null?void 0:w.mode;if(c&&b){const{tr:S}=i.state,k=M7e("code_block",e);return S.replaceSelectionWith(k.create({language:b})).setSelection(nt.near(S.doc.resolve(Math.max(0,S.selection.from-2)))).insertText(c.replace(/\r\n?/g,`
`)),i.dispatch(S),!0}}const f=a.getData("text/html");if(f.length===0&&c.length===0)return!1;const d=jf.fromSchema(e);let p;if(f.length===0){const w=s(c);if(!w||typeof w=="string")return!1;p=nd.fromSchema(e).serializeFragment(w.content)}else{const w=document.createElement("template");w.innerHTML=f,p=w.content.cloneNode(!0),w.remove()}const m=d.parseSlice(p),y=C7e(m);return y?(i.dispatch(i.state.tr.replaceSelectionWith(y,!0)),!0):(i.dispatch(i.state.tr.replaceSelection(m)),!0)},clipboardTextSerializer:i=>{const o=t.get(k0);if(pT(i.content.toJSON()))return i.content.textBetween(0,i.content.size,`

`);const l=e.topNodeType.createAndFill(void 0,i.content);return l?o(l):""}}})});Yne.meta={displayName:"Prose<clipboard>",package:"@milkdown/plugin-clipboard"};function gm(t,e){return Object.assign(t,{meta:{package:"@milkdown/plugin-history",...e}}),t}const ZP=vt("Undo",()=>()=>n6);gm(ZP,{displayName:"Command<undo>"});const QP=vt("Redo",()=>()=>Np);gm(QP,{displayName:"Command<redo>"});const eD=ln({},"historyProviderConfig");gm(eD,{displayName:"Ctx<historyProviderConfig>"});const Xne=Cr(t=>FDe(t.get(eD.key)));gm(Xne,{displayName:"Ctx<historyProviderPlugin>"});const tD=fo("historyKeymap",{Undo:{shortcuts:"Mod-z",command:t=>{const e=t.get(Xe);return()=>e.call(ZP.key)}},Redo:{shortcuts:["Mod-y","Shift-Mod-z"],command:t=>{const e=t.get(Xe);return()=>e.call(QP.key)}}});gm(tD.ctx,{displayName:"KeymapCtx<history>"});gm(tD.shortcuts,{displayName:"Keymap<history>"});const NBe=[eD,Xne,tD,ZP,QP].flat();function LBe(t,e){const{doc:n,selection:r}=t;if(!n||!r||!(r instanceof nt||r instanceof lo))return t;const{to:i}=r,o=e.type==="space"?Array(e.size).fill(" ").join(""):"	";return t.insertText(o,i)}const w6=ln({type:"space",size:2},"indentConfig");w6.meta={package:"@milkdown/plugin-indent",displayName:"Ctx<indentConfig>"};const Jne=eZ(t=>({Tab:(e,n)=>{const r=t.get(w6.key),{tr:i}=e,o=LBe(i,r);return o.docChanged?(n==null||n(o),!0):!1}}));Jne.meta={package:"@milkdown/plugin-indent",displayName:"Shortcut<indent>"};const BBe=[w6,Jne];class Zne{constructor(){this.beforeMountedListeners=[],this.mountedListeners=[],this.updatedListeners=[],this.selectionUpdatedListeners=[],this.markdownUpdatedListeners=[],this.blurListeners=[],this.focusListeners=[],this.destroyListeners=[],this.beforeMount=e=>(this.beforeMountedListeners.push(e),this),this.mounted=e=>(this.mountedListeners.push(e),this),this.updated=e=>(this.updatedListeners.push(e),this)}get listeners(){return{beforeMount:this.beforeMountedListeners,mounted:this.mountedListeners,updated:this.updatedListeners,markdownUpdated:this.markdownUpdatedListeners,blur:this.blurListeners,focus:this.focusListeners,destroy:this.destroyListeners,selectionUpdated:this.selectionUpdatedListeners}}markdownUpdated(e){return this.markdownUpdatedListeners.push(e),this}blur(e){return this.blurListeners.push(e),this}focus(e){return this.focusListeners.push(e),this}destroy(e){return this.destroyListeners.push(e),this}selectionUpdated(e){return this.selectionUpdatedListeners.push(e),this}}const hb=jt(new Zne,"listener"),zBe=new Xn("MILKDOWN_LISTENER"),Qne=t=>(t.inject(hb,new Zne),async()=>{await t.wait(Cf);const e=t.get(hb),{listeners:n}=e;n.beforeMount.forEach(a=>a(t)),await t.wait(S1);const r=t.get(k0);let i=null,o=null,s=null;const l=new $n({key:zBe,view:()=>({destroy:()=>{n.destroy.forEach(a=>a(t))}}),props:{handleDOMEvents:{focus:()=>(n.focus.forEach(a=>a(t)),!1),blur:()=>(n.blur.forEach(a=>a(t)),!1)}},state:{init:(a,u)=>{i=u.doc,o=r(u.doc)},apply:a=>{const u=a.selection;return(!s&&u||s&&!u.eq(s))&&(n.selectionUpdated.forEach(h=>{h(t,u,s)}),s=u),!a.docChanged||a.getMeta("addToHistory")===!1?void 0:e3(()=>{const{doc:h}=a;if(n.updated.length>0&&i&&!i.eq(h)&&n.updated.forEach(f=>{f(t,h,i)}),n.markdownUpdated.length>0&&i&&!i.eq(h)){const f=r(h);n.markdownUpdated.forEach(d=>{d(t,f,o)}),o=f}i=h},200)()}}});t.update(jc,a=>a.concat(l)),await t.wait(Hw),n.mounted.forEach(a=>a(t))});Qne.meta={package:"@milkdown/plugin-listener",displayName:"Listener"};const nD=ln({shouldAppend:t=>!(!t||["heading","paragraph"].includes(t.type.name)),getNode:t=>t.schema.nodes.paragraph.create()},"trailingConfig");nD.meta={package:"@milkdown/plugin-trailing",displayName:"Ctx<trailingConfig>"};const ere=Cr(t=>{const e=new Xn("MILKDOWN_TRAILING"),{shouldAppend:n,getNode:r}=t.get(nD.key),i=new $n({key:e,state:{init:(o,s)=>{const l=s.tr.doc.lastChild;return n(l,s)},apply:(o,s,l,a)=>{if(!o.docChanged)return s;const u=o.doc.lastChild;return n(u,a)}},appendTransaction:(o,s,l)=>{const{doc:a,tr:u}=l,c=r==null?void 0:r(l),h=i.getState(l),f=a.content.size;if(!(!h||!c))return u.insert(f,c)}});return i});ere.meta={package:"@milkdown/plugin-trailing",displayName:"Prose<trailing>"};const FBe=[nD,ere];var on=(t=>(t.CodeMirror="code-mirror",t.ListItem="list-item",t.LinkTooltip="link-tooltip",t.Cursor="cursor",t.ImageBlock="image-block",t.BlockEdit="block-edit",t.Toolbar="toolbar",t.Placeholder="placeholder",t.Table="table",t.Latex="latex",t))(on||{});const $Be={cursor:!0,"list-item":!0,"link-tooltip":!0,"image-block":!0,"block-edit":!0,placeholder:!0,toolbar:!0,"code-mirror":!0,table:!0,latex:!0},VBe=`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="24"
    height="24"
    viewBox="0 0 24 24"
  >
    <path
      d="M4.25 20.5C4.0375 20.5 3.85942 20.4281 3.71575 20.2843C3.57192 20.1404 3.5 19.9622 3.5 19.7498C3.5 19.5371 3.57192 19.359 3.71575 19.2155C3.85942 19.0718 4.0375 19 4.25 19H19.75C19.9625 19 20.1406 19.0719 20.2843 19.2158C20.4281 19.3596 20.5 19.5378 20.5 19.7502C20.5 19.9629 20.4281 20.141 20.2843 20.2845C20.1406 20.4282 19.9625 20.5 19.75 20.5H4.25ZM8.25 16.625C8.0375 16.625 7.85942 16.5531 7.71575 16.4093C7.57192 16.2654 7.5 16.0872 7.5 15.8748C7.5 15.6621 7.57192 15.484 7.71575 15.3405C7.85942 15.1968 8.0375 15.125 8.25 15.125H15.75C15.9625 15.125 16.1406 15.1969 16.2843 15.3408C16.4281 15.4846 16.5 15.6628 16.5 15.8753C16.5 16.0879 16.4281 16.266 16.2843 16.4095C16.1406 16.5532 15.9625 16.625 15.75 16.625H8.25ZM4.25 12.75C4.0375 12.75 3.85942 12.6781 3.71575 12.5343C3.57192 12.3904 3.5 12.2122 3.5 11.9998C3.5 11.7871 3.57192 11.609 3.71575 11.4655C3.85942 11.3218 4.0375 11.25 4.25 11.25H19.75C19.9625 11.25 20.1406 11.3219 20.2843 11.4658C20.4281 11.6096 20.5 11.7878 20.5 12.0003C20.5 12.2129 20.4281 12.391 20.2843 12.5345C20.1406 12.6782 19.9625 12.75 19.75 12.75H4.25ZM8.25 8.875C8.0375 8.875 7.85942 8.80308 7.71575 8.65925C7.57192 8.51542 7.5 8.33725 7.5 8.12475C7.5 7.91208 7.57192 7.734 7.71575 7.5905C7.85942 7.44683 8.0375 7.375 8.25 7.375H15.75C15.9625 7.375 16.1406 7.44692 16.2843 7.59075C16.4281 7.73458 16.5 7.91275 16.5 8.12525C16.5 8.33792 16.4281 8.516 16.2843 8.6595C16.1406 8.80317 15.9625 8.875 15.75 8.875H8.25ZM4.25 5C4.0375 5 3.85942 4.92808 3.71575 4.78425C3.57192 4.64042 3.5 4.46225 3.5 4.24975C3.5 4.03708 3.57192 3.859 3.71575 3.7155C3.85942 3.57183 4.0375 3.5 4.25 3.5H19.75C19.9625 3.5 20.1406 3.57192 20.2843 3.71575C20.4281 3.85958 20.5 4.03775 20.5 4.25025C20.5 4.46292 20.4281 4.641 20.2843 4.7845C20.1406 4.92817 19.9625 5 19.75 5H4.25Z"
    />
  </svg>
`,HBe=`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="24"
    height="24"
    viewBox="0 0 24 24"
  >
    <path
      d="M4.25 20.5C4.0375 20.5 3.85942 20.4281 3.71575 20.2843C3.57192 20.1404 3.5 19.9622 3.5 19.7498C3.5 19.5371 3.57192 19.359 3.71575 19.2155C3.85942 19.0718 4.0375 19 4.25 19H19.75C19.9625 19 20.1406 19.0719 20.2843 19.2158C20.4281 19.3596 20.5 19.5378 20.5 19.7502C20.5 19.9629 20.4281 20.141 20.2843 20.2845C20.1406 20.4282 19.9625 20.5 19.75 20.5H4.25ZM4.25 16.625C4.0375 16.625 3.85942 16.5531 3.71575 16.4093C3.57192 16.2654 3.5 16.0872 3.5 15.8748C3.5 15.6621 3.57192 15.484 3.71575 15.3405C3.85942 15.1968 4.0375 15.125 4.25 15.125H13.75C13.9625 15.125 14.1406 15.1969 14.2843 15.3408C14.4281 15.4846 14.5 15.6628 14.5 15.8753C14.5 16.0879 14.4281 16.266 14.2843 16.4095C14.1406 16.5532 13.9625 16.625 13.75 16.625H4.25ZM4.25 12.75C4.0375 12.75 3.85942 12.6781 3.71575 12.5343C3.57192 12.3904 3.5 12.2122 3.5 11.9998C3.5 11.7871 3.57192 11.609 3.71575 11.4655C3.85942 11.3218 4.0375 11.25 4.25 11.25H19.75C19.9625 11.25 20.1406 11.3219 20.2843 11.4658C20.4281 11.6096 20.5 11.7878 20.5 12.0003C20.5 12.2129 20.4281 12.391 20.2843 12.5345C20.1406 12.6782 19.9625 12.75 19.75 12.75H4.25ZM4.25 8.875C4.0375 8.875 3.85942 8.80308 3.71575 8.65925C3.57192 8.51542 3.5 8.33725 3.5 8.12475C3.5 7.91208 3.57192 7.734 3.71575 7.5905C3.85942 7.44683 4.0375 7.375 4.25 7.375H13.75C13.9625 7.375 14.1406 7.44692 14.2843 7.59075C14.4281 7.73458 14.5 7.91275 14.5 8.12525C14.5 8.33792 14.4281 8.516 14.2843 8.6595C14.1406 8.80317 13.9625 8.875 13.75 8.875H4.25ZM4.25 5C4.0375 5 3.85942 4.92808 3.71575 4.78425C3.57192 4.64042 3.5 4.46225 3.5 4.24975C3.5 4.03708 3.57192 3.859 3.71575 3.7155C3.85942 3.57183 4.0375 3.5 4.25 3.5H19.75C19.9625 3.5 20.1406 3.57192 20.2843 3.71575C20.4281 3.85958 20.5 4.03775 20.5 4.25025C20.5 4.46292 20.4281 4.641 20.2843 4.7845C20.1406 4.92817 19.9625 5 19.75 5H4.25Z"
    />
  </svg>
`,jBe=`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="24"
    height="24"
    viewBox="0 0 24 24"
  >
    <path
      d="M4.25 5C4.0375 5 3.85942 4.92808 3.71575 4.78425C3.57192 4.64042 3.5 4.46225 3.5 4.24975C3.5 4.03708 3.57192 3.859 3.71575 3.7155C3.85942 3.57183 4.0375 3.5 4.25 3.5H19.75C19.9625 3.5 20.1406 3.57192 20.2843 3.71575C20.4281 3.85958 20.5 4.03775 20.5 4.25025C20.5 4.46292 20.4281 4.641 20.2843 4.7845C20.1406 4.92817 19.9625 5 19.75 5H4.25ZM10.25 8.875C10.0375 8.875 9.85942 8.80308 9.71575 8.65925C9.57192 8.51542 9.5 8.33725 9.5 8.12475C9.5 7.91208 9.57192 7.734 9.71575 7.5905C9.85942 7.44683 10.0375 7.375 10.25 7.375H19.75C19.9625 7.375 20.1406 7.44692 20.2843 7.59075C20.4281 7.73458 20.5 7.91275 20.5 8.12525C20.5 8.33792 20.4281 8.516 20.2843 8.6595C20.1406 8.80317 19.9625 8.875 19.75 8.875H10.25ZM4.25 12.75C4.0375 12.75 3.85942 12.6781 3.71575 12.5343C3.57192 12.3904 3.5 12.2122 3.5 11.9998C3.5 11.7871 3.57192 11.609 3.71575 11.4655C3.85942 11.3218 4.0375 11.25 4.25 11.25H19.75C19.9625 11.25 20.1406 11.3219 20.2843 11.4658C20.4281 11.6096 20.5 11.7878 20.5 12.0003C20.5 12.2129 20.4281 12.391 20.2843 12.5345C20.1406 12.6782 19.9625 12.75 19.75 12.75H4.25ZM10.25 16.625C10.0375 16.625 9.85942 16.5531 9.71575 16.4093C9.57192 16.2654 9.5 16.0872 9.5 15.8748C9.5 15.6621 9.57192 15.484 9.71575 15.3405C9.85942 15.1968 10.0375 15.125 10.25 15.125H19.75C19.9625 15.125 20.1406 15.1969 20.2843 15.3408C20.4281 15.4846 20.5 15.6628 20.5 15.8753C20.5 16.0879 20.4281 16.266 20.2843 16.4095C20.1406 16.5532 19.9625 16.625 19.75 16.625H10.25ZM4.25 20.5C4.0375 20.5 3.85942 20.4281 3.71575 20.2843C3.57192 20.1404 3.5 19.9622 3.5 19.7498C3.5 19.5371 3.57192 19.359 3.71575 19.2155C3.85942 19.0718 4.0375 19 4.25 19H19.75C19.9625 19 20.1406 19.0719 20.2843 19.2158C20.4281 19.3596 20.5 19.5378 20.5 19.7502C20.5 19.9629 20.4281 20.141 20.2843 20.2845C20.1406 20.4282 19.9625 20.5 19.75 20.5H4.25Z"
    />
  </svg>
`,WBe=`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="24"
    height="24"
    viewBox="0 0 24 24"
  >
    <path
      d="M8.85758 18.625C8.4358 18.625 8.07715 18.4772 7.78163 18.1817C7.48613 17.8862 7.33838 17.5275 7.33838 17.1058V6.8942C7.33838 6.47242 7.48613 6.11377 7.78163 5.81825C8.07715 5.52275 8.4358 5.375 8.85758 5.375H12.1999C13.2191 5.375 14.1406 5.69231 14.9643 6.32693C15.788 6.96154 16.1999 7.81603 16.1999 8.89038C16.1999 9.63779 16.0194 10.2471 15.6585 10.7183C15.2976 11.1894 14.9088 11.5314 14.4922 11.7442C15.005 11.9211 15.4947 12.2708 15.9614 12.7933C16.428 13.3157 16.6614 14.0192 16.6614 14.9038C16.6614 16.182 16.1902 17.1217 15.2479 17.723C14.3056 18.3243 13.3563 18.625 12.3999 18.625H8.85758ZM9.4883 16.6327H12.3191C13.1063 16.6327 13.6627 16.4141 13.9884 15.9769C14.314 15.5397 14.4768 15.1205 14.4768 14.7192C14.4768 14.3179 14.314 13.8987 13.9884 13.4615C13.6627 13.0243 13.0909 12.8057 12.273 12.8057H9.4883V16.6327ZM9.4883 10.875H12.0826C12.6903 10.875 13.172 10.7013 13.5278 10.3539C13.8836 10.0064 14.0615 9.59037 14.0615 9.10575C14.0615 8.59035 13.8733 8.16918 13.497 7.84225C13.1207 7.51533 12.6595 7.35188 12.1133 7.35188H9.4883V10.875Z"
    />
  </svg>
`,UBe=`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="24"
    height="24"
    viewBox="0 0 24 24"
  >
    <g clip-path="url(#clip0_952_6527)">
      <circle cx="12" cy="12" r="3" />
    </g>
    <defs>
      <clipPath id="clip0_952_6527">
        <rect width="24" height="24" />
      </clipPath>
    </defs>
  </svg>
`,qBe=`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="24"
    height="24"
    viewBox="0 0 24 24"
  >
    <g clip-path="url(#clip0_977_8070)">
      <path
        d="M4 10.5C3.17 10.5 2.5 11.17 2.5 12C2.5 12.83 3.17 13.5 4 13.5C4.83 13.5 5.5 12.83 5.5 12C5.5 11.17 4.83 10.5 4 10.5ZM4 4.5C3.17 4.5 2.5 5.17 2.5 6C2.5 6.83 3.17 7.5 4 7.5C4.83 7.5 5.5 6.83 5.5 6C5.5 5.17 4.83 4.5 4 4.5ZM4 16.5C3.17 16.5 2.5 17.18 2.5 18C2.5 18.82 3.18 19.5 4 19.5C4.82 19.5 5.5 18.82 5.5 18C5.5 17.18 4.83 16.5 4 16.5ZM8 19H20C20.55 19 21 18.55 21 18C21 17.45 20.55 17 20 17H8C7.45 17 7 17.45 7 18C7 18.55 7.45 19 8 19ZM8 13H20C20.55 13 21 12.55 21 12C21 11.45 20.55 11 20 11H8C7.45 11 7 11.45 7 12C7 12.55 7.45 13 8 13ZM7 6C7 6.55 7.45 7 8 7H20C20.55 7 21 6.55 21 6C21 5.45 20.55 5 20 5H8C7.45 5 7 5.45 7 6Z"
      />
    </g>
    <defs>
      <clipPath id="clip0_977_8070">
        <rect width="24" height="24" />
      </clipPath>
    </defs>
  </svg>
`,KBe=`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="32"
    height="32"
    viewBox="0 0 24 24"
  >
    <path
      fill="currentColor"
      d="M9 22a1 1 0 0 1-1-1v-3H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2h-6.1l-3.7 3.71c-.2.19-.45.29-.7.29zm1-6v3.08L13.08 16H20V4H4v12z"
    />
  </svg>
`,GBe=`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="24"
    height="24"
    viewBox="0 0 24 24"
  >
    <g clip-path="url(#clip0_1803_1151)">
      <path
        d="M19 3H5C3.9 3 3 3.9 3 5V19C3 20.1 3.9 21 5 21H19C20.1 21 21 20.1 21 19V5C21 3.9 20.1 3 19 3ZM10.71 16.29C10.32 16.68 9.69 16.68 9.3 16.29L5.71 12.7C5.32 12.31 5.32 11.68 5.71 11.29C6.1 10.9 6.73 10.9 7.12 11.29L10 14.17L16.88 7.29C17.27 6.9 17.9 6.9 18.29 7.29C18.68 7.68 18.68 8.31 18.29 8.7L10.71 16.29Z"
      />
    </g>
    <defs>
      <clipPath id="clip0_1803_1151">
        <rect width="24" height="24" />
      </clipPath>
    </defs>
  </svg>
`,YBe=`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="24"
    height="24"
    viewBox="0 0 24 24"
  >
    <g clip-path="url(#clip0_1803_535)">
      <path
        d="M18 19H6C5.45 19 5 18.55 5 18V6C5 5.45 5.45 5 6 5H18C18.55 5 19 5.45 19 6V18C19 18.55 18.55 19 18 19ZM19 3H5C3.9 3 3 3.9 3 5V19C3 20.1 3.9 21 5 21H19C20.1 21 21 20.1 21 19V5C21 3.9 20.1 3 19 3Z"
      />
    </g>
    <defs>
      <clipPath id="clip0_1803_535">
        <rect width="24" height="24" />
      </clipPath>
    </defs>
  </svg>
`,tre=`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    fill="none"
    viewBox="0 0 24 24"
    stroke-width="1.5"
    stroke="currentColor"
    class="w-6 h-6"
  >
    <path
      stroke-linecap="round"
      stroke-linejoin="round"
      d="M19.5 8.25l-7.5 7.5-7.5-7.5"
    />
  </svg>
`,nre=`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="24"
    height="24"
    viewBox="0 0 24 24"
  >
    <g clip-path="url(#clip0_1098_15553)">
      <path
        d="M18.3007 5.70973C17.9107 5.31973 17.2807 5.31973 16.8907 5.70973L12.0007 10.5897L7.1107 5.69973C6.7207 5.30973 6.0907 5.30973 5.7007 5.69973C5.3107 6.08973 5.3107 6.71973 5.7007 7.10973L10.5907 11.9997L5.7007 16.8897C5.3107 17.2797 5.3107 17.9097 5.7007 18.2997C6.0907 18.6897 6.7207 18.6897 7.1107 18.2997L12.0007 13.4097L16.8907 18.2997C17.2807 18.6897 17.9107 18.6897 18.3007 18.2997C18.6907 17.9097 18.6907 17.2797 18.3007 16.8897L13.4107 11.9997L18.3007 7.10973C18.6807 6.72973 18.6807 6.08973 18.3007 5.70973Z"
      />
    </g>
    <defs>
      <clipPath id="clip0_1098_15553">
        <rect width="24" height="24" />
      </clipPath>
    </defs>
  </svg>
`,rre=`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="24"
    height="24"
    viewBox="0 0 24 24"
  >
    <g clip-path="url(#clip0_977_8081)">
      <path
        d="M9.4 16.6L4.8 12L9.4 7.4L8 6L2 12L8 18L9.4 16.6ZM14.6 16.6L19.2 12L14.6 7.4L16 6L22 12L16 18L14.6 16.6Z"
      />
    </g>
    <defs>
      <clipPath id="clip0_977_8081">
        <rect width="24" height="24" />
      </clipPath>
    </defs>
  </svg>
`,rD=`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="24"
    height="24"
    viewBox="0 0 24 24"
    fill="none"
  >
    <g clip-path="url(#clip0_1013_1606)">
      <path
        d="M9.00012 16.1998L5.50012 12.6998C5.11012 12.3098 4.49012 12.3098 4.10012 12.6998C3.71012 13.0898 3.71012 13.7098 4.10012 14.0998L8.29012 18.2898C8.68012 18.6798 9.31012 18.6798 9.70012 18.2898L20.3001 7.69982C20.6901 7.30982 20.6901 6.68982 20.3001 6.29982C19.9101 5.90982 19.2901 5.90982 18.9001 6.29982L9.00012 16.1998Z"
        fill="#817567"
      />
    </g>
    <defs>
      <clipPath id="clip0_1013_1606">
        <rect width="24" height="24" />
      </clipPath>
    </defs>
  </svg>
`,ire=`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    height="24px"
    viewBox="0 -960 960 960"
    width="24px"
    fill="none"
  >
    <path
      d="M360-240q-33 0-56.5-23.5T280-320v-480q0-33 23.5-56.5T360-880h360q33 0 56.5 23.5T800-800v480q0 33-23.5 56.5T720-240H360Zm0-80h360v-480H360v480ZM200-80q-33 0-56.5-23.5T120-160v-560h80v560h440v80H200Zm160-240v-480 480Z"
    />
  </svg>
`,XBe=`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="24"
    height="24"
    viewBox="0 0 24 24"
  >
    <g clip-path="url(#clip0_977_7900)">
      <path
        fill-rule="evenodd"
        clip-rule="evenodd"
        d="M19 13H5C4.45 13 4 12.55 4 12C4 11.45 4.45 11 5 11H19C19.55 11 20 11.45 20 12C20 12.55 19.55 13 19 13Z"
      />
    </g>
    <defs>
      <clipPath id="clip0_977_7900">
        <rect width="24" height="24" />
      </clipPath>
    </defs>
  </svg>
`,rV=`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="16"
    height="16"
    viewBox="0 0 16 16"
  >
    <path
      d="M3.5 9.83366C3.35833 9.83366 3.23961 9.78571 3.14383 9.68983C3.04794 9.59394 3 9.47516 3 9.33349C3 9.19171 3.04794 9.07299 3.14383 8.97733C3.23961 8.88155 3.35833 8.83366 3.5 8.83366H12.5C12.6417 8.83366 12.7604 8.8816 12.8562 8.97749C12.9521 9.07338 13 9.19216 13 9.33383C13 9.4756 12.9521 9.59433 12.8562 9.68999C12.7604 9.78577 12.6417 9.83366 12.5 9.83366H3.5ZM3.5 7.16699C3.35833 7.16699 3.23961 7.11905 3.14383 7.02316C3.04794 6.92727 3 6.80849 3 6.66683C3 6.52505 3.04794 6.40633 3.14383 6.31066C3.23961 6.21488 3.35833 6.16699 3.5 6.16699H12.5C12.6417 6.16699 12.7604 6.21494 12.8562 6.31083C12.9521 6.40671 13 6.52549 13 6.66716C13 6.80894 12.9521 6.92766 12.8562 7.02333C12.7604 7.1191 12.6417 7.16699 12.5 7.16699H3.5Z"
    />
  </svg>
`,iD=`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="24"
    height="24"
    viewBox="0 0 24 24"
  >
    <g clip-path="url(#clip0_1013_1585)">
      <path
        d="M14.06 9.02L14.98 9.94L5.92 19H5V18.08L14.06 9.02ZM17.66 3C17.41 3 17.15 3.1 16.96 3.29L15.13 5.12L18.88 8.87L20.71 7.04C21.1 6.65 21.1 6.02 20.71 5.63L18.37 3.29C18.17 3.09 17.92 3 17.66 3ZM14.06 6.19L3 17.25V21H6.75L17.81 9.94L14.06 6.19Z"
      />
    </g>
    <defs>
      <clipPath id="clip0_1013_1585">
        <rect width="24" height="24" />
      </clipPath>
    </defs>
  </svg>
`,JBe=`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="24"
    height="24"
    viewBox="0 0 24 24"
  >
    <g clip-path="url(#clip0_992_5553)">
      <path
        d="M19 3H5C3.9 3 3 3.9 3 5V19C3 20.1 3.9 21 5 21H19C20.1 21 21 20.1 21 19V5C21 3.9 20.1 3 19 3ZM19 19H5V5H19V19ZM12 17H14V7H10V9H12V17Z"
      />
    </g>
    <defs>
      <clipPath id="clip0_992_5553">
        <rect width="24" height="24" />
      </clipPath>
    </defs>
  </svg>
`,ZBe=`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="24"
    height="24"
    viewBox="0 0 24 24"
  >
    <g clip-path="url(#clip0_992_5559)">
      <path
        d="M19 3H5C3.9 3 3 3.9 3 5V19C3 20.1 3.9 21 5 21H19C20.1 21 21 20.1 21 19V5C21 3.9 20.1 3 19 3ZM19 19H5V5H19V19ZM15 15H11V13H13C14.1 13 15 12.11 15 11V9C15 7.89 14.1 7 13 7H9V9H13V11H11C9.9 11 9 11.89 9 13V17H15V15Z"
      />
    </g>
    <defs>
      <clipPath id="clip0_992_5559">
        <rect width="24" height="24" />
      </clipPath>
    </defs>
  </svg>
`,QBe=`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="24"
    height="24"
    viewBox="0 0 24 24"
  >
    <g clip-path="url(#clip0_992_5565)">
      <path
        d="M19 3H5C3.9 3 3 3.9 3 5V19C3 20.1 3.9 21 5 21H19C20.1 21 21 20.1 21 19V5C21 3.9 20.1 3 19 3ZM19 19H5V5H19V19ZM15 15V13.5C15 12.67 14.33 12 13.5 12C14.33 12 15 11.33 15 10.5V9C15 7.89 14.1 7 13 7H9V9H13V11H11V13H13V15H9V17H13C14.1 17 15 16.11 15 15Z"
      />
    </g>
    <defs>
      <clipPath id="clip0_992_5565">
        <rect width="24" height="24" />
      </clipPath>
    </defs>
  </svg>
`,eze=`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="24"
    height="24"
    viewBox="0 0 24 24"
  >
    <g clip-path="url(#clip0_977_7757)">
      <path
        d="M19.04 3H5.04004C3.94004 3 3.04004 3.9 3.04004 5V19C3.04004 20.1 3.94004 21 5.04004 21H19.04C20.14 21 21.04 20.1 21.04 19V5C21.04 3.9 20.14 3 19.04 3ZM19.04 19H5.04004V5H19.04V19ZM13.04 17H15.04V7H13.04V11H11.04V7H9.04004V13H13.04V17Z"
      />
    </g>
    <defs>
      <clipPath id="clip0_977_7757">
        <rect width="24" height="24" />
      </clipPath>
    </defs>
  </svg>
`,tze=`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="24"
    height="24"
    viewBox="0 0 24 24"
  >
    <g clip-path="url(#clip0_977_7760)">
      <path
        d="M19 3H5C3.9 3 3 3.9 3 5V19C3 20.1 3.9 21 5 21H19C20.1 21 21 20.1 21 19V5C21 3.9 20.1 3 19 3ZM19 19H5V5H19V19ZM15 15V13C15 11.89 14.1 11 13 11H11V9H15V7H9V13H13V15H9V17H13C14.1 17 15 16.11 15 15Z"
      />
    </g>
    <defs>
      <clipPath id="clip0_977_7760">
        <rect width="24" height="24" />
      </clipPath>
    </defs>
  </svg>
`,nze=`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="24"
    height="24"
    viewBox="0 0 24 24"
  >
    <g clip-path="url(#clip0_977_7763)">
      <path
        d="M11 17H13C14.1 17 15 16.11 15 15V13C15 11.89 14.1 11 13 11H11V9H15V7H11C9.9 7 9 7.89 9 9V15C9 16.11 9.9 17 11 17ZM11 13H13V15H11V13ZM19 3H5C3.9 3 3 3.9 3 5V19C3 20.1 3.9 21 5 21H19C20.1 21 21 20.1 21 19V5C21 3.9 20.1 3 19 3ZM19 19H5V5H19V19Z"
      />
    </g>
    <defs>
      <clipPath id="clip0_977_7763">
        <rect width="24" height="24" />
      </clipPath>
    </defs>
  </svg>
`,mT=`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="24"
    height="24"
    viewBox="0 0 24 24"
  >
    <g clip-path="url(#clip0_977_8075)">
      <path
        d="M19 5V19H5V5H19ZM19 3H5C3.9 3 3 3.9 3 5V19C3 20.1 3.9 21 5 21H19C20.1 21 21 20.1 21 19V5C21 3.9 20.1 3 19 3ZM14.14 11.86L11.14 15.73L9 13.14L6 17H18L14.14 11.86Z"
      />
    </g>
    <defs>
      <clipPath id="clip0_977_8075">
        <rect width="24" height="24" />
      </clipPath>
    </defs>
  </svg>
`,rze=`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="24"
    height="24"
    viewBox="0 0 24 24"
  >
    <path
      d="M6.29811 18.625C6.04505 18.625 5.83115 18.5375 5.65641 18.3626C5.48166 18.1877 5.39429 17.9736 5.39429 17.7203C5.39429 17.467 5.48166 17.2532 5.65641 17.0788C5.83115 16.9045 6.04505 16.8173 6.29811 16.8173H9.21159L12.452 7.18265H9.53851C9.28545 7.18265 9.07155 7.0952 8.89681 6.9203C8.72206 6.7454 8.63469 6.5313 8.63469 6.278C8.63469 6.02472 8.72206 5.81089 8.89681 5.63652C9.07155 5.46217 9.28545 5.375 9.53851 5.375H16.8847C17.1377 5.375 17.3516 5.46245 17.5264 5.63735C17.7011 5.81225 17.7885 6.02634 17.7885 6.27962C17.7885 6.53293 17.7011 6.74676 17.5264 6.92113C17.3516 7.09548 17.1377 7.18265 16.8847 7.18265H14.2789L11.0385 16.8173H13.6443C13.8973 16.8173 14.1112 16.9048 14.286 17.0797C14.4607 17.2546 14.5481 17.4687 14.5481 17.722C14.5481 17.9752 14.4607 18.1891 14.286 18.3634C14.1112 18.5378 13.8973 18.625 13.6443 18.625H6.29811Z"
    />
  </svg>
`,ize=`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="24"
    height="24"
    viewBox="0 0 24 24"
  >
    <path
      d="M17.0385 19.5003V16.5388H14.0769V15.0388H17.0385V12.0773H18.5384V15.0388H21.5V16.5388H18.5384V19.5003H17.0385ZM10.8077 16.5388H7.03845C5.78282 16.5388 4.7125 16.0963 3.8275 15.2114C2.9425 14.3266 2.5 13.2564 2.5 12.0009C2.5 10.7454 2.9425 9.67504 3.8275 8.78979C4.7125 7.90454 5.78282 7.46191 7.03845 7.46191H10.8077V8.96186H7.03845C6.1987 8.96186 5.48235 9.25834 4.8894 9.85129C4.29645 10.4442 3.99998 11.1606 3.99998 12.0003C3.99998 12.8401 4.29645 13.5564 4.8894 14.1494C5.48235 14.7423 6.1987 15.0388 7.03845 15.0388H10.8077V16.5388ZM8.25 12.7503V11.2504H15.75V12.7503H8.25ZM21.5 12.0003H20C20 11.1606 19.7035 10.4442 19.1106 9.85129C18.5176 9.25834 17.8013 8.96186 16.9615 8.96186H13.1923V7.46191H16.9615C18.2171 7.46191 19.2875 7.90441 20.1725 8.78939C21.0575 9.67439 21.5 10.7447 21.5 12.0003Z"
    />
  </svg>
`,oze=`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="24"
    height="24"
    viewBox="0 0 24 24"
  >
    <g clip-path="url(#clip0_971_7680)">
      <path
        d="M11 18C11 19.1 10.1 20 9 20C7.9 20 7 19.1 7 18C7 16.9 7.9 16 9 16C10.1 16 11 16.9 11 18ZM9 10C7.9 10 7 10.9 7 12C7 13.1 7.9 14 9 14C10.1 14 11 13.1 11 12C11 10.9 10.1 10 9 10ZM9 4C7.9 4 7 4.9 7 6C7 7.1 7.9 8 9 8C10.1 8 11 7.1 11 6C11 4.9 10.1 4 9 4ZM15 8C16.1 8 17 7.1 17 6C17 4.9 16.1 4 15 4C13.9 4 13 4.9 13 6C13 7.1 13.9 8 15 8ZM15 10C13.9 10 13 10.9 13 12C13 13.1 13.9 14 15 14C16.1 14 17 13.1 17 12C17 10.9 16.1 10 15 10ZM15 16C13.9 16 13 16.9 13 18C13 19.1 13.9 20 15 20C16.1 20 17 19.1 17 18C17 16.9 16.1 16 15 16Z"
      />
    </g>
    <defs>
      <clipPath id="clip0_971_7680">
        <rect width="24" height="24" />
      </clipPath>
    </defs>
  </svg>
`,sze=`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="24"
    height="24"
    viewBox="0 0 24 24"
  >
    <g clip-path="url(#clip0_977_8067)">
      <path
        d="M8 7H20C20.55 7 21 6.55 21 6C21 5.45 20.55 5 20 5H8C7.45 5 7 5.45 7 6C7 6.55 7.45 7 8 7ZM20 17H8C7.45 17 7 17.45 7 18C7 18.55 7.45 19 8 19H20C20.55 19 21 18.55 21 18C21 17.45 20.55 17 20 17ZM20 11H8C7.45 11 7 11.45 7 12C7 12.55 7.45 13 8 13H20C20.55 13 21 12.55 21 12C21 11.45 20.55 11 20 11ZM4.5 16H2.5C2.22 16 2 16.22 2 16.5C2 16.78 2.22 17 2.5 17H4V17.5H3.5C3.22 17.5 3 17.72 3 18C3 18.28 3.22 18.5 3.5 18.5H4V19H2.5C2.22 19 2 19.22 2 19.5C2 19.78 2.22 20 2.5 20H4.5C4.78 20 5 19.78 5 19.5V16.5C5 16.22 4.78 16 4.5 16ZM2.5 5H3V7.5C3 7.78 3.22 8 3.5 8C3.78 8 4 7.78 4 7.5V4.5C4 4.22 3.78 4 3.5 4H2.5C2.22 4 2 4.22 2 4.5C2 4.78 2.22 5 2.5 5ZM4.5 10H2.5C2.22 10 2 10.22 2 10.5C2 10.78 2.22 11 2.5 11H3.8L2.12 12.96C2.04 13.05 2 13.17 2 13.28V13.5C2 13.78 2.22 14 2.5 14H4.5C4.78 14 5 13.78 5 13.5C5 13.22 4.78 13 4.5 13H3.2L4.88 11.04C4.96 10.95 5 10.83 5 10.72V10.5C5 10.22 4.78 10 4.5 10Z"
      />
    </g>
    <defs>
      <clipPath id="clip0_977_8067">
        <rect width="24" height="24" />
      </clipPath>
    </defs>
  </svg>
`,gT=`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="24"
    height="24"
    viewBox="0 0 24 24"
  >
    <g clip-path="url(#clip0_971_7676)">
      <path
        d="M18 13H13V18C13 18.55 12.55 19 12 19C11.45 19 11 18.55 11 18V13H6C5.45 13 5 12.55 5 12C5 11.45 5.45 11 6 11H11V6C11 5.45 11.45 5 12 5C12.55 5 13 5.45 13 6V11H18C18.55 11 19 11.45 19 12C19 12.55 18.55 13 18 13Z"
      />
    </g>
    <defs>
      <clipPath id="clip0_971_7676">
        <rect width="24" height="24" />
      </clipPath>
    </defs>
  </svg>
`,lze=`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="24"
    height="24"
    viewBox="0 0 24 24"
  >
    <g clip-path="url(#clip0_977_7897)">
      <path
        d="M7.17 17C7.68 17 8.15 16.71 8.37 16.26L9.79 13.42C9.93 13.14 10 12.84 10 12.53V8C10 7.45 9.55 7 9 7H5C4.45 7 4 7.45 4 8V12C4 12.55 4.45 13 5 13H7L5.97 15.06C5.52 15.95 6.17 17 7.17 17ZM17.17 17C17.68 17 18.15 16.71 18.37 16.26L19.79 13.42C19.93 13.14 20 12.84 20 12.53V8C20 7.45 19.55 7 19 7H15C14.45 7 14 7.45 14 8V12C14 12.55 14.45 13 15 13H17L15.97 15.06C15.52 15.95 16.17 17 17.17 17Z"
      />
    </g>
    <defs>
      <clipPath id="clip0_977_7897">
        <rect width="24" height="24" />
      </clipPath>
    </defs>
  </svg>
`,yT=`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="24"
    height="24"
    viewBox="0 0 24 24"
  >
    <path
      d="M7.30775 20.4997C6.81058 20.4997 6.385 20.3227 6.031 19.9687C5.677 19.6147 5.5 19.1892 5.5 18.692V5.99973H5.25C5.0375 5.99973 4.85942 5.92782 4.71575 5.78398C4.57192 5.64015 4.5 5.46198 4.5 5.24948C4.5 5.03682 4.57192 4.85873 4.71575 4.71523C4.85942 4.57157 5.0375 4.49973 5.25 4.49973H9C9 4.2549 9.08625 4.04624 9.25875 3.87374C9.43108 3.7014 9.63967 3.61523 9.8845 3.61523H14.1155C14.3603 3.61523 14.5689 3.7014 14.7413 3.87374C14.9138 4.04624 15 4.2549 15 4.49973H18.75C18.9625 4.49973 19.1406 4.57165 19.2843 4.71548C19.4281 4.85932 19.5 5.03748 19.5 5.24998C19.5 5.46265 19.4281 5.64073 19.2843 5.78423C19.1406 5.9279 18.9625 5.99973 18.75 5.99973H18.5V18.692C18.5 19.1892 18.323 19.6147 17.969 19.9687C17.615 20.3227 17.1894 20.4997 16.6923 20.4997H7.30775ZM17 5.99973H7V18.692C7 18.7818 7.02883 18.8556 7.0865 18.9132C7.14417 18.9709 7.21792 18.9997 7.30775 18.9997H16.6923C16.7821 18.9997 16.8558 18.9709 16.9135 18.9132C16.9712 18.8556 17 18.7818 17 18.692V5.99973ZM10.1543 16.9997C10.3668 16.9997 10.5448 16.9279 10.6885 16.7842C10.832 16.6404 10.9037 16.4622 10.9037 16.2497V8.74973C10.9037 8.53723 10.8318 8.35907 10.688 8.21523C10.5443 8.07157 10.3662 7.99973 10.1535 7.99973C9.941 7.99973 9.76292 8.07157 9.61925 8.21523C9.47575 8.35907 9.404 8.53723 9.404 8.74973V16.2497C9.404 16.4622 9.47583 16.6404 9.6195 16.7842C9.76333 16.9279 9.94158 16.9997 10.1543 16.9997ZM13.8465 16.9997C14.059 16.9997 14.2371 16.9279 14.3807 16.7842C14.5243 16.6404 14.596 16.4622 14.596 16.2497V8.74973C14.596 8.53723 14.5242 8.35907 14.3805 8.21523C14.2367 8.07157 14.0584 7.99973 13.8458 7.99973C13.6333 7.99973 13.4552 8.07157 13.3115 8.21523C13.168 8.35907 13.0962 8.53723 13.0962 8.74973V16.2497C13.0962 16.4622 13.1682 16.6404 13.312 16.7842C13.4557 16.9279 13.6338 16.9997 13.8465 16.9997Z"
    />
  </svg>
`,ore=`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    fill="none"
    viewBox="0 0 24 24"
    stroke-width="1.5"
    stroke="currentColor"
    class="w-6 h-6"
  >
    <path
      stroke-linecap="round"
      stroke-linejoin="round"
      d="M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"
    />
  </svg>
`,aze=`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="24"
    height="24"
    viewBox="0 0 24 24"
  >
    <path
      d="M3.25 13.7404C3.0375 13.7404 2.85938 13.6684 2.71563 13.5246C2.57188 13.3808 2.5 13.2026 2.5 12.99C2.5 12.7774 2.57188 12.5993 2.71563 12.4558C2.85938 12.3122 3.0375 12.2404 3.25 12.2404H20.75C20.9625 12.2404 21.1406 12.3123 21.2843 12.4561C21.4281 12.5999 21.5 12.7781 21.5 12.9907C21.5 13.2033 21.4281 13.3814 21.2843 13.525C21.1406 13.6686 20.9625 13.7404 20.75 13.7404H3.25ZM10.9423 10.2596V6.62495H6.5673C6.2735 6.62495 6.02377 6.52201 5.8181 6.31613C5.61245 6.11026 5.50963 5.86027 5.50963 5.56615C5.50963 5.27205 5.61245 5.02083 5.8181 4.8125C6.02377 4.60417 6.2735 4.5 6.5673 4.5H17.4423C17.7361 4.5 17.9858 4.60294 18.1915 4.80883C18.3971 5.01471 18.5 5.2647 18.5 5.5588C18.5 5.85292 18.3971 6.10413 18.1915 6.31245C17.9858 6.52078 17.7361 6.62495 17.4423 6.62495H13.0673V10.2596H10.9423ZM10.9423 15.7211H13.0673V18.4423C13.0673 18.7361 12.9643 18.9858 12.7584 19.1915C12.5526 19.3971 12.3026 19.5 12.0085 19.5C11.7144 19.5 11.4631 19.3962 11.2548 19.1887C11.0465 18.9811 10.9423 18.7291 10.9423 18.4327V15.7211Z"
    />
  </svg>
`,uze=`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="24"
    height="24"
    viewBox="0 0 24 24"
  >
    <g clip-path="url(#clip0_977_8078)">
      <path
        d="M20 3H5C3.9 3 3 3.9 3 5V19C3 20.1 3.9 21 5 21H20C21.1 21 22 20.1 22 19V5C22 3.9 21.1 3 20 3ZM20 5V8H5V5H20ZM15 19H10V10H15V19ZM5 10H8V19H5V10ZM17 19V10H20V19H17Z"
      />
    </g>
    <defs>
      <clipPath id="clip0_977_8078">
        <rect width="24" height="24" />
      </clipPath>
    </defs>
  </svg>
`,cze=`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="24"
    height="24"
    viewBox="0 0 24 24"
  >
    <g clip-path="url(#clip0_992_5547)">
      <path
        d="M5 5.5C5 6.33 5.67 7 6.5 7H10.5V17.5C10.5 18.33 11.17 19 12 19C12.83 19 13.5 18.33 13.5 17.5V7H17.5C18.33 7 19 6.33 19 5.5C19 4.67 18.33 4 17.5 4H6.5C5.67 4 5 4.67 5 5.5Z"
      />
    </g>
    <defs>
      <clipPath id="clip0_992_5547">
        <rect width="24" height="24" />
      </clipPath>
    </defs>
  </svg>
`,hze=`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="24"
    height="24"
    viewBox="0 0 24 24"
  >
    <path
      d="M5.66936 16.3389L9.39244 12.6158C9.54115 12.4671 9.71679 12.3937 9.91936 12.3957C10.1219 12.3976 10.2975 12.4761 10.4463 12.6312C10.5847 12.7823 10.654 12.9585 10.654 13.1599C10.654 13.3613 10.5847 13.5363 10.4463 13.6851L6.32704 17.8197C6.14627 18.0004 5.93538 18.0908 5.69436 18.0908C5.45333 18.0908 5.24243 18.0004 5.06166 17.8197L3.01744 15.7754C2.87899 15.637 2.81136 15.4629 2.81456 15.2533C2.81776 15.0437 2.88859 14.8697 3.02706 14.7312C3.16551 14.5928 3.34008 14.5235 3.55076 14.5235C3.76144 14.5235 3.93494 14.5928 4.07126 14.7312L5.66936 16.3389ZM5.66936 8.72359L9.39244 5.00049C9.54115 4.85177 9.71679 4.77838 9.91936 4.78031C10.1219 4.78223 10.2975 4.86075 10.4463 5.01586C10.5847 5.16691 10.654 5.34314 10.654 5.54454C10.654 5.74592 10.5847 5.92097 10.4463 6.06969L6.32704 10.2043C6.14627 10.3851 5.93538 10.4755 5.69436 10.4755C5.45333 10.4755 5.24243 10.3851 5.06166 10.2043L3.01744 8.16009C2.87899 8.02162 2.81136 7.84759 2.81456 7.63799C2.81776 7.42837 2.88859 7.25433 3.02706 7.11586C3.16551 6.97741 3.34008 6.90819 3.55076 6.90819C3.76144 6.90819 3.93494 6.97741 4.07126 7.11586L5.66936 8.72359ZM13.7597 16.5581C13.5472 16.5581 13.3691 16.4862 13.2253 16.3424C13.0816 16.1986 13.0097 16.0204 13.0097 15.8078C13.0097 15.5952 13.0816 15.4171 13.2253 15.2735C13.3691 15.13 13.5472 15.0582 13.7597 15.0582H20.7597C20.9722 15.0582 21.1503 15.1301 21.2941 15.2739C21.4378 15.4177 21.5097 15.5959 21.5097 15.8085C21.5097 16.0211 21.4378 16.1992 21.2941 16.3427C21.1503 16.4863 20.9722 16.5581 20.7597 16.5581H13.7597ZM13.7597 8.94276C13.5472 8.94276 13.3691 8.87085 13.2253 8.72704C13.0816 8.58324 13.0097 8.40504 13.0097 8.19244C13.0097 7.97985 13.0816 7.80177 13.2253 7.65819C13.3691 7.5146 13.5472 7.44281 13.7597 7.44281H20.7597C20.9722 7.44281 21.1503 7.51471 21.2941 7.65851C21.4378 7.80233 21.5097 7.98053 21.5097 8.19311C21.5097 8.40571 21.4378 8.5838 21.2941 8.72739C21.1503 8.87097 20.9722 8.94276 20.7597 8.94276H13.7597Z"
    />
  </svg>
`,sre=`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="32"
    height="32"
    viewBox="0 0 24 24"
  >
    <path
      fill="currentColor"
      d="M7 19v-.808L13.096 12L7 5.808V5h10v1.25H9.102L14.727 12l-5.625 5.77H17V19z"
    />
  </svg>
`,lre=`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    height="24px"
    viewBox="0 -960 960 960"
    width="24px"
  >
    <path
      d="m644-428-58-58q9-47-27-88t-93-32l-58-58q17-8 34.5-12t37.5-4q75 0 127.5 52.5T660-500q0 20-4 37.5T644-428Zm128 126-58-56q38-29 67.5-63.5T832-500q-50-101-143.5-160.5T480-720q-29 0-57 4t-55 12l-62-62q41-17 84-25.5t90-8.5q151 0 269 83.5T920-500q-23 59-60.5 109.5T772-302Zm20 246L624-222q-35 11-70.5 16.5T480-200q-151 0-269-83.5T40-500q21-53 53-98.5t73-81.5L56-792l56-56 736 736-56 56ZM222-624q-29 26-53 57t-41 67q50 101 143.5 160.5T480-280q20 0 39-2.5t39-5.5l-36-38q-11 3-21 4.5t-21 1.5q-75 0-127.5-52.5T300-500q0-11 1.5-21t4.5-21l-84-82Zm319 93Zm-151 75Z"
    />
  </svg>
`,fze={[on.CodeMirror]:{theme:J3e,languages:$3e,expandIcon:tre,searchIcon:ore,clearSearchIcon:nre,searchPlaceholder:"Search language",noResultText:"No result",previewToggleIcon:t=>t?iD:lre}},dze=jt([],"FeaturesCtx"),pze=jt({},"CrepeCtx");function mze(t){return t.get("CrepeCtx")}function x6(t){return t.use("FeaturesCtx")}function da(t){return e=>{x6(e).update(n=>n.includes(t)?n:[...n,t])}}function are(t){return t.$from.parent.type.name==="code_block"}function ure(t){var e;const n=(e=t.$from.node(t.$from.depth-1))==null?void 0:e.type;return(n==null?void 0:n.name)==="list_item"}var cre=t=>{throw TypeError(t)},hre=(t,e,n)=>e.has(t)||cre("Cannot "+n),Gm=(t,e,n)=>(hre(t,e,"read from private field"),n?n.call(t):e.get(t)),iV=(t,e,n)=>e.has(t)?cre("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),gze=(t,e,n,r)=>(hre(t,e,"write to private field"),e.set(t,n),n),Bd,u5;class fre{constructor(){iV(this,Bd,[]),this.clear=()=>(gze(this,Bd,[]),this),iV(this,u5,e=>{const n={group:e,addItem:(r,i)=>{const o={...i,key:r};return e.items.push(o),n},clear:()=>(e.items=[],n)};return n}),this.addGroup=(e,n)=>{const i={key:e,label:n,items:[]};return Gm(this,Bd).push(i),Gm(this,u5).call(this,i)},this.getGroup=e=>{const n=Gm(this,Bd).find(r=>r.key===e);if(!n)throw new Error(`Group with key ${e} not found`);return Gm(this,u5).call(this,n)},this.build=()=>Gm(this,Bd)}}Bd=new WeakMap;u5=new WeakMap;function yze(t,e,n){var r,i,o,s,l,a,u,c,h,f,d,p,m,y,g,v,w,b,S,k,T,A,z,E,B,$,ae,G,q,K,Y,L,X,O,re,ce,_,Le,Ie,qe,ct,St,Mt,mt,Rt,dt,R,H,Q,me,oe,se,ye,be,ke,ge,$e,Te,ze,j,Z,ue,we,et,xt,Qe,Be,Ft,Tn,Nt,gn,wr,qo,Ko,hd,ml,Ou,Pu,Rn,Yo,hh,xe,Ne,Se,Ae,it,kt,Pt,Ct,an,Nn,Ln,Mn,Xo,Du,gl,pa,mo,tt,W,Me,je,Wt,ar,Xt,Jn,Nr,Is,ma,tr,_u,fh,ym,y2,v2,cD,hD,fD,dD;const fd=n&&x6(n).get(),Ore=fd==null?void 0:fd.includes(on.Latex),Pre=fd==null?void 0:fd.includes(on.ImageBlock),Dre=fd==null?void 0:fd.includes(on.Table),vm=new fre;if((e==null?void 0:e.textGroup)!==null){const Zt=vm.addGroup("text",(i=(r=e==null?void 0:e.textGroup)==null?void 0:r.label)!=null?i:"Text");((o=e==null?void 0:e.textGroup)==null?void 0:o.text)!==null&&Zt.addItem("text",{label:(a=(l=(s=e==null?void 0:e.textGroup)==null?void 0:s.text)==null?void 0:l.label)!=null?a:"Text",icon:(h=(c=(u=e==null?void 0:e.textGroup)==null?void 0:u.text)==null?void 0:c.icon)!=null?h:cze,onRun:ot=>{const at=ot.get(Xe),Jt=la.type(ot);at.call(Br.key),at.call(ka.key,{nodeType:Jt})}}),((f=e==null?void 0:e.textGroup)==null?void 0:f.h1)!==null&&Zt.addItem("h1",{label:(m=(p=(d=e==null?void 0:e.textGroup)==null?void 0:d.h1)==null?void 0:p.label)!=null?m:"Heading 1",icon:(v=(g=(y=e==null?void 0:e.textGroup)==null?void 0:y.h1)==null?void 0:g.icon)!=null?v:JBe,onRun:ot=>{const at=ot.get(Xe),Jt=Eo.type(ot);at.call(Br.key),at.call(ka.key,{nodeType:Jt,attrs:{level:1}})}}),((w=e==null?void 0:e.textGroup)==null?void 0:w.h2)!==null&&Zt.addItem("h2",{label:(k=(S=(b=e==null?void 0:e.textGroup)==null?void 0:b.h2)==null?void 0:S.label)!=null?k:"Heading 2",icon:(z=(A=(T=e==null?void 0:e.textGroup)==null?void 0:T.h2)==null?void 0:A.icon)!=null?z:ZBe,onRun:ot=>{const at=ot.get(Xe),Jt=Eo.type(ot);at.call(Br.key),at.call(ka.key,{nodeType:Jt,attrs:{level:2}})}}),((E=e==null?void 0:e.textGroup)==null?void 0:E.h3)!==null&&Zt.addItem("h3",{label:(ae=($=(B=e==null?void 0:e.textGroup)==null?void 0:B.h3)==null?void 0:$.label)!=null?ae:"Heading 3",icon:(K=(q=(G=e==null?void 0:e.textGroup)==null?void 0:G.h3)==null?void 0:q.icon)!=null?K:QBe,onRun:ot=>{const at=ot.get(Xe),Jt=Eo.type(ot);at.call(Br.key),at.call(ka.key,{nodeType:Jt,attrs:{level:3}})}}),((Y=e==null?void 0:e.textGroup)==null?void 0:Y.h4)!==null&&Zt.addItem("h4",{label:(O=(X=(L=e==null?void 0:e.textGroup)==null?void 0:L.h4)==null?void 0:X.label)!=null?O:"Heading 4",icon:(_=(ce=(re=e==null?void 0:e.textGroup)==null?void 0:re.h4)==null?void 0:ce.icon)!=null?_:eze,onRun:ot=>{const at=ot.get(Xe),Jt=Eo.type(ot);at.call(Br.key),at.call(ka.key,{nodeType:Jt,attrs:{level:4}})}}),((Le=e==null?void 0:e.textGroup)==null?void 0:Le.h5)!==null&&Zt.addItem("h5",{label:(ct=(qe=(Ie=e==null?void 0:e.textGroup)==null?void 0:Ie.h5)==null?void 0:qe.label)!=null?ct:"Heading 5",icon:(mt=(Mt=(St=e==null?void 0:e.textGroup)==null?void 0:St.h5)==null?void 0:Mt.icon)!=null?mt:tze,onRun:ot=>{const at=ot.get(Xe),Jt=Eo.type(ot);at.call(Br.key),at.call(ka.key,{nodeType:Jt,attrs:{level:5}})}}),((Rt=e==null?void 0:e.textGroup)==null?void 0:Rt.h6)!==null&&Zt.addItem("h6",{label:(H=(R=(dt=e==null?void 0:e.textGroup)==null?void 0:dt.h6)==null?void 0:R.label)!=null?H:"Heading 6",icon:(oe=(me=(Q=e==null?void 0:e.textGroup)==null?void 0:Q.h6)==null?void 0:me.icon)!=null?oe:nze,onRun:ot=>{const at=ot.get(Xe),Jt=Eo.type(ot);at.call(Br.key),at.call(ka.key,{nodeType:Jt,attrs:{level:6}})}}),((se=e==null?void 0:e.textGroup)==null?void 0:se.quote)!==null&&Zt.addItem("quote",{label:(ke=(be=(ye=e==null?void 0:e.textGroup)==null?void 0:ye.quote)==null?void 0:be.label)!=null?ke:"Quote",icon:(Te=($e=(ge=e==null?void 0:e.textGroup)==null?void 0:ge.quote)==null?void 0:$e.icon)!=null?Te:lze,onRun:ot=>{const at=ot.get(Xe),Jt=om.type(ot);at.call(Br.key),at.call(kg.key,{nodeType:Jt})}}),((ze=e==null?void 0:e.textGroup)==null?void 0:ze.divider)!==null&&Zt.addItem("divider",{label:(ue=(Z=(j=e==null?void 0:e.textGroup)==null?void 0:j.divider)==null?void 0:Z.label)!=null?ue:"Divider",icon:(xt=(et=(we=e==null?void 0:e.textGroup)==null?void 0:we.divider)==null?void 0:et.icon)!=null?xt:XBe,onRun:ot=>{const at=ot.get(Xe),Jt=sm.type(ot);at.call(Br.key),at.call(Sg.key,{nodeType:Jt})}})}if((e==null?void 0:e.listGroup)!==null){const Zt=vm.addGroup("list",(Be=(Qe=e==null?void 0:e.listGroup)==null?void 0:Qe.label)!=null?Be:"List");((Ft=e==null?void 0:e.listGroup)==null?void 0:Ft.bulletList)!==null&&Zt.addItem("bullet-list",{label:(gn=(Nt=(Tn=e==null?void 0:e.listGroup)==null?void 0:Tn.bulletList)==null?void 0:Nt.label)!=null?gn:"Bullet List",icon:(Ko=(qo=(wr=e==null?void 0:e.listGroup)==null?void 0:wr.bulletList)==null?void 0:qo.icon)!=null?Ko:qBe,onRun:ot=>{const at=ot.get(Xe),Jt=od.type(ot);at.call(Br.key),at.call(kg.key,{nodeType:Jt})}}),((hd=e==null?void 0:e.listGroup)==null?void 0:hd.orderedList)!==null&&Zt.addItem("ordered-list",{label:(Pu=(Ou=(ml=e==null?void 0:e.listGroup)==null?void 0:ml.orderedList)==null?void 0:Ou.label)!=null?Pu:"Ordered List",icon:(hh=(Yo=(Rn=e==null?void 0:e.listGroup)==null?void 0:Rn.orderedList)==null?void 0:Yo.icon)!=null?hh:sze,onRun:ot=>{const at=ot.get(Xe),Jt=sd.type(ot);at.call(Br.key),at.call(kg.key,{nodeType:Jt})}}),((xe=e==null?void 0:e.listGroup)==null?void 0:xe.taskList)!==null&&Zt.addItem("task-list",{label:(Ae=(Se=(Ne=e==null?void 0:e.listGroup)==null?void 0:Ne.taskList)==null?void 0:Se.label)!=null?Ae:"Task List",icon:(Pt=(kt=(it=e==null?void 0:e.listGroup)==null?void 0:it.taskList)==null?void 0:kt.icon)!=null?Pt:hze,onRun:ot=>{const at=ot.get(Xe),Jt=hl.type(ot);at.call(Br.key),at.call(kg.key,{nodeType:Jt,attrs:{checked:!1}})}})}if((e==null?void 0:e.advancedGroup)!==null){const Zt=vm.addGroup("advanced",(an=(Ct=e==null?void 0:e.advancedGroup)==null?void 0:Ct.label)!=null?an:"Advanced");((Nn=e==null?void 0:e.advancedGroup)==null?void 0:Nn.image)!==null&&Pre&&Zt.addItem("image",{label:(Xo=(Mn=(Ln=e==null?void 0:e.advancedGroup)==null?void 0:Ln.image)==null?void 0:Mn.label)!=null?Xo:"Image",icon:(pa=(gl=(Du=e==null?void 0:e.advancedGroup)==null?void 0:Du.image)==null?void 0:gl.icon)!=null?pa:mT,onRun:ot=>{const at=ot.get(Xe),Jt=K3.type(ot);at.call(Br.key),at.call(Sg.key,{nodeType:Jt})}}),((mo=e==null?void 0:e.advancedGroup)==null?void 0:mo.codeBlock)!==null&&Zt.addItem("code",{label:(Me=(W=(tt=e==null?void 0:e.advancedGroup)==null?void 0:tt.codeBlock)==null?void 0:W.label)!=null?Me:"Code",icon:(ar=(Wt=(je=e==null?void 0:e.advancedGroup)==null?void 0:je.codeBlock)==null?void 0:Wt.icon)!=null?ar:rre,onRun:ot=>{const at=ot.get(Xe),Jt=na.type(ot);at.call(Br.key),at.call(ka.key,{nodeType:Jt})}}),((Xt=e==null?void 0:e.advancedGroup)==null?void 0:Xt.table)!==null&&Dre&&Zt.addItem("table",{label:(Is=(Nr=(Jn=e==null?void 0:e.advancedGroup)==null?void 0:Jn.table)==null?void 0:Nr.label)!=null?Is:"Table",icon:(_u=(tr=(ma=e==null?void 0:e.advancedGroup)==null?void 0:ma.table)==null?void 0:tr.icon)!=null?_u:uze,onRun:ot=>{const at=ot.get(Xe),Jt=ot.get(xn);at.call(Br.key);const{from:_re}=Jt.state.selection;at.call(Sg.key,{nodeType:YO(ot,3,3)}),at.call(RZ.key,{pos:_re})}}),((fh=e==null?void 0:e.advancedGroup)==null?void 0:fh.math)!==null&&Ore&&Zt.addItem("math",{label:(v2=(y2=(ym=e==null?void 0:e.advancedGroup)==null?void 0:ym.math)==null?void 0:y2.label)!=null?v2:"Math",icon:(fD=(hD=(cD=e==null?void 0:e.advancedGroup)==null?void 0:cD.math)==null?void 0:hD.icon)!=null?fD:sre,onRun:ot=>{const at=ot.get(Xe),Jt=na.type(ot);at.call(Br.key),at.call(Sg.key,{nodeType:Jt,attrs:{language:"LaTex"}})}})}(dD=e==null?void 0:e.buildMenu)==null||dD.call(e,vm);let wm=vm.build();t&&(wm=wm.map(Zt=>{const ot=Zt.items.filter(at=>at.label.toLowerCase().includes(t.toLowerCase()));return{...Zt,items:ot}}).filter(Zt=>Zt.items.length>0));const pD=wm.flatMap(Zt=>Zt.items);return pD.forEach((Zt,ot)=>{Object.assign(Zt,{index:ot})}),wm.reduce((Zt,ot)=>{const at=Zt+ot.items.length;return Object.assign(ot,{range:[Zt,at]}),at},0),{groups:wm,size:pD.length}}const vze=Yr({props:{ctx:{type:Object,required:!0},show:{type:Object,required:!0},filter:{type:Object,required:!0},hide:{type:Function,required:!0},config:{type:Object,required:!1}},setup({ctx:t,show:e,filter:n,hide:r,config:i}){const o=Ze(),s=Yf(()=>yze(n.value,i,t)),l=Ze(0),a=Ze({x:-999,y:-999}),u=m=>{const{x:y,y:g}=m;a.value={x:y,y:g}};A0([s,e],()=>{const{size:m}=s.value;m===0&&e.value?r():l.value>=m&&(l.value=0)});const c=(m,y)=>{const g=l.value,v=typeof m=="function"?m(g):m;y==null||y(v),l.value=v},h=m=>{var y,g;const v=(y=o.value)==null?void 0:y.querySelector(`[data-index="${m}"]`),w=(g=o.value)==null?void 0:g.querySelector(".menu-groups");!v||!w||(w.scrollTop=v.offsetTop-w.offsetTop)},f=m=>{const y=s.value.groups.flatMap(g=>g.items).at(m);y&&t&&y.onRun(t),r()},d=m=>{const{size:y,groups:g}=s.value;if(m.key==="Escape"){m.preventDefault(),r==null||r();return}if(m.key==="ArrowDown")return m.preventDefault(),c(v=>v<y-1?v+1:v,h);if(m.key==="ArrowUp")return m.preventDefault(),c(v=>v<=0?v:v-1,h);if(m.key==="ArrowLeft")return m.preventDefault(),c(v=>{const w=g.find(S=>S.range[0]<=v&&S.range[1]>v);if(!w)return v;const b=g[g.indexOf(w)-1];return b?b.range[1]-1:v},h);if(m.key==="ArrowRight")return m.preventDefault(),c(v=>{const w=g.find(S=>S.range[0]<=v&&S.range[1]>v);if(!w)return v;const b=g[g.indexOf(w)+1];return b?b.range[0]:v},h);m.key==="Enter"&&(m.preventDefault(),f(l.value))},p=m=>y=>{const g=a.value;if(!g)return;const{x:v,y:w}=y;v===g.x&&w===g.y||c(m)};return am(()=>{e.value?window.addEventListener("keydown",d,{capture:!0}):window.removeEventListener("keydown",d,{capture:!0})}),n2(()=>{window.removeEventListener("keydown",d,{capture:!0})}),()=>te("div",{ref:o,onPointerdown:m=>m.preventDefault()},te("nav",{class:"tab-group"},te("ul",null,s.value.groups.map(m=>te("li",{key:m.key,onPointerdown:()=>c(m.range[0],h),class:l.value>=m.range[0]&&l.value<m.range[1]?"selected":""},m.label)))),te("div",{class:"menu-groups",onPointermove:u},s.value.groups.map(m=>te("div",{key:m.key,class:"menu-group"},te("h6",null,m.label),te("ul",null,m.items.map(y=>te("li",{key:y.key,"data-index":y.index,class:l.value===y.index?"hover":"",onPointerenter:p(y.index),onPointerdown:()=>{var g,v;(v=(g=o.value)==null?void 0:g.querySelector(`[data-index="${y.index}"]`))==null||v.classList.add("active")},onPointerup:()=>{var g,v;(v=(g=o.value)==null?void 0:g.querySelector(`[data-index="${y.index}"]`))==null||v.classList.remove("active"),f(y.index)}},te(Rp,{icon:y.icon}),te("span",null,y.label))))))))}});var dre=t=>{throw TypeError(t)},pre=(t,e,n)=>e.has(t)||dre("Cannot "+n),Ns=(t,e,n)=>(pre(t,e,"read from private field"),n?n.call(t):e.get(t)),Ym=(t,e,n)=>e.has(t)?dre("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),Sh=(t,e,n,r)=>(pre(t,e,"write to private field"),e.set(t,n),n),Rg,c5,h5,Ta,zd;const mre=IMe("CREPE_MENU"),oD=ln({show:()=>{},hide:()=>{}},"menuAPICtx");function wze(t,e){t.set(mre.key,{view:n=>new xze(t,n,e)})}class xze{constructor(e,n,r){Ym(this,Rg),Ym(this,c5),Ym(this,h5),Ym(this,Ta),Ym(this,zd,null),this.update=c=>{Ns(this,Ta).update(c)},this.show=c=>{Sh(this,zd,c),Ns(this,h5).value="",Ns(this,Ta).show()},this.hide=()=>{Sh(this,zd,null),Ns(this,Ta).hide()},this.destroy=()=>{Ns(this,Ta).destroy(),Ns(this,c5).unmount(),Ns(this,Rg).remove()};const i=document.createElement("div");i.classList.add("milkdown-slash-menu");const o=Ze(!1),s=Ze("");Sh(this,h5,s);const l=this.hide,a=fl(vze,{ctx:e,config:r,show:o,filter:s,hide:l});Sh(this,c5,a),a.mount(i),Sh(this,Rg,i);const u=this;Sh(this,Ta,new RMe({content:Ns(this,Rg),debounce:20,shouldShow(c){if(are(c.state.selection)||ure(c.state.selection))return!1;const h=this.getContent(c,d=>["paragraph","heading"].includes(d.type.name));if(h==null||!bze(c.state.selection))return!1;const f=Ns(u,zd);if(s.value=h.startsWith("/")?h.slice(1):h,typeof f=="number"){const d=c.state.doc.nodeSize-2,p=Math.min(f,d);return c.state.doc.resolve(p).node()!==c.state.doc.resolve(c.state.selection.from).node()?(Sh(u,zd,null),!1):!0}return!!h.startsWith("/")},offset:10})),Ns(this,Ta).onShow=()=>{o.value=!0},Ns(this,Ta).onHide=()=>{o.value=!1},this.update(n),e.set(oD.key,{show:c=>this.show(c),hide:()=>this.hide()})}}Rg=new WeakMap;c5=new WeakMap;h5=new WeakMap;Ta=new WeakMap;zd=new WeakMap;function bze(t){if(!(t instanceof nt))return!1;const{$head:e}=t,n=e.parent;return e.parentOffset===n.content.size}const kze=Yr({props:{onAdd:{type:Function,required:!0},addIcon:{type:String,required:!0},handleIcon:{type:String,required:!0}},setup(t){const e=Ze();return()=>te(ii,null,te("div",{ref:e,class:"operation-item",onPointerdown:n=>{var r;n.preventDefault(),n.stopPropagation(),(r=e.value)==null||r.classList.add("active")},onPointerup:n=>{var r;n.preventDefault(),n.stopPropagation(),(r=e.value)==null||r.classList.remove("active"),t.onAdd()}},te(Rp,{icon:t.addIcon})),te("div",{class:"operation-item"},te(Rp,{icon:t.handleIcon})))}});var gre=t=>{throw TypeError(t)},yre=(t,e,n)=>e.has(t)||gre("Cannot "+n),Ch=(t,e,n)=>(yre(t,e,"read from private field"),n?n.call(t):e.get(t)),V4=(t,e,n)=>e.has(t)?gre("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),H4=(t,e,n,r)=>(yre(t,e,"write to private field"),e.set(t,n),n),f5,Ih,d5,p5;class Sze{constructor(e,n){V4(this,f5),V4(this,Ih),V4(this,d5),V4(this,p5),this.update=()=>{Ch(this,Ih).update()},this.destroy=()=>{Ch(this,Ih).destroy(),Ch(this,f5).remove(),Ch(this,d5).unmount()},this.onAdd=()=>{const u=Ch(this,p5),c=u.get(xn);c.hasFocus()||c.focus();const{state:h,dispatch:f}=c,d=Ch(this,Ih).active;if(!d)return;const m=d.$pos.pos+d.node.nodeSize;let y=h.tr.insert(m,la.type(u).create());y=y.setSelection(nt.near(y.doc.resolve(m))),f(y.scrollIntoView()),Ch(this,Ih).hide(),u.get(oD.key).show(y.selection.from)};var r,i,o;H4(this,p5,e);const s=document.createElement("div");s.classList.add("milkdown-block-handle");const l=fl(kze,{onAdd:this.onAdd,addIcon:(r=n==null?void 0:n.handleAddIcon)!=null?r:gT,handleIcon:(i=n==null?void 0:n.handleDragIcon)!=null?i:oze});l.mount(s),H4(this,d5,l),H4(this,f5,s);const a=(o=n==null?void 0:n.blockHandle)!=null?o:{};H4(this,Ih,new z9e({ctx:e,content:s,getOffset:()=>16,getPlacement:({active:u,blockDom:c})=>{if(u.node.type.name==="heading")return"left";let h=0;u.node.descendants(b=>{h+=b.childCount});const f=u.el,d=f.getBoundingClientRect(),p=c.getBoundingClientRect(),m=window.getComputedStyle(f),y=Number.parseInt(m.paddingTop,10)||0,g=Number.parseInt(m.paddingBottom,10)||0,v=d.height-y-g,w=p.height;return h>2||w<v?"left-start":"left"},...a})),this.update()}}f5=new WeakMap;Ih=new WeakMap;d5=new WeakMap;p5=new WeakMap;function Cze(t,e){t.set(O3.key,{filterNodes:n=>!Gl(i=>["table","blockquote","math_inline"].includes(i.type.name))(n)}),t.set(_3.key,{view:()=>new Sze(t,e)})}const Tze=(t,e)=>{t.config(da(on.BlockEdit)).config(n=>Cze(n,e)).config(n=>wze(n,e)).use(oD).use(_3).use(mre)},Mze=(t,e={})=>{t.config(da(on.CodeMirror)).config(n=>{const{languages:r=[],theme:i}=e,o=[em.of(Qee.concat(PDe)),FIe];i&&o.push(i),e.extensions&&o.push(...e.extensions),n.update(c2.key,s=>({extensions:o,languages:r,expandIcon:e.expandIcon||tre,searchIcon:e.searchIcon||ore,clearSearchIcon:e.clearSearchIcon||nre,searchPlaceholder:e.searchPlaceholder||"Search language",copyText:e.copyText||"Copy",copyIcon:e.copyIcon||ire,onCopy:e.onCopy||(()=>{}),noResultText:e.noResultText||"No result",renderLanguage:e.renderLanguage||s.renderLanguage,renderPreview:e.renderPreview||s.renderPreview,previewToggleButton:l=>{var a,u;const c=((a=e.previewToggleIcon)==null?void 0:a.call(e,l))||(l?iD:lre),h=((u=e.previewToggleText)==null?void 0:u.call(e,l))||(l?"Edit":"Hide");return[c,h].map(f=>f.trim()).join(" ")},previewLabel:e.previewLabel||s.previewLabel}))}).use(e_e)},Aze=(t,e)=>{if(t.config(da(on.Cursor)).config(r=>{r.update(i6.key,()=>{var i,o;return{class:"crepe-drop-cursor",width:(i=e==null?void 0:e.width)!=null?i:4,color:(o=e==null?void 0:e.color)!=null?o:!1}})}).use(YIe),(e==null?void 0:e.virtual)===!1)return;const n=XIe();t.use(Cr(()=>n))},Eze=(t,e)=>{t.config(da(on.ImageBlock)).config(n=>{n.update(o6.key,r=>{var i,o,s,l,a,u;return{uploadButton:(i=e==null?void 0:e.inlineUploadButton)!=null?i:"Upload",imageIcon:(o=e==null?void 0:e.inlineImageIcon)!=null?o:mT,confirmButton:(s=e==null?void 0:e.inlineConfirmButton)!=null?s:rD,uploadPlaceholderText:(l=e==null?void 0:e.inlineUploadPlaceholderText)!=null?l:"or paste link",onUpload:(u=(a=e==null?void 0:e.inlineOnUpload)!=null?a:e==null?void 0:e.onUpload)!=null?u:r.onUpload,proxyDomURL:e==null?void 0:e.proxyDomURL}}),n.update(q3.key,r=>{var i,o,s,l,a,u,c,h;return{uploadButton:(i=e==null?void 0:e.blockUploadButton)!=null?i:"Upload file",imageIcon:(o=e==null?void 0:e.blockImageIcon)!=null?o:mT,captionIcon:(s=e==null?void 0:e.blockCaptionIcon)!=null?s:KBe,confirmButton:(l=e==null?void 0:e.blockConfirmButton)!=null?l:"Confirm",captionPlaceholderText:(a=e==null?void 0:e.blockCaptionPlaceholderText)!=null?a:"Write Image Caption",uploadPlaceholderText:(u=e==null?void 0:e.blockUploadPlaceholderText)!=null?u:"or paste link",onUpload:(h=(c=e==null?void 0:e.blockOnUpload)!=null?c:e==null?void 0:e.onUpload)!=null?h:r.onUpload,proxyDomURL:e==null?void 0:e.proxyDomURL}})}).use(kAe).use(cRe)},Oze=na.extendSchema(t=>e=>{const n=t(e);return{...n,toMarkdown:{match:n.toMarkdown.match,runner:(r,i)=>{var o,s;if(((o=i.attrs.language)!=null?o:"").toLowerCase()==="latex")r.addNode("math",void 0,((s=i.content.firstChild)==null?void 0:s.text)||"");else return n.toMarkdown.runner(r,i)}}}}),Ng="math_inline",Xy=lr(Ng,()=>({group:"inline",inline:!0,draggable:!0,atom:!0,attrs:{value:{default:""}},parseDOM:[{tag:`span[data-type="${Ng}"]`,getAttrs:t=>{var e;return{value:(e=t.dataset.value)!=null?e:""}}}],toDOM:t=>{const e=t.attrs.value,n=document.createElement("span");return n.dataset.type=Ng,n.dataset.value=e,Ene.render(e,n,{throwOnError:!1}),n},parseMarkdown:{match:t=>t.type==="inlineMath",runner:(t,e,n)=>{t.addNode(n,{value:e.value})}},toMarkdown:{match:t=>t.type.name===Ng,runner:(t,e)=>{t.addNode("inlineMath",void 0,e.attrs.value)}}})),vre=vt("ToggleLatex",t=>()=>(e,n)=>{const{hasNode:r,pos:i,target:o}=NX(e,Xy.type(t)),{selection:s,doc:l,tr:a}=e;if(!r){const d=l.textBetween(s.from,s.to);let p=a.replaceSelectionWith(Xy.type(t).create({value:d}));return n&&n(p.setSelection(ut.create(p.doc,s.from))),!0}const{from:u,to:c}=s;if(!o||i<0)return!1;let h=a.delete(i,i+1);const f=o.attrs.value;return h=h.insertText(f,i),n&&n(h.setSelection(nt.create(h.doc,u,c+f.length-1))),!0}),oV=p6("INLINE_LATEX"),Pze=Yr({props:{config:{type:Object,required:!0},innerView:{type:Object,required:!0},updateValue:{type:Object,required:!0}},setup(t){const e=r=>{if(!(!r||!(r instanceof HTMLElement))){for(;r.firstChild;)r.removeChild(r.firstChild);t.innerView.value&&r.appendChild(t.innerView.value.dom)}},n=r=>{r.preventDefault(),t.updateValue.value()};return()=>te("div",{class:"container"},t.innerView&&te("div",{ref:e}),te("button",{onPointerdown:n},te(Rp,{icon:t.config.inlineEditConfirm})))}});var wre=t=>{throw TypeError(t)},xre=(t,e,n)=>e.has(t)||wre("Cannot "+n),Tr=(t,e,n)=>(xre(t,e,"read from private field"),n?n.call(t):e.get(t)),zu=(t,e,n)=>e.has(t)?wre("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),j4=(t,e,n,r)=>(xre(t,e,"write to private field"),e.set(t,n),n),Lg,Fd,m5,Rh,Bg,zg,vT,wT;class Dze{constructor(e,n,r){this.ctx=e,zu(this,Lg),zu(this,Fd),zu(this,m5),zu(this,Rh,jx(null)),zu(this,Bg,jx(()=>{})),zu(this,zg),zu(this,vT,()=>{Tr(this,Rh).value&&(Tr(this,Rh).value.destroy(),Tr(this,Rh).value=null)}),zu(this,wT,o=>{const l=(()=>{const{selection:a,schema:u}=o.state;if(a.empty||!(a instanceof ut))return!1;const c=a.node;if(c.type.name!==Ng)return!1;const h=a.from,f=u.nodes.paragraph.create(null,u.text(c.attrs.value)),d=new SE(Tr(this,m5),{state:qh.create({doc:f,schema:new uX({nodes:{doc:{content:"block+"},paragraph:{content:"inline*",group:"block",parseDOM:[{tag:"p"}],toDOM(){return["p",0]}},text:{group:"inline"}}}),plugins:[uJ({"Mod-z":n6,"Mod-Z":Np,"Mod-y":Np,Enter:()=>(Tr(this,Bg).value(),!0)})]})});return Tr(this,Rh).value=d,Tr(this,Bg).value=()=>{const{tr:p}=o.state;p.setNodeAttribute(h,"value",d.state.doc.textContent),o.dispatch(p),requestAnimationFrame(()=>{o.focus()})},!0})();return l||Tr(this,vT).call(this),l}),this.update=(o,s)=>{Tr(this,Fd).update(o,s)},this.destroy=()=>{Tr(this,zg).unmount(),Tr(this,Fd).destroy(),Tr(this,Lg).remove()};const i=document.createElement("div");i.className="milkdown-latex-inline-edit",j4(this,Lg,i),j4(this,zg,fl(Pze,{config:r,innerView:Tr(this,Rh),updateValue:Tr(this,Bg)})),Tr(this,zg).mount(i),j4(this,Fd,new d6({debounce:0,content:Tr(this,Lg),shouldShow:Tr(this,wT),offset:10,floatingUIOptions:{placement:"bottom"}})),Tr(this,Fd).update(n),j4(this,m5,document.createElement("div"))}}Lg=new WeakMap;Fd=new WeakMap;m5=new WeakMap;Rh=new WeakMap;Bg=new WeakMap;zg=new WeakMap;vT=new WeakMap;wT=new WeakMap;const _ze=xi(t=>m7e(/(?:\$)([^$]+)(?:\$)$/,Xy.type(t),{getAttr:e=>{var n;return{value:(n=e[1])!=null?n:""}}})),Ize=xi(t=>rE(/^\$\$[\s\n]$/,na.type(t),()=>({language:"LaTeX"}))),Rze=sa("remarkMath",()=>bLe);function Nze(t){return ia(t,"math",(e,n,r)=>{const{value:i}=e,o={type:"code",lang:"LaTeX",value:i};r.children.splice(n,1,o)})}const Lze=sa("remarkMathBlock",()=>()=>Nze),Bze=(t,e)=>{t.config(da(on.Latex)).config(n=>{if(!x6(n).get().includes(on.CodeMirror))throw new Error("You need to enable CodeMirror to use LaTeX feature");n.update(c2.key,o=>({...o,renderPreview:(s,l)=>{if(s.toLowerCase()==="latex"&&l.length>0)return zze(l,e==null?void 0:e.katexOptions);const a=o.renderPreview;return a(s,l)}})),n.set(oV.key,{view:o=>{var s;return new Dze(n,o,{inlineEditConfirm:(s=e==null?void 0:e.inlineEditConfirm)!=null?s:rD,...e})}})}).use(Rze).use(Lze).use(Xy).use(oV).use(_ze).use(Ize).use(Oze).use(vre)};function zze(t,e){return Ene.renderToString(t,{...e,throwOnError:!1,displayMode:!0})}const Fze=(t,e)=>{t.config(da(on.LinkTooltip)).config(ZLe).config(n=>{n.update($p.key,r=>{var i,o,s,l,a,u;return{...r,linkIcon:(i=e==null?void 0:e.linkIcon)!=null?i:ire,editButton:(o=e==null?void 0:e.editButton)!=null?o:iD,removeButton:(s=e==null?void 0:e.removeButton)!=null?s:yT,confirmButton:(l=e==null?void 0:e.confirmButton)!=null?l:rD,inputPlaceholder:(a=e==null?void 0:e.inputPlaceholder)!=null?a:"Paste link...",onCopyLink:(u=e==null?void 0:e.onCopyLink)!=null?u:()=>{}}})}).use(QLe)};function $ze(t,e){t.set(g6.key,{renderLabel:({label:n,listType:r,checked:i})=>{var o,s,l;return i==null?r==="bullet"?(o=e==null?void 0:e.bulletIcon)!=null?o:UBe:n:i?(s=e==null?void 0:e.checkBoxCheckedIcon)!=null?s:GBe:(l=e==null?void 0:e.checkBoxUncheckedIcon)!=null?l:YBe}})}const Vze=(t,e)=>{t.config(da(on.ListItem)).config(n=>$ze(n,e)).use(sBe)};function Hze(t){var e;return t.childCount<=1&&!((e=t.firstChild)!=null&&e.content.size)}function jze(t,e){const{selection:n}=t;if(!n.empty)return null;const r=n.$anchor,i=r.parent;if(i.content.size>0||Gl(l=>l.type.name==="table")(r))return null;const s=r.before();return gr.node(s,s+i.nodeSize,{class:"crepe-placeholder","data-placeholder":e})}const xT=ln({text:"Please enter...",mode:"block"},"placeholderConfigCtx"),Wze=Cr(t=>new $n({key:new Xn("CREPE_PLACEHOLDER"),props:{decorations:e=>{var n;if(mze(t).readonly)return null;const i=t.get(xT.key);if(i.mode==="doc"&&!Hze(e.doc)||are(e.selection)||ure(e.selection))return null;const o=(n=i.text)!=null?n:"Please enter...",s=jze(e,o);return s?hn.create(e.doc,[s]):null}}})),Uze=(t,e)=>{t.config(da(on.Placeholder)).config(n=>{e&&n.update(xT.key,r=>({...r,...e}))}).use(Wze).use(xT)},qze=(t,e)=>{t.config(da(on.Table)).config(n=>{n.update(y6.key,r=>({...r,renderButton:i=>{var o,s,l,a,u,c,h,f,d;switch(i){case"add_row":return(o=e==null?void 0:e.addRowIcon)!=null?o:gT;case"add_col":return(s=e==null?void 0:e.addColIcon)!=null?s:gT;case"delete_row":return(l=e==null?void 0:e.deleteRowIcon)!=null?l:yT;case"delete_col":return(a=e==null?void 0:e.deleteColIcon)!=null?a:yT;case"align_col_left":return(u=e==null?void 0:e.alignLeftIcon)!=null?u:HBe;case"align_col_center":return(c=e==null?void 0:e.alignCenterIcon)!=null?c:VBe;case"align_col_right":return(h=e==null?void 0:e.alignRightIcon)!=null?h:jBe;case"col_drag_handle":return(f=e==null?void 0:e.colDragHandleIcon)!=null?f:rV;case"row_drag_handle":return(d=e==null?void 0:e.rowDragHandleIcon)!=null?d:rV}}}))}).use(IBe)};function Kze(t,e){var n,r,i,o,s,l,a;const u=new fre;u.addGroup("formatting","Formatting").addItem("bold",{icon:(n=t==null?void 0:t.boldIcon)!=null?n:WBe,active:d=>d.get(Xe).call(Pd.key,im.type(d)),onRun:d=>{d.get(Xe).call(R3.key)}}).addItem("italic",{icon:(r=t==null?void 0:t.italicIcon)!=null?r:rze,active:d=>d.get(Xe).call(Pd.key,rd.type(d)),onRun:d=>{d.get(Xe).call(I3.key)}}).addItem("strikethrough",{icon:(i=t==null?void 0:t.strikethroughIcon)!=null?i:aze,active:d=>d.get(Xe).call(Pd.key,um.type(d)),onRun:d=>{d.get(Xe).call(Y3.key)}});const c=u.addGroup("function","Function");c.addItem("code",{icon:(o=t==null?void 0:t.codeIcon)!=null?o:rre,active:d=>d.get(Xe).call(Pd.key,Ka.type(d)),onRun:d=>{d.get(Xe).call(N3.key)}});const h=e&&x6(e).get();return(h==null?void 0:h.includes(on.Latex))&&c.addItem("latex",{icon:(s=t==null?void 0:t.latexIcon)!=null?s:sre,active:d=>d.get(Xe).call(IZ.key,Xy.type(d)),onRun:d=>{d.get(Xe).call(vre.key)}}),c.addItem("link",{icon:(l=t==null?void 0:t.linkIcon)!=null?l:ize,active:d=>d.get(Xe).call(Pd.key,Qs.type(d)),onRun:d=>{d.get(Xe).call(Pne.key)}}),(a=t==null?void 0:t.buildToolbar)==null||a.call(t,u),u.build()}const Gze=Yr({props:{ctx:{type:Object,required:!0},hide:{type:Function,required:!0},show:{type:Object,required:!0},selection:{type:Object,required:!0},config:{type:Object,required:!1}},setup(t){const{ctx:e,config:n}=t,r=s=>l=>{l.preventDefault(),e&&s(e)};function i(s){return t.selection.value,e.get(wC).status!==Bx.Created?!1:s(e)}const o=Yf(()=>Kze(n,e));return()=>te(ii,null,o.value.map(s=>s.items.map(l=>te("button",{type:"button",class:RBe("toolbar-item",e&&i(l.active)&&"active"),onPointerdown:r(l.onRun)},te(Rp,{icon:l.icon})))).reduce((s,l,a)=>(a===0?s.push(...l):s.push(te("div",{class:"divider"}),...l),s),[]))}});var bre=t=>{throw TypeError(t)},kre=(t,e,n)=>e.has(t)||bre("Cannot "+n),vo=(t,e,n)=>(kre(t,e,"read from private field"),n?n.call(t):e.get(t)),Xm=(t,e,n)=>e.has(t)?bre("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),W4=(t,e,n,r)=>(kre(t,e,"write to private field"),e.set(t,n),n),Wu,Fg,g5,$g,Vg;const sV=p6("CREPE_TOOLBAR");class Yze{constructor(e,n,r){Xm(this,Wu),Xm(this,Fg),Xm(this,g5),Xm(this,$g),Xm(this,Vg,Ze(!1)),this.update=(s,l)=>{vo(this,Wu).update(s,l),vo(this,$g).value=s.state.selection},this.destroy=()=>{vo(this,Wu).destroy(),vo(this,g5).unmount(),vo(this,Fg).remove()},this.hide=()=>{vo(this,Wu).hide()};const i=document.createElement("div");i.className="milkdown-toolbar",W4(this,$g,jx(n.state.selection));const o=fl(Gze,{ctx:e,hide:this.hide,config:r,selection:vo(this,$g),show:vo(this,Vg)});o.mount(i),W4(this,Fg,i),W4(this,g5,o),W4(this,Wu,new d6({content:vo(this,Fg),debounce:20,offset:10,shouldShow(s){const{doc:l,selection:a}=s.state,{empty:u,from:c,to:h}=a,f=!l.textBetween(c,h).length&&a instanceof nt,d=!(a instanceof nt),p=s.dom.getRootNode().activeElement,m=i.contains(p),y=!s.hasFocus()&&!m,g=!s.editable;return!(y||d||u||f||g)}})),vo(this,Wu).onShow=()=>{vo(this,Vg).value=!0},vo(this,Wu).onHide=()=>{vo(this,Vg).value=!1},this.update(n)}}Wu=new WeakMap;Fg=new WeakMap;g5=new WeakMap;$g=new WeakMap;Vg=new WeakMap;const Xze=(t,e)=>{t.config(da(on.Toolbar)).config(n=>{n.set(sV.key,{view:r=>new Yze(n,r,e)})}).use(sV)};function Jze(t,e,n){switch(t){case on.CodeMirror:return Mze(e,n);case on.ListItem:return Vze(e,n);case on.LinkTooltip:return Fze(e,n);case on.ImageBlock:return Eze(e,n);case on.Cursor:return Aze(e,n);case on.BlockEdit:return Tze(e,n);case on.Placeholder:return Uze(e,n);case on.Toolbar:return Xze(e,n);case on.Table:return qze(e,n);case on.Latex:return Bze(e,n)}}var Sre=t=>{throw TypeError(t)},Cre=(t,e,n)=>e.has(t)||Sre("Cannot "+n),wo=(t,e,n)=>(Cre(t,e,"read from private field"),n?n.call(t):e.get(t)),v8=(t,e,n)=>e.has(t)?Sre("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),w8=(t,e,n,r)=>(Cre(t,e,"write to private field"),e.set(t,n),n),bo,y5,Hg;class Zze{constructor({root:e,defaultValue:n=""}={}){v8(this,bo),v8(this,y5),v8(this,Hg,!0),this.addFeature=(i,o)=>(i(wo(this,bo),o),this),this.create=()=>wo(this,bo).create(),this.destroy=()=>wo(this,bo).destroy(),this.setReadonly=i=>(w8(this,Hg,!i),wo(this,bo).action(o=>{wo(this,bo).status===Bx.Created&&o.get(xn).setProps({editable:()=>!i})}),this),this.getMarkdown=()=>wo(this,bo).action(KSe()),this.on=i=>wo(this,bo).status!==Bx.Created?(wo(this,bo).config(o=>{const s=o.get(hb);i(s)}),this):(wo(this,bo).action(o=>{const s=o.get(hb);i(s)}),this);var r;w8(this,y5,(r=typeof e=="string"?document.querySelector(e):e)!=null?r:document.body),w8(this,bo,kC.make().config(i=>{i.inject(pze,this),i.inject(dze,[])}).config(i=>{i.set(jw,wo(this,y5)),i.set($w,n),i.set(C1,{editable:()=>wo(this,Hg)}),i.update(w6.key,o=>({...o,size:4}))}).use(uCe).use(Qne).use(NBe).use(BBe).use(FBe).use(Yne).use(xPe))}get editor(){return wo(this,bo)}get readonly(){return!wo(this,Hg)}}bo=new WeakMap;y5=new WeakMap;Hg=new WeakMap;class v5 extends Zze{constructor({features:e={},featureConfigs:n={},...r}={}){super(r);const i=Swe(n,fze);Object.entries({...$Be,...e}).filter(([,s])=>s).map(([s])=>s).forEach(s=>{const l=i[s];Jze(s,this.editor,l)})}}v5.Feature=on;const sD=I.createContext({});function Qze(){const{dom:t,editor:e,setLoading:n,editorFactory:r}=I.useContext(sD),i=I.useRef(null);return I.useEffect(()=>{const o=i.current;if(!r||!o)return;t.current=o;const s=r(o);if(s)return n(!0),s.create().then(l=>{e.current=l}).finally(()=>{n(!1)}).catch(console.error),()=>{s.destroy().catch(console.error)}},[t,e,r,n]),i}const eFe=()=>{const t=Qze();return Lo.createElement("div",{"data-milkdown-root":!0,ref:t})},tFe=({children:t})=>{const e=I.useRef(void 0),[n,r]=I.useState(void 0),i=I.useRef(void 0),[o,s]=I.useState(!0),l=I.useMemo(()=>({loading:o,dom:e,editor:i,setLoading:s,editorFactory:n,setEditorFactory:r}),[o,n]);return Lo.createElement(sD.Provider,{value:l},t)};function nFe(t,e=[]){const n=I.useContext(sD),r=I.useCallback(t,e);return I.useLayoutEffect(()=>{n.setEditorFactory(()=>r)},[n,r]),{loading:n.loading,get:()=>n.editor.current}}var lD={exports:{}};lD.exports;(function(t){var e=function(){var n=String.fromCharCode,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",o={};function s(a,u){if(!o[a]){o[a]={};for(var c=0;c<a.length;c++)o[a][a.charAt(c)]=c}return o[a][u]}var l={compressToBase64:function(a){if(a==null)return"";var u=l._compress(a,6,function(c){return r.charAt(c)});switch(u.length%4){default:case 0:return u;case 1:return u+"===";case 2:return u+"==";case 3:return u+"="}},decompressFromBase64:function(a){return a==null?"":a==""?null:l._decompress(a.length,32,function(u){return s(r,a.charAt(u))})},compressToUTF16:function(a){return a==null?"":l._compress(a,15,function(u){return n(u+32)})+" "},decompressFromUTF16:function(a){return a==null?"":a==""?null:l._decompress(a.length,16384,function(u){return a.charCodeAt(u)-32})},compressToUint8Array:function(a){for(var u=l.compress(a),c=new Uint8Array(u.length*2),h=0,f=u.length;h<f;h++){var d=u.charCodeAt(h);c[h*2]=d>>>8,c[h*2+1]=d%256}return c},decompressFromUint8Array:function(a){if(a==null)return l.decompress(a);for(var u=new Array(a.length/2),c=0,h=u.length;c<h;c++)u[c]=a[c*2]*256+a[c*2+1];var f=[];return u.forEach(function(d){f.push(n(d))}),l.decompress(f.join(""))},compressToEncodedURIComponent:function(a){return a==null?"":l._compress(a,6,function(u){return i.charAt(u)})},decompressFromEncodedURIComponent:function(a){return a==null?"":a==""?null:(a=a.replace(/ /g,"+"),l._decompress(a.length,32,function(u){return s(i,a.charAt(u))}))},compress:function(a){return l._compress(a,16,function(u){return n(u)})},_compress:function(a,u,c){if(a==null)return"";var h,f,d={},p={},m="",y="",g="",v=2,w=3,b=2,S=[],k=0,T=0,A;for(A=0;A<a.length;A+=1)if(m=a.charAt(A),Object.prototype.hasOwnProperty.call(d,m)||(d[m]=w++,p[m]=!0),y=g+m,Object.prototype.hasOwnProperty.call(d,y))g=y;else{if(Object.prototype.hasOwnProperty.call(p,g)){if(g.charCodeAt(0)<256){for(h=0;h<b;h++)k=k<<1,T==u-1?(T=0,S.push(c(k)),k=0):T++;for(f=g.charCodeAt(0),h=0;h<8;h++)k=k<<1|f&1,T==u-1?(T=0,S.push(c(k)),k=0):T++,f=f>>1}else{for(f=1,h=0;h<b;h++)k=k<<1|f,T==u-1?(T=0,S.push(c(k)),k=0):T++,f=0;for(f=g.charCodeAt(0),h=0;h<16;h++)k=k<<1|f&1,T==u-1?(T=0,S.push(c(k)),k=0):T++,f=f>>1}v--,v==0&&(v=Math.pow(2,b),b++),delete p[g]}else for(f=d[g],h=0;h<b;h++)k=k<<1|f&1,T==u-1?(T=0,S.push(c(k)),k=0):T++,f=f>>1;v--,v==0&&(v=Math.pow(2,b),b++),d[y]=w++,g=String(m)}if(g!==""){if(Object.prototype.hasOwnProperty.call(p,g)){if(g.charCodeAt(0)<256){for(h=0;h<b;h++)k=k<<1,T==u-1?(T=0,S.push(c(k)),k=0):T++;for(f=g.charCodeAt(0),h=0;h<8;h++)k=k<<1|f&1,T==u-1?(T=0,S.push(c(k)),k=0):T++,f=f>>1}else{for(f=1,h=0;h<b;h++)k=k<<1|f,T==u-1?(T=0,S.push(c(k)),k=0):T++,f=0;for(f=g.charCodeAt(0),h=0;h<16;h++)k=k<<1|f&1,T==u-1?(T=0,S.push(c(k)),k=0):T++,f=f>>1}v--,v==0&&(v=Math.pow(2,b),b++),delete p[g]}else for(f=d[g],h=0;h<b;h++)k=k<<1|f&1,T==u-1?(T=0,S.push(c(k)),k=0):T++,f=f>>1;v--,v==0&&(v=Math.pow(2,b),b++)}for(f=2,h=0;h<b;h++)k=k<<1|f&1,T==u-1?(T=0,S.push(c(k)),k=0):T++,f=f>>1;for(;;)if(k=k<<1,T==u-1){S.push(c(k));break}else T++;return S.join("")},decompress:function(a){return a==null?"":a==""?null:l._decompress(a.length,32768,function(u){return a.charCodeAt(u)})},_decompress:function(a,u,c){var h=[],f=4,d=4,p=3,m="",y=[],g,v,w,b,S,k,T,A={val:c(0),position:u,index:1};for(g=0;g<3;g+=1)h[g]=g;for(w=0,S=Math.pow(2,2),k=1;k!=S;)b=A.val&A.position,A.position>>=1,A.position==0&&(A.position=u,A.val=c(A.index++)),w|=(b>0?1:0)*k,k<<=1;switch(w){case 0:for(w=0,S=Math.pow(2,8),k=1;k!=S;)b=A.val&A.position,A.position>>=1,A.position==0&&(A.position=u,A.val=c(A.index++)),w|=(b>0?1:0)*k,k<<=1;T=n(w);break;case 1:for(w=0,S=Math.pow(2,16),k=1;k!=S;)b=A.val&A.position,A.position>>=1,A.position==0&&(A.position=u,A.val=c(A.index++)),w|=(b>0?1:0)*k,k<<=1;T=n(w);break;case 2:return""}for(h[3]=T,v=T,y.push(T);;){if(A.index>a)return"";for(w=0,S=Math.pow(2,p),k=1;k!=S;)b=A.val&A.position,A.position>>=1,A.position==0&&(A.position=u,A.val=c(A.index++)),w|=(b>0?1:0)*k,k<<=1;switch(T=w){case 0:for(w=0,S=Math.pow(2,8),k=1;k!=S;)b=A.val&A.position,A.position>>=1,A.position==0&&(A.position=u,A.val=c(A.index++)),w|=(b>0?1:0)*k,k<<=1;h[d++]=n(w),T=d-1,f--;break;case 1:for(w=0,S=Math.pow(2,16),k=1;k!=S;)b=A.val&A.position,A.position>>=1,A.position==0&&(A.position=u,A.val=c(A.index++)),w|=(b>0?1:0)*k,k<<=1;h[d++]=n(w),T=d-1,f--;break;case 2:return y.join("")}if(f==0&&(f=Math.pow(2,p),p++),h[T])m=h[T];else if(T===d)m=v+v.charAt(0);else return null;y.push(m),h[d++]=v+m.charAt(0),f--,v=m,f==0&&(f=Math.pow(2,p),p++)}}};return l}();t!=null?t.exports=e:typeof angular<"u"&&angular!=null&&angular.module("LZString",[]).factory("LZString",function(){return e})})(lD);var rFe=lD.exports;const Tre=mb(rFe),iFe=({width:t=18,height:e=18,color:n="black"})=>P.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-edit",width:t,height:e,viewBox:"0 0 24 24",strokeWidth:"2",stroke:n,fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[P.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),P.jsx("path",{d:"M9 5H7C5.89543 5 5 5.89543 5 7V19C5 20.1046 5.89543 21 7 21H9"}),P.jsx("path",{d:"M15 5H17C18.1046 5 19 5.89543 19 7V9"}),P.jsx("path",{d:"M14.902 20.3343L12.7153 20.7716L13.1526 18.585C13.1914 18.3914 13.2865 18.2136 13.4261 18.074L17.5 14L19.5 12L21.4869 13.9869L19.4869 15.9869L15.413 20.0608C15.2734 20.2004 15.0956 20.2956 14.902 20.3343Z"}),P.jsx("path",{d:"M9 5C9 3.89543 9.89543 3 11 3H13C14.1046 3 15 3.89543 15 5V7H9V5Z"})]}),oFe=({width:t=18,height:e=18,color:n="#494c4e"})=>P.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-read",width:t,height:e,viewBox:"0 0 24 24",fill:n,children:P.jsx("path",{d:"M23 10h-.1c-.46-2.28-2.48-4-4.9-4-1.33 0-2.53.52-3.43 1.36C13.78 7.13 12.91 7 12 7s-1.78.12-2.57.36C8.53 6.52 7.33 6 6 6c-2.42 0-4.44 1.72-4.9 4H1c-.55 0-1 .45-1 1s.45 1 1 1h.1c.46 2.28 2.48 4 4.9 4 2.76 0 5-2.24 5-5 0-.66-.13-1.29-.36-1.87.43-.08.88-.13 1.36-.13s.94.04 1.36.13c-.23.58-.36 1.21-.36 1.87 0 2.76 2.24 5 5 5 2.42 0 4.44-1.72 4.9-4h.1c.55 0 1-.45 1-1s-.45-1-1-1zM6 14c-1.65 0-3-1.35-3-3s1.35-3 3-3 3 1.35 3 3-1.35 3-3 3zm12 0c-1.65 0-3-1.35-3-3s1.35-3 3-3 3 1.35 3 3-1.35 3-3 3z"})}),sFe=({width:t=18,height:e=18,color:n="#1C274C"})=>P.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-share",width:t,height:e,viewBox:"0 0 24 24",fill:"none",children:P.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.803 5.33333C13.803 3.49238 15.3022 2 17.1515 2C19.0008 2 20.5 3.49238 20.5 5.33333C20.5 7.17428 19.0008 8.66667 17.1515 8.66667C16.2177 8.66667 15.3738 8.28596 14.7671 7.67347L10.1317 10.8295C10.1745 11.0425 10.197 11.2625 10.197 11.4872C10.197 11.9322 10.109 12.3576 9.94959 12.7464L15.0323 16.0858C15.6092 15.6161 16.3473 15.3333 17.1515 15.3333C19.0008 15.3333 20.5 16.8257 20.5 18.6667C20.5 20.5076 19.0008 22 17.1515 22C15.3022 22 13.803 20.5076 13.803 18.6667C13.803 18.1845 13.9062 17.7255 14.0917 17.3111L9.05007 13.9987C8.46196 14.5098 7.6916 14.8205 6.84848 14.8205C4.99917 14.8205 3.5 13.3281 3.5 11.4872C3.5 9.64623 4.99917 8.15385 6.84848 8.15385C7.9119 8.15385 8.85853 8.64725 9.47145 9.41518L13.9639 6.35642C13.8594 6.03359 13.803 5.6896 13.803 5.33333Z",fill:n})}),Mre=zb`
  padding: 8px 8px;
  background: none;
  border: none;
  border-radius: 8px;
  cursor: pointer;
  transition:
    opacity 0.3s,
    transform 0.2s;
  opacity: 0.8;
  position: relative;
  font-family: monospace;

  &:hover {
    opacity: 1;
    transform: translateY(-1px);
  }
  &:active {
    transform: translateY(0);
  }
`,Are=zb`
  font-family: monospace;
  position: absolute;
  bottom: 110%;
  left: 50%;
  transform: translateX(-50%);
  white-space: nowrap;
  padding: 0.3rem 0.7rem;
  font-size: 0.8rem;
  z-index: 2000;
  pointer-events: none;
  background: var(--main-bg-color);
  color: var(--ice-main-color);
  border-radius: 8px;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
  opacity: 0;
  visibility: hidden;
  transition:
    opacity 0.18s,
    visibility 0.18s;

  &::after {
    content: '';
    position: absolute;
    top: 100%;
    left: 50%;
    transform: translateX(-50%);
    border-width: 6px;
    border-style: solid;
    border-color: var(--main-bg-color) transparent transparent transparent;
    display: block;
  }
`,lFe=de.div`
  .milkdown {
    /* Font Families */
    --crepe-font-title: monospace;
    --crepe-font-default: monospace;
    --crepe-font-code: monospace;
    .editor {
      max-width: 800px;
      margin: 0 auto;
      padding: 1rem;
      p {
        margin: 0;
        line-height: 1;
      }
      li {
        margin: 0;
        gap: 0.25rem;
      }
      /*  li > p     */
      li > p {
        margin: 0 !important;
        padding: 0 !important;
        display: inline;
      }
      th,
      td {
        padding: 0.25em;
      }
      .list-item {
        align-items: center;
      }
      .paragraph {
        margin: 1rem 0;
      }
      .heading {
        font-weight: 600;
        margin: 1.5rem 0 1rem;
      }
      .bullet-list {
        padding-left: 1.5rem;
      }
      .ordered-list {
        padding-left: 1.5rem;
      }
      .milkdown-code-block {
        padding: 0;
      }
    }
  }
`,aFe=de.div`
  font-family: monospace;
  position: fixed;
  bottom: 2%;
  right: 4%;
  z-index: 1000;
  opacity: 0.5;
  transition: opacity 0.3s;
  &:hover {
    opacity: 1;
  }
  .btn-tooltip-wrap {
    position: relative;
    display: inline-block;
  }
`,uFe=de.button`
  ${Mre}
  color: ${({$isReadOnly:t})=>t?"var(--ice-main-color_2)":"var(--ice-main-color)"};
  ${({$pulse:t})=>t&&Ere}

  svg {
    stroke: ${({$isReadOnly:t})=>t?"var(--ice-main-color_2)":"var(--ice-main-color)"};
    fill: ${({$isReadOnly:t})=>t?"var(--ice-main-color_2)":"var(--ice-main-color)"};
  }

  &:hover .btn-tooltip,
  &:focus .btn-tooltip,
  &:active .btn-tooltip {
    opacity: 1;
    visibility: visible;
    pointer-events: none;
  }

  .btn-tooltip {
    ${Are}
  }
`,cFe=de.button`
  ${Mre}
  color: var(--ice-main-color);
  margin-left: 8px;
  ${({$pulse:t})=>t&&Ere}

  svg {
    stroke: var(--ice-main-color);
    fill: var(--ice-main-color);
  }

  &:hover .btn-tooltip,
  &:focus .btn-tooltip,
  &:active .btn-tooltip {
    opacity: 1;
    visibility: visible;
    pointer-events: none;
  }

  .btn-tooltip {
    ${Are}
  }
`,hFe=de.div`
  position: fixed;
  top: 2%;
  left: 4%;
  font-size: 1rem;
  font-family: monospace;
  background: var(--main-bg-color);
  color: var(--ice-main-color);
  padding: 0.25rem 0.7rem;
  border-radius: 8px;
  opacity: ${({$show:t})=>t?.95:0};
  visibility: ${({$show:t})=>t?"visible":"hidden"};
  transition:
    opacity 0.18s,
    visibility 0.18s;
  z-index: 1000;
  pointer-events: none;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
`;de.div`
  position: fixed;
  font-size: 1rem;
  font-family: monospace;
  top: 2%;
  left: 4%;
  border: 1px solid var(--ice-main-color_1);
  background-color: var(--main-bg-color);
  color: var(--ice-main-color_1);
  padding: 0.5rem 1rem;
  border-radius: 8px;
  z-index: 1001;
`;const fFe=de.div`
  position: fixed;
  top: 2%;
  right: 4%;
  z-index: 999;
  pointer-events: none;
  display: flex;
  align-items: center;
  justify-content: center;

  svg {
    width: 16px;
    height: 16px;
    color: var(--ice-main-color);
    opacity: 0.15;
    transition: opacity 0.3s ease;
    ${({$saving:t})=>t&&`
      opacity: 0.45;
      animation: subtlePulse 3s ease-in-out infinite;
    `}
  }

  @keyframes subtlePulse {
    0%,
    100% {
      opacity: 0.2;
      transform: scale(0.98);
    }
    50% {
      opacity: 0.5;
      transform: scale(1.01);
    }
  }
`,dFe=de.div`
  position: fixed;
  bottom: 2%;
  left: 4%;
  font-size: 0.8rem;
  color: var(--main-color_1);
  padding: 0;
  z-index: 999;
  opacity: 0.4;
  font-weight: 400;
  transition: opacity 0.3s;
  &:hover {
    opacity: 1;
  }
`,pFe=de.div`
  position: fixed;
  top: 25%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 90vw;
  max-width: 500px;
  padding: 1.2rem 1rem 1.3rem 1rem;
  color: var(--ice-main-color_2);
  border-radius: 10px;
  font-family: monospace;
  font-size: 1.02rem;
  text-align: left;
  opacity: 0.96;
  border: 1.5px dashed var(--ice-main-color_2);
  box-shadow: 0 2px 12px 0 rgba(0, 0, 0, 0.04);
  z-index: 2001;

  b {
    color: var(--ice-main-color);
    font-weight: 700;
    font-size: 0.9rem;
  }

  ul {
    margin: 0.7em 0 0 1.2em;
    padding: 0;
    font-size: 0.9rem;
    li {
      margin-bottom: 0.25em;
      line-height: 1.7;
      &::marker {
        color: var(--ice-main-color_2);
      }
    }
  }
`,Ere=zb`
  animation: pulseBtn 4s cubic-bezier(0.4, 0, 0.6, 1) 100;
  @keyframes pulseBtn {
    0% {
      box-shadow: 0 0 0 0 rgba(0, 180, 255, 0.25);
    }
    70% {
      box-shadow: 0 0 0 8px rgba(0, 180, 255, 0);
    }
    100% {
      box-shadow: 0 0 0 0 rgba(0, 180, 255, 0);
    }
  }
`,mFe=({width:t=18,height:e=18,color:n="white"})=>P.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-device-floppy",width:t,height:e,viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:n,fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[P.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),P.jsx("path",{d:"M6 4h10l4 4v10a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2"}),P.jsx("path",{d:"M12 14m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0"}),P.jsx("path",{d:"M14 4l0 4l-6 0l0 -4"})]}),lV=8e3,gFe=()=>{const[t,e]=I.useState(!0),n=I.useRef(null),[r,i]=I.useState(null),[o,s]=I.useState(!1),[l,a]=I.useState(""),u=I.useRef(null),c=I.useRef(null),h=I.useRef(null),f=I.useRef(t);I.useEffect(()=>{f.current=t},[t]);const d=(b,S=3e3)=>{i(b),h.current&&clearTimeout(h.current),h.current=setTimeout(()=>i(null),S)},p=()=>{const b=window.location.href;if(b.length>lV){d("     !");return}navigator.share?navigator.share({title:"LinkNote",text:" !",url:b}).then(()=>d(" ")).catch(S=>{S.name!=="AbortError"&&m(b)}):m(b)},m=b=>{navigator.clipboard.writeText(b).then(()=>d("  !")).catch(()=>d("  "))},y=()=>{const S=new URLSearchParams(window.location.search).get("data");if(!S)return{content:"",lastModified:""};try{const k=Tre.decompressFromEncodedURIComponent(S);if(!k)return{content:"",lastModified:""};const T=JSON.parse(k);return{content:T.c||"",lastModified:T.lm||""}}catch{return d("   "),{content:"",lastModified:""}}},{content:g,lastModified:v}=y();I.useEffect(()=>(v&&a(v),()=>{u.current&&clearTimeout(u.current),c.current&&clearTimeout(c.current),h.current&&clearTimeout(h.current)}),[v]),nFe(b=>{const S=new v5({root:b,defaultValue:g,featureConfigs:{[v5.Feature.LinkTooltip]:{inputPlaceholder:"URL "},[v5.Feature.Placeholder]:{text:"..."}}});return S.setReadonly(t),n.current=S,S.on(k=>{k.updated(()=>{f.current||(u.current&&clearTimeout(u.current),c.current&&clearTimeout(c.current),s(!0),u.current=setTimeout(()=>{try{const T=S.getMarkdown(),A=vFe(T);if(A.length>lV){d("  . URL   ."),s(!1);return}window.history.replaceState({},"",A),a(new Date().toISOString()),c.current=setTimeout(()=>s(!1),1e3)}catch{d("  "),s(!1)}},500))})}),S}),I.useEffect(()=>{n.current&&n.current.setReadonly(t)},[t]);const w=b=>b?": "+new Date(b).toLocaleString("ko-KR",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}):"";return P.jsxs(lFe,{children:[!g&&t&&P.jsxs(pFe,{children:[P.jsx("b",{children:"  "}),P.jsxs("ul",{children:[P.jsxs("li",{children:[" ",P.jsx("b",{children:""}),"  ",P.jsx("b",{children:""})," ."]}),P.jsxs("li",{children:[P.jsx("b",{children:""}),"   ."]}),P.jsxs("li",{children:[P.jsx("b",{children:""}),"      ."]}),P.jsxs("li",{children:["  ",P.jsx("b",{children:"URL"})," ",P.jsx("b",{children:""})," ."]})]})]}),o&&!t&&P.jsx(fFe,{$saving:o,children:P.jsx(mFe,{})}),P.jsxs(aFe,{children:[P.jsx("div",{className:"btn-tooltip-wrap",children:P.jsxs(uFe,{$isReadOnly:t,$pulse:!g&&t,onClick:()=>e(!t),"aria-label":t?"":"",tabIndex:0,children:[t?P.jsx(iFe,{}):P.jsx(oFe,{}),P.jsx("span",{className:"btn-tooltip",children:t?"":""})]})}),P.jsx("div",{className:"btn-tooltip-wrap",children:P.jsxs(cFe,{$pulse:!g&&t,onClick:p,"aria-label":"",tabIndex:0,children:[P.jsx(sFe,{}),P.jsx("span",{className:"btn-tooltip",children:""})]})})]}),l&&P.jsx(dFe,{children:w(l)}),P.jsx(hFe,{$show:!!r,children:r}),P.jsx("div",{style:{textAlign:"start"},children:P.jsx(eFe,{})})]})},yFe=()=>P.jsx(tFe,{children:P.jsx(gFe,{})}),vFe=t=>{const e={c:t,lm:new Date().toISOString()},n=JSON.stringify(e),r=Tre.compressToEncodedURIComponent(n);return`${window.location.origin+window.location.pathname}?data=${r}`},wFe=()=>Nse([{element:P.jsx(ome,{}),children:[{path:"/",element:P.jsx(sme,{})}]},{path:"/About",element:P.jsx(zve,{})},{path:"/LinkNote",element:P.jsx(yFe,{})},{path:"*",element:P.jsx(Gse,{to:"/"})}]);function xFe(){return P.jsx(Zse,{basename:"/",children:P.jsx(Qse,{children:P.jsx(Sae,{children:P.jsx(wFe,{})})})})}const bFe=x8.createRoot(document.getElementById("root"));bFe.render(P.jsx(Lo.StrictMode,{children:P.jsx(xFe,{})}));export{CY as A,Uh as B,dte as C,ee as D,Ge as E,H9 as F,P3e as G,Awe as H,Un as I,qbe as J,V9 as L,AFe as N,UK as P,ls as T,Ybe as a,jFe as b,zFe as c,P_e as d,Gr as e,s3e as f,BFe as g,LFe as h,MY as i,FFe as j,WFe as k,fe as l,$o as m,zt as n,EA as o,OFe as p,kn as q,Qp as r,Vbe as s,le as t,ih as u,em as v,Fn as w,o3e as x,hs as y,l3 as z};
