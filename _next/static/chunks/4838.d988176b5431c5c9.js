(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4838],{35603:()=>{},74838:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>y});var o=t(95155),n=t(12115),a=t(55027),i=t.n(a),c=t(47561);let d=c.Ay.div.withConfig({componentId:"sc-e9fdaf85-0"})(["width:100%;display:flex;flex-direction:column;gap:0px;"]),l=c.Ay.div.withConfig({componentId:"sc-e9fdaf85-1"})(["user-select:none;width:100%;height:150px;"]),s=c.Ay.div.withConfig({componentId:"sc-e9fdaf85-2"})(["padding:5px 10px;"]),p=c.Ay.div.withConfig({componentId:"sc-e9fdaf85-3"})(["display:flex;gap:5px;width:100%;"]),f=c.Ay.div.withConfig({componentId:"sc-e9fdaf85-4"})(["border-radius:2px;text-align:left;font-size:0.75rem;line-height:1.3;flex:0 0 35%;font-weight:500;padding:2px 5px;word-break:break-all;overflow-wrap:break-word;min-width:0;display:flex;align-items:center;justify-content:space-between;gap:0px;&:hover{background-color:var(--main-hover-color);}"]),u=c.Ay.div.withConfig({componentId:"sc-e9fdaf85-5"})(["border-radius:2px;text-align:left;font-size:0.75rem;line-height:1.3;flex:1;color:var(--ice-main-color);padding:2px 5px;word-break:break-all;overflow-wrap:break-word;min-width:0;display:flex;align-items:center;justify-content:space-between;gap:0px;&:hover{background-color:var(--main-hover-color);}"]);var h=t(83034),m=t(28028);t(35603);var x=t(18955),w=t(88027),g=t(49396),v=t(61810);let y=e=>{let{latitude:r,longitude:t}=e,a=(0,x.c)(),c=(0,w.Ym)(),{updateAddressCache:y,addressCache:A}=(0,g.KH)(),k=(0,n.useRef)(null),b=(0,n.useRef)(null),[L,E]=(0,n.useState)("");return(0,n.useLayoutEffect)(()=>{var e;if(!(0,h.qL)(r,t))return;let o=c||"en",n="string"==typeof r?parseFloat(r):r,a="string"==typeof t?parseFloat(t):t,i="".concat(n,",").concat(a),d=null==A||null==(e=A[o])?void 0:e[i];if(d&&d.address)return void E(d.address);(async()=>{try{let e=await (0,h.bv)(r,t,o);y(o,r,t,{address:e,latitude:r,longitude:t}),E(e)}catch(e){console.error("[LeafletMap] 주소 조회 실패:",e),m.A.emit("toast",{code:"ADDRESS_FETCH_ERROR"})}})()},[r,t,c]),(0,n.useLayoutEffect)(()=>{let e=i().icon({iconUrl:"/marker/marker-camera.svg",shadowUrl:"/marker/marker-shadow.svg",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]});if(i().Marker.prototype.options.icon=e,!(0,h.qL)(r,t))return void m.A.emit("toast",{code:"LEAFLET_MAP_INVALID_LOCATION"});try{let o=parseFloat(r),n=parseFloat(t);if(!document.getElementById("IceLocaionMap"))throw Error("Map container not found");k.current&&(k.current.remove(),k.current=null);let a=i().map("IceLocaionMap").setView([o,n],16);return i().tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:"\xa9 OpenStreetMap contributors",maxZoom:19}).addTo(a),b.current=i().marker([o,n],{icon:e}).addTo(a),k.current=a,()=>{k.current&&(k.current.remove(),k.current=null)}}catch(e){m.A.emit("toast",{code:"LEAFLET_MAP_LOAD_ERROR"})}},[r,t]),(0,o.jsxs)(d,{children:[(0,o.jsx)(l,{id:"IceLocaionMap"}),(0,o.jsx)(s,{children:(0,o.jsxs)(p,{children:[(0,o.jsx)(f,{children:a("exifViewer.address")}),(0,o.jsx)(u,{children:L?(0,o.jsx)(v.A,{text:"".concat(r,", ").concat(t),children:L}):"".concat(r,", ").concat(t)})]})})]})}}}]);