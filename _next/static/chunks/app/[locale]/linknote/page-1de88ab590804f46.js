(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[446],{17282:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>z});var o=i(95155),n=i(37914),r=i(22738);i(18468);var a=i(12115),l=i(96758),s=i.n(l);let c=e=>{let{width:t=18,height:i=18,color:n="black"}=e;return(0,o.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-edit",width:t,height:i,viewBox:"0 0 24 24",strokeWidth:"2",stroke:n,fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,o.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,o.jsx)("path",{d:"M9 5H7C5.89543 5 5 5.89543 5 7V19C5 20.1046 5.89543 21 7 21H9"}),(0,o.jsx)("path",{d:"M15 5H17C18.1046 5 19 5.89543 19 7V9"}),(0,o.jsx)("path",{d:"M14.902 20.3343L12.7153 20.7716L13.1526 18.585C13.1914 18.3914 13.2865 18.2136 13.4261 18.074L17.5 14L19.5 12L21.4869 13.9869L19.4869 15.9869L15.413 20.0608C15.2734 20.2004 15.0956 20.2956 14.902 20.3343Z"}),(0,o.jsx)("path",{d:"M9 5C9 3.89543 9.89543 3 11 3H13C14.1046 3 15 3.89543 15 5V7H9V5Z"})]})},d=e=>{let{width:t=18,height:i=18,color:n="#494c4e"}=e;return(0,o.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-read",width:t,height:i,viewBox:"0 0 24 24",fill:n,children:(0,o.jsx)("path",{d:"M23 10h-.1c-.46-2.28-2.48-4-4.9-4-1.33 0-2.53.52-3.43 1.36C13.78 7.13 12.91 7 12 7s-1.78.12-2.57.36C8.53 6.52 7.33 6 6 6c-2.42 0-4.44 1.72-4.9 4H1c-.55 0-1 .45-1 1s.45 1 1 1h.1c.46 2.28 2.48 4 4.9 4 2.76 0 5-2.24 5-5 0-.66-.13-1.29-.36-1.87.43-.08.88-.13 1.36-.13s.94.04 1.36.13c-.23.58-.36 1.21-.36 1.87 0 2.76 2.24 5 5 5 2.42 0 4.44-1.72 4.9-4h.1c.55 0 1-.45 1-1s-.45-1-1-1zM6 14c-1.65 0-3-1.35-3-3s1.35-3 3-3 3 1.35 3 3-1.35 3-3 3zm12 0c-1.65 0-3-1.35-3-3s1.35-3 3-3 3 1.35 3 3-1.35 3-3 3z"})})},p=e=>{let{width:t=18,height:i=18,color:n="#1C274C"}=e;return(0,o.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-share",width:t,height:i,viewBox:"0 0 24 24",fill:"none",children:(0,o.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.803 5.33333C13.803 3.49238 15.3022 2 17.1515 2C19.0008 2 20.5 3.49238 20.5 5.33333C20.5 7.17428 19.0008 8.66667 17.1515 8.66667C16.2177 8.66667 15.3738 8.28596 14.7671 7.67347L10.1317 10.8295C10.1745 11.0425 10.197 11.2625 10.197 11.4872C10.197 11.9322 10.109 12.3576 9.94959 12.7464L15.0323 16.0858C15.6092 15.6161 16.3473 15.3333 17.1515 15.3333C19.0008 15.3333 20.5 16.8257 20.5 18.6667C20.5 20.5076 19.0008 22 17.1515 22C15.3022 22 13.803 20.5076 13.803 18.6667C13.803 18.1845 13.9062 17.7255 14.0917 17.3111L9.05007 13.9987C8.46196 14.5098 7.6916 14.8205 6.84848 14.8205C4.99917 14.8205 3.5 13.3281 3.5 11.4872C3.5 9.64623 4.99917 8.15385 6.84848 8.15385C7.9119 8.15385 8.85853 8.64725 9.47145 9.41518L13.9639 6.35642C13.8594 6.03359 13.803 5.6896 13.803 5.33333Z",fill:n})})};var m=i(47561);let h=(0,m.AH)(["padding:8px 8px;background:none;border:none;border-radius:8px;cursor:pointer;transition:opacity 0.3s,transform 0.2s;opacity:0.8;position:relative;font-family:monospace;&:hover{opacity:1;transform:translateY(-1px);}&:active{transform:translateY(0);}"]),u=(0,m.AH)(["font-family:monospace;position:absolute;bottom:110%;left:50%;transform:translateX(-50%);white-space:nowrap;padding:0.3rem 0.7rem;font-size:0.8rem;z-index:2000;pointer-events:none;background:var(--main-bg-color);color:var(--ice-main-color);border-radius:8px;box-shadow:0 2px 8px rgba(0,0,0,0.08);opacity:0;visibility:hidden;transition:opacity 0.18s,visibility 0.18s;&::after{content:'';position:absolute;top:100%;left:50%;transform:translateX(-50%);border-width:6px;border-style:solid;border-color:var(--main-bg-color) transparent transparent transparent;display:block;}"]),f=m.Ay.div.withConfig({componentId:"sc-621ec8e2-0"})([".milkdown{--crepe-font-title:monospace;--crepe-font-default:monospace;--crepe-font-code:monospace;.editor{max-width:800px;margin:0 auto;padding:1rem;p{margin:0;line-height:1;}li{margin:0;gap:0.25rem;}th,td{padding:0.25em;}.list-item{align-items:center;}.paragraph{margin:1rem 0;}.heading{font-weight:600;margin:1.5rem 0 1rem;}.bullet-list{padding-left:1.5rem;}.ordered-list{padding-left:1.5rem;}.milkdown-code-block{padding:0;}}}"]),x=m.Ay.div.withConfig({componentId:"sc-621ec8e2-1"})(["font-family:monospace;position:fixed;bottom:2%;right:4%;z-index:1000;opacity:0.5;transition:opacity 0.3s;&:hover{opacity:1;}.btn-tooltip-wrap{position:relative;display:inline-block;}"]),b=m.Ay.button.withConfig({componentId:"sc-621ec8e2-2"})([""," color:",";"," svg{stroke:",";fill:",";}&:hover .btn-tooltip,&:focus .btn-tooltip,&:active .btn-tooltip{opacity:1;visibility:visible;pointer-events:none;}.btn-tooltip{","}"],h,e=>{let{$isReadOnly:t}=e;return t?"var(--ice-main-color_2)":"var(--ice-main-color)"},e=>{let{$pulse:t}=e;return t&&C},e=>{let{$isReadOnly:t}=e;return t?"var(--ice-main-color_2)":"var(--ice-main-color)"},e=>{let{$isReadOnly:t}=e;return t?"var(--ice-main-color_2)":"var(--ice-main-color)"},u),g=m.Ay.button.withConfig({componentId:"sc-621ec8e2-3"})([""," color:var(--ice-main-color);margin-left:8px;"," svg{stroke:var(--ice-main-color);fill:var(--ice-main-color);}&:hover .btn-tooltip,&:focus .btn-tooltip,&:active .btn-tooltip{opacity:1;visibility:visible;pointer-events:none;}.btn-tooltip{","}"],h,e=>{let{$pulse:t}=e;return t&&C},u),v=m.Ay.div.withConfig({componentId:"sc-621ec8e2-4"})(["position:fixed;top:2%;left:4%;font-size:1rem;font-family:monospace;background:var(--main-bg-color);color:var(--ice-main-color);padding:0.25rem 0.7rem;border-radius:8px;opacity:",";visibility:",";transition:opacity 0.18s,visibility 0.18s;z-index:1000;pointer-events:none;box-shadow:0 2px 8px rgba(0,0,0,0.08);"],e=>{let{$show:t}=e;return .95*!!t},e=>{let{$show:t}=e;return t?"visible":"hidden"});m.Ay.div.withConfig({componentId:"sc-621ec8e2-5"})(["position:fixed;font-size:1rem;font-family:monospace;top:2%;left:4%;border:1px solid var(--ice-main-color_1);background-color:var(--main-bg-color);color:var(--ice-main-color_1);padding:0.5rem 1rem;border-radius:8px;z-index:1001;"]);let w=m.Ay.div.withConfig({componentId:"sc-621ec8e2-6"})(["position:fixed;top:2%;right:4%;z-index:999;pointer-events:none;display:flex;align-items:center;justify-content:center;svg{width:16px;height:16px;color:var(--ice-main-color);opacity:0.15;transition:opacity 0.3s ease;","}@keyframes subtlePulse{0%,100%{opacity:0.2;transform:scale(0.98);}50%{opacity:0.5;transform:scale(1.01);}}"],e=>{let{$saving:t}=e;return t&&"\n      opacity: 0.45;\n      animation: subtlePulse 3s ease-in-out infinite;\n    "}),y=m.Ay.div.withConfig({componentId:"sc-621ec8e2-7"})(["position:fixed;bottom:2%;left:4%;font-size:0.8rem;color:var(--main-color_1);padding:0;z-index:999;opacity:0.4;font-weight:400;transition:opacity 0.3s;&:hover{opacity:1;}"]),j=m.Ay.div.withConfig({componentId:"sc-621ec8e2-8"})(["position:fixed;top:25%;left:50%;transform:translate(-50%,-50%);width:90vw;max-width:500px;padding:1.2rem 1rem 1.3rem 1rem;color:var(--ice-main-color_2);border-radius:10px;font-family:monospace;font-size:1.02rem;text-align:left;opacity:0.96;border:1.5px dashed var(--ice-main-color_2);box-shadow:0 2px 12px 0 rgba(0,0,0,0.04);z-index:2001;b{color:var(--ice-main-color);font-weight:700;font-size:0.9rem;}ul{margin:0.7em 0 0 1.2em;padding:0;font-size:0.9rem;li{margin-bottom:0.25em;line-height:1.7;&::marker{color:var(--ice-main-color_2);}}}"]),C=(0,m.AH)(["animation:pulseBtn 4s cubic-bezier(0.4,0,0.6,1) 100;@keyframes pulseBtn{0%{box-shadow:0 0 0 0 rgba(0,180,255,0.25);}70%{box-shadow:0 0 0 8px rgba(0,180,255,0);}100%{box-shadow:0 0 0 0 rgba(0,180,255,0);}}"]),k=e=>{let{width:t=18,height:i=18,color:n="white"}=e;return(0,o.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-device-floppy",width:t,height:i,viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:n,fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,o.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,o.jsx)("path",{d:"M6 4h10l4 4v10a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2"}),(0,o.jsx)("path",{d:"M12 14m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0"}),(0,o.jsx)("path",{d:"M14 4l0 4l-6 0l0 -4"})]})},L=()=>{let[e,t]=(0,a.useState)(!0),[i,l]=(0,a.useState)(""),[m,h]=(0,a.useState)(""),[u,C]=(0,a.useState)(!1),L=(0,a.useRef)(null),[z,M]=(0,a.useState)(null),[A,R]=(0,a.useState)(!1),[S,I]=(0,a.useState)(""),_=(0,a.useRef)(null),N=(0,a.useRef)(null),D=(0,a.useRef)(null),T=(0,a.useRef)(e);(0,a.useEffect)(()=>{T.current=e},[e]);let E=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e3;M(e),D.current&&clearTimeout(D.current),D.current=setTimeout(()=>M(null),t)};(0,a.useEffect)(()=>{C(!0)},[]),(0,a.useEffect)(()=>{if(!u)return;let{content:e,lastModified:t}=(()=>{let e=new URLSearchParams(window.location.search).get("data");if(!e)return{content:"",lastModified:""};try{let t=s().decompressFromEncodedURIComponent(e);if(!t)return{content:"",lastModified:""};let i=JSON.parse(t);return{content:i.c||"",lastModified:i.lm||""}}catch(e){return E("유효하지 않은 노트 데이터입니다"),{content:"",lastModified:""}}})();l(e),h(t)},[u]);let H=e=>{navigator.clipboard.writeText(e).then(()=>E("링크가 클립보드에 복사되었습니다!")).catch(()=>E("링크 복사 실패"))};(0,a.useEffect)(()=>(m&&I(m),()=>{_.current&&clearTimeout(_.current),N.current&&clearTimeout(N.current),D.current&&clearTimeout(D.current)}),[m]);let{get:O}=(0,r.hG)(t=>{let o=new n.mA({root:t,defaultValue:i,featureConfigs:{[n.mA.Feature.LinkTooltip]:{inputPlaceholder:"URL을 입력하세요"},[n.mA.Feature.Placeholder]:{text:"입력하세요..."}}});return o.setReadonly(e),L.current=o,o.on(e=>{e.updated(()=>{T.current||(_.current&&clearTimeout(_.current),N.current&&clearTimeout(N.current),R(!0),_.current=setTimeout(()=>{try{let e=o.getMarkdown(),t=(e=>{let t=JSON.stringify({c:e,lm:new Date().toISOString()}),i=s().compressToEncodedURIComponent(t),o=window.location.origin+window.location.pathname;return"".concat(o,"?data=").concat(i)})(e);if(t.length>8e3){E("내용이 너무 깁니다. URL 최대 길이를 초과했습니다."),R(!1);return}window.history.replaceState({},"",t),I(new Date().toISOString()),N.current=setTimeout(()=>R(!1),1e3)}catch(e){E("변경사항 저장 실패"),R(!1)}},500))})}),o},[i]);return((0,a.useEffect)(()=>{L.current&&L.current.setReadonly(e)},[e]),u)?(0,o.jsxs)(f,{children:[!i&&e&&(0,o.jsxs)(j,{children:[(0,o.jsx)("b",{children:"\uD83D\uDCDD 링크노트 시작하기"}),(0,o.jsxs)("ul",{children:[(0,o.jsxs)("li",{children:["우측하단에 ",(0,o.jsx)("b",{children:"연필버튼"}),"을 눌러 ",(0,o.jsx)("b",{children:"수정모드"}),"로 전환하세요."]}),(0,o.jsxs)("li",{children:[(0,o.jsx)("b",{children:"마크다운"})," 문법 작성을 지원합니다."]}),(0,o.jsxs)("li",{children:[(0,o.jsx)("b",{children:"공유버튼"}),"으로 노트를 복사하거나 바로 공유할 수 있습니다."]}),(0,o.jsxs)("li",{children:["작성한 내용은 ",(0,o.jsx)("b",{children:"URL"}),"에 ",(0,o.jsx)("b",{children:"자동으로"})," 저장됩니다."]})]})]}),A&&!e&&(0,o.jsx)(w,{$saving:A,children:(0,o.jsx)(k,{})}),(0,o.jsxs)(x,{children:[(0,o.jsx)("div",{className:"btn-tooltip-wrap",children:(0,o.jsxs)(b,{$isReadOnly:e,$pulse:!i&&e,onClick:()=>t(!e),"aria-label":e?"편집모드":"읽기모드",tabIndex:0,children:[e?(0,o.jsx)(c,{}):(0,o.jsx)(d,{}),(0,o.jsx)("span",{className:"btn-tooltip",children:e?"편집모드":"읽기모드"})]})}),(0,o.jsx)("div",{className:"btn-tooltip-wrap",children:(0,o.jsxs)(g,{$pulse:!i&&e,onClick:()=>{let e=window.location.href;if(e.length>8e3)return void E("내용이 너무 길어 공유할 수 없습니다!");navigator.share?navigator.share({title:"LinkNote",text:"노트를 확인해보세요!",url:e}).then(()=>E("공유 완료")).catch(t=>{"AbortError"!==t.name&&H(e)}):H(e)},"aria-label":"공유",tabIndex:0,children:[(0,o.jsx)(p,{}),(0,o.jsx)("span",{className:"btn-tooltip",children:"공유"})]})})]}),S&&(0,o.jsx)(y,{children:(e=>e?"마지막수정: "+new Date(e).toLocaleString("ko-KR",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}):"")(S)}),(0,o.jsx)(v,{$show:!!z,children:z}),(0,o.jsx)("div",{style:{textAlign:"start"},children:(0,o.jsx)(r.y5,{})})]}):(0,o.jsx)(f,{children:(0,o.jsx)(j,{children:(0,o.jsx)("b",{children:"\uD83D\uDCDD 링크노트 로딩중..."})})})};function z(){return(0,o.jsx)(r.pb,{children:(0,o.jsx)(L,{})})}},97799:(e,t,i)=>{Promise.resolve().then(i.bind(i,17282))}},e=>{e.O(0,[3722,5004,7330,6079,8834,7561,6358,6885,8441,1255,7358],()=>e(e.s=97799)),_N_E=e.O()}]);