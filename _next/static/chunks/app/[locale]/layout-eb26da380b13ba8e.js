(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8450],{3809:(e,s,t)=>{"use strict";t.d(s,{default:()=>i});var a=t(71983),E=t(17389),_=t(88027),r=t(95155);function i(e){var{locale:s}=e,t=(0,E._)(e,["locale"]);if(!s)throw Error(void 0);return(0,r.jsx)(_.Dk,(0,a._)({locale:s},t))}},28028:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(94213).A)()},41298:(e,s,t)=>{"use strict";t.d(s,{default:()=>r});var a=t(12115),E=t(47514),_=t(28028);function r(){let{showMessage:e}=(0,E.J)();return(0,a.useEffect)(()=>{let s=s=>{e(s.code,s.customMessage)};return _.A.on("toast",s),()=>_.A.off("toast",s)},[e]),null}},47514:(e,s,t)=>{"use strict";t.d(s,{MessageProvider:()=>m,J:()=>A});var a=t(71983),E=t(45849),_=t(95155),r=t(12115),i=t(18955);let R={WORKER_NOT_INITIALIZED:{type:"error",title:"messages.WORKER_NOT_INITIALIZED.title",message:"messages.WORKER_NOT_INITIALIZED.message",duration:1e4},WORKER_CREATION_FAILED:{type:"error",title:"messages.WORKER_CREATION_FAILED.title",message:"messages.WORKER_CREATION_FAILED.message",duration:1e4},WORKER_ERROR:{type:"error",title:"messages.WORKER_ERROR.title",message:"messages.WORKER_ERROR.message",duration:1e4},WORKER_INIT_FAILED:{type:"error",title:"messages.WORKER_INIT_FAILED.title",message:"messages.WORKER_INIT_FAILED.message",duration:1e4},WASM_LOADING:{type:"warning",title:"messages.WASM_LOADING.title",message:"messages.WASM_LOADING.message",duration:6e3},WASM_LOAD_FAILED:{type:"error",title:"messages.WASM_LOAD_FAILED.title",message:"messages.WASM_LOAD_FAILED.message",duration:1e4},WASM_NOT_READY:{type:"warning",title:"messages.WASM_NOT_READY.title",message:"messages.WASM_NOT_READY.message",duration:6e3},WASM_LOADED_SUCCESS:{type:"success",title:"messages.WASM_LOADED_SUCCESS.title",message:"messages.WASM_LOADED_SUCCESS.message",duration:4e3},FILE_PROCESSING_FAILED:{type:"error",title:"messages.FILE_PROCESSING_FAILED.title",message:"messages.FILE_PROCESSING_FAILED.message",duration:1e4},FILE_READ_ERROR:{type:"error",title:"messages.FILE_READ_ERROR.title",message:"messages.FILE_READ_ERROR.message",duration:1e4},FILE_READ_FAILED:{type:"error",title:"messages.FILE_READ_FAILED.title",message:"messages.FILE_READ_FAILED.message",duration:5e3},FILE_TOO_LARGE:{type:"warning",title:"messages.FILE_TOO_LARGE.title",message:"messages.FILE_TOO_LARGE.message",duration:4e3},EXIF_ERROR:{type:"error",title:"messages.EXIF_ERROR.title",message:"messages.EXIF_ERROR.message",duration:1e4},EXIF_PARSE_ERROR:{type:"error",title:"messages.EXIF_PARSE_ERROR.title",message:"messages.EXIF_PARSE_ERROR.message",duration:1e4},EXIF_PROCESSING_TIMEOUT:{type:"error",title:"messages.EXIF_PROCESSING_TIMEOUT.title",message:"messages.EXIF_PROCESSING_TIMEOUT.message",duration:1e4},SEARCH_FAILED:{type:"error",title:"messages.SEARCH_FAILED.title",message:"messages.SEARCH_FAILED.message",duration:1e4},SEARCH_TIMEOUT:{type:"error",title:"messages.SEARCH_TIMEOUT.title",message:"messages.SEARCH_TIMEOUT.message",duration:1e4},SEARCH_WASM_ERROR:{type:"error",title:"messages.SEARCH_WASM_ERROR.title",message:"messages.SEARCH_WASM_ERROR.message",duration:1e4},SEARCH_NO_RESULTS:{type:"info",title:"messages.SEARCH_NO_RESULTS.title",message:"messages.SEARCH_NO_RESULTS.message",duration:6e3},SEARCH_SUCCESS:{type:"success",title:"messages.SEARCH_SUCCESS.title",message:"messages.SEARCH_SUCCESS.message",duration:4e3},SEARCH_NO_INPUT:{type:"warning",title:"messages.SEARCH_NO_INPUT.title",message:"messages.SEARCH_NO_INPUT.message",duration:4e3},SEARCH_INVALID_HEX:{type:"warning",title:"messages.SEARCH_INVALID_HEX.title",message:"messages.SEARCH_INVALID_HEX.message",duration:4e3},SEARCH_OFFSET_OUT_OF_RANGE:{type:"warning",title:"messages.SEARCH_OFFSET_OUT_OF_RANGE.title",message:"messages.SEARCH_OFFSET_OUT_OF_RANGE.message",duration:4e3},COPY_SUCCESS:{type:"success",title:"messages.COPY_SUCCESS.title",message:"messages.COPY_SUCCESS.message",duration:3e3},COPY_FAILED:{type:"error",title:"messages.COPY_FAILED.title",message:"messages.COPY_FAILED.message",duration:5e3},FILE_LOADED_SUCCESS:{type:"success",title:"messages.FILE_LOADED_SUCCESS.title",message:"messages.FILE_LOADED_SUCCESS.message",duration:4e3},UNKNOWN_ERROR:{type:"error",title:"messages.UNKNOWN_ERROR.title",message:"messages.UNKNOWN_ERROR.message",duration:1e4},ADDRESS_FETCH_ERROR:{type:"error",title:"messages.ADDRESS_FETCH_ERROR.title",message:"messages.ADDRESS_FETCH_ERROR.message",duration:8e3},LEAFLET_MAP_LOAD_ERROR:{type:"error",title:"messages.LEAFLET_MAP_LOAD_ERROR.title",message:"messages.LEAFLET_MAP_LOAD_ERROR.message",duration:8e3},LEAFLET_MAP_INVALID_LOCATION:{type:"warning",title:"messages.LEAFLET_MAP_INVALID_LOCATION.title",message:"messages.LEAFLET_MAP_INVALID_LOCATION.message",duration:6e3}},g=(0,r.createContext)(void 0),m=e=>{let{children:s}=e,[t,m]=(0,r.useState)([]),[A,l]=(0,r.useState)([]),O=(0,r.useRef)(new Map),S=function(){let e=(0,i.c)();return(s,t)=>{let _=R[s];return(0,E._)((0,a._)({},_),{title:e(_.title),message:t||e(_.message)})}}(),o=(0,r.useCallback)(function(e){let s=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=O.current.get(e);t&&(clearTimeout(t),O.current.delete(e)),m(s=>s.filter(s=>s.id!==e)),s&&l(s=>s.filter(s=>s.id!==e))},[]),I=(0,r.useCallback)(e=>{let s="string"==typeof e?{message:e,type:"info",duration:6e3}:(0,a._)({duration:6e3,type:"info"},e),t={id:crypto.randomUUID(),title:s.title,message:s.message,type:s.type,timestamp:Date.now(),read:!1};if(m(e=>{let s=[...e,t];if(s.length>3){let e=s.shift();e&&setTimeout(()=>o(e.id),0)}return s}),l(e=>[t,...e.slice(0,99)]),s.duration&&s.duration>0){let e=setTimeout(()=>{o(t.id,!1)},s.duration);O.current.set(t.id,e)}},[o]),n=(0,r.useCallback)((e,s)=>{if(!(e in R)){console.warn("[MessageContext] Invalid error code:",e),I(S("UNKNOWN_ERROR",s||e));return}I(S(e,s))},[I]),u=(0,r.useCallback)(()=>{l([])},[]),L=(0,r.useCallback)(e=>{l(s=>s.map(s=>s.id===e?(0,E._)((0,a._)({},s),{read:!0}):s))},[]),C=(0,r.useCallback)(e=>{l(s=>s.filter(s=>s.id!==e))},[]),d=(0,r.useMemo)(()=>A.filter(e=>!e.read).length,[A]),D=(0,r.useMemo)(()=>({showMessage:n,hideMessage:o,currentMessages:t,messageHistory:A,clearHistory:u,markAsRead:L,deleteMessage:C,unreadCount:d}),[n,o,t,A,u,L,C,d]);return(0,_.jsx)(g.Provider,{value:D,children:s})},A=()=>{let e=(0,r.useContext)(g);if(!e)throw Error("useMessage must be used within a MessageProvider");return e}},51090:(e,s,t)=>{Promise.resolve().then(t.bind(t,64707)),Promise.resolve().then(t.bind(t,3809)),Promise.resolve().then(t.bind(t,41298)),Promise.resolve().then(t.bind(t,47514))}},e=>{e.O(0,[4529,8441,1255,7358],()=>e(e.s=51090)),_N_E=e.O()}]);